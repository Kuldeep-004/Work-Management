var iA=Object.defineProperty;var oA=(e,r,t)=>r in e?iA(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t;var gr=(e,r,t)=>oA(e,typeof r!="symbol"?r+"":r,t);function lA(e,r){for(var t=0;t<r.length;t++){const n=r[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=t(a);fetch(a.href,s)}})();var cA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uA(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var t=function n(){return this instanceof n?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t.prototype=r.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),t}var Ey={exports:{}},tp={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U4;function dA(){if(U4)return tp;U4=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function t(n,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:e,type:n,key:l,ref:a!==void 0?a:null,props:s}}return tp.Fragment=r,tp.jsx=t,tp.jsxs=t,tp}var H4;function fA(){return H4||(H4=1,Ey.exports=dA()),Ey.exports}var i=fA(),Ay={exports:{}},fn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W4;function hA(){if(W4)return fn;W4=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator;function y(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,v={};function N(H,ne,D){this.props=H,this.context=ne,this.refs=v,this.updater=D||m}N.prototype.isReactComponent={},N.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function S(){}S.prototype=N.prototype;function k(H,ne,D){this.props=H,this.context=ne,this.refs=v,this.updater=D||m}var _=k.prototype=new S;_.constructor=k,w(_,N.prototype),_.isPureReactComponent=!0;var A=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},V=Object.prototype.hasOwnProperty;function P(H,ne,D,z,q,X){return D=X.ref,{$$typeof:e,type:H,key:ne,ref:D!==void 0?D:null,props:X}}function I(H,ne){return P(H.type,ne,void 0,void 0,void 0,H.props)}function B(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function O(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(D){return ne[D]})}var L=/\/+/g;function C(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?O(""+H.key):ne.toString(36)}function Y(){}function Q(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Y,Y):(H.status="pending",H.then(function(ne){H.status==="pending"&&(H.status="fulfilled",H.value=ne)},function(ne){H.status==="pending"&&(H.status="rejected",H.reason=ne)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ce(H,ne,D,z,q){var X=typeof H;(X==="undefined"||X==="boolean")&&(H=null);var se=!1;if(H===null)se=!0;else switch(X){case"bigint":case"string":case"number":se=!0;break;case"object":switch(H.$$typeof){case e:case r:se=!0;break;case p:return se=H._init,ce(se(H._payload),ne,D,z,q)}}if(se)return q=q(H),se=z===""?"."+C(H,0):z,A(q)?(D="",se!=null&&(D=se.replace(L,"$&/")+"/"),ce(q,ne,D,"",function(G){return G})):q!=null&&(B(q)&&(q=I(q,D+(q.key==null||H&&H.key===q.key?"":(""+q.key).replace(L,"$&/")+"/")+se)),ne.push(q)),1;se=0;var Se=z===""?".":z+":";if(A(H))for(var fe=0;fe<H.length;fe++)z=H[fe],X=Se+C(z,fe),se+=ce(z,ne,D,X,q);else if(fe=y(H),typeof fe=="function")for(H=fe.call(H),fe=0;!(z=H.next()).done;)z=z.value,X=Se+C(z,fe++),se+=ce(z,ne,D,X,q);else if(X==="object"){if(typeof H.then=="function")return ce(Q(H),ne,D,z,q);throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return se}function W(H,ne,D){if(H==null)return H;var z=[],q=0;return ce(H,z,"","",function(X){return ne.call(D,X,q++)}),z}function J(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(D){(H._status===0||H._status===-1)&&(H._status=1,H._result=D)},function(D){(H._status===0||H._status===-1)&&(H._status=2,H._result=D)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var re=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ee(){}return fn.Children={map:W,forEach:function(H,ne,D){W(H,function(){ne.apply(this,arguments)},D)},count:function(H){var ne=0;return W(H,function(){ne++}),ne},toArray:function(H){return W(H,function(ne){return ne})||[]},only:function(H){if(!B(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},fn.Component=N,fn.Fragment=t,fn.Profiler=a,fn.PureComponent=k,fn.StrictMode=n,fn.Suspense=d,fn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,fn.__COMPILER_RUNTIME={__proto__:null,c:function(H){return R.H.useMemoCache(H)}},fn.cache=function(H){return function(){return H.apply(null,arguments)}},fn.cloneElement=function(H,ne,D){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var z=w({},H.props),q=H.key,X=void 0;if(ne!=null)for(se in ne.ref!==void 0&&(X=void 0),ne.key!==void 0&&(q=""+ne.key),ne)!V.call(ne,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&ne.ref===void 0||(z[se]=ne[se]);var se=arguments.length-2;if(se===1)z.children=D;else if(1<se){for(var Se=Array(se),fe=0;fe<se;fe++)Se[fe]=arguments[fe+2];z.children=Se}return P(H.type,q,void 0,void 0,X,z)},fn.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},fn.createElement=function(H,ne,D){var z,q={},X=null;if(ne!=null)for(z in ne.key!==void 0&&(X=""+ne.key),ne)V.call(ne,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(q[z]=ne[z]);var se=arguments.length-2;if(se===1)q.children=D;else if(1<se){for(var Se=Array(se),fe=0;fe<se;fe++)Se[fe]=arguments[fe+2];q.children=Se}if(H&&H.defaultProps)for(z in se=H.defaultProps,se)q[z]===void 0&&(q[z]=se[z]);return P(H,X,void 0,void 0,null,q)},fn.createRef=function(){return{current:null}},fn.forwardRef=function(H){return{$$typeof:u,render:H}},fn.isValidElement=B,fn.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:J}},fn.memo=function(H,ne){return{$$typeof:f,type:H,compare:ne===void 0?null:ne}},fn.startTransition=function(H){var ne=R.T,D={};R.T=D;try{var z=H(),q=R.S;q!==null&&q(D,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(ee,re)}catch(X){re(X)}finally{R.T=ne}},fn.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},fn.use=function(H){return R.H.use(H)},fn.useActionState=function(H,ne,D){return R.H.useActionState(H,ne,D)},fn.useCallback=function(H,ne){return R.H.useCallback(H,ne)},fn.useContext=function(H){return R.H.useContext(H)},fn.useDebugValue=function(){},fn.useDeferredValue=function(H,ne){return R.H.useDeferredValue(H,ne)},fn.useEffect=function(H,ne,D){var z=R.H;if(typeof D=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(H,ne)},fn.useId=function(){return R.H.useId()},fn.useImperativeHandle=function(H,ne,D){return R.H.useImperativeHandle(H,ne,D)},fn.useInsertionEffect=function(H,ne){return R.H.useInsertionEffect(H,ne)},fn.useLayoutEffect=function(H,ne){return R.H.useLayoutEffect(H,ne)},fn.useMemo=function(H,ne){return R.H.useMemo(H,ne)},fn.useOptimistic=function(H,ne){return R.H.useOptimistic(H,ne)},fn.useReducer=function(H,ne,D){return R.H.useReducer(H,ne,D)},fn.useRef=function(H){return R.H.useRef(H)},fn.useState=function(H){return R.H.useState(H)},fn.useSyncExternalStore=function(H,ne,D){return R.H.useSyncExternalStore(H,ne,D)},fn.useTransition=function(){return R.H.useTransition()},fn.version="19.1.0",fn}var V4;function _b(){return V4||(V4=1,Ay.exports=hA()),Ay.exports}var T=_b();const _t=m_(T),$1=lA({__proto__:null,default:_t},[T]);var Cy={exports:{}},rp={},Dy={exports:{}},Oy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q4;function pA(){return q4||(q4=1,function(e){function r(W,J){var re=W.length;W.push(J);e:for(;0<re;){var ee=re-1>>>1,H=W[ee];if(0<a(H,J))W[ee]=J,W[re]=H,re=ee;else break e}}function t(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var J=W[0],re=W.pop();if(re!==J){W[0]=re;e:for(var ee=0,H=W.length,ne=H>>>1;ee<ne;){var D=2*(ee+1)-1,z=W[D],q=D+1,X=W[q];if(0>a(z,re))q<H&&0>a(X,z)?(W[ee]=X,W[q]=re,ee=q):(W[ee]=z,W[D]=re,ee=D);else if(q<H&&0>a(X,re))W[ee]=X,W[q]=re,ee=q;else break e}}return J}function a(W,J){var re=W.sortIndex-J.sortIndex;return re!==0?re:W.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,x=null,y=3,m=!1,w=!1,v=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function A(W){for(var J=t(f);J!==null;){if(J.callback===null)n(f);else if(J.startTime<=W)n(f),J.sortIndex=J.expirationTime,r(d,J);else break;J=t(f)}}function R(W){if(v=!1,A(W),!w)if(t(d)!==null)w=!0,V||(V=!0,C());else{var J=t(f);J!==null&&ce(R,J.startTime-W)}}var V=!1,P=-1,I=5,B=-1;function O(){return N?!0:!(e.unstable_now()-B<I)}function L(){if(N=!1,V){var W=e.unstable_now();B=W;var J=!0;try{e:{w=!1,v&&(v=!1,k(P),P=-1),m=!0;var re=y;try{t:{for(A(W),x=t(d);x!==null&&!(x.expirationTime>W&&O());){var ee=x.callback;if(typeof ee=="function"){x.callback=null,y=x.priorityLevel;var H=ee(x.expirationTime<=W);if(W=e.unstable_now(),typeof H=="function"){x.callback=H,A(W),J=!0;break t}x===t(d)&&n(d),A(W)}else n(d);x=t(d)}if(x!==null)J=!0;else{var ne=t(f);ne!==null&&ce(R,ne.startTime-W),J=!1}}break e}finally{x=null,y=re,m=!1}J=void 0}}finally{J?C():V=!1}}}var C;if(typeof _=="function")C=function(){_(L)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Q=Y.port2;Y.port1.onmessage=L,C=function(){Q.postMessage(null)}}else C=function(){S(L,0)};function ce(W,J){P=S(function(){W(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_next=function(W){switch(y){case 1:case 2:case 3:var J=3;break;default:J=y}var re=y;y=J;try{return W()}finally{y=re}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=y;y=W;try{return J()}finally{y=re}},e.unstable_scheduleCallback=function(W,J,re){var ee=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ee+re:ee):re=ee,W){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=re+H,W={id:p++,callback:J,priorityLevel:W,startTime:re,expirationTime:H,sortIndex:-1},re>ee?(W.sortIndex=re,r(f,W),t(d)===null&&W===t(f)&&(v?(k(P),P=-1):v=!0,ce(R,re-ee))):(W.sortIndex=H,r(d,W),w||m||(w=!0,V||(V=!0,C()))),W},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(W){var J=y;return function(){var re=y;y=J;try{return W.apply(this,arguments)}finally{y=re}}}}(Oy)),Oy}var Y4;function mA(){return Y4||(Y4=1,Dy.exports=pA()),Dy.exports}var Ly={exports:{}},wi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G4;function gA(){if(G4)return wi;G4=1;var e=_b();function r(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(r(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(d,f,p){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:x==null?null:""+x,children:d,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,wi.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(r(299));return s(d,f,null,p)},wi.flushSync=function(d){var f=l.T,p=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=f,n.p=p,n.d.f()}},wi.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},wi.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},wi.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,x=u(p,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,m=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:m}):p==="script"&&n.d.X(d,{crossOrigin:x,integrity:y,fetchPriority:m,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},wi.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},wi.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,x=u(p,f.crossOrigin);n.d.L(d,p,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},wi.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},wi.requestFormReset=function(d){n.d.r(d)},wi.unstable_batchedUpdates=function(d,f){return d(f)},wi.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},wi.useFormStatus=function(){return l.H.useHostTransitionStatus()},wi.version="19.1.0",wi}var X4;function g_(){if(X4)return Ly.exports;X4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Ly.exports=gA(),Ly.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K4;function xA(){if(K4)return rp;K4=1;var e=mA(),r=_b(),t=g_();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(s(o)!==o)throw Error(n(188))}function d(o){var c=o.alternate;if(!c){if(c=s(o),c===null)throw Error(n(188));return c!==o?null:o}for(var h=o,g=c;;){var j=h.return;if(j===null)break;var M=j.alternate;if(M===null){if(g=j.return,g!==null){h=g;continue}break}if(j.child===M.child){for(M=j.child;M;){if(M===h)return u(j),o;if(M===g)return u(j),c;M=M.sibling}throw Error(n(188))}if(h.return!==g.return)h=j,g=M;else{for(var ae=!1,ge=j.child;ge;){if(ge===h){ae=!0,h=j,g=M;break}if(ge===g){ae=!0,g=j,h=M;break}ge=ge.sibling}if(!ae){for(ge=M.child;ge;){if(ge===h){ae=!0,h=M,g=j;break}if(ge===g){ae=!0,g=M,h=j;break}ge=ge.sibling}if(!ae)throw Error(n(189))}}if(h.alternate!==g)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?o:c}function f(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=f(o),c!==null)return c;o=o.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),_=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function C(o){return o===null||typeof o!="object"?null:(o=L&&o[L]||o["@@iterator"],typeof o=="function"?o:null)}var Y=Symbol.for("react.client.reference");function Q(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Y?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case N:return"Profiler";case v:return"StrictMode";case R:return"Suspense";case V:return"SuspenseList";case B:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case m:return"Portal";case _:return(o.displayName||"Context")+".Provider";case k:return(o._context.displayName||"Context")+".Consumer";case A:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case P:return c=o.displayName||null,c!==null?c:Q(o.type)||"Memo";case I:c=o._payload,o=o._init;try{return Q(o(c))}catch{}}return null}var ce=Array.isArray,W=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ee=[],H=-1;function ne(o){return{current:o}}function D(o){0>H||(o.current=ee[H],ee[H]=null,H--)}function z(o,c){H++,ee[H]=o.current,o.current=c}var q=ne(null),X=ne(null),se=ne(null),Se=ne(null);function fe(o,c){switch(z(se,c),z(X,o),z(q,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?g4(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=g4(c),o=x4(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}D(q),z(q,o)}function G(){D(q),D(X),D(se)}function be(o){o.memoizedState!==null&&z(Se,o);var c=q.current,h=x4(c,o.type);c!==h&&(z(X,o),z(q,h))}function Fe(o){X.current===o&&(D(q),D(X)),Se.current===o&&(D(Se),K0._currentValue=re)}var De=Object.prototype.hasOwnProperty,lt=e.unstable_scheduleCallback,ft=e.unstable_cancelCallback,Pe=e.unstable_shouldYield,xe=e.unstable_requestPaint,Qe=e.unstable_now,at=e.unstable_getCurrentPriorityLevel,pt=e.unstable_ImmediatePriority,Ze=e.unstable_UserBlockingPriority,ze=e.unstable_NormalPriority,Ae=e.unstable_LowPriority,vt=e.unstable_IdlePriority,gt=e.log,rr=e.unstable_setDisableYieldValue,Wt=null,Qt=null;function cr(o){if(typeof gt=="function"&&rr(o),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Wt,o)}catch{}}var Zt=Math.clz32?Math.clz32:Mr,hr=Math.log,$t=Math.LN2;function Mr(o){return o>>>=0,o===0?32:31-(hr(o)/$t|0)|0}var xr=256,Qr=4194304;function Er(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Fr(o,c,h){var g=o.pendingLanes;if(g===0)return 0;var j=0,M=o.suspendedLanes,ae=o.pingedLanes;o=o.warmLanes;var ge=g&134217727;return ge!==0?(g=ge&~M,g!==0?j=Er(g):(ae&=ge,ae!==0?j=Er(ae):h||(h=ge&~o,h!==0&&(j=Er(h))))):(ge=g&~M,ge!==0?j=Er(ge):ae!==0?j=Er(ae):h||(h=g&~o,h!==0&&(j=Er(h)))),j===0?0:c!==0&&c!==j&&(c&M)===0&&(M=j&-j,h=c&-c,M>=h||M===32&&(h&4194048)!==0)?c:j}function tn(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function et(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _e(){var o=xr;return xr<<=1,(xr&4194048)===0&&(xr=256),o}function Be(){var o=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),o}function ve(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function Ce(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function Le(o,c,h,g,j,M){var ae=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var ge=o.entanglements,Re=o.expirationTimes,dt=o.hiddenUpdates;for(h=ae&~h;0<h;){var Ct=31-Zt(h),It=1<<Ct;ge[Ct]=0,Re[Ct]=-1;var mt=dt[Ct];if(mt!==null)for(dt[Ct]=null,Ct=0;Ct<mt.length;Ct++){var xt=mt[Ct];xt!==null&&(xt.lane&=-536870913)}h&=~It}g!==0&&qe(o,g,0),M!==0&&j===0&&o.tag!==0&&(o.suspendedLanes|=M&~(ae&~c))}function qe(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-Zt(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|h&4194090}function Tt(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var g=31-Zt(h),j=1<<g;j&c|o[g]&c&&(o[g]|=c),h&=~j}}function Dt(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function er(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ar(){var o=J.p;return o!==0?o:(o=window.event,o===void 0?32:F4(o.type))}function St(o,c){var h=J.p;try{return J.p=o,c()}finally{J.p=h}}var ht=Math.random().toString(36).slice(2),Bt="__reactFiber$"+ht,Kt="__reactProps$"+ht,Ot="__reactContainer$"+ht,Ur="__reactEvents$"+ht,Ir="__reactListeners$"+ht,le="__reactHandles$"+ht,Te="__reactResources$"+ht,te="__reactMarker$"+ht;function de(o){delete o[Bt],delete o[Kt],delete o[Ur],delete o[Ir],delete o[le]}function ye(o){var c=o[Bt];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Ot]||h[Bt]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=w4(o);o!==null;){if(h=o[Bt])return h;o=w4(o)}return c}o=h,h=o.parentNode}return null}function Ne(o){if(o=o[Bt]||o[Ot]){var c=o.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return o}return null}function Ge(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function ut(o){var c=o[Te];return c||(c=o[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function We(o){o[te]=!0}var nt=new Set,st={};function rt(o,c){Gt(o,c),Gt(o+"Capture",c)}function Gt(o,c){for(st[o]=c,o=0;o<c.length;o++)nt.add(c[o])}var nr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zt={},tr={};function Ar(o){return De.call(tr,o)?!0:De.call(zt,o)?!1:nr.test(o)?tr[o]=!0:(zt[o]=!0,!1)}function Zr(o,c,h){if(Ar(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function wn(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function cn(o,c,h,g){if(g===null)o.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+g)}}var Ca,Va;function Je(o){if(Ca===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);Ca=c&&c[1]||"",Va=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ca+o+Va}var At=!1;function Xt(o,c){if(!o||At)return"";At=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var It=function(){throw Error()};if(Object.defineProperty(It.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(It,[])}catch(xt){var mt=xt}Reflect.construct(o,[],It)}else{try{It.call()}catch(xt){mt=xt}o.call(It.prototype)}}else{try{throw Error()}catch(xt){mt=xt}(It=o())&&typeof It.catch=="function"&&It.catch(function(){})}}catch(xt){if(xt&&mt&&typeof xt.stack=="string")return[xt.stack,mt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var j=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");j&&j.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=g.DetermineComponentFrameRoot(),ae=M[0],ge=M[1];if(ae&&ge){var Re=ae.split(`
`),dt=ge.split(`
`);for(j=g=0;g<Re.length&&!Re[g].includes("DetermineComponentFrameRoot");)g++;for(;j<dt.length&&!dt[j].includes("DetermineComponentFrameRoot");)j++;if(g===Re.length||j===dt.length)for(g=Re.length-1,j=dt.length-1;1<=g&&0<=j&&Re[g]!==dt[j];)j--;for(;1<=g&&0<=j;g--,j--)if(Re[g]!==dt[j]){if(g!==1||j!==1)do if(g--,j--,0>j||Re[g]!==dt[j]){var Ct=`
`+Re[g].replace(" at new "," at ");return o.displayName&&Ct.includes("<anonymous>")&&(Ct=Ct.replace("<anonymous>",o.displayName)),Ct}while(1<=g&&0<=j);break}}}finally{At=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?Je(h):""}function Jt(o){switch(o.tag){case 26:case 27:case 5:return Je(o.type);case 16:return Je("Lazy");case 13:return Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return Xt(o.type,!1);case 11:return Xt(o.type.render,!1);case 1:return Xt(o.type,!0);case 31:return Je("Activity");default:return""}}function fr(o){try{var c="";do c+=Jt(o),o=o.return;while(o);return c}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}function Pr(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function oa(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function ur(o){var c=oa(o)?"checked":"value",h=Object.getOwnPropertyDescriptor(o.constructor.prototype,c),g=""+o[c];if(!o.hasOwnProperty(c)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var j=h.get,M=h.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return j.call(this)},set:function(ae){g=""+ae,M.call(this,ae)}}),Object.defineProperty(o,c,{enumerable:h.enumerable}),{getValue:function(){return g},setValue:function(ae){g=""+ae},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function nn(o){o._valueTracker||(o._valueTracker=ur(o))}function jn(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),g="";return o&&(g=oa(o)?o.checked?"true":"false":o.value),o=g,o!==h?(c.setValue(o),!0):!1}function wr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var Nr=/[\n"\\]/g;function Nn(o){return o.replace(Nr,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Js(o,c,h,g,j,M,ae,ge){o.name="",ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?o.type=ae:o.removeAttribute("type"),c!=null?ae==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Pr(c)):o.value!==""+Pr(c)&&(o.value=""+Pr(c)):ae!=="submit"&&ae!=="reset"||o.removeAttribute("value"),c!=null?Da(o,ae,Pr(c)):h!=null?Da(o,ae,Pr(h)):g!=null&&o.removeAttribute("value"),j==null&&M!=null&&(o.defaultChecked=!!M),j!=null&&(o.checked=j&&typeof j!="function"&&typeof j!="symbol"),ge!=null&&typeof ge!="function"&&typeof ge!="symbol"&&typeof ge!="boolean"?o.name=""+Pr(ge):o.removeAttribute("name")}function rn(o,c,h,g,j,M,ae,ge){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(o.type=M),c!=null||h!=null){if(!(M!=="submit"&&M!=="reset"||c!=null))return;h=h!=null?""+Pr(h):"",c=c!=null?""+Pr(c):h,ge||c===o.value||(o.value=c),o.defaultValue=c}g=g??j,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=ge?o.checked:!!g,o.defaultChecked=!!g,ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"&&(o.name=ae)}function Da(o,c,h){c==="number"&&wr(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function qa(o,c,h,g){if(o=o.options,c){c={};for(var j=0;j<h.length;j++)c["$"+h[j]]=!0;for(h=0;h<o.length;h++)j=c.hasOwnProperty("$"+o[h].value),o[h].selected!==j&&(o[h].selected=j),j&&g&&(o[h].defaultSelected=!0)}else{for(h=""+Pr(h),c=null,j=0;j<o.length;j++){if(o[j].value===h){o[j].selected=!0,g&&(o[j].defaultSelected=!0);return}c!==null||o[j].disabled||(c=o[j])}c!==null&&(c.selected=!0)}}function ho(o,c,h){if(c!=null&&(c=""+Pr(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+Pr(h):""}function Qs(o,c,h,g){if(c==null){if(g!=null){if(h!=null)throw Error(n(92));if(ce(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),c=h}h=Pr(c),o.defaultValue=h,g=o.textContent,g===h&&g!==""&&g!==null&&(o.value=g)}function hi(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var pa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Na(o,c,h){var g=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,h):typeof h!="number"||h===0||pa.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function Bs(o,c,h){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var j in c)g=c[j],c.hasOwnProperty(j)&&h[j]!==g&&Na(o,j,g)}else for(var M in c)c.hasOwnProperty(M)&&Na(o,M,c[M])}function Yi(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pi=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Gi(o){return Ds.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var Hc=null;function on(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ss=null,Xi=null;function Wr(o){var c=Ne(o);if(c&&(o=c.stateNode)){var h=o[Kt]||null;e:switch(o=c.stateNode,c.type){case"input":if(Js(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Nn(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var g=h[c];if(g!==o&&g.form===o.form){var j=g[Kt]||null;if(!j)throw Error(n(90));Js(g,j.value,j.defaultValue,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name)}}for(c=0;c<h.length;c++)g=h[c],g.form===o.form&&jn(g)}break e;case"textarea":ho(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&qa(o,!!h.multiple,c,!1)}}}var ql=!1;function Wc(o,c,h){if(ql)return o(c,h);ql=!0;try{var g=o(c);return g}finally{if(ql=!1,(ss!==null||Xi!==null)&&(ug(),ss&&(c=ss,o=Xi,Xi=ss=null,Wr(c),o)))for(c=0;c<o.length;c++)Wr(o[c])}}function ma(o,c){var h=o.stateNode;if(h===null)return null;var g=h[Kt]||null;if(g===null)return null;h=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(n(231,c,typeof h));return h}var Oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=!1;if(Oa)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Yl=!1}var mi=null,Gl=null,Li=null;function po(){if(Li)return Li;var o,c=Gl,h=c.length,g,j="value"in mi?mi.value:mi.textContent,M=j.length;for(o=0;o<h&&c[o]===j[o];o++);var ae=h-o;for(g=1;g<=ae&&c[h-g]===j[M-g];g++);return Li=j.slice(o,1<g?1-g:void 0)}function Ya(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function Zs(){return!0}function gi(){return!1}function ka(o){function c(h,g,j,M,ae){this._reactName=h,this._targetInst=j,this.type=g,this.nativeEvent=M,this.target=ae,this.currentTarget=null;for(var ge in o)o.hasOwnProperty(ge)&&(h=o[ge],this[ge]=h?h(M):M[ge]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Zs:gi,this.isPropagationStopped=gi,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),c}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=ka(Is),Ri=p({},Is,{view:0,detail:0}),Vc=ka(Ri),ll,cl,go,is=p({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ql,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==go&&(go&&o.type==="mousemove"?(ll=o.screenX-go.screenX,cl=o.screenY-go.screenY):cl=ll=0,go=o),ll)},movementY:function(o){return"movementY"in o?o.movementY:cl}}),ei=ka(is),Fd=p({},is,{dataTransfer:0}),xo=ka(Fd),$s=p({},Ri,{relatedTarget:0}),Ki=ka($s),Mo=p({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),Mu=ka(Mo),ul=p({},Is,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Fu=ka(ul),qc=p({},Is,{data:0}),Xl=ka(qc),Yc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=Kl[o])?!!c[o]:!1}function Ql(){return Jl}var Pd=p({},Ri,{key:function(o){if(o.key){var c=Yc[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Ya(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Fo[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ql,charCode:function(o){return o.type==="keypress"?Ya(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Ya(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Zl=ka(Pd),dl=p({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ga=ka(dl),ws=p({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ql}),zs=ka(ws),F=p({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),ie=ka(F),je=p({},is,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Ie=ka(je),tt=p({},Is,{newState:0,oldState:0}),Nt=ka(tt),qt=[9,13,27,32],dr=Oa&&"CompositionEvent"in window,br=null;Oa&&"documentMode"in document&&(br=document.documentMode);var ue=Oa&&"TextEvent"in window&&!br,Oe=Oa&&(!dr||br&&8<br&&11>=br),Z=" ",Pt=!1;function Me(o,c){switch(o){case"keyup":return qt.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ut(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Tr=!1;function Xr(o,c){switch(o){case"compositionend":return Ut(c);case"keypress":return c.which!==32?null:(Pt=!0,Z);case"textInput":return o=c.data,o===Z&&Pt?null:o;default:return null}}function Hr(o,c){if(Tr)return o==="compositionend"||!dr&&Me(o,c)?(o=po(),Li=Gl=mi=null,Tr=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Oe&&c.locale!=="ko"?null:c.data;default:return null}}var Jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!Jr[o.type]:c==="textarea"}function Mi(o,c,h,g){ss?Xi?Xi.push(g):Xi=[g]:ss=g,c=gg(c,"onChange"),0<c.length&&(h=new mo("onChange","change",null,h,g),o.push({event:h,listeners:c}))}var Os=null,Ls=null;function Ia(o){d4(o,0)}function Ns(o){var c=Ge(o);if(jn(c))return o}function Ji(o,c){if(o==="change")return c}var Fi=!1;if(Oa){var ga;if(Oa){var Rs="oninput"in document;if(!Rs){var xi=document.createElement("div");xi.setAttribute("oninput","return;"),Rs=typeof xi.oninput=="function"}ga=Rs}else ga=!1;Fi=ga&&(!document.documentMode||9<document.documentMode)}function Us(){Os&&(Os.detachEvent("onpropertychange",Qi),Ls=Os=null)}function Qi(o){if(o.propertyName==="value"&&Ns(Ls)){var c=[];Mi(c,Ls,o,on(o)),Wc(Ia,c)}}function os(o,c,h){o==="focusin"?(Us(),Os=c,Ls=h,Os.attachEvent("onpropertychange",Qi)):o==="focusout"&&Us()}function Pi(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ns(Ls)}function Ht(o,c){if(o==="click")return Ns(c)}function yr(o,c){if(o==="input"||o==="change")return Ns(c)}function bt(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Yt=typeof Object.is=="function"?Object.is:bt;function vr(o,c){if(Yt(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),g=Object.keys(c);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var j=h[g];if(!De.call(c,j)||!Yt(o[j],c[j]))return!1}return!0}function $r(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Or(o,c){var h=$r(o);o=0;for(var g;h;){if(h.nodeType===3){if(g=o+h.textContent.length,o<=c&&g>=c)return{node:h,offset:c-o};o=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=$r(h)}}function xa(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?xa(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function hn(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=wr(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=wr(o.document)}return c}function Sr(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var En=Oa&&"documentMode"in document&&11>=document.documentMode,Cr=null,un=null,Sa=null,ls=!1;function Yn(o,c,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ls||Cr==null||Cr!==wr(g)||(g=Cr,"selectionStart"in g&&Sr(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Sa&&vr(Sa,g)||(Sa=g,g=gg(un,"onSelect"),0<g.length&&(c=new mo("onSelect","select",null,c,h),o.push({event:c,listeners:g}),c.target=Cr)))}function Bi(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var Xa={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},yi={},Gc={};Oa&&(Gc=document.createElement("div").style,"AnimationEvent"in window||(delete Xa.animationend.animation,delete Xa.animationiteration.animation,delete Xa.animationstart.animation),"TransitionEvent"in window||delete Xa.transitionend.transition);function Po(o){if(yi[o])return yi[o];if(!Xa[o])return o;var c=Xa[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in Gc)return yi[o]=c[h];return o}var Pu=Po("animationend"),ec=Po("animationiteration"),tc=Po("animationstart"),rc=Po("transitionrun"),Xc=Po("transitionstart"),Bu=Po("transitioncancel"),nc=Po("transitionend"),fl=new Map,Kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kc.push("scrollEnd");function La(o,c){fl.set(o,c),rt(c,[o])}var Ii=new WeakMap;function xn(o,c){if(typeof o=="object"&&o!==null){var h=Ii.get(o);return h!==void 0?h:(c={value:o,source:c,stack:fr(c)},Ii.set(o,c),c)}return{value:o,source:c,stack:fr(c)}}var yn=[],la=0,$a=0;function Zi(){for(var o=la,c=$a=la=0;c<o;){var h=yn[c];yn[c++]=null;var g=yn[c];yn[c++]=null;var j=yn[c];yn[c++]=null;var M=yn[c];if(yn[c++]=null,g!==null&&j!==null){var ae=g.pending;ae===null?j.next=j:(j.next=ae.next,ae.next=j),g.pending=j}M!==0&&Vf(h,j,M)}}function ac(o,c,h,g){yn[la++]=o,yn[la++]=c,yn[la++]=h,yn[la++]=g,$a|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function sc(o,c,h,g){return ac(o,c,h,g),Jc(o)}function hl(o,c){return ac(o,null,null,c),Jc(o)}function Vf(o,c,h){o.lanes|=h;var g=o.alternate;g!==null&&(g.lanes|=h);for(var j=!1,M=o.return;M!==null;)M.childLanes|=h,g=M.alternate,g!==null&&(g.childLanes|=h),M.tag===22&&(o=M.stateNode,o===null||o._visibility&1||(j=!0)),o=M,M=M.return;return o.tag===3?(M=o.stateNode,j&&c!==null&&(j=31-Zt(h),o=M.hiddenUpdates,g=o[j],g===null?o[j]=[c]:g.push(c),c.lane=h|536870912),M):null}function Jc(o){if(50<U0)throw U0=0,Q2=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Ss={};function eo(o,c,h,g){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(o,c,h,g){return new eo(o,c,h,g)}function Iu(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Bo(o,c){var h=o.alternate;return h===null?(h=Hs(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function Bd(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function Qc(o,c,h,g,j,M){var ae=0;if(g=o,typeof o=="function")Iu(o)&&(ae=1);else if(typeof o=="string")ae=YE(o,h,q.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case B:return o=Hs(31,h,c,j),o.elementType=B,o.lanes=M,o;case w:return pl(h.children,j,M,c);case v:ae=8,j|=24;break;case N:return o=Hs(12,h,c,j|2),o.elementType=N,o.lanes=M,o;case R:return o=Hs(13,h,c,j),o.elementType=R,o.lanes=M,o;case V:return o=Hs(19,h,c,j),o.elementType=V,o.lanes=M,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case S:case _:ae=10;break e;case k:ae=9;break e;case A:ae=11;break e;case P:ae=14;break e;case I:ae=16,g=null;break e}ae=29,h=Error(n(130,o===null?"null":typeof o,"")),g=null}return c=Hs(ae,h,c,j),c.elementType=o,c.type=g,c.lanes=M,c}function pl(o,c,h,g){return o=Hs(7,o,g,c),o.lanes=h,o}function qf(o,c,h){return o=Hs(6,o,null,c),o.lanes=h,o}function Id(o,c,h){return c=Hs(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var ic=[],ml=0,$u=null,Yf=0,to=[],$i=0,Zc=null,gl=1,xl="";function eu(o,c){ic[ml++]=Yf,ic[ml++]=$u,$u=o,Yf=c}function Rm(o,c,h){to[$i++]=gl,to[$i++]=xl,to[$i++]=Zc,Zc=o;var g=gl;o=xl;var j=32-Zt(g)-1;g&=~(1<<j),h+=1;var M=32-Zt(c)+j;if(30<M){var ae=j-j%5;M=(g&(1<<ae)-1).toString(32),g>>=ae,j-=ae,gl=1<<32-Zt(c)+j|h<<j|g,xl=M+o}else gl=1<<M|h<<j|g,xl=o}function $d(o){o.return!==null&&(eu(o,1),Rm(o,1,0))}function zd(o){for(;o===$u;)$u=ic[--ml],ic[ml]=null,Yf=ic[--ml],ic[ml]=null;for(;o===Zc;)Zc=to[--$i],to[$i]=null,xl=to[--$i],to[$i]=null,gl=to[--$i],to[$i]=null}var cs=null,Ra=null,Rn=!1,oc=null,Io=!1,y0=Error(n(519));function tu(o){var c=Error(n(418,""));throw zu(xn(c,o)),y0}function Mm(o){var c=o.stateNode,h=o.type,g=o.memoizedProps;switch(c[Bt]=o,c[Kt]=g,h){case"dialog":Tn("cancel",c),Tn("close",c);break;case"iframe":case"object":case"embed":Tn("load",c);break;case"video":case"audio":for(h=0;h<W0.length;h++)Tn(W0[h],c);break;case"source":Tn("error",c);break;case"img":case"image":case"link":Tn("error",c),Tn("load",c);break;case"details":Tn("toggle",c);break;case"input":Tn("invalid",c),rn(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),nn(c);break;case"select":Tn("invalid",c);break;case"textarea":Tn("invalid",c),Qs(c,g.value,g.defaultValue,g.children),nn(c)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||g.suppressHydrationWarning===!0||m4(c.textContent,h)?(g.popover!=null&&(Tn("beforetoggle",c),Tn("toggle",c)),g.onScroll!=null&&Tn("scroll",c),g.onScrollEnd!=null&&Tn("scrollend",c),g.onClick!=null&&(c.onclick=xg),c=!0):c=!1,c||tu(o)}function yl(o){for(cs=o.return;cs;)switch(cs.tag){case 5:case 13:Io=!1;return;case 27:case 3:Io=!0;return;default:cs=cs.return}}function ti(o){if(o!==cs)return!1;if(!Rn)return yl(o),Rn=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||py(o.type,o.memoizedProps)),h=!h),h&&Ra&&tu(o),yl(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,c=0;o;){if(o.nodeType===8)if(h=o.data,h==="/$"){if(c===0){Ra=kl(o.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++;o=o.nextSibling}Ra=null}}else c===27?(c=Ra,ad(o.type)?(o=yy,yy=null,Ra=o):Ra=c):Ra=cs?kl(o.stateNode.nextSibling):null;return!0}function zi(){Ra=cs=null,Rn=!1}function Fm(){var o=oc;return o!==null&&(ao===null?ao=o:ao.push.apply(ao,o),oc=null),o}function zu(o){oc===null?oc=[o]:oc.push(o)}var $o=ne(null),_s=null,vl=null;function lc(o,c,h){z($o,c._currentValue),c._currentValue=h}function zo(o){o._currentValue=$o.current,D($o)}function Gf(o,c,h){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===h)break;o=o.return}}function Xf(o,c,h,g){var j=o.child;for(j!==null&&(j.return=o);j!==null;){var M=j.dependencies;if(M!==null){var ae=j.child;M=M.firstContext;e:for(;M!==null;){var ge=M;M=j;for(var Re=0;Re<c.length;Re++)if(ge.context===c[Re]){M.lanes|=h,ge=M.alternate,ge!==null&&(ge.lanes|=h),Gf(M.return,h,o),g||(ae=null);break e}M=ge.next}}else if(j.tag===18){if(ae=j.return,ae===null)throw Error(n(341));ae.lanes|=h,M=ae.alternate,M!==null&&(M.lanes|=h),Gf(ae,h,o),ae=null}else ae=j.child;if(ae!==null)ae.return=j;else for(ae=j;ae!==null;){if(ae===o){ae=null;break}if(j=ae.sibling,j!==null){j.return=ae.return,ae=j;break}ae=ae.return}j=ae}}function Uu(o,c,h,g){o=null;for(var j=c,M=!1;j!==null;){if(!M){if((j.flags&524288)!==0)M=!0;else if((j.flags&262144)!==0)break}if(j.tag===10){var ae=j.alternate;if(ae===null)throw Error(n(387));if(ae=ae.memoizedProps,ae!==null){var ge=j.type;Yt(j.pendingProps.value,ae.value)||(o!==null?o.push(ge):o=[ge])}}else if(j===Se.current){if(ae=j.alternate,ae===null)throw Error(n(387));ae.memoizedState.memoizedState!==j.memoizedState.memoizedState&&(o!==null?o.push(K0):o=[K0])}j=j.return}o!==null&&Xf(c,o,h,g),c.flags|=262144}function Kf(o){for(o=o.firstContext;o!==null;){if(!Yt(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Uo(o){_s=o,vl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function us(o){return Jf(_s,o)}function cc(o,c){return _s===null&&Uo(o),Jf(o,c)}function Jf(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},vl===null){if(o===null)throw Error(n(308));vl=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else vl=vl.next=c;return h}var S2=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},Pm=e.unstable_scheduleCallback,_2=e.unstable_NormalPriority,ds={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function v0(){return{controller:new S2,data:new Map,refCount:0}}function Ud(o){o.refCount--,o.refCount===0&&Pm(_2,function(){o.controller.abort()})}var Hd=null,b0=0,ru=0,bl=null;function T2(o,c){if(Hd===null){var h=Hd=[];b0=0,ru=sy(),bl={status:"pending",value:void 0,then:function(g){h.push(g)}}}return b0++,c.then(Bm,Bm),c}function Bm(){if(--b0===0&&Hd!==null){bl!==null&&(bl.status="fulfilled");var o=Hd;Hd=null,ru=0,bl=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function Im(o,c){var h=[],g={status:"pending",value:null,reason:null,then:function(j){h.push(j)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var j=0;j<h.length;j++)(0,h[j])(c)},function(j){for(g.status="rejected",g.reason=j,j=0;j<h.length;j++)(0,h[j])(void 0)}),g}var b=W.S;W.S=function(o,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&T2(o,c),b!==null&&b(o,c)};var E=ne(null);function U(){var o=E.current;return o!==null?o:Ta.pooledCache}function K(o,c){c===null?z(E,E.current):z(E,c.pool)}function oe(){var o=U();return o===null?null:{parent:ds._currentValue,pool:o}}var he=Error(n(460)),pe=Error(n(474)),me=Error(n(542)),we={then:function(){}};function ke(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Ue(){}function ct(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(Ue,Ue),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Mt(o),o;default:if(typeof c.status=="string")c.then(Ue,Ue);else{if(o=Ta,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var j=c;j.status="fulfilled",j.value=g}},function(g){if(c.status==="pending"){var j=c;j.status="rejected",j.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,Mt(o),o}throw it=c,he}}var it=null;function Xe(){if(it===null)throw Error(n(459));var o=it;return it=null,o}function Mt(o){if(o===he||o===me)throw Error(n(483))}var yt=!1;function He(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ye(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Et(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Ft(o,c,h){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(Qn&2)!==0){var j=g.pending;return j===null?c.next=c:(c.next=j.next,j.next=c),g.pending=c,c=Jc(o),Vf(o,null,h),c}return ac(o,g,c,h),Jc(o)}function Lt(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Tt(o,h)}}function pr(o,c){var h=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var j=null,M=null;if(h=h.firstBaseUpdate,h!==null){do{var ae={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};M===null?j=M=ae:M=M.next=ae,h=h.next}while(h!==null);M===null?j=M=c:M=M.next=c}else j=M=c;h={baseState:g.baseState,firstBaseUpdate:j,lastBaseUpdate:M,shared:g.shared,callbacks:g.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var or=!1;function Lr(){if(or){var o=bl;if(o!==null)throw o}}function lr(o,c,h,g){or=!1;var j=o.updateQueue;yt=!1;var M=j.firstBaseUpdate,ae=j.lastBaseUpdate,ge=j.shared.pending;if(ge!==null){j.shared.pending=null;var Re=ge,dt=Re.next;Re.next=null,ae===null?M=dt:ae.next=dt,ae=Re;var Ct=o.alternate;Ct!==null&&(Ct=Ct.updateQueue,ge=Ct.lastBaseUpdate,ge!==ae&&(ge===null?Ct.firstBaseUpdate=dt:ge.next=dt,Ct.lastBaseUpdate=Re))}if(M!==null){var It=j.baseState;ae=0,Ct=dt=Re=null,ge=M;do{var mt=ge.lane&-536870913,xt=mt!==ge.lane;if(xt?(Ln&mt)===mt:(g&mt)===mt){mt!==0&&mt===ru&&(or=!0),Ct!==null&&(Ct=Ct.next={lane:0,tag:ge.tag,payload:ge.payload,callback:null,next:null});e:{var Kr=o,Vr=ge;mt=c;var ua=h;switch(Vr.tag){case 1:if(Kr=Vr.payload,typeof Kr=="function"){It=Kr.call(ua,It,mt);break e}It=Kr;break e;case 3:Kr.flags=Kr.flags&-65537|128;case 0:if(Kr=Vr.payload,mt=typeof Kr=="function"?Kr.call(ua,It,mt):Kr,mt==null)break e;It=p({},It,mt);break e;case 2:yt=!0}}mt=ge.callback,mt!==null&&(o.flags|=64,xt&&(o.flags|=8192),xt=j.callbacks,xt===null?j.callbacks=[mt]:xt.push(mt))}else xt={lane:mt,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},Ct===null?(dt=Ct=xt,Re=It):Ct=Ct.next=xt,ae|=mt;if(ge=ge.next,ge===null){if(ge=j.shared.pending,ge===null)break;xt=ge,ge=xt.next,xt.next=null,j.lastBaseUpdate=xt,j.shared.pending=null}}while(!0);Ct===null&&(Re=It),j.baseState=Re,j.firstBaseUpdate=dt,j.lastBaseUpdate=Ct,M===null&&(j.shared.lanes=0),ed|=ae,o.lanes=ae,o.memoizedState=It}}function Dn(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function Pn(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)Dn(h[o],c)}var pn=ne(null),dn=ne(0);function Gn(o,c){o=fu,z(dn,o),z(pn,c),fu=o|c.baseLanes}function Bn(){z(dn,fu),z(pn,pn.current)}function en(){fu=dn.current,D(pn),D(dn)}var Jn=0,Br=null,Yr=null,An=null,On=!1,Ts=!1,fs=!1,za=0,Ua=0,Ka=null,ro=0;function In(){throw Error(n(321))}function Ja(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!Yt(o[h],c[h]))return!1;return!0}function yo(o,c,h,g,j,M){return Jn=M,Br=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,W.H=o===null||o.memoizedState===null?Xw:Kw,fs=!1,M=h(g,j),fs=!1,Ts&&(M=nu(c,h,g,j)),uc(o),M}function uc(o){W.H=Jm;var c=Yr!==null&&Yr.next!==null;if(Jn=0,An=Yr=Br=null,On=!1,Ua=0,Ka=null,c)throw Error(n(300));o===null||Ws||(o=o.dependencies,o!==null&&Kf(o)&&(Ws=!0))}function nu(o,c,h,g){Br=o;var j=0;do{if(Ts&&(Ka=null),Ua=0,Ts=!1,25<=j)throw Error(n(301));if(j+=1,An=Yr=null,o.updateQueue!=null){var M=o.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}W.H=aE,M=c(h,g)}while(Ts);return M}function dc(){var o=W.H,c=o.useState()[0];return c=typeof c.then=="function"?fc(c):c,o=o.useState()[0],(Yr!==null?Yr.memoizedState:null)!==o&&(Br.flags|=1024),c}function _a(){var o=za!==0;return za=0,o}function Wd(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function Qf(o){if(On){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}On=!1}Jn=0,An=Yr=Br=null,Ts=!1,Ua=za=0,Ka=null}function ri(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return An===null?Br.memoizedState=An=o:An=An.next=o,An}function ja(){if(Yr===null){var o=Br.alternate;o=o!==null?o.memoizedState:null}else o=Yr.next;var c=An===null?Br.memoizedState:An.next;if(c!==null)An=c,Yr=o;else{if(o===null)throw Br.alternate===null?Error(n(467)):Error(n(310));Yr=o,o={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},An===null?Br.memoizedState=An=o:An=An.next=o}return An}function au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fc(o){var c=Ua;return Ua+=1,Ka===null&&(Ka=[]),o=ct(Ka,o,c),c=Br,(An===null?c.memoizedState:An.next)===null&&(c=c.alternate,W.H=c===null||c.memoizedState===null?Xw:Kw),o}function vi(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return fc(o);if(o.$$typeof===_)return us(o)}throw Error(n(438,String(o)))}function hc(o){var c=null,h=Br.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var g=Br.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(j){return j.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=au(),Br.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),g=0;g<o;g++)h[g]=O;return c.index++,h}function bi(o,c){return typeof c=="function"?c(o):c}function Vd(o){var c=ja();return Hu(c,Yr,o)}function Hu(o,c,h){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=h;var j=o.baseQueue,M=g.pending;if(M!==null){if(j!==null){var ae=j.next;j.next=M.next,M.next=ae}c.baseQueue=j=M,g.pending=null}if(M=o.baseState,j===null)o.memoizedState=M;else{c=j.next;var ge=ae=null,Re=null,dt=c,Ct=!1;do{var It=dt.lane&-536870913;if(It!==dt.lane?(Ln&It)===It:(Jn&It)===It){var mt=dt.revertLane;if(mt===0)Re!==null&&(Re=Re.next={lane:0,revertLane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),It===ru&&(Ct=!0);else if((Jn&mt)===mt){dt=dt.next,mt===ru&&(Ct=!0);continue}else It={lane:0,revertLane:dt.revertLane,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},Re===null?(ge=Re=It,ae=M):Re=Re.next=It,Br.lanes|=mt,ed|=mt;It=dt.action,fs&&h(M,It),M=dt.hasEagerState?dt.eagerState:h(M,It)}else mt={lane:It,revertLane:dt.revertLane,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null},Re===null?(ge=Re=mt,ae=M):Re=Re.next=mt,Br.lanes|=It,ed|=It;dt=dt.next}while(dt!==null&&dt!==c);if(Re===null?ae=M:Re.next=ge,!Yt(M,o.memoizedState)&&(Ws=!0,Ct&&(h=bl,h!==null)))throw h;o.memoizedState=M,o.baseState=ae,o.baseQueue=Re,g.lastRenderedState=M}return j===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function Zf(o){var c=ja(),h=c.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var g=h.dispatch,j=h.pending,M=c.memoizedState;if(j!==null){h.pending=null;var ae=j=j.next;do M=o(M,ae.action),ae=ae.next;while(ae!==j);Yt(M,c.memoizedState)||(Ws=!0),c.memoizedState=M,c.baseQueue===null&&(c.baseState=M),h.lastRenderedState=M}return[M,g]}function qd(o,c,h){var g=Br,j=ja(),M=Rn;if(M){if(h===void 0)throw Error(n(407));h=h()}else h=c();var ae=!Yt((Yr||j).memoizedState,h);ae&&(j.memoizedState=h,Ws=!0),j=j.queue;var ge=Wu.bind(null,g,j,o);if(Yu(2048,8,ge,[o]),j.getSnapshot!==c||ae||An!==null&&An.memoizedState.tag&1){if(g.flags|=2048,Nl(9,Kd(),Yd.bind(null,g,j,h,c),null),Ta===null)throw Error(n(349));M||(Jn&124)!==0||eh(g,c,h)}return h}function eh(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=Br.updateQueue,c===null?(c=au(),Br.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function Yd(o,c,h,g){c.value=h,c.getSnapshot=g,$m(c)&&zm(o)}function Wu(o,c,h){return h(function(){$m(c)&&zm(o)})}function $m(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!Yt(o,h)}catch{return!0}}function zm(o){var c=hl(o,2);c!==null&&_o(c,o,2)}function Gd(o){var c=ri();if(typeof o=="function"){var h=o;if(o=h(),fs){cr(!0);try{h()}finally{cr(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:o},c}function wl(o,c,h,g){return o.baseState=h,Hu(o,Yr,typeof g=="function"?g:bi)}function k2(o,c,h,g,j){if(Km(o))throw Error(n(485));if(o=c.action,o!==null){var M={payload:j,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ae){M.listeners.push(ae)}};W.T!==null?h(!0):M.isTransition=!1,g(M),h=c.pending,h===null?(M.next=c.pending=M,Um(c,M)):(M.next=h.next,c.pending=h.next=M)}}function Um(o,c){var h=c.action,g=c.payload,j=o.state;if(c.isTransition){var M=W.T,ae={};W.T=ae;try{var ge=h(j,g),Re=W.S;Re!==null&&Re(ae,ge),Hm(o,c,ge)}catch(dt){Vu(o,c,dt)}finally{W.T=M}}else try{M=h(j,g),Hm(o,c,M)}catch(dt){Vu(o,c,dt)}}function Hm(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){w0(o,c,g)},function(g){return Vu(o,c,g)}):w0(o,c,h)}function w0(o,c,h){c.status="fulfilled",c.value=h,N0(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,Um(o,h)))}function Vu(o,c,h){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=h,N0(c),c=c.next;while(c!==g)}o.action=null}function N0(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function S0(o,c){return c}function Xd(o,c){if(Rn){var h=Ta.formState;if(h!==null){e:{var g=Br;if(Rn){if(Ra){t:{for(var j=Ra,M=Io;j.nodeType!==8;){if(!M){j=null;break t}if(j=kl(j.nextSibling),j===null){j=null;break t}}M=j.data,j=M==="F!"||M==="F"?j:null}if(j){Ra=kl(j.nextSibling),g=j.data==="F!";break e}}tu(g)}g=!1}g&&(c=h[0])}}return h=ri(),h.memoizedState=h.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S0,lastRenderedState:c},h.queue=g,h=qw.bind(null,Br,g),g.dispatch=h,g=Gd(!1),M=j2.bind(null,Br,!1,g.queue),g=ri(),j={state:c,dispatch:null,action:o,pending:null},g.queue=j,h=k2.bind(null,Br,j,M,h),j.dispatch=h,g.memoizedState=o,[c,h,!1]}function th(o){var c=ja();return qu(c,Yr,o)}function qu(o,c,h){if(c=Hu(o,c,S0)[0],o=Vd(bi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=fc(c)}catch(ae){throw ae===he?me:ae}else g=c;c=ja();var j=c.queue,M=j.dispatch;return h!==c.memoizedState&&(Br.flags|=2048,Nl(9,Kd(),Wm.bind(null,j,h),null)),[g,M,o]}function Wm(o,c){o.action=c}function Vm(o){var c=ja(),h=Yr;if(h!==null)return qu(c,h,o);ja(),c=c.memoizedState,h=ja();var g=h.queue.dispatch;return h.memoizedState=o,[c,g,!1]}function Nl(o,c,h,g){return o={tag:o,create:h,deps:g,inst:c,next:null},c=Br.updateQueue,c===null&&(c=au(),Br.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(g=h.next,h.next=o,o.next=g,c.lastEffect=o),o}function Kd(){return{destroy:void 0,resource:void 0}}function rh(){return ja().memoizedState}function vo(o,c,h,g){var j=ri();g=g===void 0?null:g,Br.flags|=o,j.memoizedState=Nl(1|c,Kd(),h,g)}function Yu(o,c,h,g){var j=ja();g=g===void 0?null:g;var M=j.memoizedState.inst;Yr!==null&&g!==null&&Ja(g,Yr.memoizedState.deps)?j.memoizedState=Nl(c,M,h,g):(Br.flags|=o,j.memoizedState=Nl(1|c,M,h,g))}function _0(o,c){vo(8390656,8,o,c)}function qm(o,c){Yu(2048,8,o,c)}function T0(o,c){return Yu(4,2,o,c)}function su(o,c){return Yu(4,4,o,c)}function Ym(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function k0(o,c,h){h=h!=null?h.concat([o]):null,Yu(4,4,Ym.bind(null,c,o),h)}function j0(){}function E0(o,c){var h=ja();c=c===void 0?null:c;var g=h.memoizedState;return c!==null&&Ja(c,g[1])?g[0]:(h.memoizedState=[o,c],o)}function Gm(o,c){var h=ja();c=c===void 0?null:c;var g=h.memoizedState;if(c!==null&&Ja(c,g[1]))return g[0];if(g=o(),fs){cr(!0);try{o()}finally{cr(!1)}}return h.memoizedState=[g,c],g}function iu(o,c,h){return h===void 0||(Jn&1073741824)!==0?o.memoizedState=c:(o.memoizedState=h,o=U5(),Br.lanes|=o,ed|=o,h)}function nh(o,c,h,g){return Yt(h,c)?h:pn.current!==null?(o=iu(o,h,g),Yt(o,c)||(Ws=!0),o):(Jn&42)===0?(Ws=!0,o.memoizedState=h):(o=U5(),Br.lanes|=o,ed|=o,c)}function Jd(o,c,h,g,j){var M=J.p;J.p=M!==0&&8>M?M:8;var ae=W.T,ge={};W.T=ge,j2(o,!1,c,h);try{var Re=j(),dt=W.S;if(dt!==null&&dt(ge,Re),Re!==null&&typeof Re=="object"&&typeof Re.then=="function"){var Ct=Im(Re,g);O0(o,c,Ct,So(o))}else O0(o,c,g,So(o))}catch(It){O0(o,c,{then:function(){},status:"rejected",reason:It},So())}finally{J.p=M,W.T=ae}}function Sl(){}function Ho(o,c,h,g){if(o.tag!==5)throw Error(n(476));var j=_l(o).queue;Jd(o,j,c,re,h===null?Sl:function(){return Qd(o),h(g)})}function _l(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:re},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function Qd(o){var c=_l(o).next.queue;O0(o,c,{},So())}function Zd(){return us(K0)}function A0(){return ja().memoizedState}function Xm(){return ja().memoizedState}function C0(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=So();o=Et(h);var g=Ft(c,o,h);g!==null&&(_o(g,c,h),Lt(g,c,h)),c={cache:v0()},o.payload=c;return}c=c.return}}function D0(o,c,h){var g=So();h={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null},Km(o)?Yw(c,h):(h=sc(o,c,h,g),h!==null&&(_o(h,o,g),Gw(h,c,g)))}function qw(o,c,h){var g=So();O0(o,c,h,g)}function O0(o,c,h,g){var j={lane:g,revertLane:0,action:h,hasEagerState:!1,eagerState:null,next:null};if(Km(o))Yw(c,j);else{var M=o.alternate;if(o.lanes===0&&(M===null||M.lanes===0)&&(M=c.lastRenderedReducer,M!==null))try{var ae=c.lastRenderedState,ge=M(ae,h);if(j.hasEagerState=!0,j.eagerState=ge,Yt(ge,ae))return ac(o,c,j,0),Ta===null&&Zi(),!1}catch{}finally{}if(h=sc(o,c,j,g),h!==null)return _o(h,o,g),Gw(h,c,g),!0}return!1}function j2(o,c,h,g){if(g={lane:2,revertLane:sy(),action:g,hasEagerState:!1,eagerState:null,next:null},Km(o)){if(c)throw Error(n(479))}else c=sc(o,h,g,2),c!==null&&_o(c,o,2)}function Km(o){var c=o.alternate;return o===Br||c!==null&&c===Br}function Yw(o,c){Ts=On=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function Gw(o,c,h){if((h&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,h|=g,c.lanes=h,Tt(o,h)}}var Jm={readContext:us,use:vi,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useInsertionEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useSyncExternalStore:In,useId:In,useHostTransitionStatus:In,useFormState:In,useActionState:In,useOptimistic:In,useMemoCache:In,useCacheRefresh:In},Xw={readContext:us,use:vi,useCallback:function(o,c){return ri().memoizedState=[o,c===void 0?null:c],o},useContext:us,useEffect:_0,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,vo(4194308,4,Ym.bind(null,c,o),h)},useLayoutEffect:function(o,c){return vo(4194308,4,o,c)},useInsertionEffect:function(o,c){vo(4,2,o,c)},useMemo:function(o,c){var h=ri();c=c===void 0?null:c;var g=o();if(fs){cr(!0);try{o()}finally{cr(!1)}}return h.memoizedState=[g,c],g},useReducer:function(o,c,h){var g=ri();if(h!==void 0){var j=h(c);if(fs){cr(!0);try{h(c)}finally{cr(!1)}}}else j=c;return g.memoizedState=g.baseState=j,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:j},g.queue=o,o=o.dispatch=D0.bind(null,Br,o),[g.memoizedState,o]},useRef:function(o){var c=ri();return o={current:o},c.memoizedState=o},useState:function(o){o=Gd(o);var c=o.queue,h=qw.bind(null,Br,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:j0,useDeferredValue:function(o,c){var h=ri();return iu(h,o,c)},useTransition:function(){var o=Gd(!1);return o=Jd.bind(null,Br,o.queue,!0,!1),ri().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var g=Br,j=ri();if(Rn){if(h===void 0)throw Error(n(407));h=h()}else{if(h=c(),Ta===null)throw Error(n(349));(Ln&124)!==0||eh(g,c,h)}j.memoizedState=h;var M={value:h,getSnapshot:c};return j.queue=M,_0(Wu.bind(null,g,M,o),[o]),g.flags|=2048,Nl(9,Kd(),Yd.bind(null,g,M,h,c),null),h},useId:function(){var o=ri(),c=Ta.identifierPrefix;if(Rn){var h=xl,g=gl;h=(g&~(1<<32-Zt(g)-1)).toString(32)+h,c="«"+c+"R"+h,h=za++,0<h&&(c+="H"+h.toString(32)),c+="»"}else h=ro++,c="«"+c+"r"+h.toString(32)+"»";return o.memoizedState=c},useHostTransitionStatus:Zd,useFormState:Xd,useActionState:Xd,useOptimistic:function(o){var c=ri();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=j2.bind(null,Br,!0,h),h.dispatch=c,[o,c]},useMemoCache:hc,useCacheRefresh:function(){return ri().memoizedState=C0.bind(null,Br)}},Kw={readContext:us,use:vi,useCallback:E0,useContext:us,useEffect:qm,useImperativeHandle:k0,useInsertionEffect:T0,useLayoutEffect:su,useMemo:Gm,useReducer:Vd,useRef:rh,useState:function(){return Vd(bi)},useDebugValue:j0,useDeferredValue:function(o,c){var h=ja();return nh(h,Yr.memoizedState,o,c)},useTransition:function(){var o=Vd(bi)[0],c=ja().memoizedState;return[typeof o=="boolean"?o:fc(o),c]},useSyncExternalStore:qd,useId:A0,useHostTransitionStatus:Zd,useFormState:th,useActionState:th,useOptimistic:function(o,c){var h=ja();return wl(h,Yr,o,c)},useMemoCache:hc,useCacheRefresh:Xm},aE={readContext:us,use:vi,useCallback:E0,useContext:us,useEffect:qm,useImperativeHandle:k0,useInsertionEffect:T0,useLayoutEffect:su,useMemo:Gm,useReducer:Zf,useRef:rh,useState:function(){return Zf(bi)},useDebugValue:j0,useDeferredValue:function(o,c){var h=ja();return Yr===null?iu(h,o,c):nh(h,Yr.memoizedState,o,c)},useTransition:function(){var o=Zf(bi)[0],c=ja().memoizedState;return[typeof o=="boolean"?o:fc(o),c]},useSyncExternalStore:qd,useId:A0,useHostTransitionStatus:Zd,useFormState:Vm,useActionState:Vm,useOptimistic:function(o,c){var h=ja();return Yr!==null?wl(h,Yr,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:hc,useCacheRefresh:Xm},ah=null,L0=0;function Qm(o){var c=L0;return L0+=1,ah===null&&(ah=[]),ct(ah,o,c)}function R0(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Zm(o,c){throw c.$$typeof===x?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function Jw(o){var c=o._init;return c(o._payload)}function Qw(o){function c(Ke,Ve){if(o){var ot=Ke.deletions;ot===null?(Ke.deletions=[Ve],Ke.flags|=16):ot.push(Ve)}}function h(Ke,Ve){if(!o)return null;for(;Ve!==null;)c(Ke,Ve),Ve=Ve.sibling;return null}function g(Ke){for(var Ve=new Map;Ke!==null;)Ke.key!==null?Ve.set(Ke.key,Ke):Ve.set(Ke.index,Ke),Ke=Ke.sibling;return Ve}function j(Ke,Ve){return Ke=Bo(Ke,Ve),Ke.index=0,Ke.sibling=null,Ke}function M(Ke,Ve,ot){return Ke.index=ot,o?(ot=Ke.alternate,ot!==null?(ot=ot.index,ot<Ve?(Ke.flags|=67108866,Ve):ot):(Ke.flags|=67108866,Ve)):(Ke.flags|=1048576,Ve)}function ae(Ke){return o&&Ke.alternate===null&&(Ke.flags|=67108866),Ke}function ge(Ke,Ve,ot,Rt){return Ve===null||Ve.tag!==6?(Ve=qf(ot,Ke.mode,Rt),Ve.return=Ke,Ve):(Ve=j(Ve,ot),Ve.return=Ke,Ve)}function Re(Ke,Ve,ot,Rt){var kr=ot.type;return kr===w?Ct(Ke,Ve,ot.props.children,Rt,ot.key):Ve!==null&&(Ve.elementType===kr||typeof kr=="object"&&kr!==null&&kr.$$typeof===I&&Jw(kr)===Ve.type)?(Ve=j(Ve,ot.props),R0(Ve,ot),Ve.return=Ke,Ve):(Ve=Qc(ot.type,ot.key,ot.props,null,Ke.mode,Rt),R0(Ve,ot),Ve.return=Ke,Ve)}function dt(Ke,Ve,ot,Rt){return Ve===null||Ve.tag!==4||Ve.stateNode.containerInfo!==ot.containerInfo||Ve.stateNode.implementation!==ot.implementation?(Ve=Id(ot,Ke.mode,Rt),Ve.return=Ke,Ve):(Ve=j(Ve,ot.children||[]),Ve.return=Ke,Ve)}function Ct(Ke,Ve,ot,Rt,kr){return Ve===null||Ve.tag!==7?(Ve=pl(ot,Ke.mode,Rt,kr),Ve.return=Ke,Ve):(Ve=j(Ve,ot),Ve.return=Ke,Ve)}function It(Ke,Ve,ot){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return Ve=qf(""+Ve,Ke.mode,ot),Ve.return=Ke,Ve;if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case y:return ot=Qc(Ve.type,Ve.key,Ve.props,null,Ke.mode,ot),R0(ot,Ve),ot.return=Ke,ot;case m:return Ve=Id(Ve,Ke.mode,ot),Ve.return=Ke,Ve;case I:var Rt=Ve._init;return Ve=Rt(Ve._payload),It(Ke,Ve,ot)}if(ce(Ve)||C(Ve))return Ve=pl(Ve,Ke.mode,ot,null),Ve.return=Ke,Ve;if(typeof Ve.then=="function")return It(Ke,Qm(Ve),ot);if(Ve.$$typeof===_)return It(Ke,cc(Ke,Ve),ot);Zm(Ke,Ve)}return null}function mt(Ke,Ve,ot,Rt){var kr=Ve!==null?Ve.key:null;if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return kr!==null?null:ge(Ke,Ve,""+ot,Rt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case y:return ot.key===kr?Re(Ke,Ve,ot,Rt):null;case m:return ot.key===kr?dt(Ke,Ve,ot,Rt):null;case I:return kr=ot._init,ot=kr(ot._payload),mt(Ke,Ve,ot,Rt)}if(ce(ot)||C(ot))return kr!==null?null:Ct(Ke,Ve,ot,Rt,null);if(typeof ot.then=="function")return mt(Ke,Ve,Qm(ot),Rt);if(ot.$$typeof===_)return mt(Ke,Ve,cc(Ke,ot),Rt);Zm(Ke,ot)}return null}function xt(Ke,Ve,ot,Rt,kr){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return Ke=Ke.get(ot)||null,ge(Ve,Ke,""+Rt,kr);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case y:return Ke=Ke.get(Rt.key===null?ot:Rt.key)||null,Re(Ve,Ke,Rt,kr);case m:return Ke=Ke.get(Rt.key===null?ot:Rt.key)||null,dt(Ve,Ke,Rt,kr);case I:var Sn=Rt._init;return Rt=Sn(Rt._payload),xt(Ke,Ve,ot,Rt,kr)}if(ce(Rt)||C(Rt))return Ke=Ke.get(ot)||null,Ct(Ve,Ke,Rt,kr,null);if(typeof Rt.then=="function")return xt(Ke,Ve,ot,Qm(Rt),kr);if(Rt.$$typeof===_)return xt(Ke,Ve,ot,cc(Ve,Rt),kr);Zm(Ve,Rt)}return null}function Kr(Ke,Ve,ot,Rt){for(var kr=null,Sn=null,Rr=Ve,qr=Ve=0,qs=null;Rr!==null&&qr<ot.length;qr++){Rr.index>qr?(qs=Rr,Rr=null):qs=Rr.sibling;var $n=mt(Ke,Rr,ot[qr],Rt);if($n===null){Rr===null&&(Rr=qs);break}o&&Rr&&$n.alternate===null&&c(Ke,Rr),Ve=M($n,Ve,qr),Sn===null?kr=$n:Sn.sibling=$n,Sn=$n,Rr=qs}if(qr===ot.length)return h(Ke,Rr),Rn&&eu(Ke,qr),kr;if(Rr===null){for(;qr<ot.length;qr++)Rr=It(Ke,ot[qr],Rt),Rr!==null&&(Ve=M(Rr,Ve,qr),Sn===null?kr=Rr:Sn.sibling=Rr,Sn=Rr);return Rn&&eu(Ke,qr),kr}for(Rr=g(Rr);qr<ot.length;qr++)qs=xt(Rr,Ke,qr,ot[qr],Rt),qs!==null&&(o&&qs.alternate!==null&&Rr.delete(qs.key===null?qr:qs.key),Ve=M(qs,Ve,qr),Sn===null?kr=qs:Sn.sibling=qs,Sn=qs);return o&&Rr.forEach(function(cd){return c(Ke,cd)}),Rn&&eu(Ke,qr),kr}function Vr(Ke,Ve,ot,Rt){if(ot==null)throw Error(n(151));for(var kr=null,Sn=null,Rr=Ve,qr=Ve=0,qs=null,$n=ot.next();Rr!==null&&!$n.done;qr++,$n=ot.next()){Rr.index>qr?(qs=Rr,Rr=null):qs=Rr.sibling;var cd=mt(Ke,Rr,$n.value,Rt);if(cd===null){Rr===null&&(Rr=qs);break}o&&Rr&&cd.alternate===null&&c(Ke,Rr),Ve=M(cd,Ve,qr),Sn===null?kr=cd:Sn.sibling=cd,Sn=cd,Rr=qs}if($n.done)return h(Ke,Rr),Rn&&eu(Ke,qr),kr;if(Rr===null){for(;!$n.done;qr++,$n=ot.next())$n=It(Ke,$n.value,Rt),$n!==null&&(Ve=M($n,Ve,qr),Sn===null?kr=$n:Sn.sibling=$n,Sn=$n);return Rn&&eu(Ke,qr),kr}for(Rr=g(Rr);!$n.done;qr++,$n=ot.next())$n=xt(Rr,Ke,qr,$n.value,Rt),$n!==null&&(o&&$n.alternate!==null&&Rr.delete($n.key===null?qr:$n.key),Ve=M($n,Ve,qr),Sn===null?kr=$n:Sn.sibling=$n,Sn=$n);return o&&Rr.forEach(function(sA){return c(Ke,sA)}),Rn&&eu(Ke,qr),kr}function ua(Ke,Ve,ot,Rt){if(typeof ot=="object"&&ot!==null&&ot.type===w&&ot.key===null&&(ot=ot.props.children),typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case y:e:{for(var kr=ot.key;Ve!==null;){if(Ve.key===kr){if(kr=ot.type,kr===w){if(Ve.tag===7){h(Ke,Ve.sibling),Rt=j(Ve,ot.props.children),Rt.return=Ke,Ke=Rt;break e}}else if(Ve.elementType===kr||typeof kr=="object"&&kr!==null&&kr.$$typeof===I&&Jw(kr)===Ve.type){h(Ke,Ve.sibling),Rt=j(Ve,ot.props),R0(Rt,ot),Rt.return=Ke,Ke=Rt;break e}h(Ke,Ve);break}else c(Ke,Ve);Ve=Ve.sibling}ot.type===w?(Rt=pl(ot.props.children,Ke.mode,Rt,ot.key),Rt.return=Ke,Ke=Rt):(Rt=Qc(ot.type,ot.key,ot.props,null,Ke.mode,Rt),R0(Rt,ot),Rt.return=Ke,Ke=Rt)}return ae(Ke);case m:e:{for(kr=ot.key;Ve!==null;){if(Ve.key===kr)if(Ve.tag===4&&Ve.stateNode.containerInfo===ot.containerInfo&&Ve.stateNode.implementation===ot.implementation){h(Ke,Ve.sibling),Rt=j(Ve,ot.children||[]),Rt.return=Ke,Ke=Rt;break e}else{h(Ke,Ve);break}else c(Ke,Ve);Ve=Ve.sibling}Rt=Id(ot,Ke.mode,Rt),Rt.return=Ke,Ke=Rt}return ae(Ke);case I:return kr=ot._init,ot=kr(ot._payload),ua(Ke,Ve,ot,Rt)}if(ce(ot))return Kr(Ke,Ve,ot,Rt);if(C(ot)){if(kr=C(ot),typeof kr!="function")throw Error(n(150));return ot=kr.call(ot),Vr(Ke,Ve,ot,Rt)}if(typeof ot.then=="function")return ua(Ke,Ve,Qm(ot),Rt);if(ot.$$typeof===_)return ua(Ke,Ve,cc(Ke,ot),Rt);Zm(Ke,ot)}return typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint"?(ot=""+ot,Ve!==null&&Ve.tag===6?(h(Ke,Ve.sibling),Rt=j(Ve,ot),Rt.return=Ke,Ke=Rt):(h(Ke,Ve),Rt=qf(ot,Ke.mode,Rt),Rt.return=Ke,Ke=Rt),ae(Ke)):h(Ke,Ve)}return function(Ke,Ve,ot,Rt){try{L0=0;var kr=ua(Ke,Ve,ot,Rt);return ah=null,kr}catch(Rr){if(Rr===he||Rr===me)throw Rr;var Sn=Hs(29,Rr,null,Ke.mode);return Sn.lanes=Rt,Sn.return=Ke,Sn}finally{}}}var sh=Qw(!0),Zw=Qw(!1),Wo=ne(null),pc=null;function Gu(o){var c=o.alternate;z(Ms,Ms.current&1),z(Wo,o),pc===null&&(c===null||pn.current!==null||c.memoizedState!==null)&&(pc=o)}function e5(o){if(o.tag===22){if(z(Ms,Ms.current),z(Wo,o),pc===null){var c=o.alternate;c!==null&&c.memoizedState!==null&&(pc=o)}}else Xu()}function Xu(){z(Ms,Ms.current),z(Wo,Wo.current)}function ou(o){D(Wo),pc===o&&(pc=null),D(Ms)}var Ms=ne(0);function eg(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||xy(h)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function E2(o,c,h,g){c=o.memoizedState,h=h(g,c),h=h==null?c:p({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var A2={enqueueSetState:function(o,c,h){o=o._reactInternals;var g=So(),j=Et(g);j.payload=c,h!=null&&(j.callback=h),c=Ft(o,j,g),c!==null&&(_o(c,o,g),Lt(c,o,g))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var g=So(),j=Et(g);j.tag=1,j.payload=c,h!=null&&(j.callback=h),c=Ft(o,j,g),c!==null&&(_o(c,o,g),Lt(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=So(),g=Et(h);g.tag=2,c!=null&&(g.callback=c),c=Ft(o,g,h),c!==null&&(_o(c,o,h),Lt(c,o,h))}};function t5(o,c,h,g,j,M,ae){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,M,ae):c.prototype&&c.prototype.isPureReactComponent?!vr(h,g)||!vr(j,M):!0}function r5(o,c,h,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,g),c.state!==o&&A2.enqueueReplaceState(c,c.state,null)}function ef(o,c){var h=c;if("ref"in c){h={};for(var g in c)g!=="ref"&&(h[g]=c[g])}if(o=o.defaultProps){h===c&&(h=p({},h));for(var j in o)h[j]===void 0&&(h[j]=o[j])}return h}var tg=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function n5(o){tg(o)}function a5(o){console.error(o)}function s5(o){tg(o)}function rg(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function i5(o,c,h){try{var g=o.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(j){setTimeout(function(){throw j})}}function C2(o,c,h){return h=Et(h),h.tag=3,h.payload={element:null},h.callback=function(){rg(o,c)},h}function o5(o){return o=Et(o),o.tag=3,o}function l5(o,c,h,g){var j=h.type.getDerivedStateFromError;if(typeof j=="function"){var M=g.value;o.payload=function(){return j(M)},o.callback=function(){i5(c,h,g)}}var ae=h.stateNode;ae!==null&&typeof ae.componentDidCatch=="function"&&(o.callback=function(){i5(c,h,g),typeof j!="function"&&(td===null?td=new Set([this]):td.add(this));var ge=g.stack;this.componentDidCatch(g.value,{componentStack:ge!==null?ge:""})})}function sE(o,c,h,g,j){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=h.alternate,c!==null&&Uu(c,h,j,!0),h=Wo.current,h!==null){switch(h.tag){case 13:return pc===null?ey():h.alternate===null&&Qa===0&&(Qa=3),h.flags&=-257,h.flags|=65536,h.lanes=j,g===we?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([g]):c.add(g),ry(o,g,j)),!1;case 22:return h.flags|=65536,g===we?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([g]):h.add(g)),ry(o,g,j)),!1}throw Error(n(435,h.tag))}return ry(o,g,j),ey(),!1}if(Rn)return c=Wo.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=j,g!==y0&&(o=Error(n(422),{cause:g}),zu(xn(o,h)))):(g!==y0&&(c=Error(n(423),{cause:g}),zu(xn(c,h))),o=o.current.alternate,o.flags|=65536,j&=-j,o.lanes|=j,g=xn(g,h),j=C2(o.stateNode,g,j),pr(o,j),Qa!==4&&(Qa=2)),!1;var M=Error(n(520),{cause:g});if(M=xn(M,h),z0===null?z0=[M]:z0.push(M),Qa!==4&&(Qa=2),c===null)return!0;g=xn(g,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=j&-j,h.lanes|=o,o=C2(h.stateNode,g,o),pr(h,o),!1;case 1:if(c=h.type,M=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(td===null||!td.has(M))))return h.flags|=65536,j&=-j,h.lanes|=j,j=o5(j),l5(j,o,h,g),pr(h,j),!1}h=h.return}while(h!==null);return!1}var c5=Error(n(461)),Ws=!1;function ni(o,c,h,g){c.child=o===null?Zw(c,null,h,g):sh(c,o.child,h,g)}function u5(o,c,h,g,j){h=h.render;var M=c.ref;if("ref"in g){var ae={};for(var ge in g)ge!=="ref"&&(ae[ge]=g[ge])}else ae=g;return Uo(c),g=yo(o,c,h,ae,M,j),ge=_a(),o!==null&&!Ws?(Wd(o,c,j),lu(o,c,j)):(Rn&&ge&&$d(c),c.flags|=1,ni(o,c,g,j),c.child)}function d5(o,c,h,g,j){if(o===null){var M=h.type;return typeof M=="function"&&!Iu(M)&&M.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=M,f5(o,c,M,g,j)):(o=Qc(h.type,null,g,c,c.mode,j),o.ref=c.ref,o.return=c,c.child=o)}if(M=o.child,!B2(o,j)){var ae=M.memoizedProps;if(h=h.compare,h=h!==null?h:vr,h(ae,g)&&o.ref===c.ref)return lu(o,c,j)}return c.flags|=1,o=Bo(M,g),o.ref=c.ref,o.return=c,c.child=o}function f5(o,c,h,g,j){if(o!==null){var M=o.memoizedProps;if(vr(M,g)&&o.ref===c.ref)if(Ws=!1,c.pendingProps=g=M,B2(o,j))(o.flags&131072)!==0&&(Ws=!0);else return c.lanes=o.lanes,lu(o,c,j)}return D2(o,c,h,g,j)}function h5(o,c,h){var g=c.pendingProps,j=g.children,M=o!==null?o.memoizedState:null;if(g.mode==="hidden"){if((c.flags&128)!==0){if(g=M!==null?M.baseLanes|h:h,o!==null){for(j=c.child=o.child,M=0;j!==null;)M=M|j.lanes|j.childLanes,j=j.sibling;c.childLanes=M&~g}else c.childLanes=0,c.child=null;return p5(o,c,g,h)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&K(c,M!==null?M.cachePool:null),M!==null?Gn(c,M):Bn(),e5(c);else return c.lanes=c.childLanes=536870912,p5(o,c,M!==null?M.baseLanes|h:h,h)}else M!==null?(K(c,M.cachePool),Gn(c,M),Xu(),c.memoizedState=null):(o!==null&&K(c,null),Bn(),Xu());return ni(o,c,j,h),c.child}function p5(o,c,h,g){var j=U();return j=j===null?null:{parent:ds._currentValue,pool:j},c.memoizedState={baseLanes:h,cachePool:j},o!==null&&K(c,null),Bn(),e5(c),o!==null&&Uu(o,c,g,!0),null}function ng(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function D2(o,c,h,g,j){return Uo(c),h=yo(o,c,h,g,void 0,j),g=_a(),o!==null&&!Ws?(Wd(o,c,j),lu(o,c,j)):(Rn&&g&&$d(c),c.flags|=1,ni(o,c,h,j),c.child)}function m5(o,c,h,g,j,M){return Uo(c),c.updateQueue=null,h=nu(c,g,h,j),uc(o),g=_a(),o!==null&&!Ws?(Wd(o,c,M),lu(o,c,M)):(Rn&&g&&$d(c),c.flags|=1,ni(o,c,h,M),c.child)}function g5(o,c,h,g,j){if(Uo(c),c.stateNode===null){var M=Ss,ae=h.contextType;typeof ae=="object"&&ae!==null&&(M=us(ae)),M=new h(g,M),c.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=A2,c.stateNode=M,M._reactInternals=c,M=c.stateNode,M.props=g,M.state=c.memoizedState,M.refs={},He(c),ae=h.contextType,M.context=typeof ae=="object"&&ae!==null?us(ae):Ss,M.state=c.memoizedState,ae=h.getDerivedStateFromProps,typeof ae=="function"&&(E2(c,h,ae,g),M.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(ae=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),ae!==M.state&&A2.enqueueReplaceState(M,M.state,null),lr(c,g,M,j),Lr(),M.state=c.memoizedState),typeof M.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){M=c.stateNode;var ge=c.memoizedProps,Re=ef(h,ge);M.props=Re;var dt=M.context,Ct=h.contextType;ae=Ss,typeof Ct=="object"&&Ct!==null&&(ae=us(Ct));var It=h.getDerivedStateFromProps;Ct=typeof It=="function"||typeof M.getSnapshotBeforeUpdate=="function",ge=c.pendingProps!==ge,Ct||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ge||dt!==ae)&&r5(c,M,g,ae),yt=!1;var mt=c.memoizedState;M.state=mt,lr(c,g,M,j),Lr(),dt=c.memoizedState,ge||mt!==dt||yt?(typeof It=="function"&&(E2(c,h,It,g),dt=c.memoizedState),(Re=yt||t5(c,h,Re,g,mt,dt,ae))?(Ct||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(c.flags|=4194308)):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=dt),M.props=g,M.state=dt,M.context=ae,g=Re):(typeof M.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{M=c.stateNode,Ye(o,c),ae=c.memoizedProps,Ct=ef(h,ae),M.props=Ct,It=c.pendingProps,mt=M.context,dt=h.contextType,Re=Ss,typeof dt=="object"&&dt!==null&&(Re=us(dt)),ge=h.getDerivedStateFromProps,(dt=typeof ge=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(ae!==It||mt!==Re)&&r5(c,M,g,Re),yt=!1,mt=c.memoizedState,M.state=mt,lr(c,g,M,j),Lr();var xt=c.memoizedState;ae!==It||mt!==xt||yt||o!==null&&o.dependencies!==null&&Kf(o.dependencies)?(typeof ge=="function"&&(E2(c,h,ge,g),xt=c.memoizedState),(Ct=yt||t5(c,h,Ct,g,mt,xt,Re)||o!==null&&o.dependencies!==null&&Kf(o.dependencies))?(dt||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(g,xt,Re),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(g,xt,Re)),typeof M.componentDidUpdate=="function"&&(c.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof M.componentDidUpdate!="function"||ae===o.memoizedProps&&mt===o.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&mt===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=xt),M.props=g,M.state=xt,M.context=Re,g=Ct):(typeof M.componentDidUpdate!="function"||ae===o.memoizedProps&&mt===o.memoizedState||(c.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||ae===o.memoizedProps&&mt===o.memoizedState||(c.flags|=1024),g=!1)}return M=g,ng(o,c),g=(c.flags&128)!==0,M||g?(M=c.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:M.render(),c.flags|=1,o!==null&&g?(c.child=sh(c,o.child,null,j),c.child=sh(c,null,h,j)):ni(o,c,h,j),c.memoizedState=M.state,o=c.child):o=lu(o,c,j),o}function x5(o,c,h,g){return zi(),c.flags|=256,ni(o,c,h,g),c.child}var O2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function L2(o){return{baseLanes:o,cachePool:oe()}}function R2(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=Vo),o}function y5(o,c,h){var g=c.pendingProps,j=!1,M=(c.flags&128)!==0,ae;if((ae=M)||(ae=o!==null&&o.memoizedState===null?!1:(Ms.current&2)!==0),ae&&(j=!0,c.flags&=-129),ae=(c.flags&32)!==0,c.flags&=-33,o===null){if(Rn){if(j?Gu(c):Xu(),Rn){var ge=Ra,Re;if(Re=ge){e:{for(Re=ge,ge=Io;Re.nodeType!==8;){if(!ge){ge=null;break e}if(Re=kl(Re.nextSibling),Re===null){ge=null;break e}}ge=Re}ge!==null?(c.memoizedState={dehydrated:ge,treeContext:Zc!==null?{id:gl,overflow:xl}:null,retryLane:536870912,hydrationErrors:null},Re=Hs(18,null,null,0),Re.stateNode=ge,Re.return=c,c.child=Re,cs=c,Ra=null,Re=!0):Re=!1}Re||tu(c)}if(ge=c.memoizedState,ge!==null&&(ge=ge.dehydrated,ge!==null))return xy(ge)?c.lanes=32:c.lanes=536870912,null;ou(c)}return ge=g.children,g=g.fallback,j?(Xu(),j=c.mode,ge=ag({mode:"hidden",children:ge},j),g=pl(g,j,h,null),ge.return=c,g.return=c,ge.sibling=g,c.child=ge,j=c.child,j.memoizedState=L2(h),j.childLanes=R2(o,ae,h),c.memoizedState=O2,g):(Gu(c),M2(c,ge))}if(Re=o.memoizedState,Re!==null&&(ge=Re.dehydrated,ge!==null)){if(M)c.flags&256?(Gu(c),c.flags&=-257,c=F2(o,c,h)):c.memoizedState!==null?(Xu(),c.child=o.child,c.flags|=128,c=null):(Xu(),j=g.fallback,ge=c.mode,g=ag({mode:"visible",children:g.children},ge),j=pl(j,ge,h,null),j.flags|=2,g.return=c,j.return=c,g.sibling=j,c.child=g,sh(c,o.child,null,h),g=c.child,g.memoizedState=L2(h),g.childLanes=R2(o,ae,h),c.memoizedState=O2,c=j);else if(Gu(c),xy(ge)){if(ae=ge.nextSibling&&ge.nextSibling.dataset,ae)var dt=ae.dgst;ae=dt,g=Error(n(419)),g.stack="",g.digest=ae,zu({value:g,source:null,stack:null}),c=F2(o,c,h)}else if(Ws||Uu(o,c,h,!1),ae=(h&o.childLanes)!==0,Ws||ae){if(ae=Ta,ae!==null&&(g=h&-h,g=(g&42)!==0?1:Dt(g),g=(g&(ae.suspendedLanes|h))!==0?0:g,g!==0&&g!==Re.retryLane))throw Re.retryLane=g,hl(o,g),_o(ae,o,g),c5;ge.data==="$?"||ey(),c=F2(o,c,h)}else ge.data==="$?"?(c.flags|=192,c.child=o.child,c=null):(o=Re.treeContext,Ra=kl(ge.nextSibling),cs=c,Rn=!0,oc=null,Io=!1,o!==null&&(to[$i++]=gl,to[$i++]=xl,to[$i++]=Zc,gl=o.id,xl=o.overflow,Zc=c),c=M2(c,g.children),c.flags|=4096);return c}return j?(Xu(),j=g.fallback,ge=c.mode,Re=o.child,dt=Re.sibling,g=Bo(Re,{mode:"hidden",children:g.children}),g.subtreeFlags=Re.subtreeFlags&65011712,dt!==null?j=Bo(dt,j):(j=pl(j,ge,h,null),j.flags|=2),j.return=c,g.return=c,g.sibling=j,c.child=g,g=j,j=c.child,ge=o.child.memoizedState,ge===null?ge=L2(h):(Re=ge.cachePool,Re!==null?(dt=ds._currentValue,Re=Re.parent!==dt?{parent:dt,pool:dt}:Re):Re=oe(),ge={baseLanes:ge.baseLanes|h,cachePool:Re}),j.memoizedState=ge,j.childLanes=R2(o,ae,h),c.memoizedState=O2,g):(Gu(c),h=o.child,o=h.sibling,h=Bo(h,{mode:"visible",children:g.children}),h.return=c,h.sibling=null,o!==null&&(ae=c.deletions,ae===null?(c.deletions=[o],c.flags|=16):ae.push(o)),c.child=h,c.memoizedState=null,h)}function M2(o,c){return c=ag({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function ag(o,c){return o=Hs(22,o,null,c),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function F2(o,c,h){return sh(c,o.child,null,h),o=M2(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function v5(o,c,h){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),Gf(o.return,c,h)}function P2(o,c,h,g,j){var M=o.memoizedState;M===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:j}:(M.isBackwards=c,M.rendering=null,M.renderingStartTime=0,M.last=g,M.tail=h,M.tailMode=j)}function b5(o,c,h){var g=c.pendingProps,j=g.revealOrder,M=g.tail;if(ni(o,c,g.children,h),g=Ms.current,(g&2)!==0)g=g&1|2,c.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&v5(o,h,c);else if(o.tag===19)v5(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}g&=1}switch(z(Ms,g),j){case"forwards":for(h=c.child,j=null;h!==null;)o=h.alternate,o!==null&&eg(o)===null&&(j=h),h=h.sibling;h=j,h===null?(j=c.child,c.child=null):(j=h.sibling,h.sibling=null),P2(c,!1,j,h,M);break;case"backwards":for(h=null,j=c.child,c.child=null;j!==null;){if(o=j.alternate,o!==null&&eg(o)===null){c.child=j;break}o=j.sibling,j.sibling=h,h=j,j=o}P2(c,!0,h,null,M);break;case"together":P2(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function lu(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),ed|=c.lanes,(h&c.childLanes)===0)if(o!==null){if(Uu(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,h=Bo(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Bo(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function B2(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&Kf(o)))}function iE(o,c,h){switch(c.tag){case 3:fe(c,c.stateNode.containerInfo),lc(c,ds,o.memoizedState.cache),zi();break;case 27:case 5:be(c);break;case 4:fe(c,c.stateNode.containerInfo);break;case 10:lc(c,c.type,c.memoizedProps.value);break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Gu(c),c.flags|=128,null):(h&c.child.childLanes)!==0?y5(o,c,h):(Gu(c),o=lu(o,c,h),o!==null?o.sibling:null);Gu(c);break;case 19:var j=(o.flags&128)!==0;if(g=(h&c.childLanes)!==0,g||(Uu(o,c,h,!1),g=(h&c.childLanes)!==0),j){if(g)return b5(o,c,h);c.flags|=128}if(j=c.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),z(Ms,Ms.current),g)break;return null;case 22:case 23:return c.lanes=0,h5(o,c,h);case 24:lc(c,ds,o.memoizedState.cache)}return lu(o,c,h)}function w5(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Ws=!0;else{if(!B2(o,h)&&(c.flags&128)===0)return Ws=!1,iE(o,c,h);Ws=(o.flags&131072)!==0}else Ws=!1,Rn&&(c.flags&1048576)!==0&&Rm(c,Yf,c.index);switch(c.lanes=0,c.tag){case 16:e:{o=c.pendingProps;var g=c.elementType,j=g._init;if(g=j(g._payload),c.type=g,typeof g=="function")Iu(g)?(o=ef(g,o),c.tag=1,c=g5(null,c,g,o,h)):(c.tag=0,c=D2(null,c,g,o,h));else{if(g!=null){if(j=g.$$typeof,j===A){c.tag=11,c=u5(null,c,g,o,h);break e}else if(j===P){c.tag=14,c=d5(null,c,g,o,h);break e}}throw c=Q(g)||g,Error(n(306,c,""))}}return c;case 0:return D2(o,c,c.type,c.pendingProps,h);case 1:return g=c.type,j=ef(g,c.pendingProps),g5(o,c,g,j,h);case 3:e:{if(fe(c,c.stateNode.containerInfo),o===null)throw Error(n(387));g=c.pendingProps;var M=c.memoizedState;j=M.element,Ye(o,c),lr(c,g,null,h);var ae=c.memoizedState;if(g=ae.cache,lc(c,ds,g),g!==M.cache&&Xf(c,[ds],h,!0),Lr(),g=ae.element,M.isDehydrated)if(M={element:g,isDehydrated:!1,cache:ae.cache},c.updateQueue.baseState=M,c.memoizedState=M,c.flags&256){c=x5(o,c,g,h);break e}else if(g!==j){j=xn(Error(n(424)),c),zu(j),c=x5(o,c,g,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ra=kl(o.firstChild),cs=c,Rn=!0,oc=null,Io=!0,h=Zw(c,null,g,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(zi(),g===j){c=lu(o,c,h);break e}ni(o,c,g,h)}c=c.child}return c;case 26:return ng(o,c),o===null?(h=T4(c.type,null,c.pendingProps,null))?c.memoizedState=h:Rn||(h=c.type,o=c.pendingProps,g=yg(se.current).createElement(h),g[Bt]=c,g[Kt]=o,si(g,h,o),We(g),c.stateNode=g):c.memoizedState=T4(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return be(c),o===null&&Rn&&(g=c.stateNode=N4(c.type,c.pendingProps,se.current),cs=c,Io=!0,j=Ra,ad(c.type)?(yy=j,Ra=kl(g.firstChild)):Ra=j),ni(o,c,c.pendingProps.children,h),ng(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Rn&&((j=g=Ra)&&(g=RE(g,c.type,c.pendingProps,Io),g!==null?(c.stateNode=g,cs=c,Ra=kl(g.firstChild),Io=!1,j=!0):j=!1),j||tu(c)),be(c),j=c.type,M=c.pendingProps,ae=o!==null?o.memoizedProps:null,g=M.children,py(j,M)?g=null:ae!==null&&py(j,ae)&&(c.flags|=32),c.memoizedState!==null&&(j=yo(o,c,dc,null,null,h),K0._currentValue=j),ng(o,c),ni(o,c,g,h),c.child;case 6:return o===null&&Rn&&((o=h=Ra)&&(h=ME(h,c.pendingProps,Io),h!==null?(c.stateNode=h,cs=c,Ra=null,o=!0):o=!1),o||tu(c)),null;case 13:return y5(o,c,h);case 4:return fe(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=sh(c,null,g,h):ni(o,c,g,h),c.child;case 11:return u5(o,c,c.type,c.pendingProps,h);case 7:return ni(o,c,c.pendingProps,h),c.child;case 8:return ni(o,c,c.pendingProps.children,h),c.child;case 12:return ni(o,c,c.pendingProps.children,h),c.child;case 10:return g=c.pendingProps,lc(c,c.type,g.value),ni(o,c,g.children,h),c.child;case 9:return j=c.type._context,g=c.pendingProps.children,Uo(c),j=us(j),g=g(j),c.flags|=1,ni(o,c,g,h),c.child;case 14:return d5(o,c,c.type,c.pendingProps,h);case 15:return f5(o,c,c.type,c.pendingProps,h);case 19:return b5(o,c,h);case 31:return g=c.pendingProps,h=c.mode,g={mode:g.mode,children:g.children},o===null?(h=ag(g,h),h.ref=c.ref,c.child=h,h.return=c,c=h):(h=Bo(o.child,g),h.ref=c.ref,c.child=h,h.return=c,c=h),c;case 22:return h5(o,c,h);case 24:return Uo(c),g=us(ds),o===null?(j=U(),j===null&&(j=Ta,M=v0(),j.pooledCache=M,M.refCount++,M!==null&&(j.pooledCacheLanes|=h),j=M),c.memoizedState={parent:g,cache:j},He(c),lc(c,ds,j)):((o.lanes&h)!==0&&(Ye(o,c),lr(c,null,null,h),Lr()),j=o.memoizedState,M=c.memoizedState,j.parent!==g?(j={parent:g,cache:g},c.memoizedState=j,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=j),lc(c,ds,g)):(g=M.cache,lc(c,ds,g),g!==j.cache&&Xf(c,[ds],h,!0))),ni(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function cu(o){o.flags|=4}function N5(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!C4(c)){if(c=Wo.current,c!==null&&((Ln&4194048)===Ln?pc!==null:(Ln&62914560)!==Ln&&(Ln&536870912)===0||c!==pc))throw it=we,pe;o.flags|=8192}}function sg(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Be():536870912,o.lanes|=c,ch|=c)}function M0(o,c){if(!Rn)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function Ha(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,g=0;if(c)for(var j=o.child;j!==null;)h|=j.lanes|j.childLanes,g|=j.subtreeFlags&65011712,g|=j.flags&65011712,j.return=o,j=j.sibling;else for(j=o.child;j!==null;)h|=j.lanes|j.childLanes,g|=j.subtreeFlags,g|=j.flags,j.return=o,j=j.sibling;return o.subtreeFlags|=g,o.childLanes=h,c}function oE(o,c,h){var g=c.pendingProps;switch(zd(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(c),null;case 1:return Ha(c),null;case 3:return h=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),zo(ds),G(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(ti(c)?cu(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Fm())),Ha(c),null;case 26:return h=c.memoizedState,o===null?(cu(c),h!==null?(Ha(c),N5(c,h)):(Ha(c),c.flags&=-16777217)):h?h!==o.memoizedState?(cu(c),Ha(c),N5(c,h)):(Ha(c),c.flags&=-16777217):(o.memoizedProps!==g&&cu(c),Ha(c),c.flags&=-16777217),null;case 27:Fe(c),h=se.current;var j=c.type;if(o!==null&&c.stateNode!=null)o.memoizedProps!==g&&cu(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return Ha(c),null}o=q.current,ti(c)?Mm(c):(o=N4(j,g,h),c.stateNode=o,cu(c))}return Ha(c),null;case 5:if(Fe(c),h=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&cu(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return Ha(c),null}if(o=q.current,ti(c))Mm(c);else{switch(j=yg(se.current),o){case 1:o=j.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:o=j.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":o=j.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":o=j.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":o=j.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof g.is=="string"?j.createElement("select",{is:g.is}):j.createElement("select"),g.multiple?o.multiple=!0:g.size&&(o.size=g.size);break;default:o=typeof g.is=="string"?j.createElement(h,{is:g.is}):j.createElement(h)}}o[Bt]=c,o[Kt]=g;e:for(j=c.child;j!==null;){if(j.tag===5||j.tag===6)o.appendChild(j.stateNode);else if(j.tag!==4&&j.tag!==27&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===c)break e;for(;j.sibling===null;){if(j.return===null||j.return===c)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}c.stateNode=o;e:switch(si(o,h,g),h){case"button":case"input":case"select":case"textarea":o=!!g.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&cu(c)}}return Ha(c),c.flags&=-16777217,null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&cu(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(o=se.current,ti(c)){if(o=c.stateNode,h=c.memoizedProps,g=null,j=cs,j!==null)switch(j.tag){case 27:case 5:g=j.memoizedProps}o[Bt]=c,o=!!(o.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||m4(o.nodeValue,h)),o||tu(c)}else o=yg(o).createTextNode(g),o[Bt]=c,c.stateNode=o}return Ha(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(j=ti(c),g!==null&&g.dehydrated!==null){if(o===null){if(!j)throw Error(n(318));if(j=c.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Bt]=c}else zi(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Ha(c),j=!1}else j=Fm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=j),j=!0;if(!j)return c.flags&256?(ou(c),c):(ou(c),null)}if(ou(c),(c.flags&128)!==0)return c.lanes=h,c;if(h=g!==null,o=o!==null&&o.memoizedState!==null,h){g=c.child,j=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(j=g.alternate.memoizedState.cachePool.pool);var M=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(M=g.memoizedState.cachePool.pool),M!==j&&(g.flags|=2048)}return h!==o&&h&&(c.child.flags|=8192),sg(c,c.updateQueue),Ha(c),null;case 4:return G(),o===null&&cy(c.stateNode.containerInfo),Ha(c),null;case 10:return zo(c.type),Ha(c),null;case 19:if(D(Ms),j=c.memoizedState,j===null)return Ha(c),null;if(g=(c.flags&128)!==0,M=j.rendering,M===null)if(g)M0(j,!1);else{if(Qa!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(M=eg(o),M!==null){for(c.flags|=128,M0(j,!1),o=M.updateQueue,c.updateQueue=o,sg(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)Bd(h,o),h=h.sibling;return z(Ms,Ms.current&1|2),c.child}o=o.sibling}j.tail!==null&&Qe()>lg&&(c.flags|=128,g=!0,M0(j,!1),c.lanes=4194304)}else{if(!g)if(o=eg(M),o!==null){if(c.flags|=128,g=!0,o=o.updateQueue,c.updateQueue=o,sg(c,o),M0(j,!0),j.tail===null&&j.tailMode==="hidden"&&!M.alternate&&!Rn)return Ha(c),null}else 2*Qe()-j.renderingStartTime>lg&&h!==536870912&&(c.flags|=128,g=!0,M0(j,!1),c.lanes=4194304);j.isBackwards?(M.sibling=c.child,c.child=M):(o=j.last,o!==null?o.sibling=M:c.child=M,j.last=M)}return j.tail!==null?(c=j.tail,j.rendering=c,j.tail=c.sibling,j.renderingStartTime=Qe(),c.sibling=null,o=Ms.current,z(Ms,g?o&1|2:o&1),c):(Ha(c),null);case 22:case 23:return ou(c),en(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(h&536870912)!==0&&(c.flags&128)===0&&(Ha(c),c.subtreeFlags&6&&(c.flags|=8192)):Ha(c),h=c.updateQueue,h!==null&&sg(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==h&&(c.flags|=2048),o!==null&&D(E),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),zo(ds),Ha(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function lE(o,c){switch(zd(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return zo(ds),G(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return Fe(c),null;case 13:if(ou(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));zi()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return D(Ms),null;case 4:return G(),null;case 10:return zo(c.type),null;case 22:case 23:return ou(c),en(),o!==null&&D(E),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return zo(ds),null;case 25:return null;default:return null}}function S5(o,c){switch(zd(c),c.tag){case 3:zo(ds),G();break;case 26:case 27:case 5:Fe(c);break;case 4:G();break;case 13:ou(c);break;case 19:D(Ms);break;case 10:zo(c.type);break;case 22:case 23:ou(c),en(),o!==null&&D(E);break;case 24:zo(ds)}}function F0(o,c){try{var h=c.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var j=g.next;h=j;do{if((h.tag&o)===o){g=void 0;var M=h.create,ae=h.inst;g=M(),ae.destroy=g}h=h.next}while(h!==j)}}catch(ge){ya(c,c.return,ge)}}function Ku(o,c,h){try{var g=c.updateQueue,j=g!==null?g.lastEffect:null;if(j!==null){var M=j.next;g=M;do{if((g.tag&o)===o){var ae=g.inst,ge=ae.destroy;if(ge!==void 0){ae.destroy=void 0,j=c;var Re=h,dt=ge;try{dt()}catch(Ct){ya(j,Re,Ct)}}}g=g.next}while(g!==M)}}catch(Ct){ya(c,c.return,Ct)}}function _5(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{Pn(c,h)}catch(g){ya(o,o.return,g)}}}function T5(o,c,h){h.props=ef(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(g){ya(o,c,g)}}function P0(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof h=="function"?o.refCleanup=h(g):h.current=g}}catch(j){ya(o,c,j)}}function mc(o,c){var h=o.ref,g=o.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(j){ya(o,c,j)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(j){ya(o,c,j)}else h.current=null}function k5(o){var c=o.type,h=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(j){ya(o,o.return,j)}}function I2(o,c,h){try{var g=o.stateNode;AE(g,o.type,h,c),g[Kt]=c}catch(j){ya(o,o.return,j)}}function j5(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ad(o.type)||o.tag===4}function $2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||j5(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ad(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function z2(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=xg));else if(g!==4&&(g===27&&ad(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(z2(o,c,h),o=o.sibling;o!==null;)z2(o,c,h),o=o.sibling}function ig(o,c,h){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(g!==4&&(g===27&&ad(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(ig(o,c,h),o=o.sibling;o!==null;)ig(o,c,h),o=o.sibling}function E5(o){var c=o.stateNode,h=o.memoizedProps;try{for(var g=o.type,j=c.attributes;j.length;)c.removeAttributeNode(j[0]);si(c,g,h),c[Bt]=o,c[Kt]=h}catch(M){ya(o,o.return,M)}}var uu=!1,hs=!1,U2=!1,A5=typeof WeakSet=="function"?WeakSet:Set,Vs=null;function cE(o,c){if(o=o.containerInfo,fy=_g,o=hn(o),Sr(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var j=g.anchorOffset,M=g.focusNode;g=g.focusOffset;try{h.nodeType,M.nodeType}catch{h=null;break e}var ae=0,ge=-1,Re=-1,dt=0,Ct=0,It=o,mt=null;t:for(;;){for(var xt;It!==h||j!==0&&It.nodeType!==3||(ge=ae+j),It!==M||g!==0&&It.nodeType!==3||(Re=ae+g),It.nodeType===3&&(ae+=It.nodeValue.length),(xt=It.firstChild)!==null;)mt=It,It=xt;for(;;){if(It===o)break t;if(mt===h&&++dt===j&&(ge=ae),mt===M&&++Ct===g&&(Re=ae),(xt=It.nextSibling)!==null)break;It=mt,mt=It.parentNode}It=xt}h=ge===-1||Re===-1?null:{start:ge,end:Re}}else h=null}h=h||{start:0,end:0}}else h=null;for(hy={focusedElem:o,selectionRange:h},_g=!1,Vs=c;Vs!==null;)if(c=Vs,o=c.child,(c.subtreeFlags&1024)!==0&&o!==null)o.return=c,Vs=o;else for(;Vs!==null;){switch(c=Vs,M=c.alternate,o=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&M!==null){o=void 0,h=c,j=M.memoizedProps,M=M.memoizedState,g=h.stateNode;try{var Kr=ef(h.type,j,h.elementType===h.type);o=g.getSnapshotBeforeUpdate(Kr,M),g.__reactInternalSnapshotBeforeUpdate=o}catch(Vr){ya(h,h.return,Vr)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)gy(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":gy(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,Vs=o;break}Vs=c.return}}function C5(o,c,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:Ju(o,h),g&4&&F0(5,h);break;case 1:if(Ju(o,h),g&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(ae){ya(h,h.return,ae)}else{var j=ef(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(j,c,o.__reactInternalSnapshotBeforeUpdate)}catch(ae){ya(h,h.return,ae)}}g&64&&_5(h),g&512&&P0(h,h.return);break;case 3:if(Ju(o,h),g&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{Pn(o,c)}catch(ae){ya(h,h.return,ae)}}break;case 27:c===null&&g&4&&E5(h);case 26:case 5:Ju(o,h),c===null&&g&4&&k5(h),g&512&&P0(h,h.return);break;case 12:Ju(o,h);break;case 13:Ju(o,h),g&4&&L5(o,h),g&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=yE.bind(null,h),FE(o,h))));break;case 22:if(g=h.memoizedState!==null||uu,!g){c=c!==null&&c.memoizedState!==null||hs,j=uu;var M=hs;uu=g,(hs=c)&&!M?Qu(o,h,(h.subtreeFlags&8772)!==0):Ju(o,h),uu=j,hs=M}break;case 30:break;default:Ju(o,h)}}function D5(o){var c=o.alternate;c!==null&&(o.alternate=null,D5(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&de(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Ma=null,no=!1;function du(o,c,h){for(h=h.child;h!==null;)O5(o,c,h),h=h.sibling}function O5(o,c,h){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Wt,h)}catch{}switch(h.tag){case 26:hs||mc(h,c),du(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:hs||mc(h,c);var g=Ma,j=no;ad(h.type)&&(Ma=h.stateNode,no=!1),du(o,c,h),q0(h.stateNode),Ma=g,no=j;break;case 5:hs||mc(h,c);case 6:if(g=Ma,j=no,Ma=null,du(o,c,h),Ma=g,no=j,Ma!==null)if(no)try{(Ma.nodeType===9?Ma.body:Ma.nodeName==="HTML"?Ma.ownerDocument.body:Ma).removeChild(h.stateNode)}catch(M){ya(h,c,M)}else try{Ma.removeChild(h.stateNode)}catch(M){ya(h,c,M)}break;case 18:Ma!==null&&(no?(o=Ma,b4(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),ep(o)):b4(Ma,h.stateNode));break;case 4:g=Ma,j=no,Ma=h.stateNode.containerInfo,no=!0,du(o,c,h),Ma=g,no=j;break;case 0:case 11:case 14:case 15:hs||Ku(2,h,c),hs||Ku(4,h,c),du(o,c,h);break;case 1:hs||(mc(h,c),g=h.stateNode,typeof g.componentWillUnmount=="function"&&T5(h,c,g)),du(o,c,h);break;case 21:du(o,c,h);break;case 22:hs=(g=hs)||h.memoizedState!==null,du(o,c,h),hs=g;break;default:du(o,c,h)}}function L5(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{ep(o)}catch(h){ya(c,c.return,h)}}function uE(o){switch(o.tag){case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new A5),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new A5),c;default:throw Error(n(435,o.tag))}}function H2(o,c){var h=uE(o);c.forEach(function(g){var j=vE.bind(null,o,g);h.has(g)||(h.add(g),g.then(j,j))})}function bo(o,c){var h=c.deletions;if(h!==null)for(var g=0;g<h.length;g++){var j=h[g],M=o,ae=c,ge=ae;e:for(;ge!==null;){switch(ge.tag){case 27:if(ad(ge.type)){Ma=ge.stateNode,no=!1;break e}break;case 5:Ma=ge.stateNode,no=!1;break e;case 3:case 4:Ma=ge.stateNode.containerInfo,no=!0;break e}ge=ge.return}if(Ma===null)throw Error(n(160));O5(M,ae,j),Ma=null,no=!1,M=j.alternate,M!==null&&(M.return=null),j.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)R5(c,o),c=c.sibling}var Tl=null;function R5(o,c){var h=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:bo(c,o),wo(o),g&4&&(Ku(3,o,o.return),F0(3,o),Ku(5,o,o.return));break;case 1:bo(c,o),wo(o),g&512&&(hs||h===null||mc(h,h.return)),g&64&&uu&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var j=Tl;if(bo(c,o),wo(o),g&512&&(hs||h===null||mc(h,h.return)),g&4){var M=h!==null?h.memoizedState:null;if(g=o.memoizedState,h===null)if(g===null)if(o.stateNode===null){e:{g=o.type,h=o.memoizedProps,j=j.ownerDocument||j;t:switch(g){case"title":M=j.getElementsByTagName("title")[0],(!M||M[te]||M[Bt]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=j.createElement(g),j.head.insertBefore(M,j.querySelector("head > title"))),si(M,g,h),M[Bt]=o,We(M),g=M;break e;case"link":var ae=E4("link","href",j).get(g+(h.href||""));if(ae){for(var ge=0;ge<ae.length;ge++)if(M=ae[ge],M.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&M.getAttribute("rel")===(h.rel==null?null:h.rel)&&M.getAttribute("title")===(h.title==null?null:h.title)&&M.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){ae.splice(ge,1);break t}}M=j.createElement(g),si(M,g,h),j.head.appendChild(M);break;case"meta":if(ae=E4("meta","content",j).get(g+(h.content||""))){for(ge=0;ge<ae.length;ge++)if(M=ae[ge],M.getAttribute("content")===(h.content==null?null:""+h.content)&&M.getAttribute("name")===(h.name==null?null:h.name)&&M.getAttribute("property")===(h.property==null?null:h.property)&&M.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&M.getAttribute("charset")===(h.charSet==null?null:h.charSet)){ae.splice(ge,1);break t}}M=j.createElement(g),si(M,g,h),j.head.appendChild(M);break;default:throw Error(n(468,g))}M[Bt]=o,We(M),g=M}o.stateNode=g}else A4(j,o.type,o.stateNode);else o.stateNode=j4(j,g,o.memoizedProps);else M!==g?(M===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):M.count--,g===null?A4(j,o.type,o.stateNode):j4(j,g,o.memoizedProps)):g===null&&o.stateNode!==null&&I2(o,o.memoizedProps,h.memoizedProps)}break;case 27:bo(c,o),wo(o),g&512&&(hs||h===null||mc(h,h.return)),h!==null&&g&4&&I2(o,o.memoizedProps,h.memoizedProps);break;case 5:if(bo(c,o),wo(o),g&512&&(hs||h===null||mc(h,h.return)),o.flags&32){j=o.stateNode;try{hi(j,"")}catch(xt){ya(o,o.return,xt)}}g&4&&o.stateNode!=null&&(j=o.memoizedProps,I2(o,j,h!==null?h.memoizedProps:j)),g&1024&&(U2=!0);break;case 6:if(bo(c,o),wo(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,h=o.stateNode;try{h.nodeValue=g}catch(xt){ya(o,o.return,xt)}}break;case 3:if(wg=null,j=Tl,Tl=vg(c.containerInfo),bo(c,o),Tl=j,wo(o),g&4&&h!==null&&h.memoizedState.isDehydrated)try{ep(c.containerInfo)}catch(xt){ya(o,o.return,xt)}U2&&(U2=!1,M5(o));break;case 4:g=Tl,Tl=vg(o.stateNode.containerInfo),bo(c,o),wo(o),Tl=g;break;case 12:bo(c,o),wo(o);break;case 13:bo(c,o),wo(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(X2=Qe()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,H2(o,g)));break;case 22:j=o.memoizedState!==null;var Re=h!==null&&h.memoizedState!==null,dt=uu,Ct=hs;if(uu=dt||j,hs=Ct||Re,bo(c,o),hs=Ct,uu=dt,wo(o),g&8192)e:for(c=o.stateNode,c._visibility=j?c._visibility&-2:c._visibility|1,j&&(h===null||Re||uu||hs||tf(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){Re=h=c;try{if(M=Re.stateNode,j)ae=M.style,typeof ae.setProperty=="function"?ae.setProperty("display","none","important"):ae.display="none";else{ge=Re.stateNode;var It=Re.memoizedProps.style,mt=It!=null&&It.hasOwnProperty("display")?It.display:null;ge.style.display=mt==null||typeof mt=="boolean"?"":(""+mt).trim()}}catch(xt){ya(Re,Re.return,xt)}}}else if(c.tag===6){if(h===null){Re=c;try{Re.stateNode.nodeValue=j?"":Re.memoizedProps}catch(xt){ya(Re,Re.return,xt)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,H2(o,h))));break;case 19:bo(c,o),wo(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,H2(o,g)));break;case 30:break;case 21:break;default:bo(c,o),wo(o)}}function wo(o){var c=o.flags;if(c&2){try{for(var h,g=o.return;g!==null;){if(j5(g)){h=g;break}g=g.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var j=h.stateNode,M=$2(o);ig(o,M,j);break;case 5:var ae=h.stateNode;h.flags&32&&(hi(ae,""),h.flags&=-33);var ge=$2(o);ig(o,ge,ae);break;case 3:case 4:var Re=h.stateNode.containerInfo,dt=$2(o);z2(o,dt,Re);break;default:throw Error(n(161))}}catch(Ct){ya(o,o.return,Ct)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function M5(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;M5(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Ju(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)C5(o,c.alternate,c),c=c.sibling}function tf(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Ku(4,c,c.return),tf(c);break;case 1:mc(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&T5(c,c.return,h),tf(c);break;case 27:q0(c.stateNode);case 26:case 5:mc(c,c.return),tf(c);break;case 22:c.memoizedState===null&&tf(c);break;case 30:tf(c);break;default:tf(c)}o=o.sibling}}function Qu(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,j=o,M=c,ae=M.flags;switch(M.tag){case 0:case 11:case 15:Qu(j,M,h),F0(4,M);break;case 1:if(Qu(j,M,h),g=M,j=g.stateNode,typeof j.componentDidMount=="function")try{j.componentDidMount()}catch(dt){ya(g,g.return,dt)}if(g=M,j=g.updateQueue,j!==null){var ge=g.stateNode;try{var Re=j.shared.hiddenCallbacks;if(Re!==null)for(j.shared.hiddenCallbacks=null,j=0;j<Re.length;j++)Dn(Re[j],ge)}catch(dt){ya(g,g.return,dt)}}h&&ae&64&&_5(M),P0(M,M.return);break;case 27:E5(M);case 26:case 5:Qu(j,M,h),h&&g===null&&ae&4&&k5(M),P0(M,M.return);break;case 12:Qu(j,M,h);break;case 13:Qu(j,M,h),h&&ae&4&&L5(j,M);break;case 22:M.memoizedState===null&&Qu(j,M,h),P0(M,M.return);break;case 30:break;default:Qu(j,M,h)}c=c.sibling}}function W2(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&Ud(h))}function V2(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ud(o))}function gc(o,c,h,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)F5(o,c,h,g),c=c.sibling}function F5(o,c,h,g){var j=c.flags;switch(c.tag){case 0:case 11:case 15:gc(o,c,h,g),j&2048&&F0(9,c);break;case 1:gc(o,c,h,g);break;case 3:gc(o,c,h,g),j&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Ud(o)));break;case 12:if(j&2048){gc(o,c,h,g),o=c.stateNode;try{var M=c.memoizedProps,ae=M.id,ge=M.onPostCommit;typeof ge=="function"&&ge(ae,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Re){ya(c,c.return,Re)}}else gc(o,c,h,g);break;case 13:gc(o,c,h,g);break;case 23:break;case 22:M=c.stateNode,ae=c.alternate,c.memoizedState!==null?M._visibility&2?gc(o,c,h,g):B0(o,c):M._visibility&2?gc(o,c,h,g):(M._visibility|=2,ih(o,c,h,g,(c.subtreeFlags&10256)!==0)),j&2048&&W2(ae,c);break;case 24:gc(o,c,h,g),j&2048&&V2(c.alternate,c);break;default:gc(o,c,h,g)}}function ih(o,c,h,g,j){for(j=j&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var M=o,ae=c,ge=h,Re=g,dt=ae.flags;switch(ae.tag){case 0:case 11:case 15:ih(M,ae,ge,Re,j),F0(8,ae);break;case 23:break;case 22:var Ct=ae.stateNode;ae.memoizedState!==null?Ct._visibility&2?ih(M,ae,ge,Re,j):B0(M,ae):(Ct._visibility|=2,ih(M,ae,ge,Re,j)),j&&dt&2048&&W2(ae.alternate,ae);break;case 24:ih(M,ae,ge,Re,j),j&&dt&2048&&V2(ae.alternate,ae);break;default:ih(M,ae,ge,Re,j)}c=c.sibling}}function B0(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,g=c,j=g.flags;switch(g.tag){case 22:B0(h,g),j&2048&&W2(g.alternate,g);break;case 24:B0(h,g),j&2048&&V2(g.alternate,g);break;default:B0(h,g)}c=c.sibling}}var I0=8192;function oh(o){if(o.subtreeFlags&I0)for(o=o.child;o!==null;)P5(o),o=o.sibling}function P5(o){switch(o.tag){case 26:oh(o),o.flags&I0&&o.memoizedState!==null&&XE(Tl,o.memoizedState,o.memoizedProps);break;case 5:oh(o);break;case 3:case 4:var c=Tl;Tl=vg(o.stateNode.containerInfo),oh(o),Tl=c;break;case 22:o.memoizedState===null&&(c=o.alternate,c!==null&&c.memoizedState!==null?(c=I0,I0=16777216,oh(o),I0=c):oh(o));break;default:oh(o)}}function B5(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function $0(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Vs=g,$5(g,o)}B5(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)I5(o),o=o.sibling}function I5(o){switch(o.tag){case 0:case 11:case 15:$0(o),o.flags&2048&&Ku(9,o,o.return);break;case 3:$0(o);break;case 12:$0(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,og(o)):$0(o);break;default:$0(o)}}function og(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];Vs=g,$5(g,o)}B5(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Ku(8,c,c.return),og(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,og(c));break;default:og(c)}o=o.sibling}}function $5(o,c){for(;Vs!==null;){var h=Vs;switch(h.tag){case 0:case 11:case 15:Ku(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Ud(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Vs=g;else e:for(h=o;Vs!==null;){g=Vs;var j=g.sibling,M=g.return;if(D5(g),g===h){Vs=null;break e}if(j!==null){j.return=M,Vs=j;break e}Vs=M}}}var dE={getCacheForType:function(o){var c=us(ds),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h}},fE=typeof WeakMap=="function"?WeakMap:Map,Qn=0,Ta=null,_n=null,Ln=0,Zn=0,No=null,Zu=!1,lh=!1,q2=!1,fu=0,Qa=0,ed=0,rf=0,Y2=0,Vo=0,ch=0,z0=null,ao=null,G2=!1,X2=0,lg=1/0,cg=null,td=null,ai=0,rd=null,uh=null,dh=0,K2=0,J2=null,z5=null,U0=0,Q2=null;function So(){if((Qn&2)!==0&&Ln!==0)return Ln&-Ln;if(W.T!==null){var o=ru;return o!==0?o:sy()}return ar()}function U5(){Vo===0&&(Vo=(Ln&536870912)===0||Rn?_e():536870912);var o=Wo.current;return o!==null&&(o.flags|=32),Vo}function _o(o,c,h){(o===Ta&&(Zn===2||Zn===9)||o.cancelPendingCommit!==null)&&(fh(o,0),nd(o,Ln,Vo,!1)),Ce(o,h),((Qn&2)===0||o!==Ta)&&(o===Ta&&((Qn&2)===0&&(rf|=h),Qa===4&&nd(o,Ln,Vo,!1)),xc(o))}function H5(o,c,h){if((Qn&6)!==0)throw Error(n(327));var g=!h&&(c&124)===0&&(c&o.expiredLanes)===0||tn(o,c),j=g?mE(o,c):ty(o,c,!0),M=g;do{if(j===0){lh&&!g&&nd(o,c,0,!1);break}else{if(h=o.current.alternate,M&&!hE(h)){j=ty(o,c,!1),M=!1;continue}if(j===2){if(M=c,o.errorRecoveryDisabledLanes&M)var ae=0;else ae=o.pendingLanes&-536870913,ae=ae!==0?ae:ae&536870912?536870912:0;if(ae!==0){c=ae;e:{var ge=o;j=z0;var Re=ge.current.memoizedState.isDehydrated;if(Re&&(fh(ge,ae).flags|=256),ae=ty(ge,ae,!1),ae!==2){if(q2&&!Re){ge.errorRecoveryDisabledLanes|=M,rf|=M,j=4;break e}M=ao,ao=j,M!==null&&(ao===null?ao=M:ao.push.apply(ao,M))}j=ae}if(M=!1,j!==2)continue}}if(j===1){fh(o,0),nd(o,c,0,!0);break}e:{switch(g=o,M=j,M){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:nd(g,c,Vo,!Zu);break e;case 2:ao=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(j=X2+300-Qe(),10<j)){if(nd(g,c,Vo,!Zu),Fr(g,0,!0)!==0)break e;g.timeoutHandle=y4(W5.bind(null,g,h,ao,cg,G2,c,Vo,rf,ch,Zu,M,2,-0,0),j);break e}W5(g,h,ao,cg,G2,c,Vo,rf,ch,Zu,M,0,-0,0)}}break}while(!0);xc(o)}function W5(o,c,h,g,j,M,ae,ge,Re,dt,Ct,It,mt,xt){if(o.timeoutHandle=-1,It=c.subtreeFlags,(It&8192||(It&16785408)===16785408)&&(X0={stylesheets:null,count:0,unsuspend:GE},P5(c),It=KE(),It!==null)){o.cancelPendingCommit=It(J5.bind(null,o,c,M,h,g,j,ae,ge,Re,Ct,1,mt,xt)),nd(o,M,ae,!dt);return}J5(o,c,M,h,g,j,ae,ge,Re)}function hE(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var j=h[g],M=j.getSnapshot;j=j.value;try{if(!Yt(M(),j))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function nd(o,c,h,g){c&=~Y2,c&=~rf,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var j=c;0<j;){var M=31-Zt(j),ae=1<<M;g[M]=-1,j&=~ae}h!==0&&qe(o,h,c)}function ug(){return(Qn&6)===0?(H0(0),!1):!0}function Z2(){if(_n!==null){if(Zn===0)var o=_n.return;else o=_n,vl=_s=null,Qf(o),ah=null,L0=0,o=_n;for(;o!==null;)S5(o.alternate,o),o=o.return;_n=null}}function fh(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,DE(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),Z2(),Ta=o,_n=h=Bo(o.current,null),Ln=c,Zn=0,No=null,Zu=!1,lh=tn(o,c),q2=!1,ch=Vo=Y2=rf=ed=Qa=0,ao=z0=null,G2=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var j=31-Zt(g),M=1<<j;c|=o[j],g&=~M}return fu=c,Zi(),h}function V5(o,c){Br=null,W.H=Jm,c===he||c===me?(c=Xe(),Zn=3):c===pe?(c=Xe(),Zn=4):Zn=c===c5?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,No=c,_n===null&&(Qa=1,rg(o,xn(c,o.current)))}function q5(){var o=W.H;return W.H=Jm,o===null?Jm:o}function Y5(){var o=W.A;return W.A=dE,o}function ey(){Qa=4,Zu||(Ln&4194048)!==Ln&&Wo.current!==null||(lh=!0),(ed&134217727)===0&&(rf&134217727)===0||Ta===null||nd(Ta,Ln,Vo,!1)}function ty(o,c,h){var g=Qn;Qn|=2;var j=q5(),M=Y5();(Ta!==o||Ln!==c)&&(cg=null,fh(o,c)),c=!1;var ae=Qa;e:do try{if(Zn!==0&&_n!==null){var ge=_n,Re=No;switch(Zn){case 8:Z2(),ae=6;break e;case 3:case 2:case 9:case 6:Wo.current===null&&(c=!0);var dt=Zn;if(Zn=0,No=null,hh(o,ge,Re,dt),h&&lh){ae=0;break e}break;default:dt=Zn,Zn=0,No=null,hh(o,ge,Re,dt)}}pE(),ae=Qa;break}catch(Ct){V5(o,Ct)}while(!0);return c&&o.shellSuspendCounter++,vl=_s=null,Qn=g,W.H=j,W.A=M,_n===null&&(Ta=null,Ln=0,Zi()),ae}function pE(){for(;_n!==null;)G5(_n)}function mE(o,c){var h=Qn;Qn|=2;var g=q5(),j=Y5();Ta!==o||Ln!==c?(cg=null,lg=Qe()+500,fh(o,c)):lh=tn(o,c);e:do try{if(Zn!==0&&_n!==null){c=_n;var M=No;t:switch(Zn){case 1:Zn=0,No=null,hh(o,c,M,1);break;case 2:case 9:if(ke(M)){Zn=0,No=null,X5(c);break}c=function(){Zn!==2&&Zn!==9||Ta!==o||(Zn=7),xc(o)},M.then(c,c);break e;case 3:Zn=7;break e;case 4:Zn=5;break e;case 7:ke(M)?(Zn=0,No=null,X5(c)):(Zn=0,No=null,hh(o,c,M,7));break;case 5:var ae=null;switch(_n.tag){case 26:ae=_n.memoizedState;case 5:case 27:var ge=_n;if(!ae||C4(ae)){Zn=0,No=null;var Re=ge.sibling;if(Re!==null)_n=Re;else{var dt=ge.return;dt!==null?(_n=dt,dg(dt)):_n=null}break t}}Zn=0,No=null,hh(o,c,M,5);break;case 6:Zn=0,No=null,hh(o,c,M,6);break;case 8:Z2(),Qa=6;break e;default:throw Error(n(462))}}gE();break}catch(Ct){V5(o,Ct)}while(!0);return vl=_s=null,W.H=g,W.A=j,Qn=h,_n!==null?0:(Ta=null,Ln=0,Zi(),Qa)}function gE(){for(;_n!==null&&!Pe();)G5(_n)}function G5(o){var c=w5(o.alternate,o,fu);o.memoizedProps=o.pendingProps,c===null?dg(o):_n=c}function X5(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=m5(h,c,c.pendingProps,c.type,void 0,Ln);break;case 11:c=m5(h,c,c.pendingProps,c.type.render,c.ref,Ln);break;case 5:Qf(c);default:S5(h,c),c=_n=Bd(c,fu),c=w5(h,c,fu)}o.memoizedProps=o.pendingProps,c===null?dg(o):_n=c}function hh(o,c,h,g){vl=_s=null,Qf(c),ah=null,L0=0;var j=c.return;try{if(sE(o,j,c,h,Ln)){Qa=1,rg(o,xn(h,o.current)),_n=null;return}}catch(M){if(j!==null)throw _n=j,M;Qa=1,rg(o,xn(h,o.current)),_n=null;return}c.flags&32768?(Rn||g===1?o=!0:lh||(Ln&536870912)!==0?o=!1:(Zu=o=!0,(g===2||g===9||g===3||g===6)&&(g=Wo.current,g!==null&&g.tag===13&&(g.flags|=16384))),K5(c,o)):dg(c)}function dg(o){var c=o;do{if((c.flags&32768)!==0){K5(c,Zu);return}o=c.return;var h=oE(c.alternate,c,fu);if(h!==null){_n=h;return}if(c=c.sibling,c!==null){_n=c;return}_n=c=o}while(c!==null);Qa===0&&(Qa=5)}function K5(o,c){do{var h=lE(o.alternate,o);if(h!==null){h.flags&=32767,_n=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){_n=o;return}_n=o=h}while(o!==null);Qa=6,_n=null}function J5(o,c,h,g,j,M,ae,ge,Re){o.cancelPendingCommit=null;do fg();while(ai!==0);if((Qn&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(M=c.lanes|c.childLanes,M|=$a,Le(o,h,M,ae,ge,Re),o===Ta&&(_n=Ta=null,Ln=0),uh=c,rd=o,dh=h,K2=M,J2=j,z5=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,bE(ze,function(){return r4(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=W.T,W.T=null,j=J.p,J.p=2,ae=Qn,Qn|=4;try{cE(o,c,h)}finally{Qn=ae,J.p=j,W.T=g}}ai=1,Q5(),Z5(),e4()}}function Q5(){if(ai===1){ai=0;var o=rd,c=uh,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=W.T,W.T=null;var g=J.p;J.p=2;var j=Qn;Qn|=4;try{R5(c,o);var M=hy,ae=hn(o.containerInfo),ge=M.focusedElem,Re=M.selectionRange;if(ae!==ge&&ge&&ge.ownerDocument&&xa(ge.ownerDocument.documentElement,ge)){if(Re!==null&&Sr(ge)){var dt=Re.start,Ct=Re.end;if(Ct===void 0&&(Ct=dt),"selectionStart"in ge)ge.selectionStart=dt,ge.selectionEnd=Math.min(Ct,ge.value.length);else{var It=ge.ownerDocument||document,mt=It&&It.defaultView||window;if(mt.getSelection){var xt=mt.getSelection(),Kr=ge.textContent.length,Vr=Math.min(Re.start,Kr),ua=Re.end===void 0?Vr:Math.min(Re.end,Kr);!xt.extend&&Vr>ua&&(ae=ua,ua=Vr,Vr=ae);var Ke=Or(ge,Vr),Ve=Or(ge,ua);if(Ke&&Ve&&(xt.rangeCount!==1||xt.anchorNode!==Ke.node||xt.anchorOffset!==Ke.offset||xt.focusNode!==Ve.node||xt.focusOffset!==Ve.offset)){var ot=It.createRange();ot.setStart(Ke.node,Ke.offset),xt.removeAllRanges(),Vr>ua?(xt.addRange(ot),xt.extend(Ve.node,Ve.offset)):(ot.setEnd(Ve.node,Ve.offset),xt.addRange(ot))}}}}for(It=[],xt=ge;xt=xt.parentNode;)xt.nodeType===1&&It.push({element:xt,left:xt.scrollLeft,top:xt.scrollTop});for(typeof ge.focus=="function"&&ge.focus(),ge=0;ge<It.length;ge++){var Rt=It[ge];Rt.element.scrollLeft=Rt.left,Rt.element.scrollTop=Rt.top}}_g=!!fy,hy=fy=null}finally{Qn=j,J.p=g,W.T=h}}o.current=c,ai=2}}function Z5(){if(ai===2){ai=0;var o=rd,c=uh,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=W.T,W.T=null;var g=J.p;J.p=2;var j=Qn;Qn|=4;try{C5(o,c.alternate,c)}finally{Qn=j,J.p=g,W.T=h}}ai=3}}function e4(){if(ai===4||ai===3){ai=0,xe();var o=rd,c=uh,h=dh,g=z5;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ai=5:(ai=0,uh=rd=null,t4(o,o.pendingLanes));var j=o.pendingLanes;if(j===0&&(td=null),er(h),c=c.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Wt,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=W.T,j=J.p,J.p=2,W.T=null;try{for(var M=o.onRecoverableError,ae=0;ae<g.length;ae++){var ge=g[ae];M(ge.value,{componentStack:ge.stack})}}finally{W.T=c,J.p=j}}(dh&3)!==0&&fg(),xc(o),j=o.pendingLanes,(h&4194090)!==0&&(j&42)!==0?o===Q2?U0++:(U0=0,Q2=o):U0=0,H0(0)}}function t4(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Ud(c)))}function fg(o){return Q5(),Z5(),e4(),r4()}function r4(){if(ai!==5)return!1;var o=rd,c=K2;K2=0;var h=er(dh),g=W.T,j=J.p;try{J.p=32>h?32:h,W.T=null,h=J2,J2=null;var M=rd,ae=dh;if(ai=0,uh=rd=null,dh=0,(Qn&6)!==0)throw Error(n(331));var ge=Qn;if(Qn|=4,I5(M.current),F5(M,M.current,ae,h),Qn=ge,H0(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Wt,M)}catch{}return!0}finally{J.p=j,W.T=g,t4(o,c)}}function n4(o,c,h){c=xn(h,c),c=C2(o.stateNode,c,2),o=Ft(o,c,2),o!==null&&(Ce(o,2),xc(o))}function ya(o,c,h){if(o.tag===3)n4(o,o,h);else for(;c!==null;){if(c.tag===3){n4(c,o,h);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(td===null||!td.has(g))){o=xn(h,o),h=o5(2),g=Ft(c,h,2),g!==null&&(l5(h,g,c,o),Ce(g,2),xc(g));break}}c=c.return}}function ry(o,c,h){var g=o.pingCache;if(g===null){g=o.pingCache=new fE;var j=new Set;g.set(c,j)}else j=g.get(c),j===void 0&&(j=new Set,g.set(c,j));j.has(h)||(q2=!0,j.add(h),o=xE.bind(null,o,c,h),c.then(o,o))}function xE(o,c,h){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,Ta===o&&(Ln&h)===h&&(Qa===4||Qa===3&&(Ln&62914560)===Ln&&300>Qe()-X2?(Qn&2)===0&&fh(o,0):Y2|=h,ch===Ln&&(ch=0)),xc(o)}function a4(o,c){c===0&&(c=Be()),o=hl(o,c),o!==null&&(Ce(o,c),xc(o))}function yE(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),a4(o,h)}function vE(o,c){var h=0;switch(o.tag){case 13:var g=o.stateNode,j=o.memoizedState;j!==null&&(h=j.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),a4(o,h)}function bE(o,c){return lt(o,c)}var hg=null,ph=null,ny=!1,pg=!1,ay=!1,nf=0;function xc(o){o!==ph&&o.next===null&&(ph===null?hg=ph=o:ph=ph.next=o),pg=!0,ny||(ny=!0,NE())}function H0(o,c){if(!ay&&pg){ay=!0;do for(var h=!1,g=hg;g!==null;){if(o!==0){var j=g.pendingLanes;if(j===0)var M=0;else{var ae=g.suspendedLanes,ge=g.pingedLanes;M=(1<<31-Zt(42|o)+1)-1,M&=j&~(ae&~ge),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(h=!0,l4(g,M))}else M=Ln,M=Fr(g,g===Ta?M:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(M&3)===0||tn(g,M)||(h=!0,l4(g,M));g=g.next}while(h);ay=!1}}function wE(){s4()}function s4(){pg=ny=!1;var o=0;nf!==0&&(CE()&&(o=nf),nf=0);for(var c=Qe(),h=null,g=hg;g!==null;){var j=g.next,M=i4(g,c);M===0?(g.next=null,h===null?hg=j:h.next=j,j===null&&(ph=h)):(h=g,(o!==0||(M&3)!==0)&&(pg=!0)),g=j}H0(o)}function i4(o,c){for(var h=o.suspendedLanes,g=o.pingedLanes,j=o.expirationTimes,M=o.pendingLanes&-62914561;0<M;){var ae=31-Zt(M),ge=1<<ae,Re=j[ae];Re===-1?((ge&h)===0||(ge&g)!==0)&&(j[ae]=et(ge,c)):Re<=c&&(o.expiredLanes|=ge),M&=~ge}if(c=Ta,h=Ln,h=Fr(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,h===0||o===c&&(Zn===2||Zn===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&ft(g),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||tn(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(g!==null&&ft(g),er(h)){case 2:case 8:h=Ze;break;case 32:h=ze;break;case 268435456:h=vt;break;default:h=ze}return g=o4.bind(null,o),h=lt(h,g),o.callbackPriority=c,o.callbackNode=h,c}return g!==null&&g!==null&&ft(g),o.callbackPriority=2,o.callbackNode=null,2}function o4(o,c){if(ai!==0&&ai!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(fg()&&o.callbackNode!==h)return null;var g=Ln;return g=Fr(o,o===Ta?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(H5(o,g,c),i4(o,Qe()),o.callbackNode!=null&&o.callbackNode===h?o4.bind(null,o):null)}function l4(o,c){if(fg())return null;H5(o,c,!0)}function NE(){OE(function(){(Qn&6)!==0?lt(pt,wE):s4()})}function sy(){return nf===0&&(nf=_e()),nf}function c4(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Gi(""+o)}function u4(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function SE(o,c,h,g,j){if(c==="submit"&&h&&h.stateNode===j){var M=c4((j[Kt]||null).action),ae=g.submitter;ae&&(c=(c=ae[Kt]||null)?c4(c.formAction):ae.getAttribute("formAction"),c!==null&&(M=c,ae=null));var ge=new mo("action","action",null,g,j);o.push({event:ge,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(nf!==0){var Re=ae?u4(j,ae):new FormData(j);Ho(h,{pending:!0,data:Re,method:j.method,action:M},null,Re)}}else typeof M=="function"&&(ge.preventDefault(),Re=ae?u4(j,ae):new FormData(j),Ho(h,{pending:!0,data:Re,method:j.method,action:M},M,Re))},currentTarget:j}]})}}for(var iy=0;iy<Kc.length;iy++){var oy=Kc[iy],_E=oy.toLowerCase(),TE=oy[0].toUpperCase()+oy.slice(1);La(_E,"on"+TE)}La(Pu,"onAnimationEnd"),La(ec,"onAnimationIteration"),La(tc,"onAnimationStart"),La("dblclick","onDoubleClick"),La("focusin","onFocus"),La("focusout","onBlur"),La(rc,"onTransitionRun"),La(Xc,"onTransitionStart"),La(Bu,"onTransitionCancel"),La(nc,"onTransitionEnd"),Gt("onMouseEnter",["mouseout","mouseover"]),Gt("onMouseLeave",["mouseout","mouseover"]),Gt("onPointerEnter",["pointerout","pointerover"]),Gt("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var W0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(W0));function d4(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var g=o[h],j=g.event;g=g.listeners;e:{var M=void 0;if(c)for(var ae=g.length-1;0<=ae;ae--){var ge=g[ae],Re=ge.instance,dt=ge.currentTarget;if(ge=ge.listener,Re!==M&&j.isPropagationStopped())break e;M=ge,j.currentTarget=dt;try{M(j)}catch(Ct){tg(Ct)}j.currentTarget=null,M=Re}else for(ae=0;ae<g.length;ae++){if(ge=g[ae],Re=ge.instance,dt=ge.currentTarget,ge=ge.listener,Re!==M&&j.isPropagationStopped())break e;M=ge,j.currentTarget=dt;try{M(j)}catch(Ct){tg(Ct)}j.currentTarget=null,M=Re}}}}function Tn(o,c){var h=c[Ur];h===void 0&&(h=c[Ur]=new Set);var g=o+"__bubble";h.has(g)||(f4(c,o,2,!1),h.add(g))}function ly(o,c,h){var g=0;c&&(g|=4),f4(h,o,g,c)}var mg="_reactListening"+Math.random().toString(36).slice(2);function cy(o){if(!o[mg]){o[mg]=!0,nt.forEach(function(h){h!=="selectionchange"&&(kE.has(h)||ly(h,!1,o),ly(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[mg]||(c[mg]=!0,ly("selectionchange",!1,c))}}function f4(o,c,h,g){switch(F4(c)){case 2:var j=ZE;break;case 8:j=eA;break;default:j=Sy}h=j.bind(null,c,h,o),j=void 0,!Yl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(j=!0),g?j!==void 0?o.addEventListener(c,h,{capture:!0,passive:j}):o.addEventListener(c,h,!0):j!==void 0?o.addEventListener(c,h,{passive:j}):o.addEventListener(c,h,!1)}function uy(o,c,h,g,j){var M=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var ae=g.tag;if(ae===3||ae===4){var ge=g.stateNode.containerInfo;if(ge===j)break;if(ae===4)for(ae=g.return;ae!==null;){var Re=ae.tag;if((Re===3||Re===4)&&ae.stateNode.containerInfo===j)return;ae=ae.return}for(;ge!==null;){if(ae=ye(ge),ae===null)return;if(Re=ae.tag,Re===5||Re===6||Re===26||Re===27){g=M=ae;continue e}ge=ge.parentNode}}g=g.return}Wc(function(){var dt=M,Ct=on(h),It=[];e:{var mt=fl.get(o);if(mt!==void 0){var xt=mo,Kr=o;switch(o){case"keypress":if(Ya(h)===0)break e;case"keydown":case"keyup":xt=Zl;break;case"focusin":Kr="focus",xt=Ki;break;case"focusout":Kr="blur",xt=Ki;break;case"beforeblur":case"afterblur":xt=Ki;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xt=ei;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xt=xo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xt=zs;break;case Pu:case ec:case tc:xt=Mu;break;case nc:xt=ie;break;case"scroll":case"scrollend":xt=Vc;break;case"wheel":xt=Ie;break;case"copy":case"cut":case"paste":xt=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xt=Ga;break;case"toggle":case"beforetoggle":xt=Nt}var Vr=(c&4)!==0,ua=!Vr&&(o==="scroll"||o==="scrollend"),Ke=Vr?mt!==null?mt+"Capture":null:mt;Vr=[];for(var Ve=dt,ot;Ve!==null;){var Rt=Ve;if(ot=Rt.stateNode,Rt=Rt.tag,Rt!==5&&Rt!==26&&Rt!==27||ot===null||Ke===null||(Rt=ma(Ve,Ke),Rt!=null&&Vr.push(V0(Ve,Rt,ot))),ua)break;Ve=Ve.return}0<Vr.length&&(mt=new xt(mt,Kr,null,h,Ct),It.push({event:mt,listeners:Vr}))}}if((c&7)===0){e:{if(mt=o==="mouseover"||o==="pointerover",xt=o==="mouseout"||o==="pointerout",mt&&h!==Hc&&(Kr=h.relatedTarget||h.fromElement)&&(ye(Kr)||Kr[Ot]))break e;if((xt||mt)&&(mt=Ct.window===Ct?Ct:(mt=Ct.ownerDocument)?mt.defaultView||mt.parentWindow:window,xt?(Kr=h.relatedTarget||h.toElement,xt=dt,Kr=Kr?ye(Kr):null,Kr!==null&&(ua=s(Kr),Vr=Kr.tag,Kr!==ua||Vr!==5&&Vr!==27&&Vr!==6)&&(Kr=null)):(xt=null,Kr=dt),xt!==Kr)){if(Vr=ei,Rt="onMouseLeave",Ke="onMouseEnter",Ve="mouse",(o==="pointerout"||o==="pointerover")&&(Vr=Ga,Rt="onPointerLeave",Ke="onPointerEnter",Ve="pointer"),ua=xt==null?mt:Ge(xt),ot=Kr==null?mt:Ge(Kr),mt=new Vr(Rt,Ve+"leave",xt,h,Ct),mt.target=ua,mt.relatedTarget=ot,Rt=null,ye(Ct)===dt&&(Vr=new Vr(Ke,Ve+"enter",Kr,h,Ct),Vr.target=ot,Vr.relatedTarget=ua,Rt=Vr),ua=Rt,xt&&Kr)t:{for(Vr=xt,Ke=Kr,Ve=0,ot=Vr;ot;ot=mh(ot))Ve++;for(ot=0,Rt=Ke;Rt;Rt=mh(Rt))ot++;for(;0<Ve-ot;)Vr=mh(Vr),Ve--;for(;0<ot-Ve;)Ke=mh(Ke),ot--;for(;Ve--;){if(Vr===Ke||Ke!==null&&Vr===Ke.alternate)break t;Vr=mh(Vr),Ke=mh(Ke)}Vr=null}else Vr=null;xt!==null&&h4(It,mt,xt,Vr,!1),Kr!==null&&ua!==null&&h4(It,ua,Kr,Vr,!0)}}e:{if(mt=dt?Ge(dt):window,xt=mt.nodeName&&mt.nodeName.toLowerCase(),xt==="select"||xt==="input"&&mt.type==="file")var kr=Ji;else if(Un(mt))if(Fi)kr=yr;else{kr=Pi;var Sn=os}else xt=mt.nodeName,!xt||xt.toLowerCase()!=="input"||mt.type!=="checkbox"&&mt.type!=="radio"?dt&&Yi(dt.elementType)&&(kr=Ji):kr=Ht;if(kr&&(kr=kr(o,dt))){Mi(It,kr,h,Ct);break e}Sn&&Sn(o,mt,dt),o==="focusout"&&dt&&mt.type==="number"&&dt.memoizedProps.value!=null&&Da(mt,"number",mt.value)}switch(Sn=dt?Ge(dt):window,o){case"focusin":(Un(Sn)||Sn.contentEditable==="true")&&(Cr=Sn,un=dt,Sa=null);break;case"focusout":Sa=un=Cr=null;break;case"mousedown":ls=!0;break;case"contextmenu":case"mouseup":case"dragend":ls=!1,Yn(It,h,Ct);break;case"selectionchange":if(En)break;case"keydown":case"keyup":Yn(It,h,Ct)}var Rr;if(dr)e:{switch(o){case"compositionstart":var qr="onCompositionStart";break e;case"compositionend":qr="onCompositionEnd";break e;case"compositionupdate":qr="onCompositionUpdate";break e}qr=void 0}else Tr?Me(o,h)&&(qr="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(qr="onCompositionStart");qr&&(Oe&&h.locale!=="ko"&&(Tr||qr!=="onCompositionStart"?qr==="onCompositionEnd"&&Tr&&(Rr=po()):(mi=Ct,Gl="value"in mi?mi.value:mi.textContent,Tr=!0)),Sn=gg(dt,qr),0<Sn.length&&(qr=new Xl(qr,o,null,h,Ct),It.push({event:qr,listeners:Sn}),Rr?qr.data=Rr:(Rr=Ut(h),Rr!==null&&(qr.data=Rr)))),(Rr=ue?Xr(o,h):Hr(o,h))&&(qr=gg(dt,"onBeforeInput"),0<qr.length&&(Sn=new Xl("onBeforeInput","beforeinput",null,h,Ct),It.push({event:Sn,listeners:qr}),Sn.data=Rr)),SE(It,o,dt,h,Ct)}d4(It,c)})}function V0(o,c,h){return{instance:o,listener:c,currentTarget:h}}function gg(o,c){for(var h=c+"Capture",g=[];o!==null;){var j=o,M=j.stateNode;if(j=j.tag,j!==5&&j!==26&&j!==27||M===null||(j=ma(o,h),j!=null&&g.unshift(V0(o,j,M)),j=ma(o,c),j!=null&&g.push(V0(o,j,M))),o.tag===3)return g;o=o.return}return[]}function mh(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function h4(o,c,h,g,j){for(var M=c._reactName,ae=[];h!==null&&h!==g;){var ge=h,Re=ge.alternate,dt=ge.stateNode;if(ge=ge.tag,Re!==null&&Re===g)break;ge!==5&&ge!==26&&ge!==27||dt===null||(Re=dt,j?(dt=ma(h,M),dt!=null&&ae.unshift(V0(h,dt,Re))):j||(dt=ma(h,M),dt!=null&&ae.push(V0(h,dt,Re)))),h=h.return}ae.length!==0&&o.push({event:c,listeners:ae})}var jE=/\r\n?/g,EE=/\u0000|\uFFFD/g;function p4(o){return(typeof o=="string"?o:""+o).replace(jE,`
`).replace(EE,"")}function m4(o,c){return c=p4(c),p4(o)===c}function xg(){}function ca(o,c,h,g,j,M){switch(h){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||hi(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&hi(o,""+g);break;case"className":wn(o,"class",g);break;case"tabIndex":wn(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(o,h,g);break;case"style":Bs(o,g,M);break;case"data":if(c!=="object"){wn(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Gi(""+g),o.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(h==="formAction"?(c!=="input"&&ca(o,c,"name",j.name,j,null),ca(o,c,"formEncType",j.formEncType,j,null),ca(o,c,"formMethod",j.formMethod,j,null),ca(o,c,"formTarget",j.formTarget,j,null)):(ca(o,c,"encType",j.encType,j,null),ca(o,c,"method",j.method,j,null),ca(o,c,"target",j.target,j,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(h);break}g=Gi(""+g),o.setAttribute(h,g);break;case"onClick":g!=null&&(o.onclick=xg);break;case"onScroll":g!=null&&Tn("scroll",o);break;case"onScrollEnd":g!=null&&Tn("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(j.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}h=Gi(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""+g):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":g===!0?o.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(h,g):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(h,g):o.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(h):o.setAttribute(h,g);break;case"popover":Tn("beforetoggle",o),Tn("toggle",o),Zr(o,"popover",g);break;case"xlinkActuate":cn(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":cn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":cn(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":cn(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":cn(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":cn(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":cn(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":cn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":cn(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Zr(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=pi.get(h)||h,Zr(o,h,g))}}function dy(o,c,h,g,j,M){switch(h){case"style":Bs(o,g,M);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(h=g.__html,h!=null){if(j.children!=null)throw Error(n(60));o.innerHTML=h}}break;case"children":typeof g=="string"?hi(o,g):(typeof g=="number"||typeof g=="bigint")&&hi(o,""+g);break;case"onScroll":g!=null&&Tn("scroll",o);break;case"onScrollEnd":g!=null&&Tn("scrollend",o);break;case"onClick":g!=null&&(o.onclick=xg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!st.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(j=h.endsWith("Capture"),c=h.slice(2,j?h.length-7:void 0),M=o[Kt]||null,M=M!=null?M[h]:null,typeof M=="function"&&o.removeEventListener(c,M,j),typeof g=="function")){typeof M!="function"&&M!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,g,j);break e}h in o?o[h]=g:g===!0?o.setAttribute(h,""):Zr(o,h,g)}}}function si(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tn("error",o),Tn("load",o);var g=!1,j=!1,M;for(M in h)if(h.hasOwnProperty(M)){var ae=h[M];if(ae!=null)switch(M){case"src":g=!0;break;case"srcSet":j=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:ca(o,c,M,ae,h,null)}}j&&ca(o,c,"srcSet",h.srcSet,h,null),g&&ca(o,c,"src",h.src,h,null);return;case"input":Tn("invalid",o);var ge=M=ae=j=null,Re=null,dt=null;for(g in h)if(h.hasOwnProperty(g)){var Ct=h[g];if(Ct!=null)switch(g){case"name":j=Ct;break;case"type":ae=Ct;break;case"checked":Re=Ct;break;case"defaultChecked":dt=Ct;break;case"value":M=Ct;break;case"defaultValue":ge=Ct;break;case"children":case"dangerouslySetInnerHTML":if(Ct!=null)throw Error(n(137,c));break;default:ca(o,c,g,Ct,h,null)}}rn(o,M,ge,Re,dt,ae,j,!1),nn(o);return;case"select":Tn("invalid",o),g=ae=M=null;for(j in h)if(h.hasOwnProperty(j)&&(ge=h[j],ge!=null))switch(j){case"value":M=ge;break;case"defaultValue":ae=ge;break;case"multiple":g=ge;default:ca(o,c,j,ge,h,null)}c=M,h=ae,o.multiple=!!g,c!=null?qa(o,!!g,c,!1):h!=null&&qa(o,!!g,h,!0);return;case"textarea":Tn("invalid",o),M=j=g=null;for(ae in h)if(h.hasOwnProperty(ae)&&(ge=h[ae],ge!=null))switch(ae){case"value":g=ge;break;case"defaultValue":j=ge;break;case"children":M=ge;break;case"dangerouslySetInnerHTML":if(ge!=null)throw Error(n(91));break;default:ca(o,c,ae,ge,h,null)}Qs(o,g,j,M),nn(o);return;case"option":for(Re in h)if(h.hasOwnProperty(Re)&&(g=h[Re],g!=null))switch(Re){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ca(o,c,Re,g,h,null)}return;case"dialog":Tn("beforetoggle",o),Tn("toggle",o),Tn("cancel",o),Tn("close",o);break;case"iframe":case"object":Tn("load",o);break;case"video":case"audio":for(g=0;g<W0.length;g++)Tn(W0[g],o);break;case"image":Tn("error",o),Tn("load",o);break;case"details":Tn("toggle",o);break;case"embed":case"source":case"link":Tn("error",o),Tn("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(dt in h)if(h.hasOwnProperty(dt)&&(g=h[dt],g!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:ca(o,c,dt,g,h,null)}return;default:if(Yi(c)){for(Ct in h)h.hasOwnProperty(Ct)&&(g=h[Ct],g!==void 0&&dy(o,c,Ct,g,h,void 0));return}}for(ge in h)h.hasOwnProperty(ge)&&(g=h[ge],g!=null&&ca(o,c,ge,g,h,null))}function AE(o,c,h,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var j=null,M=null,ae=null,ge=null,Re=null,dt=null,Ct=null;for(xt in h){var It=h[xt];if(h.hasOwnProperty(xt)&&It!=null)switch(xt){case"checked":break;case"value":break;case"defaultValue":Re=It;default:g.hasOwnProperty(xt)||ca(o,c,xt,null,g,It)}}for(var mt in g){var xt=g[mt];if(It=h[mt],g.hasOwnProperty(mt)&&(xt!=null||It!=null))switch(mt){case"type":M=xt;break;case"name":j=xt;break;case"checked":dt=xt;break;case"defaultChecked":Ct=xt;break;case"value":ae=xt;break;case"defaultValue":ge=xt;break;case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(n(137,c));break;default:xt!==It&&ca(o,c,mt,xt,g,It)}}Js(o,ae,ge,Re,dt,Ct,M,j);return;case"select":xt=ae=ge=mt=null;for(M in h)if(Re=h[M],h.hasOwnProperty(M)&&Re!=null)switch(M){case"value":break;case"multiple":xt=Re;default:g.hasOwnProperty(M)||ca(o,c,M,null,g,Re)}for(j in g)if(M=g[j],Re=h[j],g.hasOwnProperty(j)&&(M!=null||Re!=null))switch(j){case"value":mt=M;break;case"defaultValue":ge=M;break;case"multiple":ae=M;default:M!==Re&&ca(o,c,j,M,g,Re)}c=ge,h=ae,g=xt,mt!=null?qa(o,!!h,mt,!1):!!g!=!!h&&(c!=null?qa(o,!!h,c,!0):qa(o,!!h,h?[]:"",!1));return;case"textarea":xt=mt=null;for(ge in h)if(j=h[ge],h.hasOwnProperty(ge)&&j!=null&&!g.hasOwnProperty(ge))switch(ge){case"value":break;case"children":break;default:ca(o,c,ge,null,g,j)}for(ae in g)if(j=g[ae],M=h[ae],g.hasOwnProperty(ae)&&(j!=null||M!=null))switch(ae){case"value":mt=j;break;case"defaultValue":xt=j;break;case"children":break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(n(91));break;default:j!==M&&ca(o,c,ae,j,g,M)}ho(o,mt,xt);return;case"option":for(var Kr in h)if(mt=h[Kr],h.hasOwnProperty(Kr)&&mt!=null&&!g.hasOwnProperty(Kr))switch(Kr){case"selected":o.selected=!1;break;default:ca(o,c,Kr,null,g,mt)}for(Re in g)if(mt=g[Re],xt=h[Re],g.hasOwnProperty(Re)&&mt!==xt&&(mt!=null||xt!=null))switch(Re){case"selected":o.selected=mt&&typeof mt!="function"&&typeof mt!="symbol";break;default:ca(o,c,Re,mt,g,xt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Vr in h)mt=h[Vr],h.hasOwnProperty(Vr)&&mt!=null&&!g.hasOwnProperty(Vr)&&ca(o,c,Vr,null,g,mt);for(dt in g)if(mt=g[dt],xt=h[dt],g.hasOwnProperty(dt)&&mt!==xt&&(mt!=null||xt!=null))switch(dt){case"children":case"dangerouslySetInnerHTML":if(mt!=null)throw Error(n(137,c));break;default:ca(o,c,dt,mt,g,xt)}return;default:if(Yi(c)){for(var ua in h)mt=h[ua],h.hasOwnProperty(ua)&&mt!==void 0&&!g.hasOwnProperty(ua)&&dy(o,c,ua,void 0,g,mt);for(Ct in g)mt=g[Ct],xt=h[Ct],!g.hasOwnProperty(Ct)||mt===xt||mt===void 0&&xt===void 0||dy(o,c,Ct,mt,g,xt);return}}for(var Ke in h)mt=h[Ke],h.hasOwnProperty(Ke)&&mt!=null&&!g.hasOwnProperty(Ke)&&ca(o,c,Ke,null,g,mt);for(It in g)mt=g[It],xt=h[It],!g.hasOwnProperty(It)||mt===xt||mt==null&&xt==null||ca(o,c,It,mt,g,xt)}var fy=null,hy=null;function yg(o){return o.nodeType===9?o:o.ownerDocument}function g4(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x4(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function py(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var my=null;function CE(){var o=window.event;return o&&o.type==="popstate"?o===my?!1:(my=o,!0):(my=null,!1)}var y4=typeof setTimeout=="function"?setTimeout:void 0,DE=typeof clearTimeout=="function"?clearTimeout:void 0,v4=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof v4<"u"?function(o){return v4.resolve(null).then(o).catch(LE)}:y4;function LE(o){setTimeout(function(){throw o})}function ad(o){return o==="head"}function b4(o,c){var h=c,g=0,j=0;do{var M=h.nextSibling;if(o.removeChild(h),M&&M.nodeType===8)if(h=M.data,h==="/$"){if(0<g&&8>g){h=g;var ae=o.ownerDocument;if(h&1&&q0(ae.documentElement),h&2&&q0(ae.body),h&4)for(h=ae.head,q0(h),ae=h.firstChild;ae;){var ge=ae.nextSibling,Re=ae.nodeName;ae[te]||Re==="SCRIPT"||Re==="STYLE"||Re==="LINK"&&ae.rel.toLowerCase()==="stylesheet"||h.removeChild(ae),ae=ge}}if(j===0){o.removeChild(M),ep(c);return}j--}else h==="$"||h==="$?"||h==="$!"?j++:g=h.charCodeAt(0)-48;else g=0;h=M}while(h);ep(c)}function gy(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":gy(h),de(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function RE(o,c,h,g){for(;o.nodeType===1;){var j=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[te])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(M=o.getAttribute("rel"),M==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(M!==j.rel||o.getAttribute("href")!==(j.href==null||j.href===""?null:j.href)||o.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin)||o.getAttribute("title")!==(j.title==null?null:j.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(M=o.getAttribute("src"),(M!==(j.src==null?null:j.src)||o.getAttribute("type")!==(j.type==null?null:j.type)||o.getAttribute("crossorigin")!==(j.crossOrigin==null?null:j.crossOrigin))&&M&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var M=j.name==null?null:""+j.name;if(j.type==="hidden"&&o.getAttribute("name")===M)return o}else return o;if(o=kl(o.nextSibling),o===null)break}return null}function ME(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=kl(o.nextSibling),o===null))return null;return o}function xy(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function FE(o,c){var h=o.ownerDocument;if(o.data!=="$?"||h.readyState==="complete")c();else{var g=function(){c(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function kl(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return o}var yy=null;function w4(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return o;c--}else h==="/$"&&c++}o=o.previousSibling}return null}function N4(o,c,h){switch(c=yg(h),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function q0(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);de(o)}var qo=new Map,S4=new Set;function vg(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var hu=J.d;J.d={f:PE,r:BE,D:IE,C:$E,L:zE,m:UE,X:WE,S:HE,M:VE};function PE(){var o=hu.f(),c=ug();return o||c}function BE(o){var c=Ne(o);c!==null&&c.tag===5&&c.type==="form"?Qd(c):hu.r(o)}var gh=typeof document>"u"?null:document;function _4(o,c,h){var g=gh;if(g&&typeof c=="string"&&c){var j=Nn(c);j='link[rel="'+o+'"][href="'+j+'"]',typeof h=="string"&&(j+='[crossorigin="'+h+'"]'),S4.has(j)||(S4.add(j),o={rel:o,crossOrigin:h,href:c},g.querySelector(j)===null&&(c=g.createElement("link"),si(c,"link",o),We(c),g.head.appendChild(c)))}}function IE(o){hu.D(o),_4("dns-prefetch",o,null)}function $E(o,c){hu.C(o,c),_4("preconnect",o,c)}function zE(o,c,h){hu.L(o,c,h);var g=gh;if(g&&o&&c){var j='link[rel="preload"][as="'+Nn(c)+'"]';c==="image"&&h&&h.imageSrcSet?(j+='[imagesrcset="'+Nn(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(j+='[imagesizes="'+Nn(h.imageSizes)+'"]')):j+='[href="'+Nn(o)+'"]';var M=j;switch(c){case"style":M=xh(o);break;case"script":M=yh(o)}qo.has(M)||(o=p({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),qo.set(M,o),g.querySelector(j)!==null||c==="style"&&g.querySelector(Y0(M))||c==="script"&&g.querySelector(G0(M))||(c=g.createElement("link"),si(c,"link",o),We(c),g.head.appendChild(c)))}}function UE(o,c){hu.m(o,c);var h=gh;if(h&&o){var g=c&&typeof c.as=="string"?c.as:"script",j='link[rel="modulepreload"][as="'+Nn(g)+'"][href="'+Nn(o)+'"]',M=j;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=yh(o)}if(!qo.has(M)&&(o=p({rel:"modulepreload",href:o},c),qo.set(M,o),h.querySelector(j)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(G0(M)))return}g=h.createElement("link"),si(g,"link",o),We(g),h.head.appendChild(g)}}}function HE(o,c,h){hu.S(o,c,h);var g=gh;if(g&&o){var j=ut(g).hoistableStyles,M=xh(o);c=c||"default";var ae=j.get(M);if(!ae){var ge={loading:0,preload:null};if(ae=g.querySelector(Y0(M)))ge.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":c},h),(h=qo.get(M))&&vy(o,h);var Re=ae=g.createElement("link");We(Re),si(Re,"link",o),Re._p=new Promise(function(dt,Ct){Re.onload=dt,Re.onerror=Ct}),Re.addEventListener("load",function(){ge.loading|=1}),Re.addEventListener("error",function(){ge.loading|=2}),ge.loading|=4,bg(ae,c,g)}ae={type:"stylesheet",instance:ae,count:1,state:ge},j.set(M,ae)}}}function WE(o,c){hu.X(o,c);var h=gh;if(h&&o){var g=ut(h).hoistableScripts,j=yh(o),M=g.get(j);M||(M=h.querySelector(G0(j)),M||(o=p({src:o,async:!0},c),(c=qo.get(j))&&by(o,c),M=h.createElement("script"),We(M),si(M,"link",o),h.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},g.set(j,M))}}function VE(o,c){hu.M(o,c);var h=gh;if(h&&o){var g=ut(h).hoistableScripts,j=yh(o),M=g.get(j);M||(M=h.querySelector(G0(j)),M||(o=p({src:o,async:!0,type:"module"},c),(c=qo.get(j))&&by(o,c),M=h.createElement("script"),We(M),si(M,"link",o),h.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},g.set(j,M))}}function T4(o,c,h,g){var j=(j=se.current)?vg(j):null;if(!j)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=xh(h.href),h=ut(j).hoistableStyles,g=h.get(c),g||(g={type:"style",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=xh(h.href);var M=ut(j).hoistableStyles,ae=M.get(o);if(ae||(j=j.ownerDocument||j,ae={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(o,ae),(M=j.querySelector(Y0(o)))&&!M._p&&(ae.instance=M,ae.state.loading=5),qo.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},qo.set(o,h),M||qE(j,o,h,ae.state))),c&&g===null)throw Error(n(528,""));return ae}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=yh(h),h=ut(j).hoistableScripts,g=h.get(c),g||(g={type:"script",instance:null,count:0,state:null},h.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function xh(o){return'href="'+Nn(o)+'"'}function Y0(o){return'link[rel="stylesheet"]['+o+"]"}function k4(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function qE(o,c,h,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),si(c,"link",h),We(c),o.head.appendChild(c))}function yh(o){return'[src="'+Nn(o)+'"]'}function G0(o){return"script[async]"+o}function j4(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+Nn(h.href)+'"]');if(g)return c.instance=g,We(g),g;var j=p({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),We(g),si(g,"style",j),bg(g,h.precedence,o),c.instance=g;case"stylesheet":j=xh(h.href);var M=o.querySelector(Y0(j));if(M)return c.state.loading|=4,c.instance=M,We(M),M;g=k4(h),(j=qo.get(j))&&vy(g,j),M=(o.ownerDocument||o).createElement("link"),We(M);var ae=M;return ae._p=new Promise(function(ge,Re){ae.onload=ge,ae.onerror=Re}),si(M,"link",g),c.state.loading|=4,bg(M,h.precedence,o),c.instance=M;case"script":return M=yh(h.src),(j=o.querySelector(G0(M)))?(c.instance=j,We(j),j):(g=h,(j=qo.get(M))&&(g=p({},h),by(g,j)),o=o.ownerDocument||o,j=o.createElement("script"),We(j),si(j,"link",g),o.head.appendChild(j),c.instance=j);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,bg(g,h.precedence,o));return c.instance}function bg(o,c,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),j=g.length?g[g.length-1]:null,M=j,ae=0;ae<g.length;ae++){var ge=g[ae];if(ge.dataset.precedence===c)M=ge;else if(M!==j)break}M?M.parentNode.insertBefore(o,M.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function vy(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function by(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var wg=null;function E4(o,c,h){if(wg===null){var g=new Map,j=wg=new Map;j.set(h,g)}else j=wg,g=j.get(h),g||(g=new Map,j.set(h,g));if(g.has(o))return g;for(g.set(o,null),h=h.getElementsByTagName(o),j=0;j<h.length;j++){var M=h[j];if(!(M[te]||M[Bt]||o==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var ae=M.getAttribute(c)||"";ae=o+ae;var ge=g.get(ae);ge?ge.push(M):g.set(ae,[M])}}return g}function A4(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function YE(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function C4(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var X0=null;function GE(){}function XE(o,c,h){if(X0===null)throw Error(n(475));var g=X0;if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var j=xh(h.href),M=o.querySelector(Y0(j));if(M){o=M._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(g.count++,g=Ng.bind(g),o.then(g,g)),c.state.loading|=4,c.instance=M,We(M);return}M=o.ownerDocument||o,h=k4(h),(j=qo.get(j))&&vy(h,j),M=M.createElement("link"),We(M);var ae=M;ae._p=new Promise(function(ge,Re){ae.onload=ge,ae.onerror=Re}),si(M,"link",h),c.instance=M}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(c,o),(o=c.state.preload)&&(c.state.loading&3)===0&&(g.count++,c=Ng.bind(g),o.addEventListener("load",c),o.addEventListener("error",c))}}function KE(){if(X0===null)throw Error(n(475));var o=X0;return o.stylesheets&&o.count===0&&wy(o,o.stylesheets),0<o.count?function(c){var h=setTimeout(function(){if(o.stylesheets&&wy(o,o.stylesheets),o.unsuspend){var g=o.unsuspend;o.unsuspend=null,g()}},6e4);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(h)}}:null}function Ng(){if(this.count--,this.count===0){if(this.stylesheets)wy(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Sg=null;function wy(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Sg=new Map,c.forEach(JE,o),Sg=null,Ng.call(o))}function JE(o,c){if(!(c.state.loading&4)){var h=Sg.get(o);if(h)var g=h.get(null);else{h=new Map,Sg.set(o,h);for(var j=o.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<j.length;M++){var ae=j[M];(ae.nodeName==="LINK"||ae.getAttribute("media")!=="not all")&&(h.set(ae.dataset.precedence,ae),g=ae)}g&&h.set(null,g)}j=c.instance,ae=j.getAttribute("data-precedence"),M=h.get(ae)||g,M===g&&h.set(null,j),h.set(ae,j),this.count++,g=Ng.bind(this),j.addEventListener("load",g),j.addEventListener("error",g),M?M.parentNode.insertBefore(j,M.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(j,o.firstChild)),c.state.loading|=4}}var K0={$$typeof:_,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function QE(o,c,h,g,j,M,ae,ge){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ve(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ve(0),this.hiddenUpdates=ve(null),this.identifierPrefix=g,this.onUncaughtError=j,this.onCaughtError=M,this.onRecoverableError=ae,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ge,this.incompleteTransitions=new Map}function D4(o,c,h,g,j,M,ae,ge,Re,dt,Ct,It){return o=new QE(o,c,h,ae,ge,Re,dt,It),c=1,M===!0&&(c|=24),M=Hs(3,null,null,c),o.current=M,M.stateNode=o,c=v0(),c.refCount++,o.pooledCache=c,c.refCount++,M.memoizedState={element:g,isDehydrated:h,cache:c},He(M),o}function O4(o){return o?(o=Ss,o):Ss}function L4(o,c,h,g,j,M){j=O4(j),g.context===null?g.context=j:g.pendingContext=j,g=Et(c),g.payload={element:h},M=M===void 0?null:M,M!==null&&(g.callback=M),h=Ft(o,g,c),h!==null&&(_o(h,o,c),Lt(h,o,c))}function R4(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function Ny(o,c){R4(o,c),(o=o.alternate)&&R4(o,c)}function M4(o){if(o.tag===13){var c=hl(o,67108864);c!==null&&_o(c,o,67108864),Ny(o,67108864)}}var _g=!0;function ZE(o,c,h,g){var j=W.T;W.T=null;var M=J.p;try{J.p=2,Sy(o,c,h,g)}finally{J.p=M,W.T=j}}function eA(o,c,h,g){var j=W.T;W.T=null;var M=J.p;try{J.p=8,Sy(o,c,h,g)}finally{J.p=M,W.T=j}}function Sy(o,c,h,g){if(_g){var j=_y(g);if(j===null)uy(o,c,g,Tg,h),P4(o,g);else if(rA(j,o,c,h,g))g.stopPropagation();else if(P4(o,g),c&4&&-1<tA.indexOf(o)){for(;j!==null;){var M=Ne(j);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var ae=Er(M.pendingLanes);if(ae!==0){var ge=M;for(ge.pendingLanes|=2,ge.entangledLanes|=2;ae;){var Re=1<<31-Zt(ae);ge.entanglements[1]|=Re,ae&=~Re}xc(M),(Qn&6)===0&&(lg=Qe()+500,H0(0))}}break;case 13:ge=hl(M,2),ge!==null&&_o(ge,M,2),ug(),Ny(M,2)}if(M=_y(g),M===null&&uy(o,c,g,Tg,h),M===j)break;j=M}j!==null&&g.stopPropagation()}else uy(o,c,g,null,h)}}function _y(o){return o=on(o),Ty(o)}var Tg=null;function Ty(o){if(Tg=null,o=ye(o),o!==null){var c=s(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=l(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return Tg=o,null}function F4(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case pt:return 2;case Ze:return 8;case ze:case Ae:return 32;case vt:return 268435456;default:return 32}default:return 32}}var ky=!1,sd=null,id=null,od=null,J0=new Map,Q0=new Map,ld=[],tA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P4(o,c){switch(o){case"focusin":case"focusout":sd=null;break;case"dragenter":case"dragleave":id=null;break;case"mouseover":case"mouseout":od=null;break;case"pointerover":case"pointerout":J0.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Q0.delete(c.pointerId)}}function Z0(o,c,h,g,j,M){return o===null||o.nativeEvent!==M?(o={blockedOn:c,domEventName:h,eventSystemFlags:g,nativeEvent:M,targetContainers:[j]},c!==null&&(c=Ne(c),c!==null&&M4(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,j!==null&&c.indexOf(j)===-1&&c.push(j),o)}function rA(o,c,h,g,j){switch(c){case"focusin":return sd=Z0(sd,o,c,h,g,j),!0;case"dragenter":return id=Z0(id,o,c,h,g,j),!0;case"mouseover":return od=Z0(od,o,c,h,g,j),!0;case"pointerover":var M=j.pointerId;return J0.set(M,Z0(J0.get(M)||null,o,c,h,g,j)),!0;case"gotpointercapture":return M=j.pointerId,Q0.set(M,Z0(Q0.get(M)||null,o,c,h,g,j)),!0}return!1}function B4(o){var c=ye(o.target);if(c!==null){var h=s(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){o.blockedOn=c,St(o.priority,function(){if(h.tag===13){var g=So();g=Dt(g);var j=hl(h,g);j!==null&&_o(j,h,g),Ny(h,g)}});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function kg(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=_y(o.nativeEvent);if(h===null){h=o.nativeEvent;var g=new h.constructor(h.type,h);Hc=g,h.target.dispatchEvent(g),Hc=null}else return c=Ne(h),c!==null&&M4(c),o.blockedOn=h,!1;c.shift()}return!0}function I4(o,c,h){kg(o)&&h.delete(c)}function nA(){ky=!1,sd!==null&&kg(sd)&&(sd=null),id!==null&&kg(id)&&(id=null),od!==null&&kg(od)&&(od=null),J0.forEach(I4),Q0.forEach(I4)}function jg(o,c){o.blockedOn===c&&(o.blockedOn=null,ky||(ky=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nA)))}var Eg=null;function $4(o){Eg!==o&&(Eg=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Eg===o&&(Eg=null);for(var c=0;c<o.length;c+=3){var h=o[c],g=o[c+1],j=o[c+2];if(typeof g!="function"){if(Ty(g||h)===null)continue;break}var M=Ne(h);M!==null&&(o.splice(c,3),c-=3,Ho(M,{pending:!0,data:j,method:h.method,action:g},g,j))}}))}function ep(o){function c(Re){return jg(Re,o)}sd!==null&&jg(sd,o),id!==null&&jg(id,o),od!==null&&jg(od,o),J0.forEach(c),Q0.forEach(c);for(var h=0;h<ld.length;h++){var g=ld[h];g.blockedOn===o&&(g.blockedOn=null)}for(;0<ld.length&&(h=ld[0],h.blockedOn===null);)B4(h),h.blockedOn===null&&ld.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var j=h[g],M=h[g+1],ae=j[Kt]||null;if(typeof M=="function")ae||$4(h);else if(ae){var ge=null;if(M&&M.hasAttribute("formAction")){if(j=M,ae=M[Kt]||null)ge=ae.formAction;else if(Ty(j)!==null)continue}else ge=ae.action;typeof ge=="function"?h[g+1]=ge:(h.splice(g,3),g-=3),$4(h)}}}function jy(o){this._internalRoot=o}Ag.prototype.render=jy.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var h=c.current,g=So();L4(h,g,o,c,null,null)},Ag.prototype.unmount=jy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;L4(o.current,2,null,o,null,null),ug(),c[Ot]=null}};function Ag(o){this._internalRoot=o}Ag.prototype.unstable_scheduleHydration=function(o){if(o){var c=ar();o={blockedOn:null,target:o,priority:c};for(var h=0;h<ld.length&&c!==0&&c<ld[h].priority;h++);ld.splice(h,0,o),h===0&&B4(o)}};var z4=r.version;if(z4!=="19.1.0")throw Error(n(527,z4,"19.1.0"));J.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=d(c),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var aA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cg.isDisabled&&Cg.supportsFiber)try{Wt=Cg.inject(aA),Qt=Cg}catch{}}return rp.createRoot=function(o,c){if(!a(o))throw Error(n(299));var h=!1,g="",j=n5,M=a5,ae=s5,ge=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(j=c.onUncaughtError),c.onCaughtError!==void 0&&(M=c.onCaughtError),c.onRecoverableError!==void 0&&(ae=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(ge=c.unstable_transitionCallbacks)),c=D4(o,1,!1,null,null,h,g,j,M,ae,ge,null),o[Ot]=c.current,cy(o),new jy(c)},rp.hydrateRoot=function(o,c,h){if(!a(o))throw Error(n(299));var g=!1,j="",M=n5,ae=a5,ge=s5,Re=null,dt=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onUncaughtError!==void 0&&(M=h.onUncaughtError),h.onCaughtError!==void 0&&(ae=h.onCaughtError),h.onRecoverableError!==void 0&&(ge=h.onRecoverableError),h.unstable_transitionCallbacks!==void 0&&(Re=h.unstable_transitionCallbacks),h.formState!==void 0&&(dt=h.formState)),c=D4(o,1,!0,c,h??null,g,j,M,ae,ge,Re,dt),c.context=O4(null),h=c.current,g=So(),g=Dt(g),j=Et(g),j.callback=null,Ft(h,j,g),h=g,c.current.lanes=h,Ce(c,h),xc(c),o[Ot]=c.current,cy(o),new Ag(c)},rp.version="19.1.0",rp}var J4;function yA(){if(J4)return Cy.exports;J4=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}return e(),Cy.exports=xA(),Cy.exports}var vA=yA(),np={},Q4;function bA(){if(Q4)return np;Q4=1,Object.defineProperty(np,"__esModule",{value:!0}),np.parse=l,np.serialize=f;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,s=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function l(y,m){const w=new s,v=y.length;if(v<2)return w;const N=(m==null?void 0:m.decode)||p;let S=0;do{const k=y.indexOf("=",S);if(k===-1)break;const _=y.indexOf(";",S),A=_===-1?v:_;if(k>A){S=y.lastIndexOf(";",k-1)+1;continue}const R=u(y,S,k),V=d(y,k,R),P=y.slice(R,V);if(w[P]===void 0){let I=u(y,k+1,A),B=d(y,A,I);const O=N(y.slice(I,B));w[P]=O}S=A+1}while(S<v);return w}function u(y,m,w){do{const v=y.charCodeAt(m);if(v!==32&&v!==9)return m}while(++m<w);return w}function d(y,m,w){for(;m>w;){const v=y.charCodeAt(--m);if(v!==32&&v!==9)return m+1}return w}function f(y,m,w){const v=(w==null?void 0:w.encode)||encodeURIComponent;if(!e.test(y))throw new TypeError(`argument name is invalid: ${y}`);const N=v(m);if(!r.test(N))throw new TypeError(`argument val is invalid: ${m}`);let S=y+"="+N;if(!w)return S;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);S+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);S+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);S+="; Path="+w.path}if(w.expires){if(!x(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);S+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(S+="; HttpOnly"),w.secure&&(S+="; Secure"),w.partitioned&&(S+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":S+="; Priority=Low";break;case"medium":S+="; Priority=Medium";break;case"high":S+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":S+="; SameSite=Strict";break;case"lax":S+="; SameSite=Lax";break;case"none":S+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return S}function p(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function x(y){return a.call(y)==="[object Date]"}return np}bA();var Z4="popstate";function wA(e={}){function r(n,a){let{pathname:s,search:l,hash:u}=n.location;return jv("",{pathname:s,search:l,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:Hp(a)}return SA(r,t,null,e)}function Ba(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}function Pl(e,r){if(!e){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function NA(){return Math.random().toString(36).substring(2,10)}function e3(e,r){return{usr:e.state,key:e.key,idx:r}}function jv(e,r,t=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof r=="string"?a0(r):r,state:t,key:r&&r.key||n||NA()}}function Hp({pathname:e="/",search:r="",hash:t=""}){return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),t&&t!=="#"&&(e+=t.charAt(0)==="#"?t:"#"+t),e}function a0(e){let r={};if(e){let t=e.indexOf("#");t>=0&&(r.hash=e.substring(t),e=e.substring(0,t));let n=e.indexOf("?");n>=0&&(r.search=e.substring(n),e=e.substring(0,n)),e&&(r.pathname=e)}return r}function SA(e,r,t,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,l=a.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function x(){u="POP";let N=p(),S=N==null?null:N-f;f=N,d&&d({action:u,location:v.location,delta:S})}function y(N,S){u="PUSH";let k=jv(v.location,N,S);f=p()+1;let _=e3(k,f),A=v.createHref(k);try{l.pushState(_,"",A)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(A)}s&&d&&d({action:u,location:v.location,delta:1})}function m(N,S){u="REPLACE";let k=jv(v.location,N,S);f=p();let _=e3(k,f),A=v.createHref(k);l.replaceState(_,"",A),s&&d&&d({action:u,location:v.location,delta:0})}function w(N){return _A(N)}let v={get action(){return u},get location(){return e(a,l)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Z4,x),d=N,()=>{a.removeEventListener(Z4,x),d=null}},createHref(N){return r(a,N)},createURL:w,encodeLocation(N){let S=w(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:y,replace:m,go(N){return l.go(N)}};return v}function _A(e,r=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ba(t,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Hp(e);return n=n.replace(/ $/,"%20"),!r&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function x_(e,r,t="/"){return TA(e,r,t,!1)}function TA(e,r,t,n){let a=typeof r=="string"?a0(r):r,s=ju(a.pathname||"/",t);if(s==null)return null;let l=y_(e);kA(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=PA(s);u=MA(l[d],f,n)}return u}function y_(e,r=[],t=[],n=""){let a=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(Ba(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let f=yu([n,d.relativePath]),p=t.concat(d);s.children&&s.children.length>0&&(Ba(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),y_(s.children,r,p,f)),!(s.path==null&&!s.index)&&r.push({path:f,score:LA(f,s.index),routesMeta:p})};return e.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))a(s,l);else for(let d of v_(s.path))a(s,l,d)}),r}function v_(e){let r=e.split("/");if(r.length===0)return[];let[t,...n]=r,a=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let l=v_(n.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),a&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function kA(e){e.sort((r,t)=>r.score!==t.score?t.score-r.score:RA(r.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var jA=/^:[\w-]+$/,EA=3,AA=2,CA=1,DA=10,OA=-2,t3=e=>e==="*";function LA(e,r){let t=e.split("/"),n=t.length;return t.some(t3)&&(n+=OA),r&&(n+=AA),t.filter(a=>!t3(a)).reduce((a,s)=>a+(jA.test(s)?EA:s===""?CA:DA),n)}function RA(e,r){return e.length===r.length&&e.slice(0,-1).every((n,a)=>n===r[a])?e[e.length-1]-r[r.length-1]:0}function MA(e,r,t=!1){let{routesMeta:n}=e,a={},s="/",l=[];for(let u=0;u<n.length;++u){let d=n[u],f=u===n.length-1,p=s==="/"?r:r.slice(s.length)||"/",x=z1({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),y=d.route;if(!x&&f&&t&&!n[n.length-1].route.index&&(x=z1({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!x)return null;Object.assign(a,x.params),l.push({params:a,pathname:yu([s,x.pathname]),pathnameBase:zA(yu([s,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(s=yu([s,x.pathnameBase]))}return l}function z1(e,r){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[t,n]=FA(e.path,e.caseSensitive,e.end),a=r.match(t);if(!a)return null;let s=a[0],l=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((f,{paramName:p,isOptional:x},y)=>{if(p==="*"){let w=u[y]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const m=u[y];return x&&!m?f[p]=void 0:f[p]=(m||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:e}}function FA(e,r=!1,t=!0){Pl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(n.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),n]}function PA(e){try{return e.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Pl(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),e}}function ju(e,r){if(r==="/")return e;if(!e.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,n=e.charAt(t);return n&&n!=="/"?null:e.slice(t)||"/"}function BA(e,r="/"){let{pathname:t,search:n="",hash:a=""}=typeof e=="string"?a0(e):e;return{pathname:t?t.startsWith("/")?t:IA(t,r):r,search:UA(n),hash:HA(a)}}function IA(e,r){let t=r.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Ry(e,r,t,n){return`Cannot include a '${e}' character in a manually specified \`to.${r}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $A(e){return e.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function Tb(e){let r=$A(e);return r.map((t,n)=>n===r.length-1?t.pathname:t.pathnameBase)}function kb(e,r,t,n=!1){let a;typeof e=="string"?a=a0(e):(a={...e},Ba(!a.pathname||!a.pathname.includes("?"),Ry("?","pathname","search",a)),Ba(!a.pathname||!a.pathname.includes("#"),Ry("#","pathname","hash",a)),Ba(!a.search||!a.search.includes("#"),Ry("#","search","hash",a)));let s=e===""||a.pathname==="",l=s?"/":a.pathname,u;if(l==null)u=t;else{let x=r.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),x-=1;a.pathname=y.join("/")}u=x>=0?r[x]:"/"}let d=BA(a,u),f=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var yu=e=>e.join("/").replace(/\/\/+/g,"/"),zA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),UA=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HA=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WA(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var b_=["POST","PUT","PATCH","DELETE"];new Set(b_);var VA=["GET",...b_];new Set(VA);var s0=T.createContext(null);s0.displayName="DataRouter";var Ax=T.createContext(null);Ax.displayName="DataRouterState";var w_=T.createContext({isTransitioning:!1});w_.displayName="ViewTransition";var qA=T.createContext(new Map);qA.displayName="Fetchers";var YA=T.createContext(null);YA.displayName="Await";var Il=T.createContext(null);Il.displayName="Navigation";var um=T.createContext(null);um.displayName="Location";var $c=T.createContext({outlet:null,matches:[],isDataRoute:!1});$c.displayName="Route";var jb=T.createContext(null);jb.displayName="RouteError";function GA(e,{relative:r}={}){Ba(i0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=T.useContext(Il),{hash:a,pathname:s,search:l}=dm(e,{relative:r}),u=s;return t!=="/"&&(u=s==="/"?t:yu([t,s])),n.createHref({pathname:u,search:l,hash:a})}function i0(){return T.useContext(um)!=null}function $l(){return Ba(i0(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(um).location}var N_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function S_(e){T.useContext(Il).static||T.useLayoutEffect(e)}function zl(){let{isDataRoute:e}=T.useContext($c);return e?oC():XA()}function XA(){Ba(i0(),"useNavigate() may be used only in the context of a <Router> component.");let e=T.useContext(s0),{basename:r,navigator:t}=T.useContext(Il),{matches:n}=T.useContext($c),{pathname:a}=$l(),s=JSON.stringify(Tb(n)),l=T.useRef(!1);return S_(()=>{l.current=!0}),T.useCallback((d,f={})=>{if(Pl(l.current,N_),!l.current)return;if(typeof d=="number"){t.go(d);return}let p=kb(d,JSON.parse(s),a,f.relative==="path");e==null&&r!=="/"&&(p.pathname=p.pathname==="/"?r:yu([r,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[r,t,s,a,e])}T.createContext(null);function dm(e,{relative:r}={}){let{matches:t}=T.useContext($c),{pathname:n}=$l(),a=JSON.stringify(Tb(t));return T.useMemo(()=>kb(e,JSON.parse(a),n,r==="path"),[e,a,n,r])}function KA(e,r){return __(e,r)}function __(e,r,t,n){var S;Ba(i0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=T.useContext(Il),{matches:s}=T.useContext($c),l=s[s.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let k=p&&p.path||"";T_(d,!p||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=$l(),y;if(r){let k=typeof r=="string"?a0(r):r;Ba(f==="/"||((S=k.pathname)==null?void 0:S.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${k.pathname}" was given in the \`location\` prop.`),y=k}else y=x;let m=y.pathname||"/",w=m;if(f!=="/"){let k=f.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(k.length).join("/")}let v=x_(e,{pathname:w});Pl(p||v!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Pl(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=tC(v&&v.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:yu([f,a.encodeLocation?a.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?f:yu([f,a.encodeLocation?a.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,t,n);return r&&N?T.createElement(um.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},N):N}function JA(){let e=iC(),r=WA(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),t=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=T.createElement(T.Fragment,null,T.createElement("p",null,"💿 Hey developer 👋"),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},r),t?T.createElement("pre",{style:a},t):null,l)}var QA=T.createElement(JA,null),ZA=class extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement($c.Provider,{value:this.props.routeContext},T.createElement(jb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eC({routeContext:e,match:r,children:t}){let n=T.useContext(s0);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement($c.Provider,{value:e},t)}function tC(e,r=[],t=null,n=null){if(e==null){if(!t)return null;if(t.errors)e=t.matches;else if(r.length===0&&!t.initialized&&t.matches.length>0)e=t.matches;else return null}let a=e,s=t==null?void 0:t.errors;if(s!=null){let d=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Ba(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(t)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:x}=t,y=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,p)=>{let x,y=!1,m=null,w=null;t&&(x=s&&f.route.id?s[f.route.id]:void 0,m=f.route.errorElement||QA,l&&(u<0&&p===0?(T_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,w=null):u===p&&(y=!0,w=f.route.hydrateFallbackElement||null)));let v=r.concat(a.slice(0,p+1)),N=()=>{let S;return x?S=m:y?S=w:f.route.Component?S=T.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=d,T.createElement(eC,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:t!=null},children:S})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(ZA,{location:t.location,revalidation:t.revalidation,component:m,error:x,children:N(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):N()},null)}function Eb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rC(e){let r=T.useContext(s0);return Ba(r,Eb(e)),r}function nC(e){let r=T.useContext(Ax);return Ba(r,Eb(e)),r}function aC(e){let r=T.useContext($c);return Ba(r,Eb(e)),r}function Ab(e){let r=aC(e),t=r.matches[r.matches.length-1];return Ba(t.route.id,`${e} can only be used on routes that contain a unique "id"`),t.route.id}function sC(){return Ab("useRouteId")}function iC(){var n;let e=T.useContext(jb),r=nC("useRouteError"),t=Ab("useRouteError");return e!==void 0?e:(n=r.errors)==null?void 0:n[t]}function oC(){let{router:e}=rC("useNavigate"),r=Ab("useNavigate"),t=T.useRef(!1);return S_(()=>{t.current=!0}),T.useCallback(async(a,s={})=>{Pl(t.current,N_),t.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:r,...s}))},[e,r])}var r3={};function T_(e,r,t){!r&&!r3[e]&&(r3[e]=!0,Pl(!1,t))}T.memo(lC);function lC({routes:e,future:r,state:t}){return __(e,void 0,t,r)}function k_({to:e,replace:r,state:t,relative:n}){Ba(i0(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext(Il);Pl(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext($c),{pathname:l}=$l(),u=zl(),d=kb(e,Tb(s),l,n==="path"),f=JSON.stringify(d);return T.useEffect(()=>{u(JSON.parse(f),{replace:r,state:t,relative:n})},[u,f,n,r,t]),null}function jr(e){Ba(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cC({basename:e="/",children:r=null,location:t,navigationType:n="POP",navigator:a,static:s=!1}){Ba(!i0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:l,navigator:a,static:s,future:{}}),[l,a,s]);typeof t=="string"&&(t=a0(t));let{pathname:d="/",search:f="",hash:p="",state:x=null,key:y="default"}=t,m=T.useMemo(()=>{let w=ju(d,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:x,key:y},navigationType:n}},[l,d,f,p,x,y,n]);return Pl(m!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:T.createElement(Il.Provider,{value:u},T.createElement(um.Provider,{children:r,value:m}))}function Sp({children:e,location:r}){return KA(Ev(e),r)}function Ev(e,r=[]){let t=[];return T.Children.forEach(e,(n,a)=>{if(!T.isValidElement(n))return;let s=[...r,a];if(n.type===T.Fragment){t.push.apply(t,Ev(n.props.children,s));return}Ba(n.type===jr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ba(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Ev(n.props.children,s)),t.push(l)}),t}var y1="get",v1="application/x-www-form-urlencoded";function Cx(e){return e!=null&&typeof e.tagName=="string"}function uC(e){return Cx(e)&&e.tagName.toLowerCase()==="button"}function dC(e){return Cx(e)&&e.tagName.toLowerCase()==="form"}function fC(e){return Cx(e)&&e.tagName.toLowerCase()==="input"}function hC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function pC(e,r){return e.button===0&&(!r||r==="_self")&&!hC(e)}var Dg=null;function mC(){if(Dg===null)try{new FormData(document.createElement("form"),0),Dg=!1}catch{Dg=!0}return Dg}var gC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function My(e){return e!=null&&!gC.has(e)?(Pl(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${v1}"`),null):e}function xC(e,r){let t,n,a,s,l;if(dC(e)){let u=e.getAttribute("action");n=u?ju(u,r):null,t=e.getAttribute("method")||y1,a=My(e.getAttribute("enctype"))||v1,s=new FormData(e)}else if(uC(e)||fC(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||u.getAttribute("action");if(n=d?ju(d,r):null,t=e.getAttribute("formmethod")||u.getAttribute("method")||y1,a=My(e.getAttribute("formenctype"))||My(u.getAttribute("enctype"))||v1,s=new FormData(u,e),!mC()){let{name:f,type:p,value:x}=e;if(p==="image"){let y=f?`${f}.`:"";s.append(`${y}x`,"0"),s.append(`${y}y`,"0")}else f&&s.append(f,x)}}else{if(Cx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=y1,n=null,a=v1,l=e}return s&&a==="text/plain"&&(l=s,s=void 0),{action:n,method:t.toLowerCase(),encType:a,formData:s,body:l}}function Cb(e,r){if(e===!1||e===null||typeof e>"u")throw new Error(r)}async function yC(e,r){if(e.id in r)return r[e.id];try{let t=await import(e.module);return r[e.id]=t,t}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vC(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function bC(e,r,t){let n=await Promise.all(e.map(async a=>{let s=r.routes[a.route.id];if(s){let l=await yC(s,t);return l.links?l.links():[]}return[]}));return _C(n.flat(1).filter(vC).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function n3(e,r,t,n,a,s){let l=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,u=(d,f)=>{var p;return t[f].pathname!==d.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return s==="assets"?r.filter((d,f)=>l(d,f)||u(d,f)):s==="data"?r.filter((d,f)=>{var x;let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((x=t[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function wC(e,r,{includeHydrateFallback:t}={}){return NC(e.map(n=>{let a=r.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function NC(e){return[...new Set(e)]}function SC(e){let r={},t=Object.keys(e).sort();for(let n of t)r[n]=e[n];return r}function _C(e,r){let t=new Set;return new Set(r),e.reduce((n,a)=>{let s=JSON.stringify(SC(a));return t.has(s)||(t.add(s),n.push({key:s,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var TC=new Set([100,101,204,205]);function kC(e,r){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":r&&ju(t.pathname,r)==="/"?t.pathname=`${r.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function j_(){let e=T.useContext(s0);return Cb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function jC(){let e=T.useContext(Ax);return Cb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Db=T.createContext(void 0);Db.displayName="FrameworkContext";function E_(){let e=T.useContext(Db);return Cb(e,"You must render this element inside a <HydratedRouter> element"),e}function EC(e,r){let t=T.useContext(Db),[n,a]=T.useState(!1),[s,l]=T.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:x}=r,y=T.useRef(null);T.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let v=S=>{S.forEach(k=>{l(k.isIntersecting)})},N=new IntersectionObserver(v,{threshold:.5});return y.current&&N.observe(y.current),()=>{N.disconnect()}}},[e]),T.useEffect(()=>{if(n){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{a(!0)},w=()=>{a(!1),l(!1)};return t?e!=="intent"?[s,y,{}]:[s,y,{onFocus:ap(u,m),onBlur:ap(d,w),onMouseEnter:ap(f,m),onMouseLeave:ap(p,w),onTouchStart:ap(x,m)}]:[!1,y,{}]}function ap(e,r){return t=>{e&&e(t),t.defaultPrevented||r(t)}}function AC({page:e,...r}){let{router:t}=j_(),n=T.useMemo(()=>x_(t.routes,e,t.basename),[t.routes,e,t.basename]);return n?T.createElement(DC,{page:e,matches:n,...r}):null}function CC(e){let{manifest:r,routeModules:t}=E_(),[n,a]=T.useState([]);return T.useEffect(()=>{let s=!1;return bC(e,r,t).then(l=>{s||a(l)}),()=>{s=!0}},[e,r,t]),n}function DC({page:e,matches:r,...t}){let n=$l(),{manifest:a,routeModules:s}=E_(),{basename:l}=j_(),{loaderData:u,matches:d}=jC(),f=T.useMemo(()=>n3(e,r,d,a,n,"data"),[e,r,d,a,n]),p=T.useMemo(()=>n3(e,r,d,a,n,"assets"),[e,r,d,a,n]),x=T.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,v=!1;if(r.forEach(S=>{var _;let k=a.routes[S.route.id];!k||!k.hasLoader||(!f.some(A=>A.route.id===S.route.id)&&S.route.id in u&&((_=s[S.route.id])!=null&&_.shouldRevalidate)||k.hasClientLoader?v=!0:w.add(S.route.id))}),w.size===0)return[];let N=kC(e,l);return v&&w.size>0&&N.searchParams.set("_routes",r.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[N.pathname+N.search]},[l,u,n,a,f,r,e,s]),y=T.useMemo(()=>wC(p,a),[p,a]),m=CC(p);return T.createElement(T.Fragment,null,x.map(w=>T.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),y.map(w=>T.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),m.map(({key:w,link:v})=>T.createElement("link",{key:w,...v})))}function OC(...e){return r=>{e.forEach(t=>{typeof t=="function"?t(r):t!=null&&(t.current=r)})}}var A_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A_&&(window.__reactRouterVersion="7.6.2")}catch{}function LC({basename:e,children:r,window:t}){let n=T.useRef();n.current==null&&(n.current=wA({window:t,v5Compat:!0}));let a=n.current,[s,l]=T.useState({action:a.action,location:a.location}),u=T.useCallback(d=>{T.startTransition(()=>l(d))},[l]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.createElement(cC,{basename:e,children:r,location:s.location,navigationType:s.action,navigator:a})}var C_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wp=T.forwardRef(function({onClick:r,discover:t="render",prefetch:n="none",relative:a,reloadDocument:s,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:x,...y},m){let{basename:w}=T.useContext(Il),v=typeof f=="string"&&C_.test(f),N,S=!1;if(typeof f=="string"&&v&&(N=f,A_))try{let B=new URL(window.location.href),O=f.startsWith("//")?new URL(B.protocol+f):new URL(f),L=ju(O.pathname,w);O.origin===B.origin&&L!=null?f=L+O.search+O.hash:S=!0}catch{Pl(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=GA(f,{relative:a}),[_,A,R]=EC(n,y),V=PC(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:a,viewTransition:x});function P(B){r&&r(B),B.defaultPrevented||V(B)}let I=T.createElement("a",{...y,...R,href:N||k,onClick:S||s?r:P,ref:OC(m,A),target:d,"data-discover":!v&&t==="render"?"true":void 0});return _&&!v?T.createElement(T.Fragment,null,I,T.createElement(AC,{page:k})):I});Wp.displayName="Link";var RC=T.forwardRef(function({"aria-current":r="page",caseSensitive:t=!1,className:n="",end:a=!1,style:s,to:l,viewTransition:u,children:d,...f},p){let x=dm(l,{relative:f.relative}),y=$l(),m=T.useContext(Ax),{navigator:w,basename:v}=T.useContext(Il),N=m!=null&&UC(x)&&u===!0,S=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,k=y.pathname,_=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;t||(k=k.toLowerCase(),_=_?_.toLowerCase():null,S=S.toLowerCase()),_&&v&&(_=ju(_,v)||_);const A=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let R=k===S||!a&&k.startsWith(S)&&k.charAt(A)==="/",V=_!=null&&(_===S||!a&&_.startsWith(S)&&_.charAt(S.length)==="/"),P={isActive:R,isPending:V,isTransitioning:N},I=R?r:void 0,B;typeof n=="function"?B=n(P):B=[n,R?"active":null,V?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let O=typeof s=="function"?s(P):s;return T.createElement(Wp,{...f,"aria-current":I,className:B,ref:p,style:O,to:l,viewTransition:u},typeof d=="function"?d(P):d)});RC.displayName="NavLink";var MC=T.forwardRef(({discover:e="render",fetcherKey:r,navigate:t,reloadDocument:n,replace:a,state:s,method:l=y1,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:x,...y},m)=>{let w=$C(),v=zC(u,{relative:f}),N=l.toLowerCase()==="get"?"get":"post",S=typeof u=="string"&&C_.test(u),k=_=>{if(d&&d(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,R=(A==null?void 0:A.getAttribute("formmethod"))||l;w(A||_.currentTarget,{fetcherKey:r,method:R,navigate:t,replace:a,state:s,relative:f,preventScrollReset:p,viewTransition:x})};return T.createElement("form",{ref:m,method:N,action:v,onSubmit:n?d:k,...y,"data-discover":!S&&e==="render"?"true":void 0})});MC.displayName="Form";function FC(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D_(e){let r=T.useContext(s0);return Ba(r,FC(e)),r}function PC(e,{target:r,replace:t,state:n,preventScrollReset:a,relative:s,viewTransition:l}={}){let u=zl(),d=$l(),f=dm(e,{relative:s});return T.useCallback(p=>{if(pC(p,r)){p.preventDefault();let x=t!==void 0?t:Hp(d)===Hp(f);u(e,{replace:x,state:n,preventScrollReset:a,relative:s,viewTransition:l})}},[d,u,f,t,n,r,e,a,s,l])}var BC=0,IC=()=>`__${String(++BC)}__`;function $C(){let{router:e}=D_("useSubmit"),{basename:r}=T.useContext(Il),t=sC();return T.useCallback(async(n,a={})=>{let{action:s,method:l,encType:u,formData:d,body:f}=xC(n,r);if(a.navigate===!1){let p=a.fetcherKey||IC();await e.fetch(p,t,a.action||s,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||u,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||l,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,r,t])}function zC(e,{relative:r}={}){let{basename:t}=T.useContext(Il),n=T.useContext($c);Ba(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...dm(e||".",{relative:r})},l=$l();if(e==null){s.search=l.search;let u=new URLSearchParams(s.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(x=>x).forEach(x=>u.append("index",x));let p=u.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:yu([t,s.pathname])),Hp(s)}function UC(e,r={}){let t=T.useContext(w_);Ba(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=D_("useViewTransitionState"),a=dm(e,{relative:r.relative});if(!t.isTransitioning)return!1;let s=ju(t.currentLocation.pathname,n)||t.currentLocation.pathname,l=ju(t.nextLocation.pathname,n)||t.nextLocation.pathname;return z1(a.pathname,l)!=null||z1(a.pathname,s)!=null}[...TC];var O_=g_();const Jo=m_(O_);let HC={data:""},WC=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||HC,VC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qC=/\/\*[^]*?\*\/|  +/g,a3=/\n+/g,md=(e,r)=>{let t="",n="",a="";for(let s in e){let l=e[s];s[0]=="@"?s[1]=="i"?t=s+" "+l+";":n+=s[1]=="f"?md(l,s):s+"{"+md(l,s[1]=="k"?"":r)+"}":typeof l=="object"?n+=md(l,r?r.replace(/([^,])+/g,u=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):s):l!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=md.p?md.p(s,l):s+":"+l+";")}return t+(r&&a?r+"{"+a+"}":a)+n},pu={},L_=e=>{if(typeof e=="object"){let r="";for(let t in e)r+=t+L_(e[t]);return r}return e},YC=(e,r,t,n,a)=>{let s=L_(e),l=pu[s]||(pu[s]=(d=>{let f=0,p=11;for(;f<d.length;)p=101*p+d.charCodeAt(f++)>>>0;return"go"+p})(s));if(!pu[l]){let d=s!==e?e:(f=>{let p,x,y=[{}];for(;p=VC.exec(f.replace(qC,""));)p[4]?y.shift():p[3]?(x=p[3].replace(a3," ").trim(),y.unshift(y[0][x]=y[0][x]||{})):y[0][p[1]]=p[2].replace(a3," ").trim();return y[0]})(e);pu[l]=md(a?{["@keyframes "+l]:d}:d,t?"":"."+l)}let u=t&&pu.g?pu.g:null;return t&&(pu.g=pu[l]),((d,f,p,x)=>{x?f.data=f.data.replace(x,d):f.data.indexOf(d)===-1&&(f.data=p?d+f.data:f.data+d)})(pu[l],r,n,u),l},GC=(e,r,t)=>e.reduce((n,a,s)=>{let l=r[s];if(l&&l.call){let u=l(t),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=d?"."+d:u&&typeof u=="object"?u.props?"":md(u,""):u===!1?"":u}return n+a+(l??"")},"");function Dx(e){let r=this||{},t=e.call?e(r.p):e;return YC(t.unshift?t.raw?GC(t,[].slice.call(arguments,1),r.p):t.reduce((n,a)=>Object.assign(n,a&&a.call?a(r.p):a),{}):t,WC(r.target),r.g,r.o,r.k)}let R_,Av,Cv;Dx.bind({g:1});let Eu=Dx.bind({k:1});function XC(e,r,t,n){md.p=r,R_=e,Av=t,Cv=n}function Rd(e,r){let t=this||{};return function(){let n=arguments;function a(s,l){let u=Object.assign({},s),d=u.className||a.className;t.p=Object.assign({theme:Av&&Av()},u),t.o=/ *go\d+/.test(d),u.className=Dx.apply(t,n)+(d?" "+d:"");let f=e;return e[0]&&(f=u.as||e,delete u.as),Cv&&f[0]&&Cv(u),R_(f,u)}return a}}var KC=e=>typeof e=="function",U1=(e,r)=>KC(e)?e(r):e,JC=(()=>{let e=0;return()=>(++e).toString()})(),M_=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let r=matchMedia("(prefers-reduced-motion: reduce)");e=!r||r.matches}return e}})(),QC=20,F_=(e,r)=>{switch(r.type){case 0:return{...e,toasts:[r.toast,...e.toasts].slice(0,QC)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===r.toast.id?{...s,...r.toast}:s)};case 2:let{toast:t}=r;return F_(e,{type:e.toasts.find(s=>s.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=r;return{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return r.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==r.toastId)};case 5:return{...e,pausedAt:r.time};case 6:let a=r.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},b1=[],df={toasts:[],pausedAt:void 0},Ff=e=>{df=F_(df,e),b1.forEach(r=>{r(df)})},ZC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},e8=(e={})=>{let[r,t]=T.useState(df),n=T.useRef(df);T.useEffect(()=>(n.current!==df&&t(df),b1.push(t),()=>{let s=b1.indexOf(t);s>-1&&b1.splice(s,1)}),[]);let a=r.toasts.map(s=>{var l,u,d;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((l=e[s.type])==null?void 0:l.removeDelay)||(e==null?void 0:e.removeDelay),duration:s.duration||((u=e[s.type])==null?void 0:u.duration)||(e==null?void 0:e.duration)||ZC[s.type],style:{...e.style,...(d=e[s.type])==null?void 0:d.style,...s.style}}});return{...r,toasts:a}},t8=(e,r="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:r,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...t,id:(t==null?void 0:t.id)||JC()}),fm=e=>(r,t)=>{let n=t8(r,e,t);return Ff({type:2,toast:n}),n.id},sn=(e,r)=>fm("blank")(e,r);sn.error=fm("error");sn.success=fm("success");sn.loading=fm("loading");sn.custom=fm("custom");sn.dismiss=e=>{Ff({type:3,toastId:e})};sn.remove=e=>Ff({type:4,toastId:e});sn.promise=(e,r,t)=>{let n=sn.loading(r.loading,{...t,...t==null?void 0:t.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let s=r.success?U1(r.success,a):void 0;return s?sn.success(s,{id:n,...t,...t==null?void 0:t.success}):sn.dismiss(n),a}).catch(a=>{let s=r.error?U1(r.error,a):void 0;s?sn.error(s,{id:n,...t,...t==null?void 0:t.error}):sn.dismiss(n)}),e};var r8=(e,r)=>{Ff({type:1,toast:{id:e,height:r}})},n8=()=>{Ff({type:5,time:Date.now()})},Cp=new Map,a8=1e3,s8=(e,r=a8)=>{if(Cp.has(e))return;let t=setTimeout(()=>{Cp.delete(e),Ff({type:4,toastId:e})},r);Cp.set(e,t)},i8=e=>{let{toasts:r,pausedAt:t}=e8(e);T.useEffect(()=>{if(t)return;let s=Date.now(),l=r.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(s-u.createdAt);if(d<0){u.visible&&sn.dismiss(u.id);return}return setTimeout(()=>sn.dismiss(u.id),d)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[r,t]);let n=T.useCallback(()=>{t&&Ff({type:6,time:Date.now()})},[t]),a=T.useCallback((s,l)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:f}=l||{},p=r.filter(m=>(m.position||f)===(s.position||f)&&m.height),x=p.findIndex(m=>m.id===s.id),y=p.filter((m,w)=>w<x&&m.visible).length;return p.filter(m=>m.visible).slice(...u?[y+1]:[0,y]).reduce((m,w)=>m+(w.height||0)+d,0)},[r]);return T.useEffect(()=>{r.forEach(s=>{if(s.dismissed)s8(s.id,s.removeDelay);else{let l=Cp.get(s.id);l&&(clearTimeout(l),Cp.delete(s.id))}})},[r]),{toasts:r,handlers:{updateHeight:r8,startPause:n8,endPause:n,calculateOffset:a}}},o8=Eu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,l8=Eu`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,c8=Eu`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,u8=Rd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${o8} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${l8} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${c8} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,d8=Eu`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,f8=Rd("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${d8} 1s linear infinite;
`,h8=Eu`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,p8=Eu`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,m8=Rd("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${h8} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${p8} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,g8=Rd("div")`
  position: absolute;
`,x8=Rd("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,y8=Eu`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,v8=Rd("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${y8} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,b8=({toast:e})=>{let{icon:r,type:t,iconTheme:n}=e;return r!==void 0?typeof r=="string"?T.createElement(v8,null,r):r:t==="blank"?null:T.createElement(x8,null,T.createElement(f8,{...n}),t!=="loading"&&T.createElement(g8,null,t==="error"?T.createElement(u8,{...n}):T.createElement(m8,{...n})))},w8=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,N8=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,S8="0%{opacity:0;} 100%{opacity:1;}",_8="0%{opacity:1;} 100%{opacity:0;}",T8=Rd("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,k8=Rd("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,j8=(e,r)=>{let t=e.includes("top")?1:-1,[n,a]=M_()?[S8,_8]:[w8(t),N8(t)];return{animation:r?`${Eu(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Eu(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},E8=T.memo(({toast:e,position:r,style:t,children:n})=>{let a=e.height?j8(e.position||r||"top-center",e.visible):{opacity:0},s=T.createElement(b8,{toast:e}),l=T.createElement(k8,{...e.ariaProps},U1(e.message,e));return T.createElement(T8,{className:e.className,style:{...a,...t,...e.style}},typeof n=="function"?n({icon:s,message:l}):T.createElement(T.Fragment,null,s,l))});XC(T.createElement);var A8=({id:e,className:r,style:t,onHeightUpdate:n,children:a})=>{let s=T.useCallback(l=>{if(l){let u=()=>{let d=l.getBoundingClientRect().height;n(e,d)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return T.createElement("div",{ref:s,className:r,style:t},a)},C8=(e,r)=>{let t=e.includes("top"),n=t?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:M_()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${r*(t?1:-1)}px)`,...n,...a}},D8=Dx`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Og=16,O8=({reverseOrder:e,position:r="top-center",toastOptions:t,gutter:n,children:a,containerStyle:s,containerClassName:l})=>{let{toasts:u,handlers:d}=i8(t);return T.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Og,left:Og,right:Og,bottom:Og,pointerEvents:"none",...s},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(f=>{let p=f.position||r,x=d.calculateOffset(f,{reverseOrder:e,gutter:n,defaultPosition:r}),y=C8(p,x);return T.createElement(A8,{id:f.id,key:f.id,onHeightUpdate:d.updateHeight,className:f.visible?D8:"",style:y},f.type==="custom"?U1(f.message,f):a?a(f):T.createElement(E8,{toast:f,position:p}))}))},Ee=sn;const $e="https://api.haacas.com";async function Yh(e,r){const t=await fetch(`${$e}/api/users/user-tab-state/${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${r}`}});if(!t.ok)throw new Error("Failed to fetch tab state");const n=await t.json();return!n||typeof n!="object"?null:n}async function Ox(e,r,t){const n=await fetch(`${$e}/api/users/user-tab-state/${encodeURIComponent(e)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({state:r})});if(!n.ok)throw new Error("Failed to save tab state");const a=await n.json();return!a||typeof a!="object"?null:a}class L8{constructor(){this.isSupported="serviceWorker"in navigator&&"PushManager"in window,this.serviceWorkerRegistration=null,this.vapidPublicKey=null}async initialize(){if(!this.isSupported)return console.warn("Push notifications are not supported in this browser"),!1;try{this.serviceWorkerRegistration=await navigator.serviceWorker.register("/service-worker.js"),console.log("Service Worker registered successfully");const t=await(await fetch(`${$e}/api/push-subscription/vapid-public-key`)).json();return this.vapidPublicKey=t.publicKey,!0}catch(r){return console.error("Error initializing push notifications:",r),!1}}async requestPermission(){return this.isSupported?Notification.permission==="granted"?"granted":Notification.permission==="denied"?"denied":await Notification.requestPermission():"unsupported"}async subscribe(r){if(!this.serviceWorkerRegistration||!this.vapidPublicKey)throw new Error("Push notification manager not initialized");try{const t=await this.serviceWorkerRegistration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:this.urlBase64ToUint8Array(this.vapidPublicKey)});return await fetch(`${$e}/api/push-subscription/subscribe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({subscription:t})}),console.log("Successfully subscribed to push notifications"),t}catch(t){throw console.error("Error subscribing to push notifications:",t),t}}async unsubscribe(r){if(this.serviceWorkerRegistration)try{const t=await this.serviceWorkerRegistration.pushManager.getSubscription();t&&await t.unsubscribe(),await fetch(`${$e}/api/push-subscription/unsubscribe`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}),console.log("Successfully unsubscribed from push notifications")}catch(t){throw console.error("Error unsubscribing from push notifications:",t),t}}async updatePermissionStatus(r,t){try{await fetch(`${$e}/api/push-subscription/permission`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({permission:r})})}catch(n){console.error("Error updating permission status:",n)}}urlBase64ToUint8Array(r){const t="=".repeat((4-r.length%4)%4),n=(r+t).replace(/-/g,"+").replace(/_/g,"/"),a=window.atob(n),s=new Uint8Array(a.length);for(let l=0;l<a.length;++l)s[l]=a.charCodeAt(l);return s}}const vh=new L8,P_=T.createContext(),gn=()=>T.useContext(P_),R8=({children:e})=>{const[r,t]=T.useState(null),[n,a]=T.useState(!0);T.useEffect(()=>{(()=>{try{const w=localStorage.getItem("user");if(w){const v=JSON.parse(w);if(!v.token)throw new Error("Invalid user data");t(v)}}catch(w){console.error("Error loading user:",w),localStorage.removeItem("user"),t(null)}finally{a(!1)}})()},[]);const s=async(m,w)=>{try{if(!m||!w)throw new Error("Please enter both email and password");const v=await fetch(`${$e}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,password:w})}),N=await v.json();if(!v.ok)throw new Error(N.message||"Login failed. Please try again.");if(!N.token)throw new Error("Invalid response from server");return t(N),localStorage.setItem("user",JSON.stringify(N)),await l(N.token),Ee.success("Login successful!"),N}catch(v){throw console.error("Login error:",v),Ee.error(v.message||"An error occurred during login"),v}},l=async m=>{try{if(!await vh.initialize()){console.log("Push notifications not supported or failed to initialize");return}const v=await vh.requestPermission();v==="granted"?(await vh.subscribe(m),Ee.success("You will receive timesheet reminders!")):v==="denied"&&(await vh.updatePermissionStatus("denied",m),Ee("Push notifications are disabled. You can enable them in your browser settings.",{icon:"🔔",duration:5e3})),await vh.updatePermissionStatus(v,m)}catch(w){console.error("Error setting up push notifications:",w)}},u=async m=>{try{const w=await fetch(`${$e}/api/auth/request-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m})}),v=await w.json();if(!w.ok){if(v.expiresIn){const N=Math.ceil(v.expiresIn/60);throw new Error(`${v.message} (${N} minutes remaining)`)}throw new Error(v.message)}return Ee.success("OTP sent to your email!"),v}catch(w){throw Ee.error(w.message),w}},d=async(m,w,v,N,S,k)=>{try{const _=await fetch(`${$e}/api/auth/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,otp:w,firstName:v,lastName:N,password:S,group:k})}),A=await _.json();if(!_.ok)throw new Error(A.message);return Ee.success(A.message||"Registration successful! Please login to continue."),A}catch(_){throw Ee.error(_.message),_}},f=async()=>{try{r!=null&&r.token&&await vh.unsubscribe(r.token)}catch(m){console.error("Error unsubscribing from push notifications:",m)}t(null),localStorage.removeItem("user"),Ee.success("Logged out successfully!")},p=()=>!!(r!=null&&r.token),x=m=>{const w={...r,...m};t(w),localStorage.setItem("user",JSON.stringify(w))},y={requestOTP:async(m,w)=>{try{const v=await fetch(`${$e}/api/auth/request-reset-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,newPassword:w})}),N=await v.json();if(!v.ok)throw new Error(N.message||"Failed to request OTP");return Ee.success("OTP sent to your email!"),N}catch(v){throw Ee.error(v.message),v}},verifyOTP:async(m,w,v)=>{try{const N=await fetch(`${$e}/api/auth/verify-reset-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,newPassword:w,otp:v})}),S=await N.json();if(!N.ok)throw new Error(S.message||"Failed to verify OTP");return Ee.success("Password reset successful!"),S}catch(N){throw Ee.error(N.message),N}}};return i.jsx(P_.Provider,{value:{user:r,loading:n,login:s,logout:f,requestOTP:u,verifyOTPAndRegister:d,isAuthenticated:p,resetPassword:y,token:r==null?void 0:r.token,updateUser:x},children:e})};function M8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const F8=T.forwardRef(M8);function P8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const B8=T.forwardRef(P8);function I8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const $8=T.forwardRef(I8);function z8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const U8=T.forwardRef(z8);function H8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const W8=T.forwardRef(H8);function V8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Fy=T.forwardRef(V8);function q8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Y8=T.forwardRef(q8);function G8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const bc=T.forwardRef(G8);function X8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const K8=T.forwardRef(X8);function J8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const sp=T.forwardRef(J8);function Q8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Ph=T.forwardRef(Q8);function Z8({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const e7=T.forwardRef(Z8);function t7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const r7=T.forwardRef(t7);function n7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const s3=T.forwardRef(n7);function a7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const ud=T.forwardRef(a7);function s7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const lf=T.forwardRef(s7);function i7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ip=T.forwardRef(i7);function o7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const l7=T.forwardRef(o7);function c7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v7.5m2.25-6.466a9.016 9.016 0 0 0-3.461-.203c-.536.072-.974.478-1.021 1.017a4.559 4.559 0 0 0-.018.402c0 .464.336.844.775.994l2.95 1.012c.44.15.775.53.775.994 0 .136-.006.27-.018.402-.047.539-.485.945-1.021 1.017a9.077 9.077 0 0 1-3.461-.203M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const u7=T.forwardRef(c7);function d7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const f7=T.forwardRef(d7);function h7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const p7=T.forwardRef(h7);function m7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 12.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5ZM12 18.75a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5Z"}))}const g7=T.forwardRef(m7);function x7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const i3=T.forwardRef(x7);function y7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const v7=T.forwardRef(y7);function b7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"}))}const w7=T.forwardRef(b7);function N7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 13.5h3.86a2.25 2.25 0 0 1 2.012 1.244l.256.512a2.25 2.25 0 0 0 2.013 1.244h3.218a2.25 2.25 0 0 0 2.013-1.244l.256-.512a2.25 2.25 0 0 1 2.013-1.244h3.859m-19.5.338V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18v-4.162c0-.224-.034-.447-.1-.661L19.24 5.338a2.25 2.25 0 0 0-2.15-1.588H6.911a2.25 2.25 0 0 0-2.15 1.588L2.35 13.177a2.25 2.25 0 0 0-.1.661Z"}))}const S7=T.forwardRef(N7);function _7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const T7=T.forwardRef(_7);function k7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const H1=T.forwardRef(k7);function j7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.395m-1.014 8.855c-.118.38-.245.754-.38 1.125m.38-1.125a23.91 23.91 0 0 0 1.014-5.395m0-3.46c.495.413.811 1.035.811 1.73 0 .695-.316 1.317-.811 1.73m0-3.46a24.347 24.347 0 0 1 0 3.46"}))}const op=T.forwardRef(j7);function E7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"}))}const A7=T.forwardRef(E7);function C7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18.364 18.364A9 9 0 0 0 5.636 5.636m12.728 12.728A9 9 0 0 1 5.636 5.636m12.728 12.728L5.636 5.636"}))}const D7=T.forwardRef(C7);function O7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const L7=T.forwardRef(O7);function R7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const M7=T.forwardRef(R7);function F7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const P7=T.forwardRef(F7);function B7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const I7=T.forwardRef(B7);function $7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const B_=T.forwardRef($7);function z7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const U7=T.forwardRef(z7);function H7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const W7=T.forwardRef(H7);function V7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const o3=T.forwardRef(V7);function q7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const l3=T.forwardRef(q7);function Y7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"}))}const G7=T.forwardRef(Y7);function X7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const c3=T.forwardRef(X7);function K7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const J7=T.forwardRef(K7);function Q7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Dv=T.forwardRef(Q7);function Z7({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const eD=T.forwardRef(Z7);function tD({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Gh=T.forwardRef(tD);function rD({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M22 10.5h-6m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM4 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 10.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const nD=T.forwardRef(rD);function aD({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const I_=T.forwardRef(aD);function sD({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const hm=T.forwardRef(sD);function iD({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Vp=T.forwardRef(iD),kn="/assets/avatar-DcjrlDCr.jpg",oD=()=>{const[e,r]=T.useState([]),[t,n]=T.useState(0),[a,s]=T.useState(!1),[l,u]=T.useState(!1),{user:d}=gn(),f=zl(),p=T.useRef(null);T.useEffect(()=>{const S=k=>{p.current&&!p.current.contains(k.target)&&s(!1)};return a&&document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[a]);const x=async()=>{if(d!=null&&d.token)try{u(!0);const[S,k]=await Promise.all([fetch(`${$e}/api/notifications`,{headers:{Authorization:`Bearer ${d.token}`}}),fetch(`${$e}/api/notifications/unread-count`,{headers:{Authorization:`Bearer ${d.token}`}})]);if(S.ok&&k.ok){let _=await S.json();const A=await k.json();_=_.filter(R=>R.type!=="timesheet_reminder"),r(_),n(A.count)}}catch(S){console.error("Error fetching notifications:",S)}finally{u(!1)}};T.useEffect(()=>{x();const S=setInterval(x,3e4);return()=>clearInterval(S)},[d]);const y=async S=>{try{if((await fetch(`${$e}/api/notifications/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${d.token}`}})).ok){r(A=>A.filter(R=>R._id!==S));const _=await fetch(`${$e}/api/notifications/unread-count`,{headers:{Authorization:`Bearer ${d.token}`}});if(_.ok){const A=await _.json();n(A.count)}Ee.success("Notification deleted")}else Ee.error("Failed to delete notification")}catch(k){console.error("Error deleting notification:",k),Ee.error("Failed to delete notification")}},m=async S=>{if(console.log("Notification clicked:",S),console.log("Notification task:",S.task,typeof S.task),S.isRead||await w(S._id),s(!1),S.task){let k;if(typeof S.task=="object"&&S.task._id)k=S.task._id;else if(typeof S.task=="string")k=S.task;else{console.error("Invalid task format in notification:",S.task),Ee.error("Invalid task reference in notification");return}let _=[];try{const I=await fetch(`${$e}/api/users/user-tab-state/receivedTasks`,{headers:{Authorization:`Bearer ${d.token}`}});I.ok&&(_=(await I.json()).tabs||[])}catch{try{const B=localStorage.getItem("receivedTasksTabState");B&&(_=JSON.parse(B).tabs||[])}catch{}}_.length||(_=[{id:1,activeTab:"execution",filters:[],searchTerm:"",statusFilter:"all"}]);const A=["execution","receivedVerification","issuedVerification","completed","guidance"];let R=!1,V=null,P=null;for(let I of _){for(let B of A){let O;B==="guidance"?O=`${$e}/api/tasks/received/guidance`:O=`${$e}/api/tasks/received?tab=${B}`;try{const L=await fetch(O,{headers:{Authorization:`Bearer ${d.token}`}});if(L.ok){let C=await L.json();if(I.filters&&I.filters.length>0&&(C=C.filter(Y=>I.filters.every(Q=>Q.operator==="contains"?(Y[Q.column]||"").toLowerCase().includes((Q.value||"").toLowerCase()):!0))),I.searchTerm&&(C=C.filter(Y=>(Y.title||"").toLowerCase().includes(I.searchTerm.toLowerCase()))),I.statusFilter&&I.statusFilter!=="all"&&(C=C.filter(Y=>Y.status===I.statusFilter)),C.find(Y=>Y._id===k)){R=!0,V=I.id,P=B;break}}}catch{}}if(R)break}R&&V&&P?f(`/dashboard/received-tasks?highlightTask=${k}&tabId=${V}&fixedTab=${P}`,{replace:!0}):f(`/dashboard/received-tasks?highlightTask=${k}`,{replace:!0})}},w=async S=>{try{(await fetch(`${$e}/api/notifications/${S}/read`,{method:"PATCH",headers:{Authorization:`Bearer ${d.token}`}})).ok&&(r(_=>_.map(A=>A._id===S?{...A,isRead:!0}:A)),n(_=>Math.max(0,_-1)))}catch(k){console.error("Error marking notification as read:",k)}},v=async()=>{try{const S=await fetch(`${$e}/api/notifications/clear-all`,{method:"DELETE",headers:{Authorization:`Bearer ${d.token}`}});if(S.ok){const k=await S.json();r([]),n(0),Ee.success(k.message)}else{const k=await S.json();Ee.error(k.message||"Failed to clear notifications")}}catch(S){console.error("Error clearing all notifications:",S),Ee.error("Failed to clear notifications")}},N=S=>{const k=new Date,_=new Date(S),A=Math.floor((k-_)/(1e3*60));return A<1?"Just now":A<60?`${A}m ago`:A<1440?`${Math.floor(A/60)}h ago`:`${Math.floor(A/1440)}d ago`};return i.jsxs("div",{className:"relative",ref:p,children:[i.jsxs("button",{onClick:()=>s(!a),className:"relative p-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-full transition-colors focus:outline-none","aria-label":"Notifications",children:[i.jsx(W8,{className:"h-7 w-7"}),t>0&&i.jsx("span",{className:"animate-ping absolute -top-1 -right-1 inline-flex h-5 w-5 rounded-full bg-red-400 opacity-75"}),t>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-semibold shadow-md border-2 border-white",children:t>99?"99+":t})]}),a&&i.jsxs("div",{className:"absolute right-0 mt-3 w-96 max-w-[95vw] rounded-2xl shadow-2xl z-50 border border-gray-200 backdrop-blur-xl bg-white/90 ring-1 ring-black/5 transition-all duration-200",style:{minWidth:"320px"},children:[i.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-900 tracking-tight",children:"Notifications"}),i.jsxs("div",{className:"flex items-center gap-2",children:[t>0&&i.jsxs("span",{className:"text-xs text-indigo-500 font-semibold bg-indigo-50 px-2 py-1 rounded-full",children:[t," unread"]}),e.length>0&&i.jsx("button",{onClick:v,className:"text-xs text-red-500 font-semibold bg-red-50 hover:bg-red-100 px-2 py-1 rounded-full transition-colors",title:"Clear all notifications",children:"Clear All"})]})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto custom-scrollbar bg-transparent",children:l?i.jsx("div",{className:"p-6 text-center text-gray-400 text-base font-medium",children:"Loading..."}):e.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-gray-400",children:[i.jsx(S7,{className:"h-12 w-12 mb-2"}),i.jsx("span",{className:"text-base font-medium",children:"No notifications"})]}):i.jsx("div",{className:"divide-y divide-gray-100",children:e.map(S=>{var k,_;return i.jsxs("div",{className:`group flex items-start gap-3 px-4 py-4 transition-all duration-150 cursor-pointer ${S.isRead?"bg-white":"bg-indigo-50/80"} hover:bg-indigo-100/80 rounded-xl shadow-sm mb-2`,onClick:()=>m(S),style:{boxShadow:S.isRead?"0 1px 4px 0 rgba(0,0,0,0.03)":"0 2px 8px 0 rgba(99,102,241,0.08)"},children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:S.type==="verification_rejected"?S.message.replace(/rejected/gi,"Returned"):S.message})}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["from ",i.jsxs("span",{className:"font-medium text-indigo-600",children:[(k=S.assigner)==null?void 0:k.firstName," ",(_=S.assigner)==null?void 0:_.lastName]})]}),i.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:N(S.createdAt)})]}),i.jsx("button",{onClick:A=>{A.stopPropagation(),y(S._id)},className:"ml-2 p-1 rounded-full text-gray-400 hover:text-red-500 hover:bg-red-50 transition-colors focus:outline-none focus:ring-2 focus:ring-red-200","aria-label":"Delete notification",children:i.jsx(Vp,{className:"h-5 w-5"})})]},S._id)})})})]})]})},lD=({chats:e,allUsers:r,activeChat:t,onChatSelect:n,onUserSelect:a,onNewGroup:s,loading:l,onlineUsers:u,onClose:d})=>{const[f,p]=T.useState(""),{user:x}=gn(),y=k=>{const _=new Date(k),R=new Date-_;return R<6e4?"now":R<36e5?`${Math.floor(R/6e4)}m`:R<864e5?`${Math.floor(R/36e5)}h`:R<6048e5?_.toLocaleDateString([],{weekday:"short"}):_.toLocaleDateString([],{month:"short",day:"numeric"})},m=k=>{var _,A,R,V;if(k.type==="group")return{name:k.name,avatar:((_=k.avatar)==null?void 0:_.url)||null,isOnline:!1,subtitle:`${((A=k.participants)==null?void 0:A.length)||0} members`};{if(!Array.isArray(k.participants)||!x||!x._id)return{name:"Unknown",avatar:null,isOnline:!1,subtitle:"Offline"};const P=(R=k.participants.find(B=>(B==null?void 0:B.user)&&B.user._id!==x._id))==null?void 0:R.user,I=P!=null&&P._id?u.has(P._id):!1;return{name:P?`${P.firstName} ${P.lastName}`:"Unknown",avatar:((V=P==null?void 0:P.photo)==null?void 0:V.url)||null,isOnline:I,subtitle:I?"Online":"Offline"}}},w=k=>{if(!k.lastMessage)return"No messages yet";const _=k.lastMessage;return _.type==="text"?_.content:_.type==="image"?"📷 Photo":_.type==="file"?"📄 File":_.type==="audio"?"🎵 Audio":_.type==="video"?"🎬 Video":"Message"},v=e.filter(k=>{const{name:_}=m(k);return _.toLowerCase().includes(f.toLowerCase())}),N=r.filter(k=>{const _=`${k.firstName} ${k.lastName}`;return k._id!==(x==null?void 0:x._id)&&(_.toLowerCase().includes(f.toLowerCase())||k.email.toLowerCase().includes(f.toLowerCase()))}),S=[...v];return N.forEach(k=>{if(!k||!k._id||!x||!x._id||k._id===x._id)return;e.some(A=>A&&A.type==="private"&&Array.isArray(A.participants)&&A.participants.some(R=>R&&R.user&&R.user._id===k._id))||S.push({_id:`user_${k._id}`,type:"user",user:k,isUser:!0})}),i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Chats"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:s,className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"New Group",children:i.jsx(Gh,{className:"h-5 w-5"})}),i.jsx("button",{onClick:d,className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Close",children:i.jsx(Vp,{className:"h-5 w-5"})})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(H1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search chats...",value:f,onChange:k=>p(k.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:l?i.jsxs("div",{className:"p-4 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500 mx-auto"}),i.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading..."})]}):S.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500",children:i.jsx("p",{className:"text-sm",children:f?"No results found":"No users available"})}):i.jsx("div",{className:"divide-y divide-gray-100",children:S.map(k=>{var I;let _,A,R,V,P;if(k.isUser){const B=k.user;_=`${B.firstName} ${B.lastName}`,A=((I=B.photo)==null?void 0:I.url)||null,R=u.has(B._id),V=R?"Online":"Offline",P=!1}else{const B=m(k);_=B.name,A=B.avatar,R=B.isOnline,V=B.subtitle,P=(t==null?void 0:t._id)===k._id}return i.jsx("div",{onClick:()=>k.isUser?a(k.user):n(k),className:`p-4 cursor-pointer transition-colors ${P?"bg-green-50 border-r-2 border-green-500":"hover:bg-gray-50"}`,children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[A?i.jsx("img",{src:A,alt:_,className:"h-12 w-12 rounded-full object-cover"}):i.jsx("div",{className:"h-12 w-12 bg-gray-200 rounded-full flex items-center justify-center",children:k.type==="group"?i.jsx(Gh,{className:"h-6 w-6 text-gray-500"}):i.jsx(hm,{className:"h-6 w-6 text-gray-500"})}),(k.type==="private"||k.isUser)&&R&&i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 h-3 w-3 bg-green-500 rounded-full border-2 border-white"})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:_}),!k.isUser&&k.lastMessage&&k.lastActivity&&i.jsx("span",{className:"text-xs text-gray-500",children:y(k.lastActivity)})]}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsx("p",{className:"text-xs text-gray-500 truncate",children:k.isUser?V:w(k)}),!k.isUser&&k.unreadCount>0&&i.jsx("span",{className:"bg-green-500 text-white text-xs rounded-full px-2 py-0.5 min-w-[20px] text-center",children:k.unreadCount>99?"99+":k.unreadCount})]})]})]})},k._id)})})})]})},cD=({message:e,isOwn:r,showAvatar:t,showTimestamp:n})=>{var w,v,N,S;const[a,s]=T.useState(!1),[l,u]=T.useState(!1),[d,f]=T.useState(null),p=k=>new Date(k).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),x=()=>{var _;return r?(((_=e.readBy)==null?void 0:_.filter(A=>A.user!==e.sender._id))||[]).length>0?i.jsxs("div",{className:"relative inline-flex",children:[i.jsx(Ph,{className:"h-3 w-3 text-white opacity-80"}),i.jsx(Ph,{className:"h-3 w-3 text-white opacity-80 -ml-1.5"})]}):i.jsx(Ph,{className:"h-3 w-3 text-white opacity-60"}):null},y=()=>{var k,_;switch(e.type){case"text":return i.jsx("div",{className:"break-words whitespace-pre-wrap",children:e.content});case"image":return i.jsxs("div",{className:"max-w-xs",children:[e.content&&i.jsx("div",{className:"mb-2 break-words whitespace-pre-wrap",children:e.content}),i.jsxs("div",{className:"relative rounded-lg overflow-hidden",children:[!a&&i.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse rounded-lg"}),i.jsx("img",{src:e.file.url,alt:"Shared image",className:`max-w-full h-auto rounded-lg transition-opacity ${a?"opacity-100":"opacity-0"}`,onLoad:()=>s(!0),onClick:()=>window.open(e.file.url,"_blank"),style:{cursor:"pointer"}})]})]});case"audio":return i.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg max-w-xs",children:[i.jsx("button",{onClick:()=>{d&&(l?(d.pause(),u(!1)):(d.play(),u(!0)))},className:"flex-shrink-0 p-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors",children:l?i.jsx(P7,{className:"h-4 w-4"}):i.jsx(W7,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(G7,{className:"h-4 w-4 text-gray-500"}),i.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Audio Message"})]}),i.jsx("div",{className:"text-xs text-gray-500",children:(k=e.file)!=null&&k.duration?`${Math.floor(e.file.duration)}s`:"Audio"})]}),i.jsx("audio",{ref:f,src:(_=e.file)==null?void 0:_.url,onEnded:()=>u(!1),onLoadedData:()=>{}})]});case"file":case"video":return i.jsxs("div",{className:"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg max-w-xs",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(p7,{className:"h-8 w-8 text-gray-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.file.fileName||"File"}),i.jsx("div",{className:"text-xs text-gray-500",children:m(e.file.fileSize)})]}),i.jsx("button",{onClick:()=>window.open(e.file.url,"_blank"),className:"flex-shrink-0 p-1 text-gray-500 hover:text-gray-700",children:i.jsx(F8,{className:"h-4 w-4"})})]});default:return i.jsx("div",{className:"text-gray-500 italic",children:"Unsupported message type"})}},m=k=>{if(!k)return"";const _=["Bytes","KB","MB","GB"];if(k===0)return"0 Bytes";const A=Math.floor(Math.log(k)/Math.log(1024));return Math.round(k/Math.pow(1024,A)*100)/100+" "+_[A]};return i.jsx("div",{className:`flex ${r?"justify-end":"justify-start"} mb-0.5`,children:i.jsxs("div",{className:`flex items-end space-x-1 max-w-[75%] ${r?"flex-row-reverse space-x-reverse":""}`,children:[t&&!r&&i.jsx("div",{className:"flex-shrink-0",children:(w=e.sender.photo)!=null&&w.url?i.jsx("img",{src:e.sender.photo.url,alt:`${e.sender.firstName} ${e.sender.lastName}`,className:"h-6 w-6 rounded-full object-cover"}):i.jsx("div",{className:"h-6 w-6 bg-gray-300 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-xs text-gray-600",children:(N=(v=e.sender.firstName)==null?void 0:v[0])==null?void 0:N.toUpperCase()})})}),i.jsxs("div",{className:`relative px-2.5 py-1.5 rounded-lg ${r?"bg-green-500 text-white":"bg-white text-gray-900 border border-gray-200"} ${r?"rounded-br-sm":"rounded-bl-sm"} shadow-sm max-w-full`,children:[!r&&((S=e.chat)==null?void 0:S.type)==="group"&&t&&i.jsxs("div",{className:"text-xs font-medium text-gray-500 mb-1",children:[e.sender.firstName," ",e.sender.lastName]}),i.jsx("div",{className:"text-sm leading-relaxed",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"pr-16",children:y()}),i.jsxs("div",{className:`absolute bottom-0 right-0 flex items-center space-x-1 text-xs ${r?"text-green-100 opacity-80":"text-gray-400"}`,children:[e.isEdited&&i.jsx("span",{className:"opacity-75",children:"edited"}),i.jsx("span",{className:"whitespace-nowrap",children:p(e.createdAt)}),i.jsx("span",{className:"inline-flex",children:x()})]})]})})]}),!t&&!r&&i.jsx("div",{className:"w-6"})]})})},uD=({onSendMessage:e,onTypingStart:r,onTypingStop:t})=>{const[n,a]=T.useState(""),[s,l]=T.useState(!1),[u,d]=T.useState(!1),[f,p]=T.useState(0),x=T.useRef(null),y=T.useRef(null),m=T.useRef(null),w=T.useRef(null),v=T.useRef([]),N=B=>{const O=B.target.value;a(O),O.trim()&&!y.current&&r(),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{t(),y.current=null},1e3)},S=()=>{n.trim()&&(e(n),a(""),y.current&&(clearTimeout(y.current),y.current=null),t())},k=B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),S())},_=B=>{const O=B.target.files[0];if(O){let L="file";O.type.startsWith("image/")?L="image":O.type.startsWith("audio/")?L="audio":O.type.startsWith("video/")&&(L="video"),e("",L,O)}B.target.value=""},A=async()=>{try{const B=await navigator.mediaDevices.getUserMedia({audio:!0});m.current=new MediaRecorder(B),v.current=[],m.current.ondataavailable=O=>{v.current.push(O.data)},m.current.onstop=()=>{const O=new Blob(v.current,{type:"audio/wav"}),L=new File([O],`audio_${Date.now()}.wav`,{type:"audio/wav"});e("","audio",L),B.getTracks().forEach(C=>C.stop())},m.current.start(),d(!0),p(0),w.current=setInterval(()=>{p(O=>O+1)},1e3)}catch(B){console.error("Error accessing microphone:",B),alert("Could not access microphone. Please check permissions.")}},R=()=>{m.current&&u&&(m.current.stop(),d(!1),w.current&&(clearInterval(w.current),w.current=null))},V=B=>{const O=Math.floor(B/60),L=B%60;return`${O}:${L.toString().padStart(2,"0")}`},P=["😀","😂","❤️","👍","👎","😊","😢","😮","😡","🎉","🔥","💯"],I=B=>{a(O=>O+B),l(!1)};return i.jsxs("div",{className:"px-4 py-0 bg-white border-t border-gray-200",children:[u&&i.jsx("div",{className:"mb-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"h-3 w-3 bg-red-500 rounded-full animate-pulse"}),i.jsx("span",{className:"text-red-700 text-sm font-medium",children:"Recording..."}),i.jsx("span",{className:"text-red-600 text-sm",children:V(f)})]}),i.jsx("button",{onClick:R,className:"px-3 py-1 bg-red-500 text-white text-sm rounded-full hover:bg-red-600 transition-colors",children:"Stop & Send"})]})}),s&&i.jsx("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:i.jsx("div",{className:"grid grid-cols-6 gap-3",children:P.map((B,O)=>i.jsx("button",{onClick:()=>I(B),className:"text-xl hover:bg-gray-200 rounded p-2 transition-colors",children:B},O))})}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("button",{onClick:()=>{var B;return(B=x.current)==null?void 0:B.click()},className:"p-2 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-full transition-colors",title:"Attach file",disabled:u,children:i.jsx(M7,{className:"h-5 w-5"})}),i.jsx("button",{onClick:()=>l(!s),className:"p-2.5 text-gray-500 hover:text-green-600 hover:bg-green-50 rounded-full transition-colors",title:"Emoji",disabled:u,children:i.jsx(w7,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"flex-1 flex items-center self-center justify-center space-x-2",children:[i.jsxs("div",{className:"flex-1 flex justify-center items-center self-center relative",children:[i.jsx("textarea",{value:n,onChange:N,onKeyPress:k,placeholder:"Type a message...",className:"w-full px-4 py-2 pr-12 border border-gray-300 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent  max-h-[33px] text-sm leading-5",rows:1,disabled:u,style:{scrollbarWidth:"none",msOverflowStyle:"none",lineHeight:"1.4",wordWrap:"break-word",whiteSpace:"pre-wrap"},onInput:B=>{B.target.style.height="auto",B.target.style.height=Math.min(B.target.scrollHeight,128)+"px"}}),n.trim()&&!u&&i.jsx("button",{onClick:S,className:"absolute flex right-2 top-1/2 transform -translate-y-1/2 p-2 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors",children:i.jsx(L7,{className:"h-4 w-4"})})]}),!n.trim()&&i.jsx("button",{onClick:u?R:A,className:`p-2 rounded-full transition-colors ${u?"bg-red-500 text-white hover:bg-red-600":"bg-green-500 text-white hover:bg-green-600"}`,title:u?"Stop recording":"Record audio",children:u?i.jsx(J7,{className:"h-5 w-5"}):i.jsx(A7,{className:"h-5 w-5"})})]}),i.jsx("input",{ref:x,type:"file",className:"hidden",onChange:_,accept:"*/*"})]})]})},dD=({isOpen:e,onClose:r,chat:t,allUsers:n,onChatUpdate:a})=>{var B,O,L;const[s,l]=T.useState((t==null?void 0:t.name)||""),[u,d]=T.useState(!1),[f,p]=T.useState([]),[x,y]=T.useState(!1),[m,w]=T.useState(!1),{user:v}=gn(),N=T.useRef(null);if(!e||!t)return null;const S=((O=(B=t.participants)==null?void 0:B.find(C=>C.user._id===v._id))==null?void 0:O.role)==="admin",k=t.createdBy===v._id,_=n.filter(C=>!t.participants.some(Y=>Y.user._id===C._id)&&C._id!==v._id),A=async()=>{if(!s.trim()||s===t.name){d(!1);return}try{w(!0);const C=await fetch(`${$e}/api/chats/${t._id}/name`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v.token}`},body:JSON.stringify({name:s.trim()})});if(C.ok){const Y=await C.json();a(Y),d(!1)}else throw new Error("Failed to update group name")}catch(C){console.error("Error updating group name:",C),alert("Failed to update group name"),l(t.name)}finally{w(!1)}},R=async C=>{try{w(!0);const Y=new FormData;Y.append("avatar",C);const Q=await fetch(`${$e}/api/chats/${t._id}/avatar`,{method:"PUT",headers:{Authorization:`Bearer ${v.token}`},body:Y});if(Q.ok){const ce=await Q.json();a(ce)}else throw new Error("Failed to update group avatar")}catch(Y){console.error("Error updating group avatar:",Y),alert("Failed to update group avatar")}finally{w(!1)}},V=async()=>{if(f.length!==0)try{w(!0);const C=await fetch(`${$e}/api/chats/${t._id}/members`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v.token}`},body:JSON.stringify({userIds:f})});if(C.ok){const Y=await C.json();a(Y),p([]),y(!1)}else throw new Error("Failed to add members")}catch(C){console.error("Error adding members:",C),alert("Failed to add members")}finally{w(!1)}},P=async C=>{if(window.confirm("Are you sure you want to remove this member?"))try{w(!0);const Y=await fetch(`${$e}/api/chats/${t._id}/members/${C}`,{method:"DELETE",headers:{Authorization:`Bearer ${v.token}`}});if(Y.ok){const Q=await Y.json();a(Q)}else throw new Error("Failed to remove member")}catch(Y){console.error("Error removing member:",Y),alert("Failed to remove member")}finally{w(!1)}},I=async C=>{try{w(!0);const Y=await fetch(`${$e}/api/chats/${t._id}/admin`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v.token}`},body:JSON.stringify({userId:C,action:"promote"})});if(Y.ok){const Q=await Y.json();a(Q)}else throw new Error("Failed to make admin")}catch(Y){console.error("Error making admin:",Y),alert("Failed to make admin")}finally{w(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center z-50 p-0 md:p-4",children:i.jsxs("div",{className:"bg-white h-full w-full md:h-auto md:w-auto md:rounded-lg md:shadow-xl md:max-w-md md:max-h-[80vh] overflow-hidden",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Group Settings"}),i.jsx("button",{onClick:r,className:"p-1 text-gray-500 hover:text-gray-700 rounded",children:i.jsx(Vp,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"p-4 overflow-y-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsxs("div",{className:"relative",children:[(L=t.avatar)!=null&&L.url?i.jsx("img",{src:t.avatar.url,alt:t.name,className:"h-20 w-20 rounded-full object-cover"}):i.jsx("div",{className:"h-20 w-20 bg-gray-200 rounded-full flex items-center justify-center",children:i.jsx(hm,{className:"h-8 w-8 text-gray-500"})}),(S||k)&&i.jsx("button",{onClick:()=>{var C;return(C=N.current)==null?void 0:C.click()},className:"absolute -bottom-1 -right-1 p-1.5 bg-green-500 text-white rounded-full hover:bg-green-600 transition-colors",disabled:m,children:i.jsx(U7,{className:"h-3 w-3"})})]})}),i.jsxs("div",{className:"text-center",children:[u?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",value:s,onChange:C=>l(C.target.value),className:"flex-1 px-3 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500",onKeyPress:C=>C.key==="Enter"&&A(),autoFocus:!0}),i.jsx("button",{onClick:A,className:"px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 text-sm",disabled:m,children:"Save"})]}):i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.name}),(S||k)&&i.jsx("button",{onClick:()=>d(!0),className:"p-1 text-gray-500 hover:text-gray-700",children:i.jsx(B_,{className:"h-4 w-4"})})]}),i.jsxs("p",{className:"text-sm text-gray-500",children:[t.participants.length," members"]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Members"}),(S||k)&&i.jsx("button",{onClick:()=>y(!x),className:"p-1 text-green-600 hover:text-green-700",children:i.jsx(I_,{className:"h-4 w-4"})})]}),x&&(S||k)&&i.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Add Members"}),i.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:_.map(C=>i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:f.includes(C._id),onChange:Y=>{Y.target.checked?p([...f,C._id]):p(f.filter(Q=>Q!==C._id))},className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),i.jsxs("span",{className:"text-sm text-gray-700",children:[C.firstName," ",C.lastName]})]},C._id))})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:V,disabled:f.length===0||m,className:"px-3 py-1 bg-green-500 text-white text-sm rounded hover:bg-green-600 disabled:opacity-50",children:"Add Selected"}),i.jsx("button",{onClick:()=>{y(!1),p([])},className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400",children:"Cancel"})]})]}),i.jsx("div",{className:"space-y-2",children:t.participants.map(C=>{var Y,Q,ce;return i.jsxs("div",{className:"flex items-center justify-between p-2 hover:bg-gray-50 rounded",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[(Y=C.user.photo)!=null&&Y.url?i.jsx("img",{src:C.user.photo.url,alt:`${C.user.firstName} ${C.user.lastName}`,className:"h-8 w-8 rounded-full object-cover"}):i.jsx("div",{className:"h-8 w-8 bg-gray-200 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm text-gray-600",children:(ce=(Q=C.user.firstName)==null?void 0:Q[0])==null?void 0:ce.toUpperCase()})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[C.user.firstName," ",C.user.lastName]}),C.role==="admin"&&i.jsx(c3,{className:"h-3 w-3 text-yellow-500"}),C.user._id===v._id&&i.jsx("span",{className:"text-xs text-gray-500",children:"(You)"})]}),i.jsx("span",{className:"text-xs text-gray-500 capitalize",children:C.role})]})]}),(S||k)&&C.user._id!==v._id&&i.jsxs("div",{className:"flex space-x-1",children:[C.role!=="admin"&&i.jsx("button",{onClick:()=>I(C.user._id),className:"p-1 text-blue-600 hover:text-blue-700",title:"Make admin",disabled:m,children:i.jsx(c3,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>P(C.user._id),className:"p-1 text-red-600 hover:text-red-700",title:"Remove member",disabled:m,children:i.jsx(nD,{className:"h-4 w-4"})})]})]},C.user._id)})})]})]}),i.jsx("input",{ref:N,type:"file",accept:"image/*",className:"hidden",onChange:C=>{const Y=C.target.files[0];Y&&R(Y)}})]})})},fD=({chat:e,socket:r,onBack:t,onChatUpdate:n,onlineUsers:a,allUsers:s})=>{const[l,u]=T.useState([]),[d,f]=T.useState(!0),[p,x]=T.useState(new Set),[y,m]=T.useState(!1),[w,v]=T.useState(!1),{user:N}=gn(),S=T.useRef(null),k=T.useRef(null),_=T.useRef(null);T.useEffect(()=>{const H=ne=>{_.current&&!_.current.contains(ne.target)&&m(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]),T.useEffect(()=>{const H=ne=>{_.current&&!_.current.contains(ne.target)&&m(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]),T.useEffect(()=>{e!=null&&e._id&&!e.isTemporary?(A(),R()):e!=null&&e.isTemporary&&(u([]),f(!1))},[e==null?void 0:e._id,e==null?void 0:e.isTemporary]),T.useEffect(()=>{C()},[l]),T.useEffect(()=>{l.length>0&&(e!=null&&e._id)&&!e.isTemporary&&R()},[l.length,e==null?void 0:e._id]),T.useEffect(()=>{if(r&&(e!=null&&e._id)&&!e.isTemporary)return r.emit("join_chat",e._id),r.on("new_message",V),r.on("user_typing",P),r.on("message_read_update",I),()=>{r.off("new_message",V),r.off("user_typing",P),r.off("message_read_update",I),r.emit("leave_chat",e._id)}},[r,e==null?void 0:e._id,e==null?void 0:e.isTemporary]);const A=async()=>{if(!(!(e!=null&&e._id)||!(N!=null&&N.token)||e.isTemporary))try{f(!0);const H=await fetch(`${$e}/api/messages/${e._id}`,{headers:{Authorization:`Bearer ${N.token}`}});if(H.ok){const ne=await H.json();u(ne)}}catch(H){console.error("Error fetching messages:",H)}finally{f(!1)}},R=async()=>{if(!(!(e!=null&&e._id)||!(N!=null&&N.token)))try{await fetch(`${$e}/api/messages/${e._id}/read`,{method:"POST",headers:{Authorization:`Bearer ${N.token}`}}),r&&r.emit("messages_read",{chatId:e._id,userId:N._id})}catch(H){console.error("Error marking messages as read:",H)}},V=H=>{H.chat===e._id&&(u(ne=>[...ne,H]),R())},P=({userId:H,chatId:ne,isTyping:D})=>{ne===e._id&&H!==N._id&&x(z=>{const q=new Set(z);return D?q.add(H):q.delete(H),q})},I=({messageId:H,userId:ne,readAt:D})=>{u(z=>z.map(q=>q._id===H?{...q,readBy:[...q.readBy||[],{user:ne,readAt:D}]}:q))},B=async(H,ne="text",D=null)=>{if(!(!H.trim()&&!D))try{let z=e;if(e.isTemporary){const X=await fetch(`${$e}/api/chats/private`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.token}`},body:JSON.stringify({participantId:e.targetUser._id})});if(X.ok)z=await X.json(),n(z,!0),r&&r.emit("join_chat",z._id);else throw new Error("Failed to create chat")}let q;if(D){const X=new FormData;X.append("file",D),H&&X.append("content",H),q=await fetch(`${$e}/api/messages/${z._id}/file`,{method:"POST",headers:{Authorization:`Bearer ${N.token}`},body:X})}else q=await fetch(`${$e}/api/messages/${z._id}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N.token}`},body:JSON.stringify({content:H,type:ne})});if(q.ok){const X=await q.json();u(se=>[...se,X]),r&&r.emit("send_message",{chatId:z._id,message:X}),n({...z,lastMessage:X,lastActivity:X.createdAt})}}catch(z){console.error("Error sending message:",z)}},O=()=>{r&&r.emit("typing_start",{chatId:e._id})},L=()=>{r&&r.emit("typing_stop",{chatId:e._id})},C=()=>{var H;(H=S.current)==null||H.scrollIntoView({behavior:"auto"})},Y=()=>{var H,ne,D,z;if(e.type==="group")return{name:e.name,avatar:((H=e.avatar)==null?void 0:H.url)||null,subtitle:`${((ne=e.participants)==null?void 0:ne.length)||0} members`,isOnline:!1};{if(!Array.isArray(e.participants)||!N||!N._id)return{name:"Unknown",avatar:null,subtitle:"Offline",isOnline:!1};const q=(D=e.participants.find(Se=>(Se==null?void 0:Se.user)&&Se.user._id!==N._id))==null?void 0:D.user,X=q!=null&&q._id?a.has(q._id):!1,se=q==null?void 0:q.lastSeen;return{name:q?`${q.firstName} ${q.lastName}`:"Unknown",avatar:((z=q==null?void 0:q.photo)==null?void 0:z.url)||null,subtitle:X?"Online":`Last seen ${ce(se)}`,isOnline:X}}},Q=()=>{var ne;if(e.type!=="group")return!1;const H=(ne=e.participants)==null?void 0:ne.find(D=>D.user._id===N._id);return(H==null?void 0:H.role)==="admin"||e.createdBy===N._id},ce=H=>{if(!H)return"recently";const ne=new Date(H),z=new Date-ne;return z<6e4?"just now":z<36e5?`${Math.floor(z/6e4)} min ago`:z<864e5?`${Math.floor(z/36e5)} hours ago`:ne.toLocaleDateString()},{name:W,avatar:J,subtitle:re,isOnline:ee}=Y();return i.jsxs("div",{className:"flex flex-col h-full bg-white",children:[i.jsx("div",{className:"p-4 border-b border-gray-200 bg-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:t,className:"md:hidden p-2 -ml-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",title:"Back to chats",children:i.jsx(B8,{className:"h-5 w-5"})}),i.jsxs("div",{className:"relative flex-shrink-0",children:[J?i.jsx("img",{src:J,alt:W,className:"h-10 w-10 rounded-full object-cover"}):i.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center",children:e.type==="group"?i.jsx(Gh,{className:"h-5 w-5 text-gray-500"}):i.jsx(hm,{className:"h-5 w-5 text-gray-500"})}),e.type==="private"&&ee&&i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 h-3 w-3 bg-green-500 rounded-full border-2 border-white"})]}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-base font-medium text-gray-900 truncate",children:W}),i.jsx("p",{className:"text-sm text-gray-500 truncate",children:re})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("div",{className:"relative",ref:_,children:[i.jsx("button",{onClick:()=>m(!y),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(g7,{className:"h-5 w-5"})}),y&&i.jsxs("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-10",children:[e.type==="group"&&Q()&&i.jsxs("button",{onClick:()=>{v(!0),m(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[i.jsx(l7,{className:"h-4 w-4"}),i.jsx("span",{children:"Group Settings"})]}),e.type==="group"&&i.jsxs("button",{onClick:()=>{m(!1)},className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100 flex items-center space-x-2",children:[i.jsx(Gh,{className:"h-4 w-4"}),i.jsx("span",{children:"Group Info"})]})]})]})})]})}),i.jsx("div",{ref:k,className:"flex-1 overflow-y-auto p-4 space-y-3",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23f3f4f6' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,backgroundRepeat:"repeat"},children:d?i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-500"})}):l.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[i.jsx("div",{className:"text-4xl mb-2",children:"👋"}),i.jsx("p",{className:"text-sm text-center",children:"Say hello to start the conversation!"})]}):i.jsxs(i.Fragment,{children:[l.map((H,ne)=>{var D,z;return i.jsx(cD,{message:H,isOwn:H.sender._id===(N==null?void 0:N._id),showAvatar:(e==null?void 0:e.type)==="group"&&(ne===0||l[ne-1].sender._id!==H.sender._id),showTimestamp:ne===l.length-1||((D=l[ne+1])==null?void 0:D.sender._id)!==H.sender._id||new Date((z=l[ne+1])==null?void 0:z.createdAt)-new Date(H.createdAt)>3e5},H._id)}),p.size>0&&i.jsxs("div",{className:"flex items-center space-x-2 text-gray-500 text-sm",children:[i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),i.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),i.jsx("span",{children:"Someone is typing..."})]}),i.jsx("div",{ref:S})]})}),i.jsx("div",{className:"border-t border-gray-200 bg-white",children:i.jsx(uD,{onSendMessage:B,onTypingStart:O,onTypingStop:L})}),w&&i.jsx(dD,{isOpen:w,onClose:()=>v(!1),chat:e,allUsers:s||[],onChatUpdate:n})]})},hD=({isOpen:e,onClose:r,allUsers:t,onCreateGroup:n})=>{const[a,s]=T.useState(""),[l,u]=T.useState([]),[d,f]=T.useState(""),[p,x]=T.useState(!1),{user:y}=gn(),m=N=>{u(S=>S.some(_=>_._id===N._id)?S.filter(_=>_._id!==N._id):[...S,N])},w=async()=>{if(!(!a.trim()||l.length===0)){x(!0);try{await n({name:a.trim(),participantIds:l.map(N=>N._id)}),s(""),u([]),f(""),r()}catch(N){console.error("Error creating group:",N)}finally{x(!1)}}},v=t.filter(N=>{const S=`${N.firstName} ${N.lastName}`;return N._id!==(y==null?void 0:y._id)&&(S.toLowerCase().includes(d.toLowerCase())||N.email.toLowerCase().includes(d.toLowerCase()))});return e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-opacity-30 backdrop-blur-md",onClick:r}),i.jsxs("div",{className:"relative bg-white h-full w-full md:h-auto md:w-auto md:rounded-lg md:shadow-xl md:max-w-md md:mx-4 md:max-h-[80vh] flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"New Group"}),i.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx(Vp,{className:"h-5 w-5"})})]})}),i.jsxs("div",{className:"p-4 border-b border-gray-200",children:[i.jsx("input",{type:"text",placeholder:"Group name",value:a,onChange:N=>s(N.target.value),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent",maxLength:50}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.length,"/50"]})]}),l.length>0&&i.jsxs("div",{className:"p-4 border-b border-gray-200",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-700 mb-2",children:["Selected (",l.length,")"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(N=>i.jsxs("div",{className:"flex items-center bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs",children:[i.jsxs("span",{children:[N.firstName," ",N.lastName]}),i.jsx("button",{onClick:()=>m(N),className:"ml-1 hover:bg-green-200 rounded-full p-0.5",children:i.jsx(Vp,{className:"h-3 w-3"})})]},N._id))})]}),i.jsx("div",{className:"p-4 border-b border-gray-200",children:i.jsxs("div",{className:"relative",children:[i.jsx(H1,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search users...",value:d,onChange:N=>f(N.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:v.length===0?i.jsx("div",{className:"p-4 text-center text-gray-500",children:i.jsx("p",{className:"text-sm",children:d?"No users found":"No users available"})}):i.jsx("div",{className:"divide-y divide-gray-100",children:v.map(N=>{var k;const S=l.some(_=>_._id===N._id);return i.jsx("div",{onClick:()=>m(N),className:"p-4 cursor-pointer hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:(k=N.photo)!=null&&k.url?i.jsx("img",{src:N.photo.url,alt:`${N.firstName} ${N.lastName}`,className:"h-10 w-10 rounded-full object-cover"}):i.jsx("div",{className:"h-10 w-10 bg-gray-200 rounded-full flex items-center justify-center",children:i.jsx(hm,{className:"h-5 w-5 text-gray-500"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[N.firstName," ",N.lastName]}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:N.email})]}),i.jsx("div",{className:`flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center ${S?"bg-green-500 border-green-500":"border-gray-300"}`,children:S&&i.jsx(Ph,{className:"h-3 w-3 text-white"})})]})},N._id)})})}),i.jsx("div",{className:"p-4 border-t border-gray-200",children:i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:r,className:"flex-1 px-4 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:w,disabled:!a.trim()||l.length===0||p,className:"flex-1 px-4 py-2.5 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p?"Creating...":"Create Group"})]})})]})]}):null},Pc=Object.create(null);Pc.open="0";Pc.close="1";Pc.ping="2";Pc.pong="3";Pc.message="4";Pc.upgrade="5";Pc.noop="6";const w1=Object.create(null);Object.keys(Pc).forEach(e=>{w1[Pc[e]]=e});const Ov={type:"error",data:"parser error"},$_=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",z_=typeof ArrayBuffer=="function",U_=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Ob=({type:e,data:r},t,n)=>$_&&r instanceof Blob?t?n(r):u3(r,n):z_&&(r instanceof ArrayBuffer||U_(r))?t?n(r):u3(new Blob([r]),n):n(Pc[e]+(r||"")),u3=(e,r)=>{const t=new FileReader;return t.onload=function(){const n=t.result.split(",")[1];r("b"+(n||""))},t.readAsDataURL(e)};function d3(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Py;function pD(e,r){if($_&&e.data instanceof Blob)return e.data.arrayBuffer().then(d3).then(r);if(z_&&(e.data instanceof ArrayBuffer||U_(e.data)))return r(d3(e.data));Ob(e,!1,t=>{Py||(Py=new TextEncoder),r(Py.encode(t))})}const f3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_p=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<f3.length;e++)_p[f3.charCodeAt(e)]=e;const mD=e=>{let r=e.length*.75,t=e.length,n,a=0,s,l,u,d;e[e.length-1]==="="&&(r--,e[e.length-2]==="="&&r--);const f=new ArrayBuffer(r),p=new Uint8Array(f);for(n=0;n<t;n+=4)s=_p[e.charCodeAt(n)],l=_p[e.charCodeAt(n+1)],u=_p[e.charCodeAt(n+2)],d=_p[e.charCodeAt(n+3)],p[a++]=s<<2|l>>4,p[a++]=(l&15)<<4|u>>2,p[a++]=(u&3)<<6|d&63;return f},gD=typeof ArrayBuffer=="function",Lb=(e,r)=>{if(typeof e!="string")return{type:"message",data:H_(e,r)};const t=e.charAt(0);return t==="b"?{type:"message",data:xD(e.substring(1),r)}:w1[t]?e.length>1?{type:w1[t],data:e.substring(1)}:{type:w1[t]}:Ov},xD=(e,r)=>{if(gD){const t=mD(e);return H_(t,r)}else return{base64:!0,data:e}},H_=(e,r)=>{switch(r){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},W_="",yD=(e,r)=>{const t=e.length,n=new Array(t);let a=0;e.forEach((s,l)=>{Ob(s,!1,u=>{n[l]=u,++a===t&&r(n.join(W_))})})},vD=(e,r)=>{const t=e.split(W_),n=[];for(let a=0;a<t.length;a++){const s=Lb(t[a],r);if(n.push(s),s.type==="error")break}return n};function bD(){return new TransformStream({transform(e,r){pD(e,t=>{const n=t.length;let a;if(n<126)a=new Uint8Array(1),new DataView(a.buffer).setUint8(0,n);else if(n<65536){a=new Uint8Array(3);const s=new DataView(a.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{a=new Uint8Array(9);const s=new DataView(a.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(a[0]|=128),r.enqueue(a),r.enqueue(t)})}})}let By;function Lg(e){return e.reduce((r,t)=>r+t.length,0)}function Rg(e,r){if(e[0].length===r)return e.shift();const t=new Uint8Array(r);let n=0;for(let a=0;a<r;a++)t[a]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),t}function wD(e,r){By||(By=new TextDecoder);const t=[];let n=0,a=-1,s=!1;return new TransformStream({transform(l,u){for(t.push(l);;){if(n===0){if(Lg(t)<1)break;const d=Rg(t,1);s=(d[0]&128)===128,a=d[0]&127,a<126?n=3:a===126?n=1:n=2}else if(n===1){if(Lg(t)<2)break;const d=Rg(t,2);a=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),n=3}else if(n===2){if(Lg(t)<8)break;const d=Rg(t,8),f=new DataView(d.buffer,d.byteOffset,d.length),p=f.getUint32(0);if(p>Math.pow(2,21)-1){u.enqueue(Ov);break}a=p*Math.pow(2,32)+f.getUint32(4),n=3}else{if(Lg(t)<a)break;const d=Rg(t,a);u.enqueue(Lb(s?d:By.decode(d),r)),n=0}if(a===0||a>e){u.enqueue(Ov);break}}}})}const V_=4;function Es(e){if(e)return ND(e)}function ND(e){for(var r in Es.prototype)e[r]=Es.prototype[r];return e}Es.prototype.on=Es.prototype.addEventListener=function(e,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(r),this};Es.prototype.once=function(e,r){function t(){this.off(e,t),r.apply(this,arguments)}return t.fn=r,this.on(e,t),this};Es.prototype.off=Es.prototype.removeListener=Es.prototype.removeAllListeners=Es.prototype.removeEventListener=function(e,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+e];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,a=0;a<t.length;a++)if(n=t[a],n===r||n.fn===r){t.splice(a,1);break}return t.length===0&&delete this._callbacks["$"+e],this};Es.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),t=this._callbacks["$"+e],n=1;n<arguments.length;n++)r[n-1]=arguments[n];if(t){t=t.slice(0);for(var n=0,a=t.length;n<a;++n)t[n].apply(this,r)}return this};Es.prototype.emitReserved=Es.prototype.emit;Es.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Es.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Lx=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,t)=>t(r,0),rl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),SD="arraybuffer";function q_(e,...r){return r.reduce((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t),{})}const _D=rl.setTimeout,TD=rl.clearTimeout;function Rx(e,r){r.useNativeTimers?(e.setTimeoutFn=_D.bind(rl),e.clearTimeoutFn=TD.bind(rl)):(e.setTimeoutFn=rl.setTimeout.bind(rl),e.clearTimeoutFn=rl.clearTimeout.bind(rl))}const kD=1.33;function jD(e){return typeof e=="string"?ED(e):Math.ceil((e.byteLength||e.size)*kD)}function ED(e){let r=0,t=0;for(let n=0,a=e.length;n<a;n++)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:r<55296||r>=57344?t+=3:(n++,t+=4);return t}function Y_(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function AD(e){let r="";for(let t in e)e.hasOwnProperty(t)&&(r.length&&(r+="&"),r+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return r}function CD(e){let r={},t=e.split("&");for(let n=0,a=t.length;n<a;n++){let s=t[n].split("=");r[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return r}class DD extends Error{constructor(r,t,n){super(r),this.description=t,this.context=n,this.type="TransportError"}}class Rb extends Es{constructor(r){super(),this.writable=!1,Rx(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,t,n){return super.emitReserved("error",new DD(r,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const t=Lb(r,this.socket.binaryType);this.onPacket(t)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,t={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const t=AD(r);return t.length?"?"+t:""}}class OD extends Rb{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const t=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||t()})),this.writable||(n++,this.once("drain",function(){--n||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const t=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};vD(r,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,yD(r,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=Y_()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(r,t)}}let G_=!1;try{G_=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const LD=G_;function RD(){}class MD extends OD{constructor(r){if(super(r),typeof location<"u"){const t=location.protocol==="https:";let n=location.port;n||(n=t?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||n!==r.port}}doWrite(r,t){const n=this.request({method:"POST",data:r});n.on("success",t),n.on("error",(a,s)=>{this.onError("xhr post error",a,s)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(t,n)=>{this.onError("xhr poll error",t,n)}),this.pollXhr=r}}let Bh=class N1 extends Es{constructor(r,t,n){super(),this.createRequest=r,Rx(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var r;const t=q_(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let a in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(a)&&n.setRequestHeader(a,this._opts.extraHeaders[a])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var a;n.readyState===3&&((a=this._opts.cookieJar)===null||a===void 0||a.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(a){this.setTimeoutFn(()=>{this._onError(a)},0);return}typeof document<"u"&&(this._index=N1.requestsCount++,N1.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=RD,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete N1.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Bh.requestsCount=0;Bh.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",h3);else if(typeof addEventListener=="function"){const e="onpagehide"in rl?"pagehide":"unload";addEventListener(e,h3,!1)}}function h3(){for(let e in Bh.requests)Bh.requests.hasOwnProperty(e)&&Bh.requests[e].abort()}const FD=function(){const e=X_({xdomain:!1});return e&&e.responseType!==null}();class PD extends MD{constructor(r){super(r);const t=r&&r.forceBase64;this.supportsBinary=FD&&!t}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new Bh(X_,this.uri(),r)}}function X_(e){const r=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||LD))return new XMLHttpRequest}catch{}if(!r)try{return new rl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const K_=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BD extends Rb{get name(){return"websocket"}doOpen(){const r=this.uri(),t=this.opts.protocols,n=K_?{}:q_(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,t,n)}catch(a){return this.emitReserved("error",a)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const n=r[t],a=t===r.length-1;Ob(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}a&&Lx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Y_()),this.supportsBinary||(t.b64=1),this.createUri(r,t)}}const Iy=rl.WebSocket||rl.MozWebSocket;class ID extends BD{createSocket(r,t,n){return K_?new Iy(r,t,n):t?new Iy(r,t):new Iy(r)}doWrite(r,t){this.ws.send(t)}}class $D extends Rb{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const t=wD(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=r.readable.pipeThrough(t).getReader(),a=bD();a.readable.pipeTo(r.writable),this._writer=a.writable.getWriter();const s=()=>{n.read().then(({done:u,value:d})=>{u||(this.onPacket(d),s())}).catch(u=>{})};s();const l={type:"open"};this.query.sid&&(l.data=`{"sid":"${this.query.sid}"}`),this._writer.write(l).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let t=0;t<r.length;t++){const n=r[t],a=t===r.length-1;this._writer.write(n).then(()=>{a&&Lx(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const zD={websocket:ID,webtransport:$D,polling:PD},UD=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,HD=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Lv(e){if(e.length>8e3)throw"URI too long";const r=e,t=e.indexOf("["),n=e.indexOf("]");t!=-1&&n!=-1&&(e=e.substring(0,t)+e.substring(t,n).replace(/:/g,";")+e.substring(n,e.length));let a=UD.exec(e||""),s={},l=14;for(;l--;)s[HD[l]]=a[l]||"";return t!=-1&&n!=-1&&(s.source=r,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=WD(s,s.path),s.queryKey=VD(s,s.query),s}function WD(e,r){const t=/\/{2,9}/g,n=r.replace(t,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n.splice(0,1),r.slice(-1)=="/"&&n.splice(n.length-1,1),n}function VD(e,r){const t={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,a,s){a&&(t[a]=s)}),t}const Rv=typeof addEventListener=="function"&&typeof removeEventListener=="function",S1=[];Rv&&addEventListener("offline",()=>{S1.forEach(e=>e())},!1);class wd extends Es{constructor(r,t){if(super(),this.binaryType=SD,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(t=r,r=null),r){const n=Lv(r);t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=Lv(t.host).host);Rx(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(n=>{const a=n.prototype.name;this.transports.push(a),this._transportsByName[a]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=CD(this.opts.query)),Rv&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},S1.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const t=Object.assign({},this.opts.query);t.EIO=V_,t.transport=r,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&wd.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(r);t.open(),this.setTransport(t)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",wd.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=r.data,this._onError(t);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let n=0;n<this.writeBuffer.length;n++){const a=this.writeBuffer[n].data;if(a&&(t+=jD(a)),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,Lx(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,t,n){return this._sendPacket("message",r,t,n),this}send(r,t,n){return this._sendPacket("message",r,t,n),this}_sendPacket(r,t,n,a){if(typeof t=="function"&&(a=t,t=void 0),typeof n=="function"&&(a=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:r,data:t,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),a&&this.once("flush",a),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),r()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():r()}):this.upgrading?n():r()),this}_onError(r){if(wd.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Rv&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=S1.indexOf(this._offlineEventListener);n!==-1&&S1.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,t),this.writeBuffer=[],this._prevBufferLen=0}}}wd.protocol=V_;class qD extends wd{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let t=this.createTransport(r),n=!1;wd.priorWebsocketSuccess=!1;const a=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",x=>{if(!n)if(x.type==="pong"&&x.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;wd.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(p(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const y=new Error("probe error");y.transport=t.name,this.emitReserved("upgradeError",y)}}))};function s(){n||(n=!0,p(),t.close(),t=null)}const l=x=>{const y=new Error("probe error: "+x);y.transport=t.name,s(),this.emitReserved("upgradeError",y)};function u(){l("transport closed")}function d(){l("socket closed")}function f(x){t&&x.name!==t.name&&s()}const p=()=>{t.removeListener("open",a),t.removeListener("error",l),t.removeListener("close",u),this.off("close",d),this.off("upgrading",f)};t.once("open",a),t.once("error",l),t.once("close",u),this.once("close",d),this.once("upgrading",f),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n||t.open()},200):t.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const t=[];for(let n=0;n<r.length;n++)~this.transports.indexOf(r[n])&&t.push(r[n]);return t}}let YD=class extends qD{constructor(r,t={}){const n=typeof r=="object"?r:t;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(a=>zD[a]).filter(a=>!!a)),super(r,n)}};function GD(e,r="",t){let n=e;t=t||typeof location<"u"&&location,e==null&&(e=t.protocol+"//"+t.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=t.protocol+e:e=t.host+e),/^(https?|wss?):\/\//.test(e)||(typeof t<"u"?e=t.protocol+"//"+e:e="https://"+e),n=Lv(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+r,n.href=n.protocol+"://"+s+(t&&t.port===n.port?"":":"+n.port),n}const XD=typeof ArrayBuffer=="function",KD=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,J_=Object.prototype.toString,JD=typeof Blob=="function"||typeof Blob<"u"&&J_.call(Blob)==="[object BlobConstructor]",QD=typeof File=="function"||typeof File<"u"&&J_.call(File)==="[object FileConstructor]";function Mb(e){return XD&&(e instanceof ArrayBuffer||KD(e))||JD&&e instanceof Blob||QD&&e instanceof File}function _1(e,r){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(_1(e[t]))return!0;return!1}if(Mb(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return _1(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&_1(e[t]))return!0;return!1}function ZD(e){const r=[],t=e.data,n=e;return n.data=Mv(t,r),n.attachments=r.length,{packet:n,buffers:r}}function Mv(e,r){if(!e)return e;if(Mb(e)){const t={_placeholder:!0,num:r.length};return r.push(e),t}else if(Array.isArray(e)){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=Mv(e[n],r);return t}else if(typeof e=="object"&&!(e instanceof Date)){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=Mv(e[n],r));return t}return e}function eO(e,r){return e.data=Fv(e.data,r),delete e.attachments,e}function Fv(e,r){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<r.length)return r[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let t=0;t<e.length;t++)e[t]=Fv(e[t],r);else if(typeof e=="object")for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=Fv(e[t],r));return e}const tO=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],rO=5;var Cn;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Cn||(Cn={}));class nO{constructor(r){this.replacer=r}encode(r){return(r.type===Cn.EVENT||r.type===Cn.ACK)&&_1(r)?this.encodeAsBinary({type:r.type===Cn.EVENT?Cn.BINARY_EVENT:Cn.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let t=""+r.type;return(r.type===Cn.BINARY_EVENT||r.type===Cn.BINARY_ACK)&&(t+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(t+=r.nsp+","),r.id!=null&&(t+=r.id),r.data!=null&&(t+=JSON.stringify(r.data,this.replacer)),t}encodeAsBinary(r){const t=ZD(r),n=this.encodeAsString(t.packet),a=t.buffers;return a.unshift(n),a}}function p3(e){return Object.prototype.toString.call(e)==="[object Object]"}class Fb extends Es{constructor(r){super(),this.reviver=r}add(r){let t;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(r);const n=t.type===Cn.BINARY_EVENT;n||t.type===Cn.BINARY_ACK?(t.type=n?Cn.EVENT:Cn.ACK,this.reconstructor=new aO(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(Mb(r)||r.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(r),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let t=0;const n={type:Number(r.charAt(0))};if(Cn[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Cn.BINARY_EVENT||n.type===Cn.BINARY_ACK){const s=t+1;for(;r.charAt(++t)!=="-"&&t!=r.length;);const l=r.substring(s,t);if(l!=Number(l)||r.charAt(t)!=="-")throw new Error("Illegal attachments");n.attachments=Number(l)}if(r.charAt(t+1)==="/"){const s=t+1;for(;++t&&!(r.charAt(t)===","||t===r.length););n.nsp=r.substring(s,t)}else n.nsp="/";const a=r.charAt(t+1);if(a!==""&&Number(a)==a){const s=t+1;for(;++t;){const l=r.charAt(t);if(l==null||Number(l)!=l){--t;break}if(t===r.length)break}n.id=Number(r.substring(s,t+1))}if(r.charAt(++t)){const s=this.tryParse(r.substr(t));if(Fb.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,t){switch(r){case Cn.CONNECT:return p3(t);case Cn.DISCONNECT:return t===void 0;case Cn.CONNECT_ERROR:return typeof t=="string"||p3(t);case Cn.EVENT:case Cn.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&tO.indexOf(t[0])===-1);case Cn.ACK:case Cn.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class aO{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const t=eO(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const sO=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Fb,Encoder:nO,get PacketType(){return Cn},protocol:rO},Symbol.toStringTag,{value:"Module"}));function Ol(e,r,t){return e.on(r,t),function(){e.off(r,t)}}const iO=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Q_ extends Es{constructor(r,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[Ol(r,"open",this.onopen.bind(this)),Ol(r,"packet",this.onpacket.bind(this)),Ol(r,"error",this.onerror.bind(this)),Ol(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...t){var n,a,s;if(iO.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(t.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const l={type:Cn.EVENT,data:t};if(l.options={},l.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const p=this.ids++,x=t.pop();this._registerAckCallback(p,x),l.id=p}const u=(a=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||a===void 0?void 0:a.writable,d=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!u||(d?(this.notifyOutgoingListeners(l),this.packet(l)):this.sendBuffer.push(l)),this.flags={},this}_registerAckCallback(r,t){var n;const a=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(a===void 0){this.acks[r]=t;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===r&&this.sendBuffer.splice(u,1);t.call(this,new Error("operation has timed out"))},a),l=(...u)=>{this.io.clearTimeoutFn(s),t.apply(this,u)};l.withError=!0,this.acks[r]=l}emitWithAck(r,...t){return new Promise((n,a)=>{const s=(l,u)=>l?a(l):n(u);s.withError=!0,t.push(s),this.emit(r,...t)})}_addToQueue(r){let t;typeof r[r.length-1]=="function"&&(t=r.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((a,...s)=>n!==this._queue[0]?void 0:(a!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(a)):(this._queue.shift(),t&&t(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!r||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Cn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(n=>String(n.id)===r)){const n=this.acks[r];delete this.acks[r],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Cn.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Cn.EVENT:case Cn.BINARY_EVENT:this.onevent(r);break;case Cn.ACK:case Cn.BINARY_ACK:this.onack(r);break;case Cn.DISCONNECT:this.ondisconnect();break;case Cn.CONNECT_ERROR:this.destroy();const n=new Error(r.data.message);n.data=r.data.data,this.emitReserved("connect_error",n);break}}onevent(r){const t=r.data||[];r.id!=null&&t.push(this.ack(r.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const t=this;let n=!1;return function(...a){n||(n=!0,t.packet({type:Cn.ACK,id:r,data:a}))}}onack(r){const t=this.acks[r.id];typeof t=="function"&&(delete this.acks[r.id],t.withError&&r.data.unshift(null),t.apply(this,r.data))}onconnect(r,t){this.id=r,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Cn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(r===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(r===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,r.data)}}}function o0(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}o0.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),t=Math.floor(r*this.jitter*e);e=(Math.floor(r*10)&1)==0?e-t:e+t}return Math.min(e,this.max)|0};o0.prototype.reset=function(){this.attempts=0};o0.prototype.setMin=function(e){this.ms=e};o0.prototype.setMax=function(e){this.max=e};o0.prototype.setJitter=function(e){this.jitter=e};class Pv extends Es{constructor(r,t){var n;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(t=r,r=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Rx(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((n=t.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new o0({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=r;const a=t.parser||sO;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var t;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(t=this.backoff)===null||t===void 0||t.setMin(r),this)}randomizationFactor(r){var t;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(t=this.backoff)===null||t===void 0||t.setJitter(r),this)}reconnectionDelayMax(r){var t;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(t=this.backoff)===null||t===void 0||t.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new YD(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const a=Ol(t,"open",function(){n.onopen(),r&&r()}),s=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),r?r(u):this.maybeReconnectOnOpen()},l=Ol(t,"error",s);if(this._timeout!==!1){const u=this._timeout,d=this.setTimeoutFn(()=>{a(),s(new Error("timeout")),t.close()},u);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(a),this.subs.push(l),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(Ol(r,"ping",this.onping.bind(this)),Ol(r,"data",this.ondata.bind(this)),Ol(r,"error",this.onerror.bind(this)),Ol(r,"close",this.onclose.bind(this)),Ol(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(t){this.onclose("parse error",t)}}ondecoded(r){Lx(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,t){let n=this.nsps[r];return n?this._autoConnect&&!n.active&&n.connect():(n=new Q_(this,r,t),this.nsps[r]=n),n}_destroy(r){const t=Object.keys(this.nsps);for(const n of t)if(this.nsps[n].active)return;this._close()}_packet(r){const t=this.encoder.encode(r);for(let n=0;n<t.length;n++)this.engine.write(t[n],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,t){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(a=>{a?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",a)):r.onreconnect()}))},t);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const lp={};function T1(e,r){typeof e=="object"&&(r=e,e=void 0),r=r||{};const t=GD(e,r.path||"/socket.io"),n=t.source,a=t.id,s=t.path,l=lp[a]&&s in lp[a].nsps,u=r.forceNew||r["force new connection"]||r.multiplex===!1||l;let d;return u?d=new Pv(n,r):(lp[a]||(lp[a]=new Pv(n,r)),d=lp[a]),t.query&&!r.query&&(r.query=t.queryKey),d.socket(t.path,r)}Object.assign(T1,{Manager:Pv,Socket:Q_,io:T1,connect:T1});const oO=({onClose:e,onUnreadCountChange:r})=>{const[t,n]=T.useState(null),[a,s]=T.useState([]),[l,u]=T.useState([]),[d,f]=T.useState(!1),[p,x]=T.useState(!0),[y,m]=T.useState(null),[w,v]=T.useState(new Set),[N,S]=T.useState(!1),{user:k}=gn(),_=T.useRef(null);T.useEffect(()=>{if(k!=null&&k.token){const L=T1($e,{autoConnect:!1});return L.connect(),L.emit("authenticate",k.token),L.on("auth_error",C=>{console.error("Socket authentication error:",C)}),L.on("new_message",C=>{s(Y=>{const Q=Y.map(W=>{if(W._id===C.chat){const J=(t==null?void 0:t._id)===C.chat,re=C.sender._id===k._id;return{...W,lastMessage:C,lastActivity:C.createdAt,unreadCount:J||re?0:(W.unreadCount||0)+1}}return W}),ce=Q.findIndex(W=>W._id===C.chat);if(ce>0){const[W]=Q.splice(ce,1);return[W,...Q]}return Q})}),L.on("messages_read",({chatId:C,userId:Y})=>{Y===k._id&&s(Q=>Q.map(ce=>ce._id===C?{...ce,unreadCount:0}:ce))}),L.on("user_online",({userId:C,isOnline:Y})=>{v(Q=>{const ce=new Set(Q);return Y?ce.add(C):ce.delete(C),ce})}),m(L),()=>{L.disconnect()}}},[k==null?void 0:k.token]),T.useEffect(()=>{A(),R()},[k==null?void 0:k.token]),T.useEffect(()=>{const L=a.reduce((C,Y)=>C+(Y.unreadCount||0),0);r(L)},[a,r]);const A=async()=>{if(k!=null&&k.token)try{x(!0);const L=await fetch(`${$e}/api/chats`,{headers:{Authorization:`Bearer ${k.token}`}});if(L.ok){const C=await L.json();s(C)}}catch(L){console.error("Error fetching chats:",L)}finally{x(!1)}},R=async()=>{if(k!=null&&k.token)try{const L=await fetch(`${$e}/api/chats/users/all`,{headers:{Authorization:`Bearer ${k.token}`}});if(L.ok){const C=await L.json();u(C)}}catch(L){console.error("Error fetching users:",L)}},V=L=>{n(L),S(!0),L.unreadCount>0&&s(C=>C.map(Y=>Y._id===L._id?{...Y,unreadCount:0}:Y)),y&&y.emit("join_chat",L._id)},P=async L=>{const C=a.find(Y=>Y&&Y.type==="private"&&Array.isArray(Y.participants)&&Y.participants.some(Q=>Q&&Q.user&&Q.user._id===(L==null?void 0:L._id)));if(C)n(C),S(!0),y&&y.emit("join_chat",C._id);else{const Y={_id:`temp_${L._id}`,type:"private",participants:[{user:k},{user:L}],isTemporary:!0,targetUser:L};n(Y),S(!0)}},I=()=>{S(!1)},B=async L=>{try{const C=await fetch(`${$e}/api/chats/group`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k.token}`},body:JSON.stringify(L)});if(C.ok){const Y=await C.json();s(Q=>[Y,...Q]),n(Y),y&&y.emit("join_chat",Y._id),f(!1)}else{const Y=await C.json();throw new Error(Y.message||"Failed to create group")}}catch(C){throw console.error("Error creating group:",C),C}},O=(L,C=!1)=>{C?(s(Y=>[L,...Y]),n(L)):(s(Y=>{const Q=Y.filter(ce=>ce._id!==L._id);return[L,...Q]}),(t==null?void 0:t._id)===L._id&&n(L))};return i.jsxs("div",{ref:_,className:"bg-white h-full w-full md:rounded-lg md:shadow-2xl md:border border-gray-200 overflow-hidden",style:{...window.innerWidth>=768&&{width:"85vw",height:"80vh",maxWidth:"1200px",maxHeight:"800px",minWidth:"600px",minHeight:"500px"},boxShadow:window.innerWidth>=768?"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)":"none"},children:[i.jsxs("div",{className:"flex h-full",children:[i.jsx("div",{className:`w-full md:w-80 border-r border-gray-200 bg-gray-50 flex-shrink-0 ${N?"hidden md:block":"block"}`,children:i.jsx(lD,{chats:a,allUsers:l,activeChat:t,onChatSelect:V,onUserSelect:P,onNewGroup:()=>f(!0),loading:p,onlineUsers:w,onClose:e})}),t&&i.jsx("div",{className:`flex-1 flex flex-col min-w-0 ${N?"block":"hidden md:flex"}`,children:i.jsx(fD,{chat:t,socket:y,onBack:I,onChatUpdate:O,onlineUsers:w,allUsers:l})}),!t&&i.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"text-center text-gray-300",children:[i.jsx("div",{className:"text-8xl font-bold mb-4",children:"HAACAS"}),i.jsx("p",{className:"text-xl",children:"Select a chat to start messaging"})]})})]}),i.jsx(hD,{isOpen:d,onClose:()=>f(!1),allUsers:l,onCreateGroup:B})]})},lO=()=>{const[e,r]=T.useState(!1),[t,n]=T.useState(0),a=T.useRef(null);return T.useEffect(()=>{const s=l=>{a.current&&!a.current.contains(l.target)&&r(!1)};return e&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[e]),i.jsxs("div",{className:"relative",ref:a,children:[i.jsxs("button",{onClick:()=>r(!e),className:"relative p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",title:"Chat",children:[i.jsx(K8,{className:"h-6 w-6"}),t>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-medium min-w-[20px]",children:t>99?"99+":t})]}),e&&i.jsx("div",{className:"fixed inset-0 md:absolute md:top-full md:right-0 md:mt-2 md:inset-auto z-50",children:i.jsx(oO,{onClose:()=>r(!1),onUnreadCountChange:n})})]})},cO=e=>{var y;const[r,t]=T.useState(!1),n=T.useRef(null),a=zl(),{logout:s,user:l}=gn(),u=e.user||l,{onSidebarToggle:d}=e;T.useEffect(()=>{const m=w=>{n.current&&!n.current.contains(w.target)&&t(!1)};return r&&document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[r]);const f=()=>{a("/dashboard/settings"),t(!1)},p=()=>{a("/forgot-password"),t(!1)},x=()=>{s(),a("/login"),t(!1)};return i.jsxs("header",{className:"w-full h-16 bg-white shadow flex items-center px-4 sm:px-6 justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{className:"md:hidden mr-3 p-2 rounded hover:bg-gray-100 focus:outline-none",onClick:d,"aria-label":"Open sidebar",children:i.jsx(U8,{className:"h-6 w-6 text-gray-700"})}),i.jsxs("div",{className:"flex flex-col justify-center",children:[i.jsx("span",{className:"text-xl md:text-xl mb-1 text-gray-800 leading-tight",children:"Hari Agarwal & Associates"}),i.jsx("span",{className:"text-xs md:text-sm text-gray-500 -mt-1",children:"Chartered Accountants"})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"-mr-[1px]",children:i.jsx(lO,{})}),i.jsx(oD,{}),i.jsxs("div",{className:"relative",ref:n,children:[i.jsxs("button",{onClick:()=>t(!r),className:"flex items-center hover:bg-gray-50 p-1.5 rounded-lg transition-colors",children:[i.jsx("img",{src:((y=u==null?void 0:u.photo)==null?void 0:y.url)||kn,alt:"Profile",className:"h-8 w-8 rounded-full object-cover"}),i.jsxs("span",{className:"ml-2 text-sm md:text-base font-normal text-gray-800 hidden sm:inline",children:[u==null?void 0:u.firstName," ",u==null?void 0:u.lastName]})]}),r&&i.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-50",children:[i.jsxs("button",{onClick:f,className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-gray-50",children:[i.jsx(eD,{className:"w-5 h-5 mr-3"}),i.jsx("span",{className:"text-sm",children:"My Profile"})]}),i.jsxs("button",{onClick:p,className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-gray-50",children:[i.jsx(T7,{className:"w-5 h-5 mr-3"}),i.jsx("span",{className:"text-sm",children:"Reset Password"})]}),i.jsxs("button",{onClick:x,className:"flex items-center w-full px-4 py-2 text-gray-700 hover:bg-gray-50",children:[i.jsx($8,{className:"w-5 h-5 mr-3"}),i.jsx("span",{className:"text-sm",children:"Logout"})]})]})]})]})]})},Mg=({children:e})=>{const{user:r}=gn(),t=zl(),n=$l(),[a,s]=T.useState(!1),l=[];if(r){switch(r.role){case"Admin":l.push({id:"dashboard",label:"Dashboard",icon:bc,path:"/dashboard"},{id:"received-tasks",label:"Tasks",icon:ud,path:"/dashboard/received-tasks"},{id:"billed-tasks",label:"Billed Tasks",icon:u7,path:"/dashboard/billed-tasks"},{id:"unbilled-tasks",label:"UnBilled Tasks",icon:f7,path:"/dashboard/unbilled-tasks"},{id:"analytics",label:"Analytics",icon:bc,path:"/dashboard/analytics"},{id:"timesheets",label:"My Timesheets",icon:lf,path:"/dashboard/timesheets"},{id:"subordinate-timesheets",label:"Subordinate Timesheets",icon:ud,path:"/dashboard/subordinate-timesheets"},{id:"task-verification",label:"Tasks Pending For Approval",icon:l3,path:"/dashboard/task-verification"},{id:"activity-logs",label:"Activity Logs",icon:s3,path:"/dashboard/activity-logs"},{id:"notes",label:"Notes",icon:sp,path:"/dashboard/notes"},{id:"team",label:"Teams",icon:Gh,path:"/dashboard/team"},{id:"announcements",label:"Announcements",icon:op,path:"/dashboard/announcements"},{id:"cost",label:"Cost",icon:bc,path:"/dashboard/cost"},{id:"clients",label:"Clients",icon:Fy,path:"/dashboard/clients"},{id:"settings",label:"Settings",icon:ip,path:"/dashboard/settings"},{id:"user-approvals",label:"User Approvals",icon:I_,path:"/dashboard/user-approvals"},{id:"blocked-users",label:"Blocked Users",icon:D7,path:"/dashboard/blocked-users"},{id:"add-users",label:"All Users",icon:Gh,path:"/dashboard/add-users"});break;case"Senior":l.push({id:"dashboard",label:"Dashboard",icon:bc,path:"/dashboard"},{id:"received-tasks",label:"Tasks",icon:ud,path:"/dashboard/received-tasks"},{id:"timesheets",label:"My Timesheets",icon:lf,path:"/dashboard/timesheets"},{id:"notes",label:"Notes",icon:sp,path:"/dashboard/notes"},{id:"announcements",label:"Announcements",icon:op,path:"/dashboard/announcements"},{id:"analytics",label:"Analytics",icon:bc,path:"/dashboard/analytics"},{id:"settings",label:"Settings",icon:ip,path:"/dashboard/settings"},{id:"clients",label:"Clients",icon:Fy,path:"/dashboard/clients"});break;case"Team Head":l.push({id:"dashboard",label:"Dashboard",icon:bc,path:"/dashboard"},{id:"received-tasks",label:"Tasks",icon:ud,path:"/dashboard/received-tasks"},{id:"timesheets",label:"Timesheets",icon:lf,path:"/dashboard/timesheets"},{id:"subordinate-timesheets",label:"Subordinate Timesheets",icon:ud,path:"/dashboard/subordinate-timesheets"},{id:"activity-logs",label:"Activity Logs",icon:s3,path:"/dashboard/activity-logs"},{id:"notes",label:"Notes",icon:sp,path:"/dashboard/notes"},{id:"announcements",label:"Announcements",icon:op,path:"/dashboard/announcements"},{id:"clients",label:"Clients",icon:Fy,path:"/dashboard/clients"},{id:"analytics",label:"Analytics",icon:bc,path:"/dashboard/analytics"},{id:"settings",label:"Settings",icon:ip,path:"/dashboard/settings"});break;case"Fresher":l.push({id:"received-tasks",label:"Tasks",icon:ud,path:"/dashboard/received-tasks"},{id:"timesheets",label:"Timesheets",icon:lf,path:"/dashboard/timesheets"},{id:"notes",label:"Notes",icon:sp,path:"/dashboard/notes"},{id:"announcements",label:"Announcements",icon:op,path:"/dashboard/announcements"},{id:"analytics",label:"Analytics",icon:bc,path:"/dashboard/analytics"},{id:"settings",label:"Settings",icon:ip,path:"/dashboard/settings"});break;default:l.push({id:"received-tasks",label:"Tasks",icon:ud,path:"/dashboard/received-tasks"},{id:"timesheets",label:"Timesheets",icon:lf,path:"/dashboard/timesheets"},{id:"notes",label:"Notes",icon:sp,path:"/dashboard/notes"},{id:"announcements",label:"Announcements",icon:op,path:"/dashboard/announcements"},{id:"analytics",label:"Analytics",icon:bc,path:"/dashboard/analytics"},{id:"settings",label:"Settings",icon:ip,path:"/dashboard/settings"});break}if((Array.isArray(r.role2)?r.role2.includes("TimeSheet Verifier"):r.role2==="TimeSheet Verifier")&&r.role!=="Admin"&&r.role!=="Team Head"&&l.push({id:"subordinate-timesheets",label:"Subordinate Timesheets",icon:ud,path:"/dashboard/subordinate-timesheets"}),(Array.isArray(r.role2)?r.role2.includes("Task Verifier"):r.role2==="Task Verifier")&&r.role!=="Admin"){const d=l.findIndex(p=>p.id==="notes"),f={id:"task-verification",label:"Tasks Pending For Approval",icon:l3,path:"/dashboard/task-verification"};d!==-1?l.splice(d,0,f):l.push(f)}}const u=()=>n.pathname.split("/").pop()||"dashboard";return i.jsxs("div",{className:"h-screen flex flex-col",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(cO,{onSidebarToggle:()=>s(d=>!d)})}),i.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[a&&i.jsx("div",{className:"fixed inset-0 z-30 backdrop-blur-xs bg-black/30 md:hidden",onClick:()=>s(!1),"aria-label":"Close sidebar overlay"}),i.jsx("div",{className:`fixed z-40 inset-y-0 left-0 w-56 bg-white border-r border-gray-200 transform transition-transform duration-200 ease-in-out
            md:static md:translate-x-0 md:w-[280px] md:flex-shrink-0
            ${a?"translate-x-0":"-translate-x-full"} md:translate-x-0`,children:i.jsx("nav",{className:"h-full flex flex-col overflow-y-auto scrollbar-hide",children:i.jsx("div",{className:"flex-1",children:l.map(d=>{const f=d.icon,p=u()===d.id;return i.jsxs("button",{onClick:()=>{t(d.path),s(!1)},className:`w-full flex items-center px-6 py-3 text-md transition-colors duration-150 rounded-none ${p?"bg-[#6690f4] text-white":"text-gray-600 hover:text-gray-900"}`,style:{marginTop:0,marginBottom:0},children:[i.jsx(f,{className:`flex-shrink-0 w-5 h-5 ${p?"text-white":"text-gray-600 group-hover:text-gray-900"}`}),i.jsx("span",{className:"ml-3 truncate",children:d.label})]},d.id)})})})}),i.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:e})]})]})},Z_=({taskId:e,onFileUploaded:r,onFileDeleted:t})=>{const{user:n}=gn(),[a,s]=T.useState([]),[l,u]=T.useState(!1),d=T.useRef(null),f=x=>{const y=Array.from(x.target.files);s(y)},p=async()=>{if(a.length===0){Ee.error("Please select files to upload");return}u(!0);const x=new FormData;a.forEach(y=>{x.append("files",y)});try{const y=await fetch(`${$e}/api/tasks/${e}/files`,{method:"POST",headers:{Authorization:`Bearer ${n.token}`},body:x});if(!y.ok){const w=await y.json();throw new Error(w.message||"Failed to upload files")}const m=await y.json();Ee.success("Files uploaded successfully"),s([]),d.current&&(d.current.value=""),r&&r(m)}catch(y){Ee.error(y.message)}finally{u(!1)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("input",{type:"file",multiple:!0,onChange:f,ref:d,className:`block w-full text-sm text-gray-500\r
            file:mr-4 file:py-2 file:px-4\r
            file:rounded-md file:border-0\r
            file:text-sm file:font-semibold\r
            file:bg-blue-50 file:text-blue-700\r
            hover:file:bg-blue-100`}),i.jsx("button",{onClick:p,disabled:l||a.length===0,className:`px-4 py-2 rounded-md text-white font-medium
            ${l||a.length===0?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:l?"Uploading...":"Upload"})]}),a.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Selected files:"}),i.jsx("ul",{className:"mt-1 space-y-1",children:a.map((x,y)=>i.jsxs("li",{className:"text-sm text-gray-700",children:[x.name," (",(x.size/1024/1024).toFixed(2)," MB)"]},y))})]})]})},pm=({taskId:e,files:r=[],onFileDeleted:t})=>{const{user:n}=gn(),[a,s]=T.useState(r);T.useEffect(()=>{s(r)},[r]),T.useEffect(()=>{const d=async()=>{try{const f=await fetch(`${$e}/api/tasks/${e}/files`,{headers:{Authorization:`Bearer ${n.token}`}});if(!f.ok)throw new Error("Failed to fetch files");const p=await f.json();s(p)}catch(f){console.error("Error fetching files:",f),Ee.error("Failed to load files")}};r.length===0&&d()},[e,n.token,r]);const l=async d=>{try{if(!(await fetch(`${$e}/api/tasks/${e}/files/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${n.token}`}})).ok)throw new Error("Failed to delete file");s(a.filter(p=>p._id!==d)),t&&t(d),Ee.success("File deleted successfully")}catch(f){Ee.error(f.message)}},u=d=>{switch(d.split(".").pop().toLowerCase()){case"pdf":return"📄";case"doc":case"docx":case"odt":return"📝";case"xls":case"xlsx":case"ods":return"📊";case"ppt":case"pptx":case"odp":return"📑";case"jpg":case"jpeg":case"png":return"🖼️";case"txt":return"📃";default:return"📎"}};return a.length===0?i.jsx("div",{className:"text-center text-gray-500 py-4",children:"No files uploaded yet"}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Attached Files"}),i.jsx("div",{className:"grid gap-4",children:a.map(d=>{var f,p;return i.jsxs("div",{className:"flex items-center justify-between p-4 bg-white rounded-lg border border-gray-200 hover:border-blue-500 transition-colors",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("span",{className:"text-2xl",children:u(d.originalName)}),i.jsxs("div",{children:[i.jsx("a",{href:d.cloudUrl?d.cloudUrl:void 0,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 font-medium",children:d.originalName}),!d.cloudUrl&&i.jsx("div",{className:"text-xs text-red-500",children:"No public link available"}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Uploaded by ",(f=d.uploadedBy)==null?void 0:f.firstName," ",(p=d.uploadedBy)==null?void 0:p.lastName," on"," ",new Date(d.uploadedAt).toLocaleDateString()]})]})]}),i.jsx("button",{onClick:()=>l(d._id),className:"text-red-600 hover:text-red-800",title:"Delete file",children:"🗑️"})]},d._id)})})]})},eT=({taskId:e})=>{const{user:r,token:t,isAuthenticated:n}=gn(),[a,s]=T.useState([]),[l,u]=T.useState(""),[d,f]=T.useState(!1),[p,x]=T.useState(null),y=T.useRef(null),m=T.useRef([]),[w,v]=T.useState({}),[N,S]=T.useState(!1);T.useEffect(()=>{n()&&t&&k()},[e,t,n]),T.useEffect(()=>{const B=async()=>{const O={...w};for(const L of a)if(L.type==="audio"&&L.audioUrl&&!O[L._id])try{if(L.audioUrl.startsWith("http"))O[L._id]=L.audioUrl;else{const C=await fetch(`${$e}/api/tasks/audio/${L.audioUrl}`);if(C.ok){const Y=await C.blob();O[L._id]=URL.createObjectURL(Y)}else console.error(`Failed to fetch audio for comment ${L._id}`)}}catch(C){console.error(`Error fetching audio for comment ${L._id}:`,C)}v(O)};return a.length>0&&B(),()=>{Object.values(w).forEach(O=>URL.revokeObjectURL(O))}},[a,t]);const k=async()=>{if(!t){console.error("No authentication token available"),Ee.error("Please log in to view comments");return}try{const B=await fetch(`${$e}/api/tasks/${e}/comments`,{headers:{Authorization:`Bearer ${t}`}});if(B.status===401){Ee.error("Your session has expired. Please log in again.");return}if(!B.ok){const L=await B.json();throw new Error(L.message||"Failed to fetch comments")}const O=await B.json();s(O)}catch(B){console.error("Error fetching comments:",B),Ee.error(B.message||"Failed to load comments")}},_=async B=>{if(B.preventDefault(),!!l.trim()){if(!t){Ee.error("Please log in to add comments");return}try{const O=await fetch(`${$e}/api/tasks/${e}/comments`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({content:l})});if(O.status===401){Ee.error("Your session has expired. Please log in again.");return}if(!O.ok){const C=await O.json();throw new Error(C.message||"Failed to add comment")}const L=await O.json();s(L),u(""),Ee.success("Comment added successfully")}catch(O){console.error("Error adding comment:",O),Ee.error(O.message||"Failed to add comment")}}},A=async()=>{try{const B=await navigator.mediaDevices.getUserMedia({audio:!0});y.current=new MediaRecorder(B),m.current=[],y.current.ondataavailable=O=>{O.data&&O.data.size>0&&m.current.push(O.data)},y.current.onstop=()=>{const O=new Blob(m.current,{type:"audio/webm"});x(O)},y.current.start(),f(!0)}catch(B){console.error("Error starting recording:",B),Ee.error("Failed to start recording")}},R=()=>{y.current&&d&&(y.current.stop(),f(!1),y.current.stream.getTracks().forEach(B=>B.stop()))},V=async()=>{if(p){if(p.size===0){Ee.error("Recorded audio is empty. Please try recording again.");return}if(!t){Ee.error("Please log in to add audio comments");return}S(!0);try{const B=new FormData;B.append("audio",p,"recording.webm");const O=await fetch(`${$e}/api/tasks/${e}/comments/audio`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:B});if(O.status===401){Ee.error("Your session has expired. Please log in again.");return}if(!O.ok){const C=await O.json();throw new Error(C.message||"Failed to add audio comment")}const L=await O.json();s(L),x(null),Ee.success("Audio comment added successfully")}catch(B){console.error("Error adding audio comment:",B),Ee.error(B.message||"Failed to add audio comment")}finally{S(!1)}}},P=async B=>{if(!t){Ee.error("Please log in to delete comments");return}try{const O=await fetch(`${$e}/api/tasks/${e}/comments/${B}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(O.status===401){Ee.error("Your session has expired. Please log in again.");return}if(!O.ok){const L=await O.json();throw new Error(L.message||"Failed to delete comment")}s(a.filter(L=>L._id!==B)),Ee.success("Comment deleted successfully")}catch(O){console.error("Error deleting comment:",O),Ee.error(O.message||"Failed to delete comment")}},I=B=>new Date(B).toLocaleString();return i.jsxs("div",{className:"mt-4",children:[i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Comments"}),i.jsxs("form",{onSubmit:_,className:"mb-4",children:[i.jsx("textarea",{value:l,onChange:B=>u(B.target.value),placeholder:"Add a comment...",className:"w-full p-2 border rounded",rows:"3"}),i.jsx("button",{type:"submit",className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Add Comment"})]}),i.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[i.jsx("button",{onClick:d?R:A,className:`px-4 py-2 rounded ${d?"bg-red-500 hover:bg-red-600":"bg-green-500 hover:bg-green-600"} text-white`,children:d?"Stop Recording":"Start Recording"}),p&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("audio",{src:URL.createObjectURL(p),controls:!0,preload:"metadata"}),i.jsx("button",{onClick:V,className:"px-4 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed",disabled:N,children:N?"Uploading...":"Send Audio"}),i.jsx("button",{onClick:()=>x(null),className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",disabled:N,children:"Clear"})]})]}),i.jsx("div",{className:"space-y-4",children:a.map(B=>{var O;return i.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("img",{src:((O=B.createdBy.photo)==null?void 0:O.url)||kn,alt:B.createdBy.firstName,className:"w-8 h-8 rounded-full object-cover",onError:L=>{L.target.onerror=null,L.target.src=kn}}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"font-medium",children:[B.createdBy.firstName," ",B.createdBy.lastName]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:I(B.createdAt)}),r&&r._id===B.createdBy._id&&i.jsx("button",{onClick:()=>P(B._id),className:"text-red-500 hover:text-red-700 text-xs",children:"Delete"})]})]}),B.type==="text"?i.jsx("p",{className:"mt-1 text-gray-700",children:B.content}):i.jsxs("audio",{controls:!0,className:"mt-2 w-full",preload:"metadata",children:[w[B._id]&&i.jsx("source",{src:w[B._id],type:"audio/webm"}),"Your browser does not support the audio element."]})]})]})},B._id)})})]})},uO=`
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none !important;
  }
`;if(typeof document<"u"){const e=document.createElement("style");e.textContent=uO,document.head.appendChild(e)}const dO=({isOpen:e,onClose:r,onSubmit:t,task:n,verificationType:a,loading:s=!1})=>{const[l,u]=T.useState(""),d=T.useRef(null),f=T.useRef(null);T.useEffect(()=>{const y=m=>{d.current&&!d.current.contains(m.target)&&r()};return e&&(document.addEventListener("mousedown",y),setTimeout(()=>{f.current&&f.current.focus()},100)),()=>{document.removeEventListener("mousedown",y)}},[e,r]);const p=y=>{y.preventDefault();const m=l.trim();t(m)},x=y=>{y.key==="Enter"&&y.ctrlKey&&p(y)};return e?i.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsxs("div",{ref:d,className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md mx-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a==="accepted"?"Accept Verification":"Return Verification"}),i.jsx("button",{onClick:r,disabled:s,className:"text-gray-500 hover:text-gray-700 transition-colors",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Task: ",i.jsx("span",{className:"font-medium",children:n==null?void 0:n.title})]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["You are about to ",i.jsx("span",{className:`font-medium ${a==="accepted"?"text-green-600":"text-red-600"}`,children:a==="rejected"?"Return":a.charAt(0).toUpperCase()+a.slice(1)})," this task verification."]})]}),i.jsxs("form",{onSubmit:p,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-2",children:"Remarks"}),i.jsx("textarea",{ref:f,id:"remarks",value:l,onChange:y=>u(y.target.value),onKeyDown:x,placeholder:"Enter your remarks here... (optional)",rows:4,disabled:s,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none disabled:opacity-50 disabled:cursor-not-allowed"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Press Ctrl+Enter to submit quickly"})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{type:"button",onClick:r,disabled:s,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:s,className:`px-4 py-2 text-white rounded-lg transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed ${a==="accepted"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:s?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):a==="accepted"?"Accept":"Return"})]})]})]})}):null},m3=({task:e,currentStatusOptions:r,statusLoading:t,getStatusColor:n,getStatusStyles:a,onStatusChange:s,onClose:l,position:u})=>{const[d,f]=T.useState(""),[p,x]=T.useState(r),[y,m]=T.useState(-1),w=T.useRef(null),v=T.useRef(null);T.useEffect(()=>{v.current&&v.current.focus()},[]),T.useEffect(()=>{const S=r.filter(k=>k.label.toLowerCase().includes(d.toLowerCase()));x(S),m(-1)},[d,r]),T.useEffect(()=>{const S=k=>{if(k.key==="Escape")l();else if(k.key==="ArrowDown")k.preventDefault(),m(_=>_<p.length-1?_+1:0);else if(k.key==="ArrowUp")k.preventDefault(),m(_=>_>0?_-1:p.length-1);else if(k.key==="Enter"&&(k.preventDefault(),y>=0&&p[y])){const _=p[y];e.status!==_.value&&s(e,_.value),l()}};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[y,p,e,s,l]);const N=S=>{!t&&e.status!==S.value&&s(e,S.value),l()};return Jo.createPortal(i.jsxs("div",{ref:w,style:{position:"absolute",top:u.top,left:u.left,minWidth:200,maxWidth:300,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",zIndex:9999},onClick:S=>S.stopPropagation(),children:[i.jsx("div",{className:"p-2 border-b border-gray-200",children:i.jsx("input",{ref:v,type:"text",value:d,onChange:S=>f(S.target.value),placeholder:"Search statuses...",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})}),i.jsx("div",{className:"max-h-60 overflow-y-auto p-1",style:{scrollbarWidth:"thin",scrollbarColor:"#cbd5e0 #f7fafc"},children:p.length===0?i.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:"No statuses found"}):p.map((S,k)=>i.jsxs("div",{className:`flex items-center justify-between p-2 rounded-md cursor-pointer transition-colors ${k===y?"bg-blue-50":e.status===S.value?"bg-gray-50":"hover:bg-gray-50"}`,style:{opacity:t?.6:1},onClick:()=>N(S),onMouseEnter:()=>m(k),children:[i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${n(S.value)||""}`,style:a(S.value)||{},children:S.label}),e.status===S.value&&i.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",className:"text-green-600",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]},S.value))}),p.length>5&&i.jsx("div",{className:"px-2 py-1 text-xs text-gray-500 border-t border-gray-200 bg-gray-50",children:"Use ↑↓ to navigate, Enter to select, Esc to close"})]}),document.body)};function Fg(e){if(!e)return"NA";const r=new Date(e);return isNaN(r)?"NA":r.toLocaleDateString()}function g3(e){if(!e)return"NA";const r=new Date(e);return isNaN(r)?"NA":r.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}const fO=[{id:"title",label:"Title",defaultWidth:256},{id:"description",label:"Status",defaultWidth:180},{id:"clientName",label:"Client Name",defaultWidth:150},{id:"clientGroup",label:"Client Group",defaultWidth:150},{id:"workType",label:"Work Type",defaultWidth:150},{id:"billed",label:"Internal Works",defaultWidth:80},{id:"status",label:"Stages",defaultWidth:120},{id:"priority",label:"Priority",defaultWidth:120},{id:"selfVerification",label:"Self Verification",defaultWidth:120},{id:"inwardEntryDate",label:"Inward Entry Date",defaultWidth:150},{id:"dueDate",label:"Due Date",defaultWidth:120},{id:"targetDate",label:"Target Date",defaultWidth:120},{id:"assignedBy",label:"Assigned By",defaultWidth:150},{id:"assignedTo",label:"Assigned To",defaultWidth:150},{id:"verificationAssignedTo",label:"First Verifier",defaultWidth:150},{id:"secondVerificationAssignedTo",label:"Second Verifier",defaultWidth:150},{id:"thirdVerificationAssignedTo",label:"Third Verifier",defaultWidth:150},{id:"fourthVerificationAssignedTo",label:"Fourth Verifier",defaultWidth:150},{id:"fifthVerificationAssignedTo",label:"Fifth Verifier",defaultWidth:150},{id:"guides",label:"Guide",defaultWidth:200},{id:"files",label:"Files",defaultWidth:120},{id:"comments",label:"Comments",defaultWidth:120}],hO=e=>{const r=[...fO];if(e==="receivedVerification"){const t=r.findIndex(n=>n.id==="priority");r.splice(t+1,0,{id:"verification",label:"Verifications",defaultWidth:130})}return r},cp=[{value:"urgent",label:"Urgent"},{value:"today",label:"Today"},{value:"lessThan3Days",label:"< 3 days"},{value:"thisWeek",label:"This week"},{value:"thisMonth",label:"This month"},{value:"regular",label:"Regular"},{value:"filed",label:"Filed"},{value:"dailyWorksOffice",label:"Daily works office"},{value:"monthlyWorks",label:"Monthly works"}],up=[{value:"pending",label:"Pending"},{value:"rejected",label:"Return"},{value:"accepted",label:"Accepted"},{value:"next verification",label:"Next Verification"}],x3=[{value:"Yet to Start",label:"Yet to Start"},{value:"In Progress",label:"In Progress"},{value:"Completed",label:"Completed"}],y3="drag-row-highlight",mm=({tasks:e,viewType:r,taskType:t,showControls:n=!0,onTaskUpdate:a,onTaskDelete:s,onStatusChange:l,onVerificationStatusChange:u,shouldDisableActions:d,shouldDisableFileActions:f,taskHours:p=[],visibleColumns:x,setVisibleColumns:y,columnWidths:m,setColumnWidths:w,columnOrder:v,setColumnOrder:N,storageKeyPrefix:S="advancedtasktable",users:k=[],currentUser:_=null,refetchTasks:A,onEditTask:R,sortBy:V,tabKey:P="defaultTabKey",tabId:I,allColumns:B,highlightedTaskId:O,enableBulkSelection:L=!1,selectedTasks:C=[],onTaskSelect:Y,isAllSelected:Q=!1,onSelectAll:ce})=>{const{user:W}=gn(),[J,re]=T.useState([]),ee=T.useRef(!0),[H,ne]=T.useState([]),[D,z]=T.useState(!1),[q,X]=T.useState([]),[se,Se]=T.useState(!1),[fe,G]=T.useState([]),[be,Fe]=T.useState(!1),[De,lt]=T.useState(null),[ft,Pe]=T.useState({x:0,y:0}),xe=T.useRef(null),[Qe,at]=T.useState(null),pt=()=>{const ue=B||hO(t);if(!be||fe.length===0)return ue;const Oe=fe.map(Z=>({id:`custom_${Z.name}`,label:Z.label,defaultWidth:150,isCustom:!0,customColumn:Z}));return[...ue,...Oe]},Ze=T.useMemo(()=>pt(),[B,t,fe,be]);T.useEffect(()=>()=>{ee.current=!1},[]),T.useEffect(()=>{(async()=>{if(W!=null&&W.token)try{const Oe=await fetch(`${$e}/api/priorities`,{headers:{Authorization:`Bearer ${W.token}`}});if(Oe.ok){const Z=await Oe.json();ne(Z)}}catch(Oe){console.error("Error fetching priorities:",Oe),ne([])}finally{z(!0)}})()},[W==null?void 0:W.token]),T.useEffect(()=>{(async()=>{if(W!=null&&W.token)try{const Oe=await fetch(`${$e}/api/task-statuses`,{headers:{Authorization:`Bearer ${W.token}`}});if(Oe.ok){const Z=await Oe.json();X(Z)}}catch(Oe){console.error("Error fetching task statuses:",Oe),X(x3)}finally{Se(!0)}})()},[W==null?void 0:W.token]),T.useEffect(()=>{(async()=>{if(W!=null&&W.token)try{const Oe=await fetch(`${$e}/api/custom-columns`,{headers:{Authorization:`Bearer ${W.token}`}});if(Oe.ok){const Z=await Oe.json();G(Z)}}catch(Oe){console.error("Error fetching custom columns:",Oe),G([])}finally{Fe(!0)}})()},[W==null?void 0:W.token]);const ze=()=>D&&H.length>0?H.map(ue=>({value:ue.name,label:ue.name.charAt(0).toUpperCase()+ue.name.slice(1).replace(/([A-Z])/g," $1")})):cp,[Ae,vt]=T.useState(null),[gt,rr]=T.useState(null),[Wt,Qt]=T.useState(!1),[cr,Zt]=T.useState(null),[hr,$t]=T.useState(0),[Mr,xr]=T.useState(0),[Qr,Er]=T.useState(null),[Fr,tn]=T.useState(null),et=T.useRef(!1),_e=T.useRef(null),Be=T.useRef(0),ve=T.useRef(0),Ce=T.useRef(null),[Le,qe]=T.useState(null),[Tt,Dt]=T.useState(!1),[er,ar]=T.useState(!1),[St,ht]=T.useState(null),[Bt,Kt]=T.useState(""),[Ot,Ur]=T.useState(!1),[Ir,le]=T.useState(null),[Te,te]=T.useState("accepted"),[de,ye]=T.useState(!1),[Ne,Ge]=T.useState(null),[ut,We]=T.useState(""),[nt,st]=T.useState(""),[rt,Gt]=T.useState(null),[nr,zt]=T.useState(""),[tr,Ar]=T.useState(null),[Zr,wn]=T.useState(!1),cn=T.useRef(null),[Ca,Va]=T.useState(null),[Je,At]=T.useState(!1),Xt=T.useRef(null),[Jt,fr]=T.useState({top:0,left:0}),[Pr,oa]=T.useState(null),[ur,nn]=T.useState(!1),jn=T.useRef(null),[wr,Nr]=T.useState(null),[Nn,Js]=T.useState({top:0,left:0}),[rn,Da]=T.useState(!1),qa=T.useRef(null),[ho,Qs]=T.useState(""),hi=T.useRef(null),[pa,Na]=T.useState(null);T.useEffect(()=>{function ue(Oe){tr&&cn.current&&!cn.current.contains(Oe.target)&&Ar(null),Ca&&Xt.current&&!Xt.current.contains(Oe.target)&&Va(null),Pr&&jn.current&&!jn.current.contains(Oe.target)&&oa(null),wr&&qa.current&&!qa.current.contains(Oe.target)&&Nr(null),pa&&hi.current&&!hi.current.contains(Oe.target)&&Na(null),rt&&cn.current&&!cn.current.contains(Oe.target)&&(Gt(null),zt("")),De&&xe.current&&!xe.current.contains(Oe.target)&&lt(null)}return document.addEventListener("mousedown",ue),()=>{document.removeEventListener("mousedown",ue)}},[tr,Ca,Pr,wr,pa,rt,De]),T.useEffect(()=>{function ue(){De&&lt(null)}if(De)return window.addEventListener("scroll",ue,!0),()=>{window.removeEventListener("scroll",ue,!0)}},[De]);const[Bs,Yi]=T.useState(null),[pi,Ds]=T.useState(null),[Gi,Hc]=T.useState(null),[on,ss]=T.useState(e),[Xi,Wr]=T.useState(!1),ql=T.useRef([]),Wc=T.useRef(null),ma=!!x&&!!y,Oa=typeof v<"u"&&typeof N=="function",[Yl,Oi]=T.useState(!1),[mi,Gl]=T.useState(!1),Li=ue=>{const Oe=q.find(Z=>Z.name===ue);if(Oe){if(Oe.color&&!Oe.color.startsWith("#"))return Oe.color;if(Oe.color&&Oe.color.startsWith("#"))return null}switch(ue){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";case"yet_to_start":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},po=ue=>{const Oe=q.find(Z=>Z.name===ue);if(Oe&&Oe.color&&Oe.color.startsWith("#")){const Z=Oe.color,Pt=parseInt(Z.slice(1,3),16),Me=parseInt(Z.slice(3,5),16),Ut=parseInt(Z.slice(5,7),16),Xr=(Pt*299+Me*587+Ut*114)/1e3>128?"#000000":"#FFFFFF";return{backgroundColor:Z,color:Xr}}return null},Ya=se&&q.length>0?q.map(ue=>({value:ue.name,label:ue.name})):x3,Zs=ue=>{switch(ue){case"urgent":return"bg-red-100 text-red-800 border border-red-200";case"today":return"bg-orange-100 text-orange-800 border border-orange-200";case"lessThan3Days":return"bg-yellow-100 text-yellow-800 border border-yellow-200";case"thisWeek":return"bg-blue-100 text-blue-800 border border-blue-200";case"thisMonth":return"bg-indigo-100 text-indigo-800 border border-indigo-200";case"regular":return"bg-gray-100 text-gray-800 border border-gray-200";case"filed":return"bg-purple-100 text-purple-800 border border-purple-200";case"dailyWorksOffice":return"bg-teal-100 text-teal-800 border border-teal-200";case"monthlyWorks":return"bg-slate-100 text-slate-600 border border-slate-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},gi=ue=>{switch(ue){case"pending":return"bg-gray-100 text-gray-800 border border-gray-200";case"rejected":return"bg-red-100 text-red-800 border border-red-200";case"accepted":return"bg-green-100 text-green-800 border border-green-200";case"next verification":return"bg-blue-100 text-blue-800 border border-blue-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},ka=(ue,Oe)=>{const Z=p.find(Pt=>Pt.taskId===((ue==null?void 0:ue._id)||ue)&&Pt.userId===((Oe==null?void 0:Oe._id)||Oe));return Z?Z.totalHours:0},Is=(ue,Oe)=>{vt(Oe),ue.dataTransfer.effectAllowed="move",ue.dataTransfer.setData("text/html",Oe)},mo=(ue,Oe)=>{ue.preventDefault(),Ae&&Ae!==Oe&&rr(Oe)},Ri=()=>{rr(null)},Vc=(ue,Oe)=>{if(ue.preventDefault(),Ae&&Ae!==Oe){const Z=[...v],Pt=Z.indexOf(Ae),Me=Z.indexOf(Oe);Z.splice(Pt,1),Z.splice(Me,0,Ae),Oa&&N(Z)}vt(null),rr(null)},ll=(ue,Oe)=>{ue.preventDefault(),ue.stopPropagation(),et.current=!0,_e.current=Oe,Be.current=ue.clientX,ve.current=m[Oe]||150,Qt(!0),Zt(Oe),$t(ue.clientX),xr(m[Oe]||150),document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",cl,{passive:!1}),window.addEventListener("mouseup",go,{passive:!1})},cl=ue=>{if(!et.current||!_e.current)return;const Oe=ue.clientX-Be.current,Z=Math.max(80,ve.current+Oe);w({...m,[_e.current]:Z}),ue.preventDefault()},go=()=>{et.current=!1,_e.current=null,Be.current=0,ve.current=0,Qt(!1),Zt(null),$t(0),xr(0),document.body.style.cursor="",document.body.style.userSelect="",window.removeEventListener("mousemove",cl),window.removeEventListener("mouseup",go)},is=()=>{const ue=v.filter(Oe=>x.includes(Oe));return t!=="receivedVerification"?ue.filter(Oe=>Oe!=="verification"):ue},ei=ue=>{qe(ue),Dt(!0)},Fd=ue=>{a&&a(Le._id,Oe=>({...Oe,files:[...Oe.files||[],...ue.filter(Z=>!(Oe.files||[]).some(Pt=>Pt._id===Z._id))]})),qe(Oe=>Oe&&Oe._id===Le._id?{...Oe,files:[...Oe.files||[],...ue.filter(Z=>!(Oe.files||[]).some(Pt=>Pt._id===Z._id))]}:Oe)},xo=ue=>{a&&a(Le._id,Oe=>({...Oe,files:(Oe.files||[]).filter(Z=>Z._id!==ue)}))},$s=async ue=>{if(Bt===ue.description){ht(null);return}try{const Oe=await fetch(`${$e}/api/tasks/${ue._id}/description`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({description:Bt})});if(!Oe.ok)throw new Error("Failed to update description");const Z=await Oe.json();a&&a(ue._id,()=>({...ue,description:Z.description})),Ee.success("Status updated")}catch(Oe){Ee.error(Oe.message||"Failed to update status")}ht(null)},Ki=async(ue,Oe)=>{var Pt;const Z=((Pt=ue.customFields)==null?void 0:Pt[Oe])||"";if(nt===Z){Ge(null),We(""),st("");return}try{if(!(await fetch(`${$e}/api/tasks/${ue._id}/custom-fields`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({customFields:{...ue.customFields,[Oe]:nt}})})).ok)throw new Error("Failed to update custom field");a&&a(ue._id,Ut=>({...Ut,customFields:{...Ut.customFields,[Oe]:nt}})),Ee.success("Custom field updated")}catch(Me){Ee.error(Me.message||"Failed to update custom field")}Ge(null),We(""),st("")},Mo=async(ue,Oe,Z)=>{try{if(!(await fetch(`${$e}/api/tasks/${ue._id}/custom-fields`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({customFields:{...ue.customFields,[Oe]:Z}})})).ok)throw new Error("Failed to update custom field");a&&a(ue._id,Me=>({...Me,customFields:{...Me.customFields,[Oe]:Z}})),Ee.success("Custom field updated")}catch(Pt){Ee.error(Pt.message||"Failed to update custom field")}},Mu=async(ue,Oe)=>{wn(!0);try{const Z=await fetch(`${$e}/api/tasks/${ue._id}/priority`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({priority:Oe})});if(!Z.ok)throw new Error("Failed to update priority");const Pt=await Z.json();a&&a(ue._id,()=>({...ue,priority:Pt.priority}));const Me=on.map(Ut=>Ut._id===ue._id?{...Ut,priority:Oe}:Ut);ss(Me),A&&A(),Ee.success("Priority updated")}catch(Z){Ee.error(Z.message||"Failed to update priority")}wn(!1),Ar(null)},ul=(ue,Oe)=>{if(!Oe)return up;const Z=["verificationAssignedTo","secondVerificationAssignedTo","thirdVerificationAssignedTo","fourthVerificationAssignedTo","fifthVerificationAssignedTo"];let Pt=-1;return Z.forEach((Me,Ut)=>{var Tr;((Tr=ue[Me])==null?void 0:Tr._id)===Oe._id&&(Pt=Ut)}),Pt===4?up.filter(Me=>Me.value!=="next verification"):up},Fu=async(ue,Oe)=>{if(console.log("Starting verification update for task:",ue._id,"new verification:",Oe),Oe==="accepted"||Oe==="rejected"){le(ue),te(Oe),Ur(!0),Va(null);return}At(!0);try{const Z=await fetch(`${$e}/api/tasks/${ue._id}/verification`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({verification:Oe})});if(console.log("Verification update response status:",Z.status),!Z.ok){const Ut=await Z.json();throw new Error(Ut.message||"Failed to update verification")}const Pt=await Z.json();console.log("Updated task received:",Pt),a&&a(ue._id,()=>Pt);const Me=on.map(Ut=>Ut._id===ue._id?{...Ut,...Pt}:Ut);ss(Me),A&&A(),Ee.success("Verification updated")}catch(Z){console.error("Error updating verification:",Z),Ee.error(Z.message||"Failed to update verification")}At(!1),Va(null)},qc=async ue=>{ye(!0);try{const Oe=await fetch(`${$e}/api/tasks/${Ir._id}/verification`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({verification:Te,remarks:ue})});if(!Oe.ok){const Me=await Oe.json();throw new Error(Me.message||"Failed to update verification")}const Z=await Oe.json();a&&a(Ir._id,()=>Z);const Pt=on.map(Me=>Me._id===Ir._id?{...Me,...Z}:Me);ss(Pt),A&&A(),Ee.success(`Task ${Te==="rejected"?"returned":Te} successfully`),Ur(!1)}catch(Oe){console.error("Error updating verification:",Oe),Ee.error(Oe.message||"Failed to update verification")}ye(!1)},Xl=()=>{Ur(!1),le(null),te("accepted"),ye(!1)},Yc=async(ue,Oe)=>{nn(!0);try{if(Oe==="reject"&&r==="received"){const Z=await fetch(`${$e}/api/tasks/${ue._id}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({status:"reject"})});if(!Z.ok)throw new Error("Failed to reject task");const Pt=await Z.json();a&&a(ue._id,()=>Pt),Ee.success("Task rejected and set to pending"),A&&A()}else await l(ue._id,Oe),A&&A()}catch(Z){Ee.error(Z.message||"Failed to update status")}nn(!1),oa(null)},Fo=async ue=>{if(!(d&&d(ue)))try{const Oe=await fetch(`${$e}/api/tasks/${ue._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${W.token}`}});if(!Oe.ok){const Z=await Oe.json();if(Oe.status===403)throw new Error("You can only delete tasks that you created");if(Z.message!=="Task not found")throw new Error(Z.message||"Failed to delete task");return}s&&s(ue._id),A&&A(),Ee.success("Task deleted successfully")}catch(Oe){Oe.message!=="Task not found"&&(console.error("Error deleting task:",Oe),Ee.error(Oe.message||"Failed to delete task"))}},Kl=ue=>{d&&d(ue)||["Team Head","Admin","Senior"].includes(W==null?void 0:W.role)&&R&&R(ue)},Jl=(ue,Oe)=>{if(ue.preventDefault(),ue.stopPropagation(),d&&d(Oe)||!["Team Head","Admin"].includes(W==null?void 0:W.role))return;const Z=ue.target.getBoundingClientRect();Pe({x:Z.right,y:Z.top}),lt(Oe._id)},Ql=ue=>{lt(null),at(ue)},Pd=async()=>{Qe&&await Fo(Qe),at(null)},Zl=()=>{at(null)};function dl(ue,Oe,Z={}){const Pt={};return ue.forEach(Me=>{let Ut=Me[Oe];Z&&Z[Ut]&&(Ut=Z[Ut]),Pt[Ut]||(Pt[Ut]=[]),Pt[Ut].push(Me)}),Pt}if(!W)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});const Ga=!V||V==="none"?null:v.includes("priority")&&V==="priority"?"priority":v.includes("status")&&V==="status"?"status":v.includes("clientName")&&V==="clientName"?"clientName":v.includes("clientGroup")&&V==="clientGroup"?"clientGroup":v.includes("workType")&&V==="workType"?"workType":v.includes("billed")&&V==="billed"?"billed":null,ws=Ga&&V!=="createdAt";let zs=null;if(ws){let ue={};Ga==="priority"&&cp.forEach(Oe=>ue[Oe.value]=Oe.label),Ga==="status"&&Ya.forEach(Oe=>ue[Oe.value]=Oe.label),Ga==="billed"&&(ue[!0]="Yes",ue[!1]="No"),Ga==="workType"?(zs={},e.forEach(Oe=>{let Z=Array.isArray(Oe.workType)?Oe.workType[0]||"Unspecified":Oe.workType||"Unspecified";zs[Z]||(zs[Z]=[]),zs[Z].push(Oe)})):Ga==="billed"?(zs={},e.forEach(Oe=>{let Z=Oe.billed?"Yes":"No";zs[Z]||(zs[Z]=[]),zs[Z].push(Oe)})):zs=dl(e,Ga,ue)}T.useEffect(()=>{if(!Oa&&!v.length&&!x.length){const ue=Ze.map(Oe=>Oe.id);N(ue),ma||y(ue)}},[v,x,ma,Oa]),T.useEffect(()=>{if(!Oa){if(!P||!I)return;async function ue(){try{if(!P||!I)return;const Oe=await fetch(`${$e}/api/users/tabstate/columnOrder?tabKey=${P}&tabId=${I}`,{headers:{Authorization:`Bearer ${W.token}`}});if(Oe.ok){let Pt=(await Oe.json()).columnOrder;const Me=Ze.map(Ut=>Ut.id);if((!Pt||!Array.isArray(Pt)||Pt.some(Ut=>!Me.includes(Ut))||Me.some(Ut=>!Pt.includes(Ut)))&&(Pt=Me),ee.current&&(N(Pt),!ma&&y))try{y(Pt)}catch(Ut){console.error("Error setting visible columns:",Ut)}}}catch(Oe){console.error("Error fetching column order:",Oe),ee.current&&(N(Ze.map(Z=>Z.id)),!ma&&y&&y(Ze.map(Z=>Z.id)))}}return ue(),()=>{ee.current=!1}}},[P,I,ma,Oa]),T.useEffect(()=>{if(!Oa){if(!v||!Array.isArray(v)||v.length===0)return;async function ue(){try{if(!(W!=null&&W.token)){console.error("Missing authentication token");return}if(!P||!I||!Array.isArray(v)){console.error("Invalid column order data:",{tabKey:P,tabId:I,columnOrder:v});return}const Oe=Ze.map(Pt=>Pt.id);if(v.some(Pt=>!Oe.includes(Pt))){console.error("Invalid column IDs in order:",v);return}const Z=await fetch(`${$e}/api/users/tabstate/columnOrder`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({tabKey:P,columnOrder:v,tabId:I})});if(Z.ok)re(v);else{const Pt=await Z.json().catch(()=>({message:"Unknown error"}));console.error("Failed to save column order:",Pt),Ee.error(Pt.message||"Failed to save column order"),N(J),ma||y(J)}}catch(Oe){console.error("Error saving column order:",Oe),Ee.error("Failed to save column order"),N(J),ma||y(J)}}ue()}},[v,P,I,Oa]),T.useEffect(()=>{if(!Oa){if(!P||!I)return;async function ue(){try{if(!P||!I)return;const Oe=await fetch(`${$e}/api/users/tabstate/columnOrder?tabKey=${P}&tabId=${I}`,{headers:{Authorization:`Bearer ${W.token}`}});if(Oe.ok){let Pt=(await Oe.json()).columnOrder;const Me=Ze.map(Ut=>Ut.id);if((!Pt||!Array.isArray(Pt)||Pt.some(Ut=>!Me.includes(Ut))||Me.some(Ut=>!Pt.includes(Ut)))&&(Pt=Me),ee.current&&(N(Pt),!ma&&y))try{y(Pt)}catch(Ut){console.error("Error setting visible columns:",Ut)}}}catch(Oe){console.error("Error fetching column order:",Oe),ee.current&&(N(Ze.map(Z=>Z.id)),!ma&&y&&y(Ze.map(Z=>Z.id)))}}return ue(),()=>{ee.current=!1}}},[P,I,ma,Oa]);const F=ue=>{var Oe,Z,Pt,Me,Ut;return[(Oe=ue.verificationAssignedTo)==null?void 0:Oe._id,(Z=ue.secondVerificationAssignedTo)==null?void 0:Z._id,(Pt=ue.thirdVerificationAssignedTo)==null?void 0:Pt._id,(Me=ue.fourthVerificationAssignedTo)==null?void 0:Me._id,(Ut=ue.fifthVerificationAssignedTo)==null?void 0:Ut._id].filter(Boolean)},ie=ue=>ws?Ga==="workType"?Array.isArray(ue.workType)?ue.workType[0]||"Unspecified":ue.workType||"Unspecified":Ga==="billed"?ue.billed?"Yes":"No":ue[Ga]:null;T.useEffect(()=>{let ue=!0;const Oe=e.map(Z=>Z._id).join(",");if(ql.current.join(",")!==Oe||Wc.current!==Ga){async function Z(){Wr(!1);try{if(!P||!I)return;const Pt=await fetch(`${$e}/api/users/tabstate/taskOrder?tabKey=${P}&tabId=${I}`,{headers:{Authorization:`Bearer ${W.token}`}});if(Pt.ok){let Ut=(await Pt.json()).taskOrder;if(Ut&&Array.isArray(Ut)){const Tr=Object.fromEntries(e.map(Jr=>[Jr._id,Jr])),Xr=new Set(Ut);let Hr=Ut.map(Jr=>Tr[Jr]).filter(Boolean);for(const Jr of e)Xr.has(Jr._id)||Hr.push(Jr);ue&&(Hr.length!==on.length||Hr.some((Jr,Un)=>Jr!==on[Un]))&&ss(Hr)}else ue&&e!==on&&ss(e)}else ue&&e!==on&&ss(e)}catch{e!==on&&ss(e)}finally{Wr(!0),ql.current=e.map(Pt=>Pt._id),Wc.current=Ga}}Z()}},[e,ws,Ga,P,I]);const je=async ue=>{try{if(!P||!I)return;await fetch(`${$e}/api/users/tabstate/taskOrder`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({tabKey:P,order:ue,tabId:I})})}catch(Oe){console.error("Error saving task order:",Oe)}},Ie=(ue,Oe)=>{Yi(Oe),ue.dataTransfer.effectAllowed="move",ue.dataTransfer.setData("text/plain",Oe)},tt=(ue,Oe)=>{ue.preventDefault(),Bs&&Ds(Oe)},Nt=(ue,Oe)=>{if(ue.preventDefault(),!Bs)return;let Z=[];const Pt=on.findIndex(Ut=>Ut._id===Bs),Me=on.findIndex(Ut=>Ut._id===Oe);if(!(Pt===-1||Me===-1)){if(ws){const Ut=on[Pt],Tr=on[Me],Xr=ie(Ut),Hr=ie(Tr);if(Xr!==Hr){console.log("Cannot reorder tasks between different groups"),Yi(null),Ds(null);return}const Jr={};on.forEach(Ia=>{const Ns=ie(Ia);Jr[Ns]||(Jr[Ns]=[]),Jr[Ns].push(Ia)});const Un=Jr[Xr],Mi=Un.findIndex(Ia=>Ia._id===Bs),Os=Un.findIndex(Ia=>Ia._id===Oe),[Ls]=Un.splice(Mi,1);Un.splice(Os,0,Ls),Z=[],Object.values(Jr).forEach(Ia=>{Z.push(...Ia)})}else{Z=[...on];const[Ut]=Z.splice(Pt,1);Z.splice(Me,0,Ut)}ss(Z),je(Z.map(Ut=>Ut._id)),Yi(null),Ds(null)}},qt=()=>{Yi(null),Ds(null)},dr=(ue,Oe)=>{if(!ws||!ue||!Oe||ue===Oe)return;const Z={},Pt=[];Object.entries(br).forEach(([Jr,Un])=>{Pt.push(Jr)});const Me=Pt.indexOf(ue),Ut=Pt.indexOf(Oe);if(Me===-1||Ut===-1)return;const Tr=[...Pt],[Xr]=Tr.splice(Me,1);Tr.splice(Ut,0,Xr);let Hr=[];on.forEach(Jr=>{const Un=ie(Jr);Z[Un]||(Z[Un]=[]),Z[Un].push(Jr)}),Tr.forEach(Jr=>{Z[Jr]&&(Hr=[...Hr,...Z[Jr]])}),ss(Hr),je(Hr.map(Jr=>Jr._id))};T.useEffect(()=>{if(!on||!e||e.length===0)return;const ue=e.reduce((Me,Ut)=>(Me[Ut._id]=Ut,Me),{}),Oe=on.map(Me=>ue[Me._id]?{...ue[Me._id]}:Me),Z=new Set(Oe.map(Me=>Me._id)),Pt=e.filter(Me=>!Z.has(Me._id));(Pt.length>0||JSON.stringify(Oe)!==JSON.stringify(on))&&ss([...Oe,...Pt])},[e]);let br=zs;if(ws&&Xi){br={};for(const ue of on){const Oe=ie(ue);br[Oe]||(br[Oe]=[]),br[Oe].push(ue)}}return ws&&!Xi?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i.jsx(i.Fragment,{children:i.jsxs("div",{className:"pt-4 bg-gray-50 min-h-screen",children:[i.jsx("div",{className:"overflow-x-auto w-full",ref:Ce,children:i.jsxs("table",{className:`min-w-full divide-y divide-gray-200 ${Wt?"select-none":""}`,children:[!ws&&i.jsx("thead",{className:"border-b border-gray-200",children:i.jsxs("tr",{children:[L&&i.jsx("th",{className:"px-2 py-1 text-left text-sm font-normal bg-white tracking-wider select-none whitespace-nowrap border-r border-gray-200",style:{width:"48px",minWidth:"48px"},title:"Select All",children:i.jsx("input",{type:"checkbox",checked:Q,onChange:ue=>ce&&ce(ue.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),i.jsx("th",{className:"px-2 py-1 text-left text-sm font-normal bg-white tracking-wider select-none whitespace-nowrap border-r border-gray-200",style:{width:"48px",minWidth:"48px"},children:"No"}),is().map((ue,Oe,Z)=>{const Pt=Ze.find(Ut=>Ut.id===ue);if(!Pt)return null;const Me=Oe===Z.length-1;return i.jsxs("th",{className:`px-2 py-1 text-left text-sm font-normal bg-white tracking-wider relative select-none whitespace-nowrap ${Me?"":"border-r border-gray-200"}`,style:{width:(m[ue]||150)+"px",minWidth:(m[ue]||150)+"px",background:gt===ue?"#f0f6ff":"white",boxShadow:gt===ue?"inset 2px 0 0 0 #60a5fa":void 0,borderBottom:"1px solid #e5e7eb",position:"relative"},draggable:!0,onDragStart:Ut=>Is(Ut,ue),onDragOver:Ut=>mo(Ut,ue),onDragLeave:Ri,onDrop:Ut=>Vc(Ut,ue),children:[i.jsx("span",{style:{fontWeight:500},className:"whitespace-nowrap overflow-hidden text-ellipsis block",children:Pt.label}),!Me&&i.jsx("span",{onMouseDown:Ut=>ll(Ut,ue),style:{position:"absolute",right:0,top:0,height:"100%",width:8,cursor:"col-resize",zIndex:10,userSelect:"none",background:"transparent",pointerEvents:"auto",display:"block"},onClick:Ut=>Ut.stopPropagation(),title:"Resize column",tabIndex:-1})]},ue)}),(r==="assigned"||r==="admin")&&i.jsx("th",{className:"px-2 py-1 text-left text-sm font-normal bg-white tracking-wider select-none",children:"Actions"},"actions")]})}),i.jsx("tbody",{children:ws?Object.entries(br).map(([ue,Oe])=>i.jsxs(_t.Fragment,{children:[i.jsx("tr",{className:`group-header ${Fr===ue&&Qr?"bg-blue-100":""} cursor-grab`,draggable:!0,onDragStart:Z=>{Er(ue),Z.dataTransfer.setData("text/plain",ue),Z.dataTransfer.effectAllowed="move"},onDragOver:Z=>{Z.preventDefault(),Qr&&Qr!==ue&&tn(ue)},onDragLeave:()=>{Fr===ue&&tn(null)},onDrop:Z=>{Z.preventDefault(),Qr&&Qr!==ue&&dr(Qr,ue),Er(null),tn(null)},onDragEnd:()=>{Er(null),tn(null)},children:i.jsx("td",{colSpan:is().length+(r==="assigned"||r==="admin"?2:1)+(L?1:0),className:`bg-gray-100 text-gray-800 font-semibold px-4 py-2 border-t border-b border-gray-300 ${Qr===ue?"opacity-50":""}`,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"h-4 w-4 mr-2 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l4-4 4 4m0 6l-4 4-4-4"})}),ue]})})},ue+"-header"),i.jsxs("tr",{className:"border-b border-gray-200",children:[L&&i.jsx("th",{className:"px-2 py-1 text-left text-sm font-normal bg-white tracking-wider select-none whitespace-nowrap border-r border-gray-200",style:{width:"48px",minWidth:"48px"}}),i.jsx("th",{className:"px-2 py-1 text-left text-sm font-normal bg-white tracking-wider select-none whitespace-nowrap border-r border-gray-200",style:{width:"48px",minWidth:"48px"},children:"No"}),is().map((Z,Pt,Me)=>{const Ut=Ze.find(Xr=>Xr.id===Z);if(!Ut)return null;const Tr=Pt===Me.length-1;return i.jsxs("th",{className:`px-2 py-1 text-left text-sm font-normal bg-white tracking-wider relative select-none whitespace-nowrap ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||150)+"px",minWidth:(m[Z]||150)+"px",background:gt===Z?"#f0f6ff":"white",boxShadow:gt===Z?"inset 2px 0 0 0 #60a5fa":void 0,borderBottom:"1px solid #e5e7eb",position:"relative"},draggable:!0,onDragStart:Xr=>Is(Xr,Z),onDragOver:Xr=>mo(Xr,Z),onDragLeave:Ri,onDrop:Xr=>Vc(Xr,Z),children:[i.jsx("span",{style:{fontWeight:500},className:"whitespace-nowrap overflow-hidden text-ellipsis block",children:Ut.label}),!Tr&&i.jsx("span",{onMouseDown:Xr=>ll(Xr,Z),style:{position:"absolute",right:0,top:0,height:"100%",width:8,cursor:"col-resize",zIndex:10,userSelect:"none",background:"transparent",pointerEvents:"auto",display:"block"},onClick:Xr=>Xr.stopPropagation(),title:"Resize column",tabIndex:-1})]},Z)}),(r==="assigned"||r==="admin")&&i.jsx("th",{className:"px-2 py-1 text-left text-sm font-normal bg-white tracking-wider select-none",children:"Actions"},"actions")]},ue+"-columns"),Oe.map((Z,Pt)=>i.jsxs("tr",{className:`border-b border-gray-200 hover:bg-gray-50 transition-none ${pi===Z._id&&Bs?y3:""} ${L&&C.includes(Z._id)?"bg-blue-50":""} ${O===Z._id?"bg-blue-100 shadow-lg ring-2 ring-blue-400 animate-pulse":""}`,draggable:!0,onDragStart:Me=>Ie(Me,Z._id),onDragOver:Me=>tt(Me,Z._id),onDrop:Me=>Nt(Me,Z._id),onDragEnd:qt,style:{opacity:Bs===Z._id?.5:1},children:[L&&i.jsx("td",{className:"px-2 py-1 text-sm font-normal align-middle bg-white border-r border-gray-200",style:{width:"48px",minWidth:"48px"},children:i.jsx("input",{type:"checkbox",checked:C.includes(Z._id),onChange:Me=>Y&&Y(Z._id,Me.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",onClick:Me=>Me.stopPropagation(),title:C.includes(Z._id)?"Deselect task":"Select task"})}),i.jsx("td",{className:"px-2 py-1 text-sm font-normal align-middle bg-white border-r border-gray-200 text-gray-500 cursor-pointer hover:bg-gray-100",style:{width:"48px",minWidth:"48px",textAlign:"right"},title:"Left click to edit, right click for delete option",onClick:Me=>{Me.stopPropagation(),Kl(Z)},onContextMenu:Me=>{Me.stopPropagation(),Jl(Me,Z)},children:Pt+1}),is().map((Me,Ut,Tr)=>{var Jr,Un,Mi,Os,Ls,Ia,Ns,Ji,Fi,ga,Rs,xi;const Xr=Ze.find(Us=>Us.id===Me);if(!Xr)return null;const Hr=Ut===Tr.length-1;switch(Me){case"title":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{verticalAlign:"middle",width:(m[Me]||256)+"px",minWidth:(m[Me]||256)+"px",maxWidth:(m[Me]||256)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:Z.title})})},Me);case"description":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white border-0 ${Hr?"":"border-r border-gray-200"}`,style:{verticalAlign:"middle",width:(m[Me]||180)+"px",minWidth:(m[Me]||180)+"px",maxWidth:(m[Me]||180)+"px",background:"white",overflow:"hidden"},children:St===Z._id?i.jsx("input",{type:"text",value:Bt,autoFocus:!0,onChange:bt=>Kt(bt.target.value),onBlur:()=>$s(Z),onKeyDown:bt=>{bt.key==="Enter"&&$s(Z)},className:"no-border-input w-full bg-white px-1 py-1 rounded",style:{fontSize:"inherit",height:"28px"}}):i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:"cursor-pointer block",onClick:()=>{ht(Z._id),Kt(Z.description||"")},title:"Click to edit",style:{minHeight:"14px",color:Z.description?void 0:"#aaa",fontSize:"inherit"},children:Z.description&&Z.description.trim()!==""?Z.description:i.jsx("span",{style:{fontStyle:"italic",fontSize:"inherit"}})})})},Me);case"clientName":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||150)+"px",minWidth:(m[Me]||150)+"px",maxWidth:(m[Me]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:"text-sm font-medium text-gray-900",children:Z.clientName})})},Me);case"clientGroup":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||150)+"px",minWidth:(m[Me]||150)+"px",maxWidth:(m[Me]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:"text-sm text-gray-500",children:Z.clientGroup})})},Me);case"workType":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||150)+"px",minWidth:(m[Me]||150)+"px",maxWidth:(m[Me]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("div",{className:"flex gap-1",children:Z.workType&&Z.workType.map((bt,Yt)=>i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 flex-shrink-0",children:bt},Yt))})})},Me);case"billed":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||80)+"px",minWidth:(m[Me]||80)+"px",maxWidth:(m[Me]||80)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:Z.billed?"Yes":"No"})})},Me);case"status":return r==="received"&&(t==="issuedVerification"||t==="guidance")?i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||120)+"px",minWidth:(m[Me]||120)+"px",maxWidth:(m[Me]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-4xl text-xs font-semibold ${Li(Z.status)||""}`,style:po(Z.status)||{},children:((Jr=Ya.find(bt=>bt.value===Z.status))==null?void 0:Jr.label)||Z.status})})},Me):i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||120)+"px",minWidth:(m[Me]||120)+"px",maxWidth:(m[Me]||120)+"px",background:"white",overflow:"visible",cursor:r==="received"?"pointer":"default",position:"relative",zIndex:Pr===Z._id?50:"auto"},onClick:bt=>{if(r==="received"){bt.stopPropagation();const Yt=bt.currentTarget.getBoundingClientRect();fr({top:Yt.bottom+window.scrollY,left:Yt.left+window.scrollX}),oa(Z._id)}},children:i.jsxs("div",{style:{position:"relative",display:"inline-block",width:"100%"},children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Li(Z.status)||""}`,style:{display:"inline-block",whiteSpace:"nowrap",...po(Z.status),overflowX:"auto",textOverflow:"ellipsis",maxWidth:"100%",verticalAlign:"middle",scrollbarWidth:"thin",msOverflowStyle:"auto"},title:((Un=Ya.find(bt=>bt.value===Z.status))==null?void 0:Un.label)||Z.status,children:((Mi=Ya.find(bt=>bt.value===Z.status))==null?void 0:Mi.label)||Z.status}),Pr===Z._id&&r==="received"&&i.jsx(m3,{task:Z,currentStatusOptions:r==="received"&&t==="execution"?Ya.filter(bt=>bt.value!=="reject"):Ya,statusLoading:ur,getStatusColor:Li,getStatusStyles:po,onStatusChange:Yc,onClose:()=>oa(null),position:Jt})]})},Me);case"priority":const Us=r==="received"&&(t==="execution"||t==="receivedVerification");return i.jsxs("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||120)+"px",minWidth:(m[Me]||120)+"px",maxWidth:(m[Me]||120)+"px",background:"white",overflow:"visible",cursor:Us?"pointer":"default",position:"relative",zIndex:tr===Z._id?50:"auto"},onClick:bt=>{if(Us){bt.stopPropagation();const Yt=bt.currentTarget.getBoundingClientRect();fr({top:Yt.bottom+window.scrollY,left:Yt.left+window.scrollX}),Ar(Z._id)}},children:[i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-4xl text-xs font-semibold ${Zs(Z.priority)}`,children:((Os=cp.find(bt=>bt.value===Z.priority))==null?void 0:Os.label)||Z.priority})}),tr===Z._id&&Us&&Jo.createPortal(i.jsx("div",{ref:cn,style:{position:"absolute",top:Jt.top,left:Jt.left,minWidth:160,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",padding:8,zIndex:9999},children:ze().map(bt=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"5px 12px",borderRadius:6,cursor:"pointer",background:Z.priority===bt.value?"#f3f4f6":"transparent",marginBottom:2,transition:"background 0.15s",opacity:Zr?.6:1},onClick:Yt=>{Yt.stopPropagation(),!Zr&&Z.priority!==bt.value&&Mu(Z,bt.value),Ar(null)},onMouseEnter:Yt=>Yt.currentTarget.style.background="#f3f4f6",onMouseLeave:Yt=>Yt.currentTarget.style.background=Z.priority===bt.value?"#f3f4f6":"transparent",children:[i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${Zs(bt.value)}`,children:bt.label}),Z.priority===bt.value&&i.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]},bt.value))}),document.body)]},Me);case"verification":const Qi=r==="received";return i.jsxs("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||130)+"px",minWidth:(m[Me]||130)+"px",maxWidth:(m[Me]||130)+"px",background:"white",overflow:"visible",cursor:Qi?"pointer":"default",position:"relative",zIndex:Ca===Z._id?50:"auto"},onClick:bt=>{if(Qi){bt.stopPropagation();const Yt=bt.currentTarget.getBoundingClientRect();fr({top:Yt.bottom+window.scrollY,left:Yt.left+window.scrollX}),Va(Z._id)}},children:[i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${gi(Z.verification||"pending")}`,children:((Ls=up.find(bt=>bt.value===(Z.verification||"pending")))==null?void 0:Ls.label)||Z.verification||"pending"})}),Ca===Z._id&&Qi&&Jo.createPortal(i.jsx("div",{ref:Xt,style:{position:"absolute",top:Jt.top,left:Jt.left,minWidth:160,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",padding:8,zIndex:9999},children:ul(Z,_).map(bt=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"5px 12px",borderRadius:6,cursor:"pointer",background:(Z.verification||"pending")===bt.value?"#f3f4f6":"transparent",marginBottom:2,transition:"background 0.15s",opacity:Je?.6:1},onClick:Yt=>{Yt.stopPropagation(),!Je&&(Z.verification||"pending")!==bt.value&&Fu(Z,bt.value),Va(null)},onMouseEnter:Yt=>Yt.currentTarget.style.background="#f3f4f6",onMouseLeave:Yt=>Yt.currentTarget.style.background=(Z.verification||"pending")===bt.value?"#f3f4f6":"transparent",children:[i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${gi(bt.value)}`,children:bt.label}),(Z.verification||"pending")===bt.value&&i.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]},bt.value))}),document.body)]},Me);case"selfVerification":const os=r==="received"&&t==="execution";return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||120)+"px",minWidth:(m[Me]||120)+"px",maxWidth:(m[Me]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"flex justify-center items-center",children:i.jsx("input",{type:"checkbox",checked:!!Z.selfVerification,disabled:!!Z.selfVerification||!os||Yl,onChange:!Z.selfVerification&&os?async bt=>{const Yt=bt.target.checked;Oi(!0);try{const vr=await fetch(`${$e}/api/tasks/${Z._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({selfVerification:Yt})});if(!vr.ok)throw new Error("Failed to update self verification");const $r=await vr.json();console.log("Updated task received:",$r),a&&a(Z._id,Or=>({...Or,selfVerification:$r.selfVerification})),A&&setTimeout(()=>A(),200),Ee.success("Self Verification updated")}catch(vr){console.error("Error updating self verification:",vr),Ee.error("Failed to update Self Verification"),A&&A()}finally{Oi(!1)}}:void 0})})},Me);case"inwardEntryDate":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||150)+"px",minWidth:(m[Me]||150)+"px",maxWidth:(m[Me]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:g3(Z.inwardEntryDate)})})},Me);case"dueDate":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||120)+"px",minWidth:(m[Me]||120)+"px",maxWidth:(m[Me]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:Fg(Z.dueDate)})})},Me);case"targetDate":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||120)+"px",minWidth:(m[Me]||120)+"px",maxWidth:(m[Me]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:Fg(Z.targetDate)})})},Me);case"assignedBy":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||150)+"px",minWidth:(m[Me]||150)+"px",maxWidth:(m[Me]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:((Ia=Z.assignedBy.photo)==null?void 0:Ia.url)||kn,alt:Z.assignedBy.firstName,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm",onError:bt=>{bt.target.onerror=null,bt.target.src=kn}}),i.jsxs("span",{className:"ml-2",children:[Z.assignedBy.firstName," ",Z.assignedBy.lastName]})]})})},Me);case"assignedTo":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||150)+"px",minWidth:(m[Me]||150)+"px",maxWidth:(m[Me]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:((Ns=Z.assignedTo.photo)==null?void 0:Ns.url)||kn,alt:Z.assignedTo.firstName,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm",onError:bt=>{bt.target.onerror=null,bt.target.src=kn}}),i.jsxs("span",{className:"ml-2",children:[Z.assignedTo.firstName," ",Z.assignedTo.lastName,i.jsxs("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:[ka(Z._id,Z.assignedTo._id),"h"]})]})]})})},Me);case"verificationAssignedTo":case"secondVerificationAssignedTo":case"thirdVerificationAssignedTo":case"fourthVerificationAssignedTo":case"fifthVerificationAssignedTo":{const bt=["verificationAssignedTo","secondVerificationAssignedTo","thirdVerificationAssignedTo","fourthVerificationAssignedTo","fifthVerificationAssignedTo"],Yt=bt.indexOf(Me),vr=bt[Yt],$r=bt[Yt-1];let Or=((Ji=Z[vr])==null?void 0:Ji._id)===(_==null?void 0:_._id),xa=Yt>0&&((Fi=Z[$r])==null?void 0:Fi._id)===(_==null?void 0:_._id)&&!Z[vr],hn=r==="received"&&(Or||xa)&&t!=="completed"&&t!=="guidance"&&t!=="issuedVerification";if(Me==="verificationAssignedTo"&&(hn=r==="received"&&t==="execution"&&!!Z.selfVerification||r==="received"&&t==="receivedVerification"&&Or||r==="received"&&t==="issuedVerification"&&Z.assignedBy&&Z.assignedBy._id===(_==null?void 0:_._id)),t==="issuedVerification"&&Z.assignedBy&&Z.assignedBy._id===(_==null?void 0:_._id)){let Cr=-1;for(let un=bt.length-1;un>=0;un--)if(Z[bt[un]]){Cr=un;break}Cr!==-1&&Yt===Cr?hn=!0:Cr!==-1&&(hn=!1)}if(t==="execution"&&Z.verification==="accepted"){let Cr=-1;for(let un=0;un<bt.length;un++)if(!Z[bt[un]]){Cr=un;break}Yt===Cr&&Cr!==-1?hn=!0:Z.verification==="accepted"&&(hn=!1)}if(t==="receivedVerification")if(Or)hn=!0;else if(Z.verification==="next verification"){let Cr=-1;bt.forEach((Sa,ls)=>{var Yn;((Yn=Z[Sa])==null?void 0:Yn._id)===(_==null?void 0:_._id)&&(Cr=ls)});const un=Cr+1;Yt===un&&un<bt.length?hn=!0:hn=!1}else Or||(hn=!1);const Sr=F(Z),En=k.filter(Cr=>{var un;return Cr._id!==((un=Z.assignedTo)==null?void 0:un._id)&&!Sr.includes(Cr._id)&&Cr._id!==(_==null?void 0:_._id)&&`${Cr.firstName} ${Cr.lastName}`.toLowerCase().includes(ho.toLowerCase())});return hn?i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||150)+"px",minWidth:(m[Me]||150)+"px",maxWidth:(m[Me]||150)+"px",background:"white",overflow:"hidden",cursor:"pointer",position:"relative",zIndex:wr===`${Z._id}-${Me}`?50:"auto"},onClick:Cr=>{Cr.stopPropagation();const un=Cr.currentTarget.getBoundingClientRect();Js({top:un.bottom+window.scrollY,left:un.left+window.scrollX}),Nr(`${Z._id}-${Me}`),Qs("")},children:i.jsxs("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:[i.jsxs("div",{className:"flex items-center ",children:[Z[Me]?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:((ga=Z[Me].photo)==null?void 0:ga.url)||kn,alt:`${Z[Me].firstName} ${Z[Me].lastName}`,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm",onError:Cr=>{Cr.target.onerror=null,Cr.target.src=kn}}),i.jsxs("span",{className:"ml-2",children:[Z[Me].firstName," ",Z[Me].lastName,i.jsxs("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:[ka(Z._id,Z[Me]._id),"h"]})]})]}):i.jsx("span",{style:{fontStyle:"italic",fontSize:"inherit"},children:"NA"}),i.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",className:"ml-1 text-gray-400",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),wr===`${Z._id}-${Me}`&&Jo.createPortal(i.jsx("div",{ref:qa,style:{position:"absolute",top:Nn.top,left:Nn.left,minWidth:200,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",padding:8,zIndex:9999,maxHeight:300,overflowY:"auto"},children:En.length===0?i.jsx("div",{className:"text-gray-400 text-sm px-2 py-2",children:"No users found"}):En.map(Cr=>{var un;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",borderRadius:6,cursor:"pointer",background:Z[Me]&&Z[Me]._id===Cr._id?"#f3f4f6":"transparent",marginBottom:2,transition:"background 0.15s",opacity:rn?.6:1},onClick:async Sa=>{if(Sa.stopPropagation(),!(rn||Z[Me]&&Z[Me]._id===Cr._id)){Da(!0);try{const ls={[Me]:Cr._id};t==="execution"&&Z.verification==="accepted"&&(ls.verification="pending");const Yn=await fetch(`${$e}/api/tasks/${Z._id}/verifier`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_.token}`},body:JSON.stringify(ls)});if(!Yn.ok)throw new Error("Failed to update verifier");const Bi=await Yn.json();a&&a(Z._id,()=>Bi),Ee.success(`${Xr.label} updated`),A&&A()}catch{Ee.error(`Failed to update ${Xr.label.toLowerCase()}`)}Da(!1),Nr(null)}},onMouseEnter:Sa=>Sa.currentTarget.style.background="#f3f4f6",onMouseLeave:Sa=>Sa.currentTarget.style.background=Z[Me]&&Z[Me]._id===Cr._id?"#f3f4f6":"transparent",children:[i.jsx("img",{src:((un=Cr.photo)==null?void 0:un.url)||kn,alt:`${Cr.firstName} ${Cr.lastName}`,className:"w-6 h-6 rounded-full object-cover border border-white shadow-sm",style:{minWidth:24,minHeight:24,maxWidth:24,maxHeight:24}}),i.jsxs("span",{style:{fontSize:"14px"},children:[Cr.firstName," ",Cr.lastName]}),Z[Me]&&Z[Me]._id===Cr._id&&i.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]},Cr._id)})}),document.body)]})},Me):i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||150)+"px",minWidth:(m[Me]||150)+"px",maxWidth:(m[Me]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap flex items-center",style:{width:"100%",maxWidth:"100%"},children:Z[Me]?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:((Rs=Z[Me].photo)==null?void 0:Rs.url)||kn,alt:`${Z[Me].firstName} ${Z[Me].lastName}`,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm"}),i.jsxs("span",{className:"ml-2",children:[Z[Me].firstName," ",Z[Me].lastName,i.jsxs("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:[ka(Z._id,Z[Me]._id),"h"]})]})]}):i.jsx("span",{style:{fontStyle:"italic",fontSize:"inherit"},children:"NA"})})},Me)}case"guides":const Pi=r==="received"?"pr-6":"pr-0",Ht=r==="received"?"calc(100% - 28px)":"100%";return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||200)+"px",minWidth:(m[Me]||200)+"px",maxWidth:(m[Me]||200)+"px",background:"white",overflow:"hidden"},children:i.jsxs("div",{className:"flex items-center relative",style:{width:"100%",maxWidth:"100%"},children:[i.jsx("div",{className:`flex items-center gap-1 overflow-x-auto whitespace-nowrap ${Pi}`,style:{maxWidth:Ht},children:Array.isArray(Z.guides)&&Z.guides.length>0?Z.guides.map(bt=>{var Yt;return i.jsxs("span",{className:"flex items-center bg-blue-100 text-blue-800 rounded-full px-2 py-0.5 text-xs font-medium mr-1",children:[i.jsx("img",{src:((Yt=bt.photo)==null?void 0:Yt.url)||kn,alt:bt.firstName,className:"w-5 h-5 rounded-full object-cover mr-1",style:{minWidth:20,minHeight:20},onError:vr=>{vr.target.onerror=null,vr.target.src=kn}}),bt.firstName," ",bt.lastName,r==="received"&&i.jsx("button",{className:"ml-1 text-red-500 hover:text-red-700 focus:outline-none",style:{fontSize:"12px"},onClick:async vr=>{vr.stopPropagation();const $r=Z.guides.filter(Or=>Or._id!==bt._id).map(Or=>Or._id);try{const Or=await fetch(`${$e}/api/tasks/${Z._id}/guides`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_.token}`},body:JSON.stringify({guides:$r})});if(!Or.ok)throw new Error("Failed to update guides");const xa=await Or.json();a&&a(Z._id,hn=>({...hn,guides:xa.guides})),Ee.success("Guide removed")}catch{Ee.error("Failed to update guides")}},title:"Remove guide",children:"×"})]},bt._id)}):i.jsx("span",{className:"italic text-gray-400",children:"No guide"})}),r==="received"&&i.jsx("button",{className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 bg-white rounded-full border border-gray-200 hover:bg-blue-100 hover:border-blue-400 transition-colors cursor-pointer z-10",style:{boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},onClick:bt=>{bt.stopPropagation();const Yt=bt.currentTarget.getBoundingClientRect();fr({top:Yt.bottom+window.scrollY,left:Yt.left+window.scrollX}),Na(Z._id)},title:"Add/Remove Guides",children:i.jsx("svg",{width:18,height:18,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",className:"text-gray-500 group-hover:text-blue-600 transition-colors",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})}),r==="received"&&pa===Z._id&&Jo.createPortal(i.jsx("div",{ref:hi,style:{position:"absolute",top:Jt.top,left:Jt.left,minWidth:220,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",padding:8,zIndex:9999,maxHeight:300,overflowY:"auto"},children:k.filter(bt=>{var Yt;return!((Yt=Z.guides)!=null&&Yt.some(vr=>vr._id===bt._id))}).length===0?i.jsx("div",{className:"text-gray-400 text-sm px-2 py-2",children:"No users available"}):k.filter(bt=>{var Yt;return!((Yt=Z.guides)!=null&&Yt.some(vr=>vr._id===bt._id))}).map(bt=>{var Yt;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",borderRadius:6,cursor:"pointer",background:"transparent",marginBottom:2,transition:"background 0.15s"},onClick:async vr=>{var Or;vr.stopPropagation();const $r=[...((Or=Z.guides)==null?void 0:Or.map(xa=>xa._id))||[],bt._id];try{const xa=await fetch(`${$e}/api/tasks/${Z._id}/guides`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_.token}`},body:JSON.stringify({guides:$r})});if(!xa.ok)throw new Error("Failed to update guides");const hn=await xa.json();a&&a(Z._id,Sr=>({...Sr,guides:hn.guides})),Ee.success("Guide added")}catch{Ee.error("Failed to update guides")}},children:[i.jsx("img",{src:((Yt=bt.photo)==null?void 0:Yt.url)||kn,alt:`${bt.firstName} ${bt.lastName}`,className:"w-6 h-6 rounded-full object-cover border border-white shadow-sm",style:{minWidth:24,minHeight:24,maxWidth:24,maxHeight:24}}),i.jsxs("span",{style:{fontSize:"14px"},children:[bt.firstName," ",bt.lastName]})]},bt._id)})}),document.body)]})},Me);case"files":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||120)+"px",minWidth:(m[Me]||120)+"px",maxWidth:(m[Me]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("div",{className:"flex items-center",children:Z.files&&Z.files.length>0?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Z.files.length}),i.jsx("button",{onClick:()=>ei(Z),className:"text-blue-600 hover:text-blue-800 text-sm",children:"View"})]}):i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-gray-400 text-sm italic",children:"No files"}),i.jsx("button",{onClick:()=>ei(Z),className:"ml-2 text-blue-600 hover:text-blue-800 text-sm",children:"Upload"})]})})})},Me);case"comments":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||120)+"px",minWidth:(m[Me]||120)+"px",maxWidth:(m[Me]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[Z.comments?Z.comments.length:0," "]}),i.jsx("button",{onClick:()=>{qe(Z),ar(!0)},className:"text-blue-600 hover:text-blue-800 text-sm",children:"View"})]})})},Me);default:if(Me.startsWith("custom_")){const bt=Me.replace("custom_",""),Yt=fe.find($r=>$r.name===bt),vr=(xi=Z.customFields)==null?void 0:xi[bt];if(Yt)return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||150)+"px",minWidth:(m[Me]||150)+"px",maxWidth:(m[Me]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:Yt.type==="checkbox"?i.jsx("input",{type:"checkbox",checked:vr||!1,onChange:async $r=>{const Or=$r.target.checked,xa=vr;a&&a(Z._id,hn=>({...hn,customFields:{...hn.customFields,[bt]:Or}}));try{(await fetch(`${$e}/api/tasks/${Z._id}/custom-fields`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({customFields:{...Z.customFields,[bt]:Or}})})).ok||(a&&a(Z._id,Sr=>({...Sr,customFields:{...Sr.customFields,[bt]:xa}})),Ee.error("Failed to save changes"))}catch{a&&a(Z._id,Sr=>({...Sr,customFields:{...Sr.customFields,[bt]:xa}})),Ee.error("Failed to save changes")}},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}):Yt.type==="tags"?i.jsxs("div",{style:{cursor:"pointer",position:"relative",zIndex:rt===Z._id&&nr===bt?50:"auto"},onClick:$r=>{$r.stopPropagation();const Or=$r.currentTarget.getBoundingClientRect();fr({top:Or.bottom+window.scrollY,left:Or.left+window.scrollX}),Gt(Z._id),zt(bt)},children:[i.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:vr||Yt.defaultValue||"Select..."}),rt===Z._id&&nr===bt&&Jo.createPortal(i.jsx("div",{ref:cn,style:{position:"absolute",top:Jt.top,left:Jt.left,minWidth:160,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",padding:8,zIndex:9999},children:Yt.options&&Yt.options.map($r=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"5px 12px",borderRadius:6,cursor:"pointer",background:vr===$r?"#f3f4f6":"transparent",marginBottom:2,transition:"background 0.15s"},onClick:Or=>{Or.stopPropagation(),vr!==$r&&Mo(Z,bt,$r),Gt(null),zt("")},onMouseEnter:Or=>Or.currentTarget.style.background="#f3f4f6",onMouseLeave:Or=>Or.currentTarget.style.background=vr===$r?"#f3f4f6":"transparent",children:[i.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:$r}),vr===$r&&i.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]},$r))}),document.body)]}):i.jsx(i.Fragment,{children:Ne===Z._id&&ut===bt?i.jsx("input",{type:"text",className:"w-full text-sm border-none outline-none bg-white p-1",value:nt,style:{height:"28px"},onChange:$r=>st($r.target.value),onBlur:()=>Ki(Z,bt),onKeyDown:$r=>{$r.key==="Enter"?($r.preventDefault(),Ki(Z,bt)):$r.key==="Escape"&&(Ge(null),We(""),st(""))},autoFocus:!0}):i.jsx("div",{className:"cursor-pointer min-h-[28px] p-1 flex items-center",onClick:()=>{Ge(Z._id),We(bt),st(vr||Yt.defaultValue||"")},children:vr||Yt.defaultValue||"Click to edit..."})})})},Me)}let yr=Z[Me];return["thirdVerificationAssignedTo","fourthVerificationAssignedTo","fifthVerificationAssignedTo"].includes(Me)&&(yr=yr?yr.firstName?`${yr.firstName} ${yr.lastName}`:yr:"NA"),i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Hr?"":"border-r border-gray-200"}`,style:{width:(m[Me]||120)+"px",minWidth:(m[Me]||120)+"px",maxWidth:(m[Me]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:yr})})},Me)}}),(r==="assigned"||r==="admin")&&i.jsx("td",{className:"px-2 py-1 text-sm font-normal align-middle bg-white",children:(!d||!d(Z))&&i.jsxs("div",{className:"flex items-center gap-0",children:[["Team Head","Admin","Senior"].includes(_==null?void 0:_.role)&&i.jsx("button",{onClick:()=>R&&R(Z),className:"text-blue-600 hover:text-blue-800 border border-blue-200 rounded px-2 py-1 text-xs font-semibold transition-colors",title:"Edit Task",children:"Edit"}),["Team Head","Admin"].includes(_==null?void 0:_.role)&&i.jsx("button",{onClick:()=>Fo(Z),className:"text-red-600 hover:text-red-800 border border-red-200 rounded px-2 py-1 text-xs font-semibold transition-colors",title:"Delete Task",children:"Delete"})]})},"actions")]},Z._id))]},ue)):on.map((ue,Oe)=>i.jsxs("tr",{className:`border-b border-gray-200 hover:bg-gray-50 transition-none ${pi===ue._id&&Bs?y3:""} ${L&&C.includes(ue._id)?"bg-blue-50":""} ${O===ue._id?"bg-blue-100 shadow-lg ring-2 ring-blue-400 animate-pulse":""}`,draggable:!0,onDragStart:Z=>Ie(Z,ue._id),onDragOver:Z=>tt(Z,ue._id),onDrop:Z=>Nt(Z,ue._id),onDragEnd:qt,style:{opacity:Bs===ue._id?.5:1},children:[L&&i.jsx("td",{className:"px-2 py-1 text-sm font-normal align-middle bg-white border-r border-gray-200",style:{width:"48px",minWidth:"48px"},children:i.jsx("input",{type:"checkbox",checked:C.includes(ue._id),onChange:Z=>Y&&Y(ue._id,Z.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",onClick:Z=>Z.stopPropagation(),title:C.includes(ue._id)?"Deselect task":"Select task"})}),i.jsx("td",{className:"px-2 py-1 text-sm font-normal align-middle bg-white border-r border-gray-200 text-gray-500 cursor-pointer hover:bg-gray-100",style:{width:"48px",minWidth:"48px",textAlign:"right"},title:"Left click to edit, right click for delete option",onClick:Z=>{Z.stopPropagation(),Kl(ue)},onContextMenu:Z=>{Z.stopPropagation(),Jl(Z,ue)},children:Oe+1}),is().map((Z,Pt,Me)=>{var Xr,Hr,Jr,Un,Mi,Os,Ls,Ia,Ns,Ji,Fi,ga;const Ut=Ze.find(Rs=>Rs.id===Z);if(!Ut)return null;const Tr=Pt===Me.length-1;switch(Z){case"title":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{verticalAlign:"middle",width:(m[Z]||256)+"px",minWidth:(m[Z]||256)+"px",maxWidth:(m[Z]||256)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:ue.title})})},Z);case"description":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white border-0 ${Tr?"":"border-r border-gray-200"}`,style:{verticalAlign:"middle",width:(m[Z]||180)+"px",minWidth:(m[Z]||180)+"px",maxWidth:(m[Z]||180)+"px",background:"white",overflow:"hidden"},children:St===ue._id?i.jsx("input",{type:"text",value:Bt,autoFocus:!0,onChange:Ht=>Kt(Ht.target.value),onBlur:()=>$s(ue),onKeyDown:Ht=>{Ht.key==="Enter"&&$s(ue)},className:"no-border-input w-full bg-white px-1 py-1 rounded",style:{fontSize:"inherit",height:"28px"}}):i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:"cursor-pointer block",onClick:()=>{ht(ue._id),Kt(ue.description||"")},title:"Click to edit",style:{minHeight:"14px",color:ue.description?void 0:"#aaa",fontSize:"inherit"},children:ue.description&&ue.description.trim()!==""?ue.description:i.jsx("span",{style:{fontStyle:"italic",fontSize:"inherit"}})})})},Z);case"clientName":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||150)+"px",minWidth:(m[Z]||150)+"px",maxWidth:(m[Z]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:"text-sm font-medium text-gray-900",children:ue.clientName})})},Z);case"clientGroup":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||150)+"px",minWidth:(m[Z]||150)+"px",maxWidth:(m[Z]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:"text-sm text-gray-500",children:ue.clientGroup})})},Z);case"workType":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||150)+"px",minWidth:(m[Z]||150)+"px",maxWidth:(m[Z]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("div",{className:"flex gap-1",children:ue.workType&&ue.workType.map((Ht,yr)=>i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 flex-shrink-0",children:Ht},yr))})})},Z);case"billed":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||80)+"px",minWidth:(m[Z]||80)+"px",maxWidth:(m[Z]||80)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:ue.billed?"Yes":"No"})})},Z);case"status":return r==="received"&&(t==="issuedVerification"||t==="guidance")?i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||120)+"px",minWidth:(m[Z]||120)+"px",maxWidth:(m[Z]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-4xl text-xs font-semibold ${Li(ue.status)||""}`,style:po(ue.status)||{},children:((Xr=Ya.find(Ht=>Ht.value===ue.status))==null?void 0:Xr.label)||ue.status})})},Z):i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||120)+"px",minWidth:(m[Z]||120)+"px",maxWidth:(m[Z]||120)+"px",background:"white",overflow:"visible",cursor:r==="received"?"pointer":"default",position:"relative",zIndex:Pr===ue._id?50:"auto"},onClick:Ht=>{if(r==="received"){Ht.stopPropagation();const yr=Ht.currentTarget.getBoundingClientRect();fr({top:yr.bottom+window.scrollY,left:yr.left+window.scrollX}),oa(ue._id)}},children:i.jsxs("div",{style:{position:"relative",display:"inline-block",width:"100%"},children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Li(ue.status)||""}`,style:{display:"inline-block",whiteSpace:"nowrap",overflowX:"auto",...po(ue.status),textOverflow:"ellipsis",maxWidth:"100%",verticalAlign:"middle",scrollbarWidth:"thin",msOverflowStyle:"auto"},title:((Hr=Ya.find(Ht=>Ht.value===ue.status))==null?void 0:Hr.label)||ue.status,children:((Jr=Ya.find(Ht=>Ht.value===ue.status))==null?void 0:Jr.label)||ue.status}),Pr===ue._id&&r==="received"&&i.jsx(m3,{task:ue,currentStatusOptions:r==="received"&&t==="execution"?Ya.filter(Ht=>Ht.value!=="reject"):Ya,statusLoading:ur,getStatusColor:Li,getStatusStyles:po,onStatusChange:Yc,onClose:()=>oa(null),position:Jt})]})},Z);case"priority":const Rs=r==="received"&&(t==="execution"||t==="receivedVerification");return i.jsxs("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||120)+"px",minWidth:(m[Z]||120)+"px",maxWidth:(m[Z]||120)+"px",background:"white",overflow:"visible",cursor:Rs?"pointer":"default",position:"relative",zIndex:tr===ue._id?50:"auto"},onClick:Ht=>{if(Rs){Ht.stopPropagation();const yr=Ht.currentTarget.getBoundingClientRect();fr({top:yr.bottom+window.scrollY,left:yr.left+window.scrollX}),Ar(ue._id)}},children:[i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-4xl text-xs font-semibold ${Zs(ue.priority)}`,children:((Un=cp.find(Ht=>Ht.value===ue.priority))==null?void 0:Un.label)||ue.priority})}),tr===ue._id&&Rs&&Jo.createPortal(i.jsx("div",{ref:cn,style:{position:"absolute",top:Jt.top,left:Jt.left,minWidth:160,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",padding:8,zIndex:9999},children:ze().map(Ht=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"5px 12px",borderRadius:6,cursor:"pointer",background:ue.priority===Ht.value?"#f3f4f6":"transparent",marginBottom:2,transition:"background 0.15s",opacity:Zr?.6:1},onClick:yr=>{yr.stopPropagation(),!Zr&&ue.priority!==Ht.value&&Mu(ue,Ht.value),Ar(null)},onMouseEnter:yr=>yr.currentTarget.style.background="#f3f4f6",onMouseLeave:yr=>yr.currentTarget.style.background=ue.priority===Ht.value?"#f3f4f6":"transparent",children:[i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${Zs(Ht.value)}`,children:Ht.label}),ue.priority===Ht.value&&i.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]},Ht.value))}),document.body)]},Z);case"verification":const xi=r==="received";return i.jsxs("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||130)+"px",minWidth:(m[Z]||130)+"px",maxWidth:(m[Z]||130)+"px",background:"white",overflow:"visible",cursor:xi?"pointer":"default",position:"relative",zIndex:Ca===ue._id?50:"auto"},onClick:Ht=>{if(xi){Ht.stopPropagation();const yr=Ht.currentTarget.getBoundingClientRect();fr({top:yr.bottom+window.scrollY,left:yr.left+window.scrollX}),Va(ue._id)}},children:[i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${gi(ue.verification||"pending")}`,children:((Mi=up.find(Ht=>Ht.value===(ue.verification||"pending")))==null?void 0:Mi.label)||ue.verification||"pending"})}),Ca===ue._id&&xi&&Jo.createPortal(i.jsx("div",{ref:Xt,style:{position:"absolute",top:Jt.top,left:Jt.left,minWidth:160,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",padding:8,zIndex:9999},children:ul(ue,_).map(Ht=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"5px 12px",borderRadius:6,cursor:"pointer",background:(ue.verification||"pending")===Ht.value?"#f3f4f6":"transparent",marginBottom:2,transition:"background 0.15s",opacity:Je?.6:1},onClick:yr=>{yr.stopPropagation(),!Je&&(ue.verification||"pending")!==Ht.value&&Fu(ue,Ht.value),Va(null)},onMouseEnter:yr=>yr.currentTarget.style.background="#f3f4f6",onMouseLeave:yr=>yr.currentTarget.style.background=(ue.verification||"pending")===Ht.value?"#f3f4f6":"transparent",children:[i.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-semibold ${gi(Ht.value)}`,children:Ht.label}),(ue.verification||"pending")===Ht.value&&i.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]},Ht.value))}),document.body)]},Z);case"selfVerification":const Us=r==="received"&&t==="execution";return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||120)+"px",minWidth:(m[Z]||120)+"px",maxWidth:(m[Z]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"flex justify-center items-center",children:i.jsx("input",{type:"checkbox",checked:!!ue.selfVerification,disabled:!!ue.selfVerification||!Us||mi,onChange:!ue.selfVerification&&Us?async Ht=>{const yr=Ht.target.checked;Gl(!0);try{const bt=await fetch(`${$e}/api/tasks/${ue._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({selfVerification:yr})});if(!bt.ok)throw new Error("Failed to update self verification");const Yt=await bt.json();console.log("Updated task received:",Yt),a&&a(ue._id,vr=>({...vr,selfVerification:Yt.selfVerification})),A&&setTimeout(()=>A(),200),Ee.success("Self Verification updated")}catch(bt){console.error("Error updating self verification:",bt),Ee.error("Failed to update Self Verification"),A&&A()}finally{Gl(!1)}}:void 0})})},Z);case"inwardEntryDate":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||150)+"px",minWidth:(m[Z]||150)+"px",maxWidth:(m[Z]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:g3(ue.inwardEntryDate)})})},Z);case"dueDate":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||120)+"px",minWidth:(m[Z]||120)+"px",maxWidth:(m[Z]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:Fg(ue.dueDate)})})},Z);case"targetDate":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||120)+"px",minWidth:(m[Z]||120)+"px",maxWidth:(m[Z]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:Fg(ue.targetDate)})})},Z);case"assignedBy":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||150)+"px",minWidth:(m[Z]||150)+"px",maxWidth:(m[Z]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:((Os=ue.assignedBy.photo)==null?void 0:Os.url)||kn,alt:ue.assignedBy.firstName,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm",onError:Ht=>{Ht.target.onerror=null,Ht.target.src=kn}}),i.jsxs("span",{className:"ml-2",children:[ue.assignedBy.firstName," ",ue.assignedBy.lastName]})]})})},Z);case"assignedTo":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||150)+"px",minWidth:(m[Z]||150)+"px",maxWidth:(m[Z]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:((Ls=ue.assignedTo.photo)==null?void 0:Ls.url)||kn,alt:ue.assignedTo.firstName,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm",onError:Ht=>{Ht.target.onerror=null,Ht.target.src=kn}}),i.jsxs("span",{className:"ml-2",children:[ue.assignedTo.firstName," ",ue.assignedTo.lastName,i.jsxs("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:[ka(ue._id,ue.assignedTo._id),"h"]})]})]})})},Z);case"verificationAssignedTo":case"secondVerificationAssignedTo":case"thirdVerificationAssignedTo":case"fourthVerificationAssignedTo":case"fifthVerificationAssignedTo":{const Ht=["verificationAssignedTo","secondVerificationAssignedTo","thirdVerificationAssignedTo","fourthVerificationAssignedTo","fifthVerificationAssignedTo"],yr=Ht.indexOf(Z),bt=Ht[yr],Yt=Ht[yr-1];let vr=((Ia=ue[bt])==null?void 0:Ia._id)===(_==null?void 0:_._id),$r=yr>0&&((Ns=ue[Yt])==null?void 0:Ns._id)===(_==null?void 0:_._id)&&!ue[bt],Or=r==="received"&&(vr||$r)&&t!=="completed"&&t!=="guidance"&&t!=="issuedVerification";if(Z==="verificationAssignedTo"&&(Or=r==="received"&&t==="execution"&&!!ue.selfVerification||r==="received"&&t==="receivedVerification"&&vr||r==="received"&&t==="issuedVerification"&&ue.assignedBy&&ue.assignedBy._id===(_==null?void 0:_._id)),t==="issuedVerification"&&ue.assignedBy&&ue.assignedBy._id===(_==null?void 0:_._id)){let Sr=-1;for(let En=Ht.length-1;En>=0;En--)if(ue[Ht[En]]){Sr=En;break}Sr!==-1&&yr===Sr?Or=!0:Sr!==-1&&(Or=!1)}if(t==="execution"&&ue.verification==="accepted"){let Sr=-1;for(let En=0;En<Ht.length;En++)if(!ue[Ht[En]]){Sr=En;break}yr===Sr&&Sr!==-1?Or=!0:ue.verification==="accepted"&&(Or=!1)}if(t==="receivedVerification")if(vr)Or=!0;else if(ue.verification==="next verification"){let Sr=-1;Ht.forEach((Cr,un)=>{var Sa;((Sa=ue[Cr])==null?void 0:Sa._id)===(_==null?void 0:_._id)&&(Sr=un)});const En=Sr+1;yr===En&&En<Ht.length?Or=!0:Or=!1}else vr||(Or=!1);const xa=F(ue),hn=k.filter(Sr=>{var En;return Sr._id!==((En=ue.assignedTo)==null?void 0:En._id)&&!xa.includes(Sr._id)&&Sr._id!==(_==null?void 0:_._id)&&`${Sr.firstName} ${Sr.lastName}`.toLowerCase().includes(ho.toLowerCase())});return Or?i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||150)+"px",minWidth:(m[Z]||150)+"px",maxWidth:(m[Z]||150)+"px",background:"white",overflow:"hidden",cursor:"pointer",position:"relative",zIndex:wr===`${ue._id}-${Z}`?50:"auto"},onClick:Sr=>{Sr.stopPropagation();const En=Sr.currentTarget.getBoundingClientRect();Js({top:En.bottom+window.scrollY,left:En.left+window.scrollX}),Nr(`${ue._id}-${Z}`),Qs("")},children:i.jsxs("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:[i.jsxs("div",{className:"flex items-center ",children:[ue[Z]?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:((Ji=ue[Z].photo)==null?void 0:Ji.url)||kn,alt:`${ue[Z].firstName} ${ue[Z].lastName}`,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm",onError:Sr=>{Sr.target.onerror=null,Sr.target.src=kn}}),i.jsxs("span",{className:"ml-2",children:[ue[Z].firstName," ",ue[Z].lastName,i.jsxs("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:[ka(ue._id,ue[Z]._id),"h"]})]})]}):i.jsx("span",{style:{fontStyle:"italic",fontSize:"inherit"},children:"NA"}),i.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",className:"ml-1 text-gray-400",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),wr===`${ue._id}-${Z}`&&Jo.createPortal(i.jsx("div",{ref:qa,style:{position:"absolute",top:Nn.top,left:Nn.left,minWidth:200,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",padding:8,zIndex:9999,maxHeight:300,overflowY:"auto"},children:hn.length===0?i.jsx("div",{className:"text-gray-400 text-sm px-2 py-2",children:"No users found"}):hn.map(Sr=>{var En;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",borderRadius:6,cursor:"pointer",background:ue[Z]&&ue[Z]._id===Sr._id?"#f3f4f6":"transparent",marginBottom:2,transition:"background 0.15s",opacity:rn?.6:1},onClick:async Cr=>{if(Cr.stopPropagation(),!(rn||ue[Z]&&ue[Z]._id===Sr._id)){Da(!0);try{const un={[Z]:Sr._id};t==="execution"&&ue.verification==="accepted"&&(un.verification="pending");const Sa=await fetch(`${$e}/api/tasks/${ue._id}/verifier`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_.token}`},body:JSON.stringify(un)});if(!Sa.ok)throw new Error("Failed to update verifier");const ls=await Sa.json();a&&a(ue._id,()=>ls),Ee.success(`${Ut.label} updated`),A&&A()}catch{Ee.error(`Failed to update ${Ut.label.toLowerCase()}`)}Da(!1),Nr(null)}},onMouseEnter:Cr=>Cr.currentTarget.style.background="#f3f4f6",onMouseLeave:Cr=>Cr.currentTarget.style.background=ue[Z]&&ue[Z]._id===Sr._id?"#f3f4f6":"transparent",children:[i.jsx("img",{src:((En=Sr.photo)==null?void 0:En.url)||kn,alt:`${Sr.firstName} ${Sr.lastName}`,className:"w-6 h-6 rounded-full object-cover border border-white shadow-sm",style:{minWidth:24,minHeight:24,maxWidth:24,maxHeight:24}}),i.jsxs("span",{style:{fontSize:"14px"},children:[Sr.firstName," ",Sr.lastName]}),ue[Z]&&ue[Z]._id===Sr._id&&i.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]},Sr._id)})}),document.body)]})},Z):i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||150)+"px",minWidth:(m[Z]||150)+"px",maxWidth:(m[Z]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap flex items-center",style:{width:"100%",maxWidth:"100%"},children:ue[Z]?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:((Fi=ue[Z].photo)==null?void 0:Fi.url)||kn,alt:`${ue[Z].firstName} ${ue[Z].lastName}`,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm"}),i.jsxs("span",{className:"ml-2",children:[ue[Z].firstName," ",ue[Z].lastName,i.jsxs("span",{className:"ml-1 px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:[ka(ue._id,ue[Z]._id),"h"]})]})]}):i.jsx("span",{style:{fontStyle:"italic",fontSize:"inherit"},children:"NA"})})},Z)}case"guides":const Qi=r==="received"?"pr-6":"pr-0",os=r==="received"?"calc(100% - 28px)":"100%";return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||200)+"px",minWidth:(m[Z]||200)+"px",maxWidth:(m[Z]||200)+"px",background:"white",overflow:"hidden"},children:i.jsxs("div",{className:"flex items-center relative",style:{width:"100%",maxWidth:"100%"},children:[i.jsx("div",{className:`flex items-center gap-1 overflow-x-auto whitespace-nowrap ${Qi}`,style:{maxWidth:os},children:Array.isArray(ue.guides)&&ue.guides.length>0?ue.guides.map(Ht=>{var yr;return i.jsxs("span",{className:"flex items-center bg-blue-100 text-blue-800 rounded-full px-2 py-0.5 text-xs font-medium mr-1",children:[i.jsx("img",{src:((yr=Ht.photo)==null?void 0:yr.url)||kn,alt:Ht.firstName,className:"w-5 h-5 rounded-full object-cover mr-1",style:{minWidth:20,minHeight:20},onError:bt=>{bt.target.onerror=null,bt.target.src=kn}}),Ht.firstName," ",Ht.lastName,r==="received"&&i.jsx("button",{className:"ml-1 text-red-500 hover:text-red-700 focus:outline-none",style:{fontSize:"12px"},onClick:async bt=>{bt.stopPropagation();const Yt=ue.guides.filter(vr=>vr._id!==Ht._id).map(vr=>vr._id);try{const vr=await fetch(`${$e}/api/tasks/${ue._id}/guides`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_.token}`},body:JSON.stringify({guides:Yt})});if(!vr.ok)throw new Error("Failed to update guides");const $r=await vr.json();a&&a(ue._id,Or=>({...Or,guides:$r.guides})),Ee.success("Guide removed")}catch{Ee.error("Failed to update guides")}},title:"Remove guide",children:"×"})]},Ht._id)}):i.jsx("span",{className:"italic text-gray-400",children:"No guide"})}),r==="received"&&i.jsx("button",{className:"absolute right-1 top-1/2 -translate-y-1/2 p-1 bg-white rounded-full border border-gray-200 hover:bg-blue-100 hover:border-blue-400 transition-colors cursor-pointer z-10",style:{boxShadow:"0 1px 4px rgba(0,0,0,0.04)"},onClick:Ht=>{Ht.stopPropagation();const yr=Ht.currentTarget.getBoundingClientRect();fr({top:yr.bottom+window.scrollY,left:yr.left+window.scrollX}),Na(ue._id)},title:"Add/Remove Guides",children:i.jsx("svg",{width:18,height:18,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",className:"text-gray-500 group-hover:text-blue-600 transition-colors",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})}),r==="received"&&pa===ue._id&&Jo.createPortal(i.jsx("div",{ref:hi,style:{position:"absolute",top:Jt.top,left:Jt.left,minWidth:220,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",padding:8,zIndex:9999,maxHeight:300,overflowY:"auto"},children:k.filter(Ht=>{var yr;return!((yr=ue.guides)!=null&&yr.some(bt=>bt._id===Ht._id))}).length===0?i.jsx("div",{className:"text-gray-400 text-sm px-2 py-2",children:"No users available"}):k.filter(Ht=>{var yr;return!((yr=ue.guides)!=null&&yr.some(bt=>bt._id===Ht._id))}).map(Ht=>{var yr;return i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"6px 8px",borderRadius:6,cursor:"pointer",background:"transparent",marginBottom:2,transition:"background 0.15s"},onClick:async bt=>{var vr;bt.stopPropagation();const Yt=[...((vr=ue.guides)==null?void 0:vr.map($r=>$r._id))||[],Ht._id];try{const $r=await fetch(`${$e}/api/tasks/${ue._id}/guides`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_.token}`},body:JSON.stringify({guides:Yt})});if(!$r.ok)throw new Error("Failed to update guides");const Or=await $r.json();a&&a(ue._id,xa=>({...xa,guides:Or.guides})),Ee.success("Guide added")}catch{Ee.error("Failed to update guides")}},children:[i.jsx("img",{src:((yr=Ht.photo)==null?void 0:yr.url)||kn,alt:`${Ht.firstName} ${Ht.lastName}`,className:"w-6 h-6 rounded-full object-cover border border-white shadow-sm",style:{minWidth:24,minHeight:24,maxWidth:24,maxHeight:24}}),i.jsxs("span",{style:{fontSize:"14px"},children:[Ht.firstName," ",Ht.lastName]})]},Ht._id)})}),document.body)]})},Z);case"files":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||120)+"px",minWidth:(m[Z]||120)+"px",maxWidth:(m[Z]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("div",{className:"flex items-center",children:ue.files&&ue.files.length>0?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:ue.files.length}),i.jsx("button",{onClick:()=>ei(ue),className:"text-blue-600 hover:text-blue-800 text-sm",children:"View"})]}):i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-gray-400 text-sm italic",children:"No files"}),i.jsx("button",{onClick:()=>ei(ue),className:"ml-2 text-blue-600 hover:text-blue-800 text-sm",children:"Upload"})]})})})},Z);case"comments":return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||120)+"px",minWidth:(m[Z]||120)+"px",maxWidth:(m[Z]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[ue.comments?ue.comments.length:0," "]}),i.jsx("button",{onClick:()=>{qe(ue),ar(!0)},className:"text-blue-600 hover:text-blue-800 text-sm",children:"View"})]})})},Z);default:if(Z.startsWith("custom_")){const Ht=Z.replace("custom_",""),yr=fe.find(Yt=>Yt.name===Ht),bt=(ga=ue.customFields)==null?void 0:ga[Ht];if(yr)return i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||150)+"px",minWidth:(m[Z]||150)+"px",maxWidth:(m[Z]||150)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:yr.type==="checkbox"?i.jsx("input",{type:"checkbox",checked:bt||!1,onChange:async Yt=>{const vr=Yt.target.checked;if(a){a(ue._id,$r=>({...$r,customFields:{...$r.customFields,[Ht]:vr}}));try{if(!(await fetch(`${$e}/api/tasks/${ue._id}/custom-fields`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${W.token}`},body:JSON.stringify({customFields:{[Ht]:vr}})})).ok)throw new Error("Failed to update custom field")}catch($r){console.error("Error updating custom field:",$r),a(ue._id,Or=>({...Or,customFields:{...Or.customFields,[Ht]:!vr}}))}}},className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}):yr.type==="tags"?i.jsxs("div",{style:{cursor:"pointer",position:"relative",zIndex:rt===ue._id&&nr===Ht?50:"auto"},onClick:Yt=>{Yt.stopPropagation();const vr=Yt.currentTarget.getBoundingClientRect();fr({top:vr.bottom+window.scrollY,left:vr.left+window.scrollX}),Gt(ue._id),zt(Ht)},children:[i.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:bt||yr.defaultValue||"Select..."}),rt===ue._id&&nr===Ht&&Jo.createPortal(i.jsx("div",{ref:cn,style:{position:"absolute",top:Jt.top,left:Jt.left,minWidth:160,background:"#fff",border:"1px solid #e5e7eb",borderRadius:8,boxShadow:"0 4px 16px rgba(0,0,0,0.10)",padding:8,zIndex:9999},children:yr.options&&yr.options.map(Yt=>i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,padding:"5px 12px",borderRadius:6,cursor:"pointer",background:bt===Yt?"#f3f4f6":"transparent",marginBottom:2,transition:"background 0.15s"},onClick:vr=>{vr.stopPropagation(),bt!==Yt&&Mo(ue,Ht,Yt),Gt(null),zt("")},onMouseEnter:vr=>vr.currentTarget.style.background="#f3f4f6",onMouseLeave:vr=>vr.currentTarget.style.background=bt===Yt?"#f3f4f6":"transparent",children:[i.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:Yt}),bt===Yt&&i.jsx("svg",{width:16,height:16,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]},Yt))}),document.body)]}):i.jsx(i.Fragment,{children:Ne===ue._id&&ut===Ht?i.jsx("input",{type:"text",className:"w-full text-sm border-none outline-none bg-white p-1",value:nt,style:{height:"28px"},onChange:Yt=>st(Yt.target.value),onBlur:()=>Ki(ue,Ht),onKeyDown:Yt=>{Yt.key==="Enter"?(Yt.preventDefault(),Ki(ue,Ht)):Yt.key==="Escape"&&(Ge(null),We(""),st(""))},autoFocus:!0}):i.jsx("div",{className:"cursor-pointer min-h-[28px] p-1 flex items-center",onClick:()=>{Ge(ue._id),We(Ht),st(bt||yr.defaultValue||"")},children:bt||yr.defaultValue||"Click to edit..."})})})},Z)}let Pi=ue[Z];return["thirdVerificationAssignedTo","fourthVerificationAssignedTo","fifthVerificationAssignedTo"].includes(Z)&&(Pi=Pi?Pi.firstName?`${Pi.firstName} ${Pi.lastName}`:Pi:"NA"),i.jsx("td",{className:`px-2 py-1 text-sm font-normal align-middle bg-white ${Tr?"":"border-r border-gray-200"}`,style:{width:(m[Z]||120)+"px",minWidth:(m[Z]||120)+"px",maxWidth:(m[Z]||120)+"px",background:"white",overflow:"hidden"},children:i.jsx("div",{className:"overflow-x-auto whitespace-nowrap",style:{width:"100%",maxWidth:"100%"},children:i.jsx("span",{children:Pi})})},Z)}}),(r==="assigned"||r==="admin")&&i.jsx("td",{className:"px-2 py-1 text-sm font-normal align-middle bg-white",children:(!d||!d(ue))&&i.jsxs("div",{className:"flex items-center gap-0",children:[["Team Head","Admin","Senior"].includes(_==null?void 0:_.role)&&i.jsx("button",{onClick:()=>R&&R(ue),className:"text-blue-600 hover:text-blue-800 border border-blue-200 rounded px-2 py-1 text-xs font-semibold transition-colors",title:"Edit Task",children:"Edit"}),["Team Head","Admin"].includes(_==null?void 0:_.role)&&i.jsx("button",{onClick:()=>Fo(ue),className:"text-red-600 hover:text-red-800 border border-red-200 rounded px-2 py-1 text-xs font-semibold transition-colors",title:"Delete Task",children:"Delete"})]})},"actions")]},ue._id))})]})}),Le&&(Tt||er)&&i.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:Tt?"Task Files":"Task Comments"}),i.jsx("button",{onClick:()=>{qe(null),Dt(!1),ar(!1)},className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),i.jsx("div",{className:"space-y-6",children:Tt?i.jsxs(i.Fragment,{children:[i.jsx(Z_,{taskId:Le._id,onFileUploaded:Fd,onFileDeleted:xo}),Le.files&&Le.files.length>0&&i.jsx("div",{className:"mt-4",children:i.jsx(pm,{taskId:Le._id,files:Le.files,onFileDeleted:xo})})]}):i.jsx(eT,{taskId:Le._id})})]})}),i.jsx(dO,{isOpen:Ot,onClose:Xl,onSubmit:qc,task:Ir,verificationType:Te,loading:de}),De&&i.jsx("div",{ref:xe,className:"fixed bg-white border border-gray-200 rounded-md shadow-lg z-50",style:{top:ft.y,left:ft.x,minWidth:"120px"},children:i.jsx("button",{onClick:()=>{const ue=on.find(Oe=>Oe._id===De)||e.find(Oe=>Oe._id===De);ue&&Ql(ue)},className:"w-full px-3 py-2 text-left text-sm text-red-600 hover:bg-red-50 hover:text-red-800 transition-colors",children:"Delete Task"})}),Qe&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/10 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-xs mx-2",children:[i.jsx("div",{className:"text-lg font-semibold text-gray-800 mb-4 text-center",children:"Are you sure you want to delete this task?"}),i.jsxs("div",{className:"flex justify-center gap-4 mt-4",children:[i.jsx("button",{onClick:Pd,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors font-semibold",children:"Confirm"}),i.jsx("button",{onClick:Zl,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded hover:bg-gray-300 transition-colors font-semibold",children:"Cancel"})]})]})})]})})},tT=({value:e,onChange:r,disabled:t=!1,excludeCompleted:n=!1,className:a="w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})=>{const{user:s}=gn(),[l,u]=T.useState([]),[d,f]=T.useState(!1),[p,x]=T.useState(""),[y,m]=T.useState(!1),[w,v]=T.useState({name:"",color:"bg-purple-100 text-purple-800"}),N=T.useRef(null),S=[{value:"bg-red-100 text-red-800",label:"Red",preview:"bg-red-100"},{value:"bg-yellow-100 text-yellow-800",label:"Yellow",preview:"bg-yellow-100"},{value:"bg-green-100 text-green-800",label:"Green",preview:"bg-green-100"},{value:"bg-blue-100 text-blue-800",label:"Blue",preview:"bg-blue-100"},{value:"bg-indigo-100 text-indigo-800",label:"Indigo",preview:"bg-indigo-100"},{value:"bg-purple-100 text-purple-800",label:"Purple",preview:"bg-purple-100"},{value:"bg-pink-100 text-pink-800",label:"Pink",preview:"bg-pink-100"},{value:"bg-orange-100 text-orange-800",label:"Orange",preview:"bg-orange-100"},{value:"bg-teal-100 text-teal-800",label:"Teal",preview:"bg-teal-100"},{value:"bg-cyan-100 text-cyan-800",label:"Cyan",preview:"bg-cyan-100"},{value:"bg-gray-100 text-gray-800",label:"Gray",preview:"bg-gray-100"}];T.useEffect(()=>{const I=async()=>{try{const B=await fetch(`${$e}/api/task-statuses`,{headers:{Authorization:`Bearer ${s.token}`}});if(!B.ok)throw new Error("Failed to fetch task statuses");const O=await B.json(),L=n?O.filter(C=>C.name!=="completed"):O;u(L)}catch(B){console.error("Error fetching task statuses:",B),Ee.error("Failed to load task statuses")}};s!=null&&s.token&&I()},[s,n]);const k=l.filter(I=>I.name.toLowerCase().replace(/_/g," ").includes(p.toLowerCase()));T.useEffect(()=>{const I=B=>{N.current&&!N.current.contains(B.target)&&(f(!1),x(""))};return d&&document.addEventListener("mousedown",I),()=>{document.removeEventListener("mousedown",I)}},[d]);const _=I=>I.replace(/_/g," ").split(" ").map(B=>B.charAt(0).toUpperCase()+B.slice(1)).join(" "),A=l.find(I=>I.name===e),R=A?_(A.name):"Select Status",V=I=>{r(I.name),f(!1),x("")},P=async()=>{if(!w.name.trim()){Ee.error("Status name is required");return}try{const I=await fetch(`${$e}/api/task-statuses`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s.token}`},body:JSON.stringify({name:w.name.toLowerCase().replace(/\s+/g,"_"),color:w.color})});if(!I.ok){const O=await I.json();throw new Error(O.message||"Failed to create status")}const B=await I.json();(!n||B.name!=="completed")&&u(O=>[...O,B]),r(B.name),v({name:"",color:"bg-purple-100 text-purple-800"}),m(!1),f(!1),Ee.success("Status created successfully")}catch(I){console.error("Error creating status:",I),Ee.error(I.message)}};return i.jsxs("div",{className:"relative",ref:N,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{type:"button",onClick:()=>!t&&f(!d),disabled:t,className:`${a} ${t?"bg-gray-100 cursor-not-allowed":"bg-white cursor-pointer hover:bg-gray-50"} flex items-center justify-between`,children:[i.jsx("div",{className:"flex items-center gap-2",children:A?i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A.color}`,children:_(A.name)}):i.jsx("span",{className:"text-gray-500",children:R})}),i.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${d?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),i.jsx("button",{type:"button",onClick:()=>m(!0),className:"px-3 py-2 text-sm bg-gray-100 text-gray-800 border border-gray-300 rounded-md hover:bg-gray-200 whitespace-nowrap",disabled:t,children:"+ Add Status"})]}),d&&i.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white p-2 border-b",children:i.jsx("input",{type:"text",placeholder:"Search statuses...",value:p,onChange:I=>x(I.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})}),i.jsx("div",{className:"py-1",children:k.length>0?k.map(I=>i.jsxs("button",{type:"button",onClick:()=>V(I),className:`w-full px-4 py-2 text-left hover:bg-blue-50 focus:outline-none focus:bg-blue-50 ${e===I.name?"bg-blue-50":""}`,children:[i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.color}`,children:_(I.name)}),e===I.name&&i.jsx("span",{className:"float-right text-blue-600",children:"✓"})]},I._id)):i.jsx("div",{className:"px-4 py-2 text-gray-500 text-center",children:"No statuses found"})})]}),y&&i.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Add New Status"}),i.jsx("button",{onClick:()=>m(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Status Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:w.name,onChange:I=>v(B=>({...B,name:I.target.value})),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter status name",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Color ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:S.map(I=>i.jsxs("button",{type:"button",onClick:()=>v(B=>({...B,color:I.value})),className:`p-2 rounded-md border-2 ${w.color===I.value?"border-blue-500 ring-2 ring-blue-200":"border-gray-200 hover:border-gray-300"}`,children:[i.jsx("div",{className:`w-full h-6 rounded ${I.preview} border`}),i.jsx("span",{className:"text-xs mt-1 block",children:I.label})]},I.value))})]}),w.name&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview"}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w.color}`,children:_(w.name)})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),i.jsx("button",{type:"button",onClick:P,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Add Status"})]})]})]})})]})},qp=({users:e=[],mode:r="create",initialData:t=null,isOpen:n=!1,onClose:a=()=>{},onSubmit:s=null,showAcceptButton:l=!1})=>{var tn,et,_e,Be;const{user:u,isAuthenticated:d}=gn(),[f,p]=T.useState(!1),[x,y]=T.useState({name:""}),[m,w]=T.useState([]),[v,N]=T.useState([]),[S,k]=T.useState([]),[_,A]=T.useState([{name:"urgent",isDefault:!0},{name:"today",isDefault:!0},{name:"lessThan3Days",isDefault:!0},{name:"thisWeek",isDefault:!0},{name:"thisMonth",isDefault:!0},{name:"regular",isDefault:!0},{name:"filed",isDefault:!0},{name:"dailyWorksOffice",isDefault:!0},{name:"monthlyWorks",isDefault:!0}]),[R,V]=T.useState({title:"",description:"",clientName:"",clientGroup:"",workType:[],assignedTo:[],priority:"today",inwardEntryDate:"",inwardEntryTime:"",dueDate:"",targetDate:"",billed:!1,status:"yet_to_start"}),[P,I]=T.useState([]),[B,O]=T.useState(""),[L,C]=T.useState(!1),[Y,Q]=T.useState(!1),[ce,W]=T.useState(""),J=T.useRef(null),[re,ee]=T.useState([]),[H,ne]=T.useState([]),[D,z]=T.useState(null),[q,X]=T.useState(!1),[se,Se]=T.useState({}),fe=T.useRef(null),[G,be]=T.useState(!1),[Fe,De]=T.useState(""),[lt,ft]=T.useState(!1),[Pe,xe]=T.useState(!1),Qe=10*1024*1024,at=50*1024*1024,pt=10,Ze=()=>{const ve=new Date,Ce=ve.toISOString().split("T")[0],Le=ve.getHours(),qe=ve.getMinutes(),Tt=Le>=12?"PM":"AM",er=`${(Le%12||12).toString().padStart(2,"0")}:${qe.toString().padStart(2,"0")} ${Tt}`;return{date:Ce,time:er}},ze=ve=>{const[Ce,Le]=ve.split(" ");let[qe,Tt]=Ce.split(":");return qe=parseInt(qe,10),qe===12?qe=Le==="PM"?12:0:Le==="PM"&&(qe=qe+12),`${qe.toString().padStart(2,"0")}:${Tt}`},Ae=ve=>{const[Ce,Le]=ve.split(":"),qe=parseInt(Ce,10),Tt=qe>=12?"PM":"AM";return`${(qe%12||12).toString().padStart(2,"0")}:${Le} ${Tt}`};T.useEffect(()=>{n&&(async()=>{try{const Le=await(await fetch(`${$e}/api/clients`,{headers:{Authorization:`Bearer ${u.token}`}})).json();w(Le);const Tt=await(await fetch(`${$e}/api/clients/groups`,{headers:{Authorization:`Bearer ${u.token}`}})).json();N(Tt);const er=await(await fetch(`${$e}/api/clients/work-types`,{headers:{Authorization:`Bearer ${u.token}`}})).json();k(er);try{const St=await(await fetch(`${$e}/api/priorities`,{headers:{Authorization:`Bearer ${u.token}`}})).json(),ht=[{name:"urgent",isDefault:!0},{name:"today",isDefault:!0},{name:"lessThan3Days",isDefault:!0},{name:"thisWeek",isDefault:!0},{name:"thisMonth",isDefault:!0},{name:"regular",isDefault:!0},{name:"filed",isDefault:!0},{name:"dailyWorksOffice",isDefault:!0},{name:"monthlyWorks",isDefault:!0}],Bt=St.filter(Ot=>!Ot.isDefault),Kt=[...ht,...Bt];A(Kt)}catch(ar){console.error("Error fetching priorities, using defaults:",ar)}}catch(Ce){console.error("Error fetching data:",Ce),Ee.error("Failed to fetch required data")}})()},[n,u]);const vt=T.useMemo(()=>ce?m.filter(ve=>ve.name.toLowerCase().includes(ce.toLowerCase())||ve.group&&ve.group.name.toLowerCase().includes(ce.toLowerCase())):m,[m,ce]);T.useEffect(()=>{const ve=Ce=>{J.current&&!J.current.contains(Ce.target)&&!Ce.target.closest(".work-type-modal")&&(a(),C(!1),Q(!1))};return n&&document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[n,a]);const gt=ve=>{const Ce=Array.from(ve),Le=[];re.length+Ce.length>pt&&Le.push(`Maximum ${pt} files allowed`);let qe=re.reduce((Dt,er)=>Dt+er.size,0);Ce.forEach(Dt=>{Dt.size>Qe&&Le.push(`${Dt.name} exceeds 10MB limit`),qe+=Dt.size}),qe>at&&Le.push("Total size exceeds 50MB limit");const Tt=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","image/jpeg","image/png","image/gif","text/plain"];return Ce.forEach(Dt=>{Tt.includes(Dt.type)||Le.push(`${Dt.name} is not a supported file type`)}),Le.length>0?(Ee.error(Le.join(`
`)),!1):!0},rr=ve=>{const Ce=ve.target.files;if(!Ce||Ce.length===0)return;const Le=Array.from(Ce);console.log("Selected files:",Le),gt(Le)&&ee(qe=>{const Tt=[...qe,...Le];return console.log("Updated selected files:",Tt),Tt}),fe.current&&(fe.current.value="")},Wt=ve=>{ee(Ce=>Ce.filter((Le,qe)=>qe!==ve))};T.useEffect(()=>{if(r==="edit"&&t&&n){let ve="";if(t.inwardEntryTime)ve=t.inwardEntryTime;else if(t.inwardEntryDate){const Dt=new Date(t.inwardEntryDate),er=Dt.getHours().toString().padStart(2,"0"),ar=Dt.getMinutes().toString().padStart(2,"0");ve=`${er}:${ar}`}const Ce=ve?Ae(ve):"";V({title:t.title||"",description:t.description||"",clientName:t.clientName||"",clientGroup:t.clientGroup||"",workType:Array.isArray(t.workType)?t.workType:[],assignedTo:Array.isArray(t.assignedTo)?t.assignedTo.map(Dt=>typeof Dt=="string"?Dt:Dt._id):t.assignedTo?[typeof t.assignedTo=="string"?t.assignedTo:t.assignedTo._id]:[],priority:t.priority||"regular",inwardEntryDate:t.inwardEntryDate?t.inwardEntryDate.split("T")[0]:"",inwardEntryTime:Ce,dueDate:t.dueDate?t.dueDate.split("T")[0]:"",targetDate:t.targetDate?t.targetDate.split("T")[0]:"",billed:typeof t.billed=="boolean"?t.billed:!0,status:t.status||"in_progress"}),W(t.clientName||"");const Le=Array.isArray(t.assignedTo)?t.assignedTo:t.assignedTo?[t.assignedTo]:[],qe=Le.map(Dt=>typeof Dt=="string"?Dt:Dt._id);console.log("[EditModal-FIX] assignedToRaw:",Le),console.log("[EditModal-FIX] users:",e),console.log("[EditModal-FIX] assignedUserIds:",qe);const Tt=e.filter(Dt=>qe.includes(Dt._id));console.log("[EditModal-FIX] selectedUsers to set:",Tt),I(Tt)}else if(r==="create"&&n){const{date:ve,time:Ce}=Ze();V(Le=>Le.title||Le.status!=="yet_to_start"?Le:{title:"",description:"",clientName:"",clientGroup:"",workType:[],assignedTo:[],priority:"today",inwardEntryDate:ve,inwardEntryTime:Ce,dueDate:"",targetDate:"",billed:!1,status:"yet_to_start"}),W(""),I([])}},[r,t,n,e]),T.useEffect(()=>{if(r==="edit"&&t&&n&&e.length>0&&P.length===0&&(Array.isArray(t.assignedTo)||t.assignedTo)){const ve=Array.isArray(t.assignedTo)?t.assignedTo:t.assignedTo?[t.assignedTo]:[],Ce=ve.map(qe=>typeof qe=="string"?qe:qe._id);console.log("[EditModal-FIX][users effect] assignedToRaw:",ve),console.log("[EditModal-FIX][users effect] users:",e),console.log("[EditModal-FIX][users effect] assignedUserIds:",Ce);const Le=e.filter(qe=>Ce.includes(qe._id));console.log("[EditModal-FIX][users effect] selectedUsers to set:",Le),I(Le)}},[e,t,n,r]);const Qt=async ve=>{if(ve.preventDefault(),!d()){Ee.error("Please login to create tasks");return}if(!R.title.trim()){Ee.error("Task Title is required");return}if(!R.clientName.trim()){Ee.error("Client Name is required");return}if(!R.inwardEntryDate){Ee.error("Inward Entry Date is required");return}if(!R.inwardEntryTime){Ee.error("Inward Entry Time is required");return}if(R.assignedTo.length===0){Ee.error("Please select at least one user to assign the task to");return}if(R.workType.length===0){Ee.error("Please select at least one work type");return}if(R.billed!==!0&&R.billed!==!1){Ee.error("Please select whether the task is billed or not");return}try{X(!0);let Ce=R.inwardEntryDate;if(R.inwardEntryDate&&R.inwardEntryTime){const Dt=ze(R.inwardEntryTime),[er,ar]=Dt.split(":"),St=!isNaN(Date.parse(R.inwardEntryDate)),ht=!isNaN(Number(er))&&Number(er)>=0&&Number(er)<=23,Bt=!isNaN(Number(ar))&&Number(ar)>=0&&Number(ar)<=59;if(St&&ht&&Bt){const Kt=new Date(R.inwardEntryDate);if(Kt.setHours(Number(er),Number(ar),0,0),!isNaN(Kt.getTime()))Ce=Kt.toISOString();else{Ee.error("Invalid date/time selected."),X(!1);return}}else{Ee.error("Please provide a valid Inward Entry Date and Time."),X(!1);return}}else if(r==="edit"&&t&&t.inwardEntryDate)Ce=t.inwardEntryDate;else{Ee.error("Both Inward Entry Date and Time are required."),X(!1);return}console.log("Submitting task with inwardEntryDate:",Ce);const Le={...R,inwardEntryDate:Ce,assignedTo:Array.isArray(R.assignedTo)?R.assignedTo.filter(Boolean):[R.assignedTo].filter(Boolean),inwardEntryTime:ze(R.inwardEntryTime),billed:R.billed};let qe,Tt;if(r==="edit"&&t&&t._id){if(qe=await fetch(`${$e}/api/tasks/${t._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.token}`},body:JSON.stringify(Le)}),!qe.ok){const Dt=await qe.json();throw new Error(Dt.message||"Failed to update task")}Tt=await qe.json(),Ee.success("Task updated successfully"),s&&s(Tt),a()}else{const Dt=await fetch(`${$e}/api/tasks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.token}`},body:JSON.stringify(Le)});if(!Dt.ok){const ar=await Dt.json();throw new Error(ar.message||"Failed to create task")}const er=await Dt.json();if(console.log("Tasks created:",er),er&&Array.isArray(er)&&er.length>0){Ee.success(`${er.length} task(s) created successfully`);for(const ar of er)if(ar&&ar._id){if(re.length>0){console.log("Starting file upload for task:",ar._id);try{await Zt(ar._id),Ee.success(`Files uploaded for task: ${ar.title}`)}catch(St){console.error("File upload error:",St),Ee.error(`Task created but file upload failed for ${ar.title}: ${St.message}`)}}}else console.error("Invalid task ID received for one of the tasks"),Ee.error("An error occurred while processing one of the created tasks.");s&&s(er),a()}else console.error("Invalid task ID received:",er),Ee.error("An error occurred while creating the task. Invalid ID received.")}}catch(Ce){console.error("Error creating task:",Ce),Ee.error(Ce.message),z(null)}finally{X(!1)}},cr=async ve=>{if(ve.preventDefault(),!d()){Ee.error("Please login to update tasks");return}if(!t||!t._id){Ee.error("Task ID not found");return}X(!0);try{let Ce;if(R.inwardEntryDate&&R.inwardEntryTime){const[er,ar]=R.inwardEntryTime.replace(/(AM|PM)/,"").split(":").map(Ur=>Ur.trim()),St=R.inwardEntryTime.toUpperCase().includes("PM");let ht=parseInt(er,10);St&&ht!==12?ht+=12:!St&&ht===12&&(ht=0);const Bt=R.inwardEntryDate&&!isNaN(new Date(R.inwardEntryDate)),Kt=!isNaN(ht)&&ht>=0&&ht<=23,Ot=!isNaN(Number(ar))&&Number(ar)>=0&&Number(ar)<=59;if(Bt&&Kt&&Ot){const Ur=new Date(R.inwardEntryDate);if(Ur.setHours(ht,Number(ar),0,0),!isNaN(Ur.getTime()))Ce=Ur.toISOString();else{Ee.error("Invalid date/time selected."),X(!1);return}}else{Ee.error("Please provide a valid Inward Entry Date and Time."),X(!1);return}}else if(t&&t.inwardEntryDate)Ce=t.inwardEntryDate;else{Ee.error("Both Inward Entry Date and Time are required."),X(!1);return}const Le={...R,inwardEntryDate:Ce,assignedTo:Array.isArray(R.assignedTo)?R.assignedTo.filter(Boolean):[R.assignedTo].filter(Boolean),inwardEntryTime:ze(R.inwardEntryTime),billed:R.billed},qe=await fetch(`${$e}/api/tasks/${t._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.token}`},body:JSON.stringify(Le)});if(!qe.ok){const er=await qe.json();throw new Error(er.message||"Failed to update task")}const Tt=await qe.json(),Dt=await fetch(`${$e}/api/tasks/${t._id}/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.token}`},body:JSON.stringify({action:"approve"})});if(!Dt.ok){const er=await Dt.json();throw new Error(er.message||"Failed to approve task")}Ee.success("Task updated and approved successfully"),s&&s(Tt),a()}catch(Ce){console.error("Error updating and approving task:",Ce),Ee.error(Ce.message)}finally{X(!1)}},Zt=async ve=>{if(!ve)throw new Error("Invalid task ID");if(!re.length){console.log("No files to upload");return}console.log("Uploading files for task:",ve,"Files:",re),Se({});const Ce=3;for(let Le=0;Le<re.length;Le+=Ce){const qe=re.slice(Le,Le+Ce),Tt=new FormData;qe.forEach(Dt=>{Tt.append("files",Dt)});try{console.log("Uploading batch:",qe);const Dt=await fetch(`${$e}/api/tasks/${ve}/files`,{method:"POST",headers:{Authorization:`Bearer ${u.token}`},body:Tt});if(!Dt.ok){const ar=await Dt.json();throw new Error(ar.message||"Failed to upload files")}const er=await Dt.json();console.log("Uploaded files response:",er),ne(ar=>{const St=[...ar,...er];return console.log("Updated task files:",St),St}),qe.forEach((ar,St)=>{Se(ht=>({...ht,[Le+St]:"completed"}))})}catch(Dt){throw console.error(`Failed to upload batch starting at index ${Le}:`,Dt),Dt}}ee([]),fe.current&&(fe.current.value="")},hr=ve=>{e.find(Le=>Le._id===ve)&&V(Le=>{const qe=Le.assignedTo.includes(ve)?Le.assignedTo.filter(Tt=>Tt!==ve):[...Le.assignedTo,ve];return I(e.filter(Tt=>qe.includes(Tt._id))),C(!1),{...Le,assignedTo:qe}})},$t=ve=>{V(Ce=>{const Le=Ce.workType.includes(ve)?Ce.workType.filter(qe=>qe!==ve):[...Ce.workType,ve];return{...Ce,workType:Le}})},Mr=P.length>0?`${P.length} user${P.length>1?"s":""} selected`:"Select users",Qr=T.useMemo(()=>!u||e.some(ve=>ve._id===u._id)?e:[u,...e],[e,u]).filter(ve=>`${ve.firstName} ${ve.lastName}`.toLowerCase().includes(B.toLowerCase())),Er=async ve=>{ve.preventDefault();try{const Ce=await fetch(`${$e}/api/clients/work-types`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.token}`},body:JSON.stringify(x)});if(!Ce.ok)throw new Error("Failed to create work type");const Le=await Ce.json();k(qe=>[...qe,Le]),p(!1),y({name:""}),Ee.success("Work type created successfully")}catch(Ce){Ee.error(Ce.message)}},Fr=T.useMemo(()=>Fe?S.filter(ve=>ve.name.toLowerCase().includes(Fe.toLowerCase())):S,[S,Fe]);return T.useEffect(()=>{const ve=Ce=>{Ce.target.closest(".work-type-dropdown")||setTimeout(()=>be(!1),100)};return G&&document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[G]),i.jsxs(i.Fragment,{children:[n&&i.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:r==="edit"?"Edit Task":"Create New Task"}),i.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),i.jsxs("form",{onSubmit:Qt,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Task Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:R.title,onChange:ve=>V({...R,title:ve.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:ce,onChange:ve=>{W(ve.target.value),Q(!0)},onFocus:()=>Q(!0),placeholder:"Search client or group...",className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),Y&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:vt.length>0?vt.map(ve=>i.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{V(Ce=>({...Ce,clientName:ve.name,clientGroup:ve.group?ve.group.name:""})),W(ve.name),Q(!1)},children:[i.jsx("div",{className:"font-medium text-gray-900",children:ve.name}),i.jsx("div",{className:"text-sm text-gray-500",children:ve.group?ve.group.name:"No Group"})]},ve._id)):i.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No clients found"})})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Group ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:R.clientGroup,className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),i.jsx("select",{value:R.priority,onChange:ve=>V({...R,priority:ve.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:_.map(ve=>i.jsx("option",{value:ve.name,children:ve.name.charAt(0).toUpperCase()+ve.name.slice(1).replace(/([A-Z])/g," $1")},ve._id||ve.name))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Inward Entry Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("input",{type:"date",value:R.inwardEntryDate,onChange:ve=>V({...R,inwardEntryDate:ve.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("select",{value:((et=(tn=R.inwardEntryTime.split(" ")[0])==null?void 0:tn.split(":")[0])==null?void 0:et.padStart(2,"0"))||"12",onChange:ve=>{const Ce=R.inwardEntryTime.split(" ");let[Le,qe]=(Ce[0]||"12:00").split(":");const Tt=Ce[1]||"AM",er=`${ve.target.value.padStart(2,"0")}:${(qe||"00").padStart(2,"0")} ${Tt}`;V({...R,inwardEntryTime:er})},className:"w-1/3 border rounded-md px-2 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Array.from({length:12},(ve,Ce)=>(Ce+1).toString().padStart(2,"0")).map(ve=>i.jsx("option",{value:ve,children:ve},ve))}),i.jsx("span",{className:"text-gray-500",children:":"}),i.jsx("select",{value:((Be=(_e=R.inwardEntryTime.split(" ")[0])==null?void 0:_e.split(":")[1])==null?void 0:Be.padStart(2,"0"))||"00",onChange:ve=>{const Ce=R.inwardEntryTime.split(" ");let[Le,qe]=(Ce[0]||"12:00").split(":");const Tt=Ce[1]||"AM",Dt=ve.target.value.padStart(2,"0"),er=`${(Le||"12").padStart(2,"0")}:${Dt} ${Tt}`;V({...R,inwardEntryTime:er})},className:"w-1/3 border rounded-md px-2 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Array.from({length:60},(ve,Ce)=>Ce.toString().padStart(2,"0")).map(ve=>i.jsx("option",{value:ve,children:ve},ve))}),i.jsxs("select",{value:R.inwardEntryTime.split(" ")[1]||"AM",onChange:ve=>{const qe=`${R.inwardEntryTime.split(" ")[0]||"12:00"} ${ve.target.value}`;V({...R,inwardEntryTime:qe})},className:"w-1/3 border rounded-md px-1 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"AM",children:"AM"}),i.jsx("option",{value:"PM",children:"PM"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),i.jsx("input",{type:"date",value:R.dueDate,onChange:ve=>V({...R,dueDate:ve.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Date"}),i.jsx("input",{type:"date",value:R.targetDate,onChange:ve=>V({...R,targetDate:ve.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Internal Works ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:R.billed===!0?"yes":R.billed===!1?"no":"",onChange:ve=>V({...R,billed:ve.target.value==="yes"?!0:ve.target.value==="no"?!1:""}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[i.jsx("option",{value:"",disabled:!0,children:"Select internal works status"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),i.jsxs("div",{className:"md:col-span-2 flex flex-row md:items-end gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign To ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative w-full",children:[L&&i.jsxs("div",{className:"absolute z-10 w-full bottom-full mb-1 bg-white border rounded-md shadow-lg max-h-60 overflow-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white p-2 border-b",children:i.jsx("input",{type:"text",placeholder:"Search users...",value:B,onChange:ve=>O(ve.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:ve=>ve.stopPropagation()})}),i.jsx("div",{className:"py-1",children:Qr.length>0?Qr.map(ve=>{var Ce;return i.jsx("button",{type:"button",onClick:()=>{lt?hr(ve._id):(V(Le=>({...Le,assignedTo:[ve._id]})),I([ve]),C(!1))},className:`w-full px-4 py-2 text-left hover:bg-blue-50 focus:outline-none focus:bg-blue-50 ${R.assignedTo.includes(ve._id)?"bg-blue-50":""}`,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium mr-3 overflow-hidden",children:i.jsx("img",{src:((Ce=ve.photo)==null?void 0:Ce.url)||kn,alt:`${ve.firstName} ${ve.lastName}`,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium text-gray-900",children:[ve.firstName," ",ve.lastName]}),i.jsx("div",{className:"text-sm text-gray-500",children:ve.group})]})]})},ve._id)}):i.jsx("div",{className:"px-4 py-2 text-gray-500 text-center",children:"No users found"})})]}),i.jsxs("button",{type:"button",onClick:()=>C(!L),className:"w-full flex items-center justify-between border rounded-md px-3 py-2 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("span",{className:"text-gray-700",children:Mr}),i.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${L?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),i.jsx("button",{type:"button","aria-pressed":lt,onClick:()=>{ft(ve=>{const Ce=!ve;return!Ce&&R.assignedTo.length>1&&(V(Le=>({...Le,assignedTo:Le.assignedTo.slice(0,1)})),I(e.filter(Le=>Le._id===R.assignedTo[0]))),Ce})},className:`relative inline-flex h-5 w-10 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 ${lt?"bg-blue-500":"bg-gray-200"}`,tabIndex:0,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform ${lt?"translate-x-5":"translate-x-1"}`})}),i.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Multiple"})]}),P.length>0&&i.jsx("div",{className:"absolute left-0 w-full mt-2 flex flex-wrap gap-2 z-10",children:P.map(ve=>i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[ve.firstName," ",ve.lastName,i.jsx("button",{type:"button",onClick:()=>{lt?(V(Ce=>({...Ce,assignedTo:Ce.assignedTo.filter(Le=>Le!==ve._id)})),I(Ce=>Ce.filter(Le=>Le._id!==ve._id))):(V(Ce=>({...Ce,assignedTo:[]})),I([]))},className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-blue-200",children:i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},ve._id))})]}),i.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Head"}),i.jsx("input",{type:"text",value:(()=>{const ve={};P.forEach(Le=>{Le.team&&e.forEach(qe=>{qe.team&&qe.team.toString()===Le.team.toString()&&qe.role==="Team Head"&&(ve[qe._id]=qe)})});const Ce=Object.values(ve);return Ce.length===0?"":Ce.map(Le=>`${Le.firstName} ${Le.lastName}`).join(", ")})(),className:"w-full border rounded-md px-3 py-2 bg-gray-100 text-gray-700",readOnly:!0,placeholder:"Team Head will appear here"})]})]}),i.jsxs("div",{className:"md:col-span-2 mt-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Task Status ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(tT,{value:R.status,onChange:ve=>V({...R,status:ve}),excludeCompleted:!1,className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"md:col-span-2 mt-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description/Notes"}),i.jsx("textarea",{value:R.description,onChange:ve=>V({...R,description:ve.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Enter task description or notes..."})]}),i.jsxs("div",{className:"md:col-span-2 mt-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative flex items-center gap-2",children:[i.jsxs("div",{className:"w-full border rounded-md px-3 py-2 bg-white flex flex-wrap gap-2 min-h-[42px] cursor-pointer work-type-dropdown",onClick:()=>be(!0),children:[R.workType.length===0&&i.jsx("span",{className:"text-gray-400",children:"Select or search work type..."}),R.workType.map(ve=>i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-400",children:[ve,R.workType.includes(ve)&&i.jsx("span",{className:"float-right text-blue-600",children:"✔"}),i.jsx("button",{type:"button",onClick:Ce=>{Ce.preventDefault(),Ce.stopPropagation(),$t(ve)},className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-blue-200",children:i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},ve))]}),i.jsx("button",{type:"button",onClick:()=>{y({name:""}),p(!0),be(!1)},className:"ml-2 px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-800 border-2 border-gray-200 hover:bg-gray-200 whitespace-nowrap",children:"+ New Work Type"}),i.jsx("button",{type:"button","aria-pressed":Pe,onClick:()=>{xe(ve=>{const Ce=!ve;return!Ce&&R.workType.length>1&&V(Le=>({...Le,workType:Le.workType.slice(0,1)})),Ce})},className:`relative inline-flex h-5 w-10 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 ${Pe?"bg-blue-500":"bg-gray-200"}`,tabIndex:0,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform ${Pe?"translate-x-5":"translate-x-1"}`})}),i.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Multiple"}),G&&i.jsxs("div",{className:"absolute z-20 w-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto work-type-dropdown",children:[i.jsx("div",{className:"sticky top-0 bg-white p-2 border-b",children:i.jsx("input",{type:"text",placeholder:"Search work type...",value:Fe,onChange:ve=>De(ve.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})}),i.jsx("div",{className:"py-1",children:Fr.length>0?Fr.map(ve=>i.jsxs("button",{type:"button",className:`w-full px-4 py-2 text-left hover:bg-blue-50 focus:outline-none focus:bg-blue-50 cursor-pointer ${R.workType.includes(ve.name)?"bg-blue-50":""}`,onClick:Ce=>{Ce.preventDefault(),Ce.stopPropagation(),Pe?$t(ve.name):(V(Le=>({...Le,workType:[ve.name]})),be(!1))},children:[ve.name,R.workType.includes(ve.name)&&i.jsx("span",{className:"float-right text-blue-600",children:"✔"})]},ve._id)):i.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No work types found"})})]})]})]})]}),i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Attach Files (Optional)"}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Max ",pt," files, ",Qe/1024/1024,"MB per file, ",at/1024/1024,"MB total"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsx("label",{className:"flex-1",children:i.jsxs("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-blue-500 transition-colors",children:[i.jsx("input",{type:"file",multiple:!0,onChange:rr,ref:fe,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.jpg,.jpeg,.png,.gif"}),i.jsxs("div",{className:"text-center",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:i.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Click to select files or drag and drop"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"PDF, Word, Excel, PowerPoint, Images, Text files"})]})]})})}),re.length>0&&i.jsxs("div",{className:"mt-4 border rounded-lg divide-y",children:[i.jsxs("div",{className:"p-3 bg-gray-50 text-sm font-medium text-gray-700",children:["Selected Files (",re.length,")"]}),i.jsx("ul",{className:"divide-y",children:re.map((ve,Ce)=>i.jsxs("li",{className:"p-3 flex items-center justify-between hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"text-gray-500",children:ve.type.startsWith("image/")?"🖼️":ve.type.includes("pdf")?"📄":ve.type.includes("word")?"📝":ve.type.includes("excel")||ve.type.includes("spreadsheet")?"📊":ve.type.includes("powerpoint")||ve.type.includes("presentation")?"📑":"📎"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:ve.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[(ve.size/1024/1024).toFixed(2)," MB"]})]})]}),i.jsx("button",{type:"button",onClick:()=>Wt(Ce),className:"text-red-500 hover:text-red-700 p-1",disabled:q,children:"✕"})]},Ce))})]}),q&&i.jsxs("div",{className:"mt-4",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Uploading files..."}),i.jsx("div",{className:"space-y-2",children:re.map((ve,Ce)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full ${se[Ce]==="completed"?"bg-green-500":"bg-blue-500 animate-pulse"}`,style:{width:se[Ce]==="completed"?"100%":"50%"}})}),i.jsx("span",{className:"text-xs text-gray-500",children:se[Ce]==="completed"?"Done":"Uploading..."})]},Ce))})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[i.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:q,children:"Cancel"}),r==="edit"&&l&&i.jsx("button",{type:"button",onClick:cr,disabled:q,className:`px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700
                      ${q?"opacity-50 cursor-not-allowed":""}`,children:q?"Accepting...":"Accept"}),i.jsx("button",{type:"submit",disabled:q,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700
                    ${q?"opacity-50 cursor-not-allowed":""}`,children:q?r==="edit"?"Updating...":"Creating Task...":r==="edit"?"Update Task":"Create Task"})]})]}),D&&H.length>0&&i.jsx("div",{className:"mt-6 border-t pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Uploaded Files"}),i.jsx(pm,{taskId:D,files:H,onFileDeleted:ve=>{ne(Ce=>Ce.filter(Le=>Le._id!==ve))}}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:a,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Done"})})]})})]})}),f&&i.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 work-type-modal",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-md",onClick:ve=>ve.stopPropagation(),children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Work Type"}),i.jsxs("form",{onSubmit:Er,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Type Name"}),i.jsx("input",{type:"text",value:x.name,onChange:ve=>y({...x,name:ve.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Work Type"})]})]})]})})]})};class rT extends _t.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,t){console.error("Error caught by boundary:",r,t)}render(){var r;return this.state.hasError?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"text-red-500 text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Something went wrong"}),i.jsx("p",{className:"text-sm",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Reload Page"})]})}):this.props.children}}function pO({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{fillRule:"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z",clipRule:"evenodd"}))}const mO=T.forwardRef(pO);function gO({title:e,titleId:r,...t},n){return T.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":r},t),e?T.createElement("title",{id:r},e):null,T.createElement("path",{fillRule:"evenodd",d:"M5.47 5.47a.75.75 0 0 1 1.06 0L12 10.94l5.47-5.47a.75.75 0 1 1 1.06 1.06L13.06 12l5.47 5.47a.75.75 0 1 1-1.06 1.06L12 13.06l-5.47 5.47a.75.75 0 0 1-1.06-1.06L10.94 12 5.47 6.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const xO=T.forwardRef(gO),W1=({isOpen:e,onClose:r,filters:t,setFilters:n,users:a,clientNames:s,clientGroups:l,workTypes:u,priorities:d=[]})=>{if(!e)return null;const f=[{value:"title",label:"Title"},{value:"status",label:"Status",options:["yet_to_start","in_progress","completed"]},{value:"priority",label:"Priority",options:d.map(k=>k.name)},{value:"assignedTo",label:"Assigned To",options:a.map(k=>({value:k._id,label:`${k.firstName} ${k.lastName}`}))},{value:"assignedBy",label:"Assigned By",options:a.map(k=>({value:k._id,label:`${k.firstName} ${k.lastName}`}))},{value:"clientName",label:"Client Name",options:s},{value:"clientGroup",label:"Client Group",options:l},{value:"workType",label:"Work Type",options:u}],p=[{value:"is",label:"Is"},{value:"is_not",label:"Is Not"},{value:"contains",label:"Contains"},{value:"does_not_contain",label:"Does Not Contain"},{value:"is_empty",label:"Is Empty"},{value:"is_not_empty",label:"Is Not Empty"}],[x,y]=_t.useState([]);_t.useEffect(()=>{e&&y(t.map(k=>({...k})))},[e,t]);const m=()=>{y([...x,{column:"title",operator:"contains",value:"",saved:!1}])},w=k=>{const _=[...x];_[k].saved=!0,y(_),n(_.filter(A=>A.saved))},v=k=>{const _=x.filter((A,R)=>R!==k);y(_),n(_.filter(A=>A.saved))},N=(k,_,A)=>{const R=[...x];R[k][_]=A,_==="column"&&(R[k].value=""),R[k].saved=!1,y(R)},S=(k,_)=>{const A=f.find(R=>R.value===k.column);return!A||k.operator==="is_empty"||k.operator==="is_not_empty"?i.jsx("div",{className:"flex-1"}):k.operator==="contains"||k.operator==="does_not_contain"?i.jsx("input",{type:"text",value:k.value,onChange:R=>N(_,"value",R.target.value),className:"flex-1 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Enter text to search..."}):A.options?i.jsxs("select",{value:k.value,onChange:R=>N(_,"value",R.target.value),className:"flex-1 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:[i.jsx("option",{value:"",children:"Select..."}),A.options.map(R=>typeof R=="object"?i.jsx("option",{value:R.value,children:R.label},R.value):i.jsx("option",{value:R,children:R},R))]}):i.jsx("input",{type:"text",value:k.value,onChange:R=>N(_,"value",R.target.value),className:"flex-1 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",placeholder:"Value"})};return i.jsxs("div",{className:"absolute top-full mt-2 bg-white rounded-md shadow-lg border border-gray-200 z-50 p-4 left-0 right-0 mx-2 sm:mx-0 sm:w-[710px] sm:right-auto max-w-[calc(100vw-1rem)] overflow-visible",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-md font-semibold text-gray-800",children:"Filters"}),i.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-gray-200 flex-shrink-0",children:i.jsx(xO,{className:"h-5 w-5 text-gray-500"})})]}),i.jsx("div",{className:"space-y-3 max-h-[70vh] overflow-y-auto scrollbar-hide",children:x.map((k,_)=>i.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[i.jsx("span",{className:"text-sm text-gray-600 w-12 flex-shrink-0",children:_===0?"Where":""}),_>0&&i.jsxs("select",{value:k.logic||"AND",onChange:A=>N(_,"logic",A.target.value),className:"w-16 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-xs",children:[i.jsx("option",{value:"AND",children:"AND"}),i.jsx("option",{value:"OR",children:"OR"})]}),i.jsx("select",{value:k.column,onChange:A=>N(_,"column",A.target.value),className:"w-full sm:w-40 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:f.map(A=>i.jsx("option",{value:A.value,children:A.label},A.value))}),i.jsx("select",{value:k.operator,onChange:A=>N(_,"operator",A.target.value),className:"w-full sm:w-40 p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm",children:p.map(A=>i.jsx("option",{value:A.value,children:A.label},A.value))}),S(k,_),i.jsxs("div",{className:"flex justify-end sm:justify-start gap-2",children:[k.saved?i.jsx("span",{className:"text-sm font-medium text-green-600 w-20 text-center",children:"Saved"}):i.jsx("button",{onClick:()=>w(_),className:"w-20 p-1 rounded-md bg-blue-500 text-white text-sm hover:bg-blue-600",children:"Save"}),i.jsx("button",{onClick:()=>v(_),className:"p-1 rounded-full hover:bg-gray-200",children:i.jsx(mO,{className:"h-5 w-5 text-gray-500 hover:text-red-500"})})]})]},_))}),i.jsx("button",{onClick:m,className:"mt-4 text-sm font-medium text-blue-600 hover:text-blue-800",children:"+ New Filter"})]})},Pb=({tabs:e,activeTabId:r,onTabClick:t,onAddTab:n,onCloseTab:a,onRenameTab:s})=>{const[l,u]=T.useState(null),[d,f]=T.useState(""),p=w=>{u(w.id),f(w.title)},x=w=>{f(w.target.value)},y=w=>{d.trim()&&d!==w.title&&s(w.id,d.trim()),u(null)},m=(w,v)=>{w.key==="Enter"?y(v):w.key==="Escape"&&u(null)};return i.jsxs("div",{style:{display:"flex",alignItems:"center",borderBottom:"1px solid #e2e8f0",marginBottom:12,overflowX:"auto",whiteSpace:"nowrap",paddingBottom:"4px",msOverflowStyle:"none",scrollbarWidth:"none",width:"100%"},className:"hide-scrollbar",children:[e.map(w=>i.jsxs("div",{style:{padding:"8px 12px",marginRight:1,background:w.id===r?"#f8fafc":"#f1f5f9",borderTop:"1px solid #cbd5e0",borderLeft:"1px solid #cbd5e0",borderRight:"1px solid #cbd5e0",borderBottom:w.id===r?"2px solid #3b82f6":"1px solid #cbd5e0",borderRadius:"4px 4px 0 0",position:"relative",cursor:"pointer",minWidth:90,maxWidth:"none",height:"36px",display:"flex",alignItems:"center",justifyContent:"flex-start",flexShrink:0,transition:"all 0.2s ease",boxShadow:w.id===r?"0 2px 4px rgba(0,0,0,0.05)":"none"},onClick:()=>t(w.id),children:[l===w.id?i.jsx("input",{value:d,onChange:x,onBlur:()=>y(w),onKeyDown:v=>m(v,w),autoFocus:!0,style:{fontSize:14,padding:"2px 6px",width:100,border:"1px solid #cbd5e0",borderRadius:"3px"},onClick:v=>v.stopPropagation()}):i.jsx("span",{onDoubleClick:v=>{v.stopPropagation(),p(w)},style:{fontWeight:w.id===r?"500":"normal",fontSize:14,whiteSpace:"nowrap",marginRight:8,color:w.id===r?"#1e40af":"#475569"},title:w.title,children:w.title}),e.length>1&&i.jsx("span",{onClick:v=>{v.stopPropagation(),a(w.id)},style:{flexShrink:0,color:"#64748b",cursor:"pointer",fontSize:16,width:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.2s ease"},onMouseOver:v=>{v.currentTarget.style.backgroundColor="#e2e8f0"},onMouseOut:v=>{v.currentTarget.style.backgroundColor="transparent"},title:"Close tab",children:"×"})]},w.id)),i.jsx("button",{onClick:n,style:{marginLeft:8,padding:"4px 12px",fontSize:18,cursor:"pointer",border:"1px solid #cbd5e0",borderRadius:"4px",background:"#f1f5f9",color:"#475569",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseOver:w=>{w.currentTarget.style.backgroundColor="#e2e8f0"},onMouseOut:w=>{w.currentTarget.style.backgroundColor="#f1f5f9"},title:"Add tab",children:"+"})]})},V1=[{id:"title",label:"Title"},{id:"description",label:"Status"},{id:"clientName",label:"Client Name"},{id:"clientGroup",label:"Client Group"},{id:"workType",label:"Work Type"},{id:"billed",label:"Internal Works"},{id:"status",label:"Task Status"},{id:"priority",label:"Priority"},{id:"verification",label:"Verifications",defaultWidth:130},{id:"selfVerification",label:"Self Verification"},{id:"inwardEntryDate",label:"Inward Entry Date"},{id:"dueDate",label:"Due Date"},{id:"targetDate",label:"Target Date"},{id:"assignedBy",label:"Assigned By"},{id:"assignedTo",label:"Assigned To"},{id:"verificationAssignedTo",label:"First Verifier"},{id:"secondVerificationAssignedTo",label:"Second Verifier"},{id:"thirdVerificationAssignedTo",label:"Third Verifier"},{id:"fourthVerificationAssignedTo",label:"Fourth Verifier"},{id:"fifthVerificationAssignedTo",label:"Fifth Verifier"},{id:"guides",label:"Guide"},{id:"files",label:"Files"},{id:"comments",label:"Comments"}],Pg=(e="execution",r=[])=>{const t=V1.map(s=>s.id),n=r.map(s=>`custom_${s.name}`),a=[...t,...n];return{id:Date.now(),title:"Tab 1",filters:[],sortBy:"createdAt",sortOrder:"desc",searchTerm:"",statusFilter:"all",visibleColumns:a,columnOrder:a,columnWidths:Object.fromEntries([...V1.map(s=>[s.id,s.defaultWidth||150]),...r.map(s=>[`custom_${s.name}`,150])]),activeTab:e}},dp=()=>{const{user:e,isAuthenticated:r}=gn(),t=$l(),n=zl(),a=new URLSearchParams(t.search),s=a.get("highlightTask"),l=a.get("tabId"),u=a.get("fixedTab"),d=a.get("ts");T.useEffect(()=>{f.current=!1},[s,l,u,d]);const f=T.useRef(!1),[p,x]=T.useState([]),[y,m]=T.useState(null),[w,v]=T.useState(!1),[N,S]=T.useState(!0),[k,_]=T.useState([]),[A,R]=T.useState([]),[V,P]=T.useState(!1),[I,B]=T.useState(!1),[O,L]=T.useState(null),[C,Y]=T.useState(null),[Q,ce]=T.useState({execution:0,receivedVerification:0,issuedVerification:0,completed:0,guidance:0}),[W,J]=T.useState(!1),re=T.useRef(null),[ee,H]=T.useState([]),[ne,D]=T.useState([]),[z,q]=T.useState([]),[X,se]=T.useState([]),[Se,fe]=T.useState(!1),G=T.useRef(null),[be,Fe]=T.useState([]),[De,lt]=T.useState(!1),[ft,Pe]=T.useState(!1),[xe,Qe]=T.useState([]),[at,pt]=T.useState(!1),Ze=p.find(et=>et.id===y)||p[0]||Pg("execution",at?xe:[]),Ae=(()=>{const et=[...V1];if(!at||xe.length===0)return et;const _e=xe.map(Be=>({id:`custom_${Be.name}`,label:Be.label,defaultWidth:150,isCustom:!0,customColumn:Be}));return[...et,..._e]})(),vt=()=>{const et=Date.now(),_e=Ze.activeTab||"execution";x([...p,{...Pg(_e,xe),id:et,title:`Tab ${p.length+1}`}]),m(et)},gt=et=>{let _e=p.findIndex(ve=>ve.id===et);if(p.length===1)return;const Be=p.filter(ve=>ve.id!==et);x(Be),y===et&&m(Be[Math.max(0,_e-1)].id)},rr=(et,_e)=>{x(p.map(Be=>Be.id===et?{...Be,title:_e}:Be))},Wt=et=>{x(p.map(_e=>{if(_e.id!==y)return _e;let Be={..._e,...et};if(et.visibleColumns){const Ce=(Be.columnOrder||V1.map(Le=>Le.id)).filter(Le=>et.visibleColumns.includes(Le));et.visibleColumns.forEach(Le=>{Ce.includes(Le)||Ce.push(Le)}),Be.columnOrder=Ce}return Be}))},[Qt,cr]=T.useState([]),Zt=(et,_e)=>{if(!_e||_e.length===0)return et;const Be=new Map(et.map(Le=>[Le._id,Le])),ve=[],Ce=new Set(et.map(Le=>Le._id));return _e.forEach(Le=>{Be.has(Le)&&(ve.push(Be.get(Le)),Ce.delete(Le))}),Ce.forEach(Le=>{ve.push(Be.get(Le))}),ve},hr=async()=>{try{let et;Ze.activeTab==="guidance"?et=`${$e}/api/tasks/received/guidance`:et=`${$e}/api/tasks/received?tab=${Ze.activeTab}`;const[_e,Be]=await Promise.all([fetch(et,{headers:{Authorization:`Bearer ${e.token}`}}),Yh("receivedTasks",e.token)]);if(!_e.ok)throw new Error("Failed to fetch tasks");let ve=await _e.json(),Ce=[];Be&&Array.isArray(Be.rowOrder)&&(Ce=Be.rowOrder,cr(Ce)),Ce.length>0&&(ve=Zt(ve,Ce)),_(ve),L(null)}catch(et){console.error("Error fetching tasks:",et),L(et.message),sn.error("Failed to fetch tasks"),_([])}finally{P(!0)}};T.useEffect(()=>{if(w&&N){let et=!1;if(l){const _e=isNaN(Number(l))?l:Number(l);p.some(Be=>String(Be.id)===String(_e))&&(m(_e),et=!0)}u&&(setTimeout(()=>{x(l?_e=>_e.map(Be=>String(Be.id)===String(l)?{...Be,activeTab:u}:Be):_e=>_e.map((Be,ve)=>ve===0?{...Be,activeTab:u}:Be))},0),et=!0),et&&S(!1)}},[w,N,l,u,p]),T.useEffect(()=>{s&&k.length>0&&w&&!f.current&&!N&&(console.log("Highlighting task:",s,typeof s),f.current=!0,xr(s))},[s,l,u,d,k.length>0,w,N]);const[$t,Mr]=T.useState(null),xr=async et=>{console.log("searchAndHighlightTask called with:",et,typeof et);const _e=String(et);n(t.pathname,{replace:!0});try{const Be=await fetch(`${$e}/api/tasks/${_e}`,{headers:{Authorization:`Bearer ${e.token}`}});if(!Be.ok){sn.error("Task not found or you do not have access to it");return}const ve=await Be.json();console.log("Found task:",ve);let Ce=!1,Le=null,qe=null;for(let Tt=0;Tt<p.length;Tt++){const Dt=p[Tt],er=["execution","receivedVerification","issuedVerification","completed","guidance"];for(const ar of er){const St={...Dt,activeTab:ar};let ht;ar==="guidance"?ht=`${$e}/api/tasks/received/guidance`:ht=`${$e}/api/tasks/received?tab=${ar}`;let Bt=[];try{const Kt=await fetch(ht,{headers:{Authorization:`Bearer ${e.token}`}});if(Kt.ok){let Ot=await Kt.json();if(St.filters&&St.filters.length>0&&(Ot=Ot.filter(Ir=>St.filters.every(le=>le.operator==="contains"?(Ir[le.column]||"").toLowerCase().includes((le.value||"").toLowerCase()):!0))),St.searchTerm&&(Ot=Ot.filter(Ir=>(Ir.title||"").toLowerCase().includes(St.searchTerm.toLowerCase()))),St.statusFilter&&St.statusFilter!=="all"&&(Ot=Ot.filter(Ir=>Ir.status===St.statusFilter)),Ot.find(Ir=>Ir._id===_e)){m(Dt.id),Wt({activeTab:ar}),Mr({taskId:_e,tabId:Dt.id,tabType:ar,tabTitle:Dt.title}),Ce=!0,Le=Dt.id,qe=ar;break}}}catch(Kt){console.error(`Error searching in tab ${Dt.title} (${ar}):`,Kt)}}if(Ce)break}Ce||(p.length>0&&(m(p[0].id),Wt({activeTab:"execution"})),sn.info(`Task "${ve.title}" is not visible in any of your tabs/pages with the current filters. Try adjusting your filters or tabs.`))}catch(Be){console.error("Error searching for task:",Be),sn.error("Error searching for task")}};T.useEffect(()=>{$t&&y===$t.tabId&&w&&V&&k.some(et=>et._id===$t.taskId)&&(Y($t.taskId),setTimeout(()=>Y(null),5e3),sn.success(`Task found and highlighted in "${$t.tabTitle}" (${$t.tabType}) tab`),Mr(null))},[$t,y,w,V,k]),T.useEffect(()=>{const et=async()=>{try{const _e=await fetch(`${$e}/api/users/except-me`,{headers:{Authorization:`Bearer ${e.token}`}});if(!_e.ok)throw new Error("Failed to fetch users");const Be=await _e.json();R(Be)}catch(_e){console.error("Error fetching users:",_e),sn.error("Failed to fetch users")}finally{B(!0)}};e&&e.token&&(B(!1),et())},[e]),T.useEffect(()=>{e&&e.token&&(P(!1),hr())},[e,Ze.activeTab]),T.useEffect(()=>{const et=async()=>{try{const _e=await fetch(`${$e}/api/tasks/received/counts`,{headers:{Authorization:`Bearer ${e.token}`}});if(_e.ok){const Be=await _e.json();ce(Be)}}catch(_e){console.error("Error fetching task counts:",_e)}};e&&e.token&&et()},[e]),T.useEffect(()=>{(async()=>{if(e!=null&&e.token)try{const _e=await fetch(`${$e}/api/custom-columns`,{headers:{Authorization:`Bearer ${e.token}`}});if(_e.ok){const Be=await _e.json();Qe(Be)}}catch(_e){console.error("Error fetching custom columns:",_e),Qe([])}finally{pt(!0)}})()},[e==null?void 0:e.token]),T.useEffect(()=>{const et=async(_e,Be)=>{try{const ve=await fetch(_e,{headers:{Authorization:`Bearer ${e.token}`}});if(!ve.ok)throw new Error(`Failed to fetch data from ${_e}`);const Ce=await ve.json();Be(Ce)}catch(ve){console.error(ve),sn.error(ve.message)}};e&&e.token&&(et(`${$e}/api/tasks/unique/client-names`,H),et(`${$e}/api/tasks/unique/client-groups`,D),et(`${$e}/api/tasks/unique/work-types`,q),et(`${$e}/api/priorities`,se))},[e]),T.useEffect(()=>{const et=async()=>{try{const _e=await fetch(`${$e}/api/timesheets/task-hours`,{headers:{Authorization:`Bearer ${e.token}`}});if(!_e.ok)throw new Error("Failed to fetch task hours");const Be=await _e.json();Fe(Be)}catch(_e){console.error("Error fetching task hours:",_e)}};e&&e.token&&et()},[e]);const Qr=et=>{if(!Array.isArray(et))return[];const _e=["urgent","today","lessThan3Days","thisWeek","thisMonth","regular","filed","dailyWorksOffice","monthlyWorks"],Be={};let ve=1;_e.forEach(Le=>{Be[Le]=ve++}),X.filter(Le=>!_e.includes(Le.name)).forEach((Le,qe)=>{Be[Le.name]=100+qe});let Ce=et.filter(Le=>{if(Le.verificationStatus==="pending"||Ze.activeTab==="guidance"&&Le.status==="completed"||Ze.activeTab==="completed"&&(!Le.assignedTo||Le.assignedTo._id!==e._id&&Le.assignedTo!==e._id||Le.status!=="completed"))return!1;if(Ze.activeTab==="receivedVerification"){if(Le.status==="completed")return!1;const Tt=["verificationAssignedTo","secondVerificationAssignedTo","thirdVerificationAssignedTo","fourthVerificationAssignedTo","fifthVerificationAssignedTo"];let Dt=null;for(let er=Tt.length-1;er>=0;er--)if(Le[Tt[er]]&&Le[Tt[er]]._id){Dt=Le[Tt[er]]._id;break}if(!Dt||String(Dt)!==String(e._id))return!1}if(Ze.searchTerm){const Tt=Ze.searchTerm.toLowerCase();if(!(Le.title&&Le.title.toLowerCase().includes(Tt)||Le.description&&Le.description.toLowerCase().includes(Tt)||Le.clientName&&Le.clientName.toLowerCase().includes(Tt)||Le.clientGroup&&Le.clientGroup.toLowerCase().includes(Tt)||Le.workType&&(typeof Le.workType=="string"&&Le.workType.toLowerCase().includes(Tt)||Array.isArray(Le.workType)&&Le.workType.join(", ").toLowerCase().includes(Tt))))return!1}if(Ze.statusFilter!=="all"&&Le.status!==Ze.statusFilter)return!1;if(!Ze.filters.length)return!0;let qe=null;for(let Tt=0;Tt<Ze.filters.length;Tt++){const Dt=Ze.filters[Tt],{column:er,operator:ar,value:St}=Dt,Bt=((Ot,Ur)=>{const Ir=Ur.split(".");let le=Ot;for(const Te of Ir){if(le==null)return;le=le[Te]}return le})(Le,er);let Kt;if(Bt==null)ar==="is_empty"?Kt=!0:Kt=!1;else switch(ar){case"is":er==="assignedTo"||er==="assignedBy"?Kt=Bt._id===St:Kt=String(Bt)===String(St);break;case"is_not":er==="assignedTo"||er==="assignedBy"?Kt=Bt._id!==St:Kt=String(Bt)!==String(St);break;case"contains":Kt=String(Bt).toLowerCase().includes(String(St).toLowerCase());break;case"does_not_contain":Kt=!String(Bt).toLowerCase().includes(String(St).toLowerCase());break;case"is_empty":Kt=Bt===""||Bt===null||Bt===void 0;break;case"is_not_empty":Kt=Bt!==""&&Bt!==null&&Bt!==void 0;break;default:Kt=!0}Tt===0?qe=Kt:(Dt.logic||"AND")==="AND"?qe=qe&&Kt:qe=qe||Kt}return qe});return Ze.sortBy?Ce.sort((Le,qe)=>{let Tt=Le[Ze.sortBy],Dt=qe[Ze.sortBy];if(Ze.sortBy==="createdAt")Tt=new Date(Tt),Dt=new Date(Dt);else if(Ze.sortBy==="priority")return Tt=Be[Tt]||999,Dt=Be[Dt]||999,Tt<Dt?Ze.sortOrder==="desc"?-1:1:Tt>Dt?Ze.sortOrder==="desc"?1:-1:0;return Tt<Dt?Ze.sortOrder==="asc"?-1:1:Tt>Dt?Ze.sortOrder==="asc"?1:-1:0}):Ce},Er=async(et,_e)=>{let Be;try{console.log("Starting status update for task:",et,"new status:",_e),Be=await fetch(`${$e}/api/tasks/${et}/status`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({status:_e})}),console.log("Response status:",Be.status),console.log("Response headers:",Object.fromEntries(Be.headers.entries()));const ve=await Be.json();if(console.log("Response data:",ve),!Be.ok)throw console.error("Server error response:",{status:Be.status,statusText:Be.statusText,data:ve}),new Error(ve.message||"Failed to update task status");console.log("Updating tasks state with new data"),_(Ce=>{const Le=Ce.map(qe=>qe._id===et?ve:qe);return console.log("Updated tasks state:",Le),Le}),sn.success("Task status updated successfully")}catch(ve){console.error("Error in handleStatusChange:",{error:ve,responseStatus:Be==null?void 0:Be.status,responseStatusText:Be==null?void 0:Be.statusText,errorMessage:ve.message}),_(Ce=>{const Le=Ce.map(qe=>qe._id===et?{...qe,status:qe.status}:qe);return console.log("Reverted tasks state:",Le),Le}),sn.error(ve.message||"Failed to update task status")}},Fr=async et=>{if(window.confirm("Are you sure you want to delete this task?"))try{const _e=await fetch(`${$e}/api/tasks/${et}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.token}`}});if(!_e.ok){const Be=await _e.json();throw _e.status===403?new Error("You can only delete tasks that you created or are assigned to"):new Error(Be.message||"Failed to delete task")}_(k.filter(Be=>Be._id!==et)),sn.success("Task deleted successfully")}catch(_e){console.error("Error deleting task:",_e),sn.error(_e.message||"Failed to delete task")}};T.useEffect(()=>{if(!Se)return;function et(_e){G.current&&!G.current.contains(_e.target)&&fe(!1)}return document.addEventListener("mousedown",et),()=>document.removeEventListener("mousedown",et)},[Se]),T.useEffect(()=>{if(!(e!=null&&e.token))return;let et=!0;return(async()=>{try{const _e=await Yh("receivedTasks",e.token);if(et&&_e&&Array.isArray(_e.tabs)){const Be=_e.tabs.map(ve=>{const Ce={...ve};if(!Ce.visibleColumns.includes("verification")){const Le=Ce.visibleColumns.findIndex(qe=>qe==="priority");Le!==-1?Ce.visibleColumns.splice(Le+1,0,"verification"):Ce.visibleColumns.push("verification")}if(!Ce.columnOrder.includes("verification")){const Le=Ce.columnOrder.findIndex(qe=>qe==="priority");Le!==-1?Ce.columnOrder.splice(Le+1,0,"verification"):Ce.columnOrder.push("verification")}return Ce.columnWidths.verification||(Ce.columnWidths.verification=130),Ce});x(Be),m(_e.activeTabId)}else if(et){const Be=Pg("execution",xe);x([Be]),m(Be.id)}}catch{if(et){const _e=Pg("execution",xe);x([_e]),m(_e.id)}}finally{et&&v(!0)}})(),()=>{et=!1}},[e]),T.useEffect(()=>{!(e!=null&&e.token)||!w||Ox("receivedTasks",{tabs:p,activeTabId:y,rowOrder:Qt},e.token).catch(()=>{})},[p,y,Qt,e,w]);const tn=!w||!I||!V;return r()?tn?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):O?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"text-red-500 text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Error loading tasks"}),i.jsx("p",{className:"text-sm",children:O})]})}):i.jsxs("div",{className:"p-4",children:[i.jsx(Pb,{tabs:p,activeTabId:y,onTabClick:m,onAddTab:vt,onCloseTab:gt,onRenameTab:rr}),i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-1 sm:space-x-6 overflow-x-auto scrollbar-hide","aria-label":"Tabs",children:["execution","receivedVerification","issuedVerification","guidance","completed"].map(et=>i.jsxs("button",{onClick:()=>Wt({activeTab:et}),className:`whitespace-nowrap py-3 px-0 border-b-2 font-medium text-sm sm:px-0 ${Ze.activeTab===et?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[et==="execution"&&"Tasks For Execution",et==="receivedVerification"&&"Task Received For Verification",et==="issuedVerification"&&"Task Issued For Verification",et==="guidance"&&"Task For Guidance",et==="completed"&&"Completed",i.jsx("span",{className:"bg-gray-200 text-gray-800 rounded-full px-2 py-0.5 ml-2 text-xs",children:Q[et]||0})]},et))})})}),i.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:i.jsxs("div",{className:"flex flex-row flex-wrap items-center gap-4 w-full sm:w-auto",children:[i.jsxs("div",{className:"relative",ref:re,children:[i.jsxs("button",{onClick:()=>J(et=>!et),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-sm",children:[i.jsx("span",{children:"Filter"}),Ze.filters.length>0&&i.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold ml-2 px-2.5 py-0.5 rounded-full",children:Ze.filters.length})]}),i.jsx(W1,{isOpen:W,onClose:()=>J(!1),filters:Ze.filters,setFilters:et=>Wt({filters:et}),users:A,clientNames:ee,clientGroups:ne,workTypes:z,priorities:X})]}),i.jsx("input",{type:"text",placeholder:"Search tasks...",className:"w-60 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",value:Ze.searchTerm,onChange:et=>Wt({searchTerm:et.target.value})}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 text-sm font-medium h-11 min-w-[120px] transition-colors",onClick:()=>fe(et=>!et),"aria-label":"Show/Hide Columns",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),"Columns"]}),Se&&i.jsxs("div",{ref:G,className:"absolute right-0 z-20 bg-white border border-gray-200 rounded-lg shadow-lg p-3 mt-2 w-56 animate-fade-in",children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-2 text-sm",children:"Show/Hide Columns"}),i.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 custom-scrollbar",children:Ae.map(et=>i.jsxs("label",{className:"flex items-center space-x-2 mb-1 cursor-pointer hover:bg-blue-50 rounded px-2 py-1 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:Ze.visibleColumns.includes(et.id),onChange:()=>{const _e=Ze.visibleColumns;Wt({visibleColumns:_e.includes(et.id)?_e.filter(Be=>Be!==et.id):[..._e,et.id]})},className:"accent-blue-500"}),i.jsx("span",{className:"text-gray-800 text-sm",children:et.label})]},et.id))})]})]}),i.jsxs("div",{className:"relative flex items-center gap-2",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 text-sm font-medium h-11 min-w-[120px] transition-colors",onClick:()=>Pe(et=>!et),type:"button",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"2"})]}),i.jsx("span",{className:"font-semibold",children:"Group By"})]}),ft&&i.jsxs("div",{className:"absolute left-0 top-full z-20 bg-white border border-gray-200 rounded-lg shadow-lg mt-2 w-44 animate-fade-in",style:{minWidth:"160px"},children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-2 text-sm px-3 pt-3",children:"Group By"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${!Ze.sortBy||Ze.sortBy===""?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{Wt({sortBy:""}),Pe(!1)},children:"None"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ze.sortBy==="createdAt"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{Wt({sortBy:"createdAt"}),Pe(!1)},children:"Received On"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ze.sortBy==="priority"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{Wt({sortBy:"priority"}),Pe(!1)},children:"Priority"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ze.sortBy==="status"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{Wt({sortBy:"status"}),Pe(!1)},children:"Stages"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ze.sortBy==="clientName"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{Wt({sortBy:"clientName"}),Pe(!1)},children:"Client Name"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ze.sortBy==="clientGroup"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{Wt({sortBy:"clientGroup"}),Pe(!1)},children:"Client Group"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ze.sortBy==="workType"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{Wt({sortBy:"workType"}),Pe(!1)},children:"Work Type"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ze.sortBy==="billed"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{Wt({sortBy:"billed"}),Pe(!1)},children:"Internal Work"})]})]}),i.jsx("button",{onClick:()=>lt(!0),className:"ml-0 flex items-center justify-center w-7 h-8 rounded-lg bg-blue-600 hover:bg-blue-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",title:"Create Task",type:"button",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})}),i.jsx(rT,{children:i.jsx(mm,{tasks:Qr(k),viewType:"received",taskType:Ze.activeTab,users:A,currentUser:e,highlightedTaskId:C,onTaskUpdate:async(et,_e)=>{_(Be=>Be.map(ve=>ve._id===et?_e(ve):ve));try{await new Promise(ve=>setTimeout(ve,100));const Be=await fetch(`${$e}/api/tasks/${et}`,{headers:{Authorization:`Bearer ${e.token}`}});if(Be.ok){const ve=await Be.json();console.log("Re-fetched task after update:",ve),_(Ce=>Ce.map(Le=>Le._id===et?ve:Le))}}catch(Be){console.error("Error re-fetching task after update:",Be)}},onTaskDelete:Fr,onStatusChange:Er,shouldDisableActions:et=>!1,shouldDisableFileActions:()=>!1,taskHours:be,visibleColumns:Ze.visibleColumns,setVisibleColumns:et=>Wt({visibleColumns:et}),columnOrder:Ze.columnOrder,setColumnOrder:et=>Wt({columnOrder:et}),columnWidths:Ze.columnWidths,setColumnWidths:et=>Wt({columnWidths:et}),storageKeyPrefix:"receivedtasks",refetchTasks:hr,sortBy:Ze.sortBy,tabId:Ze.id,tabKey:"receivedTasks",allColumns:Ae})}),i.jsx(qp,{isOpen:De,onClose:()=>lt(!1),users:A})]}):null},fp=[{id:"title",label:"Title"},{id:"description",label:"Description"},{id:"clientName",label:"Client Name"},{id:"clientGroup",label:"Client Group"},{id:"workType",label:"Work Type"},{id:"billed",label:"Internal Works"},{id:"status",label:"Task Status"},{id:"priority",label:"Priority"},{id:"selfVerification",label:"Self Verification"},{id:"inwardEntryDate",label:"Inward Entry Date"},{id:"dueDate",label:"Due Date"},{id:"targetDate",label:"Target Date"},{id:"assignedBy",label:"Assigned By"},{id:"assignedTo",label:"Assigned To"},{id:"verificationAssignedTo",label:"Verifier 1"},{id:"secondVerificationAssignedTo",label:"Verifier 2"},{id:"thirdVerificationAssignedTo",label:"Third Verifier"},{id:"fourthVerificationAssignedTo",label:"Fourth Verifier"},{id:"fifthVerificationAssignedTo",label:"Fifth Verifier"},{id:"guides",label:"Guide"},{id:"files",label:"Files"},{id:"comments",label:"Comments"}],Bg=()=>{const{user:e,isAuthenticated:r}=gn(),t=$l(),n=zl(),s=new URLSearchParams(t.search).get("highlightTask"),l=T.useRef(!1),[u,d]=T.useState([]),[f,p]=T.useState(fp),[x,y]=T.useState(null);T.useEffect(()=>{(async()=>{try{const Ae=await fetch(`${$e}/api/custom-columns`);if(Ae.ok){const vt=await Ae.json();d(vt);const gt=vt.filter(Wt=>Wt.isActive).map(Wt=>({id:Wt.name,label:Wt.label})),rr=[...fp,...gt];p(rr),v(Wt=>{const Qt=localStorage.getItem("assignedTasksTabs");return Qt?JSON.parse(Qt).map(Zt=>({...Zt,visibleColumns:Zt.visibleColumns||rr.map(hr=>hr.id),columnOrder:Zt.columnOrder||rr.map(hr=>hr.id),columnWidths:Zt.columnWidths||rr.reduce((hr,$t)=>({...hr,[$t.id]:150}),{})})):[m(rr)]})}}catch(Ae){console.error("Error fetching custom columns:",Ae)}})()},[]);const m=(ze=fp)=>({id:Date.now(),title:"Tab 1",filters:[],sortBy:"createdAt",sortOrder:"desc",searchTerm:"",statusFilter:"all",visibleColumns:ze.map(Ae=>Ae.id),activeTab:"execution",columnOrder:ze.map(Ae=>Ae.id),columnWidths:ze.reduce((Ae,vt)=>({...Ae,[vt.id]:150}),{})}),[w,v]=T.useState(()=>{const ze=localStorage.getItem("assignedTasksTabs");return ze?JSON.parse(ze):[m(f)]}),[N,S]=T.useState(()=>{var Ae,vt;const ze=localStorage.getItem("assignedTasksActiveTabId");return ze?Number(ze):((vt=(Ae=JSON.parse(localStorage.getItem("assignedTasksTabs")))==null?void 0:Ae[0])==null?void 0:vt.id)||m(f).id}),[k,_]=T.useState([]),[A,R]=T.useState([]),[V,P]=T.useState(!0),[I,B]=T.useState(null),[O,L]=T.useState({execution:0,verification:0,completed:0}),[C,Y]=T.useState(!1),Q=T.useRef(null),[ce,W]=T.useState([]),[J,re]=T.useState([]),[ee,H]=T.useState([]),[ne,D]=T.useState(!1),z=T.useRef(null),[q,X]=T.useState([]),[se,Se]=T.useState(!1),[fe,G]=T.useState(null),[be,Fe]=T.useState(!1),De=w.find(ze=>ze.id===N)||w[0]||m(f),lt=()=>{const ze=Date.now();v([...w,{...m(f),id:ze,title:`Tab ${w.length+1}`}]),S(ze)},ft=ze=>{let Ae=w.findIndex(gt=>gt.id===ze);if(w.length===1)return;const vt=w.filter(gt=>gt.id!==ze);v(vt),N===ze&&S(vt[Math.max(0,Ae-1)].id)},Pe=(ze,Ae)=>{v(w.map(vt=>vt.id===ze?{...vt,title:Ae}:vt))},xe=ze=>{v(w.map(Ae=>Ae.id===N?{...Ae,...ze}:Ae))};T.useEffect(()=>{localStorage.setItem("assignedTasksTabs",JSON.stringify(w)),localStorage.setItem("assignedTasksActiveTabId",N)},[w,N]),T.useEffect(()=>{const ze=async()=>{try{const Ae=await fetch(`${$e}/api/users`,{headers:{Authorization:`Bearer ${e.token}`}});if(!Ae.ok)throw new Error("Failed to fetch users");const vt=await Ae.json();R(vt)}catch(Ae){console.error("Error fetching users:",Ae),Ee.error("Failed to fetch users")}};e&&e.token&&ze()},[e]),T.useEffect(()=>{const ze=async()=>{try{P(!0),B(null);const Ae=await fetch(`${$e}/api/tasks/assigned?tab=${De.activeTab}`,{headers:{Authorization:`Bearer ${e.token}`}});if(!Ae.ok)throw new Error("Failed to fetch assigned tasks");const vt=await Ae.json();_(vt)}catch(Ae){B(Ae.message),_([])}finally{P(!1)}};e&&e.token&&ze()},[e,De.activeTab]),T.useEffect(()=>{s&&k.length>0&&!l.current&&(console.log("Highlighting task in assigned tasks:",s,typeof s),l.current=!0,Qe(s))},[s,k.length>0]);const Qe=async ze=>{console.log("searchAndHighlightTask called in assigned tasks with:",ze,typeof ze);const Ae=String(ze);console.log("taskIdString in assigned tasks:",Ae),n(t.pathname,{replace:!0});try{const vt=await fetch(`${$e}/api/tasks/${Ae}`,{headers:{Authorization:`Bearer ${e.token}`}});if(console.log("Task fetch response in assigned tasks:",vt.status),!vt.ok){Ee.error("Task not found or you do not have access to it");return}const gt=await vt.json();if(console.log("Found task in assigned tasks:",gt),k.find(cr=>cr._id===Ae)){console.log("Task found in current assigned tasks"),y(Ae),setTimeout(()=>{y(null)},5e3),Ee.success(`Task found in assigned tasks - ${De.activeTab} tab`);return}const Wt=["execution","verification","completed"];let Qt=null;for(const cr of Wt)try{console.log(`Searching in assigned ${cr}`);const Zt=await fetch(`${$e}/api/tasks/assigned?tab=${cr}`,{headers:{Authorization:`Bearer ${e.token}`}});if(Zt.ok){const hr=await Zt.json();if(console.log(`Assigned tasks in ${cr}:`,hr.length),hr.find(Mr=>Mr._id===Ae)){Qt=cr;break}}}catch(Zt){console.error(`Error searching in assigned ${cr} tab:`,Zt)}Qt?(console.log(`Task found in assigned ${Qt}`),xe({activeTab:Qt}),y(Ae),setTimeout(()=>{y(null)},5e3),Ee.success(`Task found in assigned tasks - ${Qt} tab`)):(console.log("Task not found in assigned tasks, trying received tasks"),n(`/dashboard/received-tasks?highlightTask=${Ae}`),Ee.success("Task found in received tasks - redirecting..."))}catch(vt){console.error("Error searching for task:",vt),Ee.error("Error searching for task")}};T.useEffect(()=>{const ze=async()=>{try{const Ae=await fetch(`${$e}/api/tasks/assigned/counts`,{headers:{Authorization:`Bearer ${e.token}`}});if(Ae.ok){const vt=await Ae.json();L(vt)}}catch(Ae){console.error("Error fetching task counts:",Ae)}};e&&e.token&&ze()},[e]),T.useEffect(()=>{if(e&&e._id){const ze=localStorage.getItem(`assignedTasksFilters_${e._id}`);if(ze)try{const Ae=JSON.parse(ze),vt=(Ae.filters??[]).map(gt=>({...gt,saved:!0}));xe({filters:vt}),xe({sortBy:Ae.sortBy??"createdAt"}),xe({sortOrder:Ae.sortOrder??"desc"})}catch{xe({filters:[]}),xe({sortBy:"createdAt"}),xe({sortOrder:"desc"})}}},[e==null?void 0:e._id]),T.useEffect(()=>{if(e&&e._id){const ze=De.filters.filter(Ae=>Ae.saved);ze.length>0||De.sortBy!=="createdAt"||De.sortOrder!=="desc"?localStorage.setItem(`assignedTasksFilters_${e._id}`,JSON.stringify({filters:ze,sortBy:De.sortBy,sortOrder:De.sortOrder})):localStorage.removeItem(`assignedTasksFilters_${e._id}`)}},[De.filters,De.sortBy,De.sortOrder,e]),T.useEffect(()=>{const ze=async(Ae,vt)=>{try{const gt=await fetch(Ae,{headers:{Authorization:`Bearer ${e.token}`}});if(!gt.ok)throw new Error(`Failed to fetch data from ${Ae}`);const rr=await gt.json();vt(rr)}catch(gt){console.error(gt),Ee.error(gt.message)}};e&&e.token&&(ze(`${$e}/api/tasks/unique/client-names`,W),ze(`${$e}/api/tasks/unique/client-groups`,re),ze(`${$e}/api/tasks/unique/work-types`,H))},[e]),T.useEffect(()=>{const ze=async()=>{try{const Ae=await fetch(`${$e}/api/timesheets/task-hours`,{headers:{Authorization:`Bearer ${e.token}`}});if(!Ae.ok)throw new Error("Failed to fetch task hours");const vt=await Ae.json();X(vt)}catch(Ae){console.error("Error fetching task hours:",Ae)}};e&&e.token&&ze()},[e]),T.useEffect(()=>{if(!ne)return;function ze(Ae){z.current&&!z.current.contains(Ae.target)&&D(!1)}return document.addEventListener("mousedown",ze),()=>document.removeEventListener("mousedown",ze)},[ne]),T.useEffect(()=>{const Ae=`assignedtasks_columns_${(e==null?void 0:e._id)||"guest"}`;localStorage.setItem(Ae,JSON.stringify(De.visibleColumns))},[De.visibleColumns,e]);const at=ze=>{if(!Array.isArray(ze))return[];const Ae={urgent:1,today:2,lessThan3Days:3,thisWeek:4,thisMonth:5,regular:6,filed:7,dailyWorksOffice:8,monthlyWorks:9};let vt=ze.filter(gt=>{if(De.searchTerm){const Wt=De.searchTerm.toLowerCase();if(!(gt.title&&gt.title.toLowerCase().includes(Wt)||gt.description&&gt.description.toLowerCase().includes(Wt)||gt.clientName&&gt.clientName.toLowerCase().includes(Wt)||gt.clientGroup&&gt.clientGroup.toLowerCase().includes(Wt)||gt.workType&&(Array.isArray(gt.workType)?gt.workType.join(", ").toLowerCase().includes(Wt):typeof gt.workType=="string"?gt.workType.toLowerCase().includes(Wt):!1)))return!1}if(De.statusFilter!=="all"&&gt.status!==De.statusFilter)return!1;if(!De.filters.length)return!0;let rr=null;for(let Wt=0;Wt<De.filters.length;Wt++){const Qt=De.filters[Wt],{column:cr,operator:Zt,value:hr}=Qt,Mr=((Qr,Er)=>{const Fr=Er.split(".");let tn=Qr;for(const et of Fr){if(tn==null)return;tn=tn[et]}return tn})(gt,cr);let xr;if(Mr==null)Zt==="is_empty"?xr=!0:xr=!1;else switch(Zt){case"is":cr==="assignedTo"||cr==="assignedBy"?xr=Mr._id===hr:xr=String(Mr)===String(hr);break;case"is_not":cr==="assignedTo"||cr==="assignedBy"?xr=Mr._id!==hr:xr=String(Mr)!==String(hr);break;case"contains":xr=String(Mr).toLowerCase().includes(String(hr).toLowerCase());break;case"does_not_contain":xr=!String(Mr).toLowerCase().includes(String(hr).toLowerCase());break;case"is_empty":xr=Mr===""||Mr===null||Mr===void 0;break;case"is_not_empty":xr=Mr!==""&&Mr!==null&&Mr!==void 0;break;default:xr=!0}Wt===0?rr=xr:(Qt.logic||"AND")==="AND"?rr=rr&&xr:rr=rr||xr}return rr});return De.sortBy?vt.sort((gt,rr)=>{let Wt=gt[De.sortBy],Qt=rr[De.sortBy];if(De.sortBy==="createdAt")Wt=new Date(Wt),Qt=new Date(Qt);else if(De.sortBy==="priority")return Wt=Ae[Wt]||999,Qt=Ae[Qt]||999,Wt<Qt?De.sortOrder==="desc"?-1:1:Wt>Qt?De.sortOrder==="desc"?1:-1:0;return Wt<Qt?De.sortOrder==="asc"?-1:1:Wt>Qt?De.sortOrder==="asc"?1:-1:0}):vt},pt=ze=>{G(ze),Se(!0)},Ze=ze=>{Se(!1),Fe(!1),G(null)};return console.log("ALL_COLUMNS:",fp),console.log("visibleColumns:",De.visibleColumns),console.log("tasks:",k),r()?V?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):I?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"text-red-500 text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Error loading tasks"}),i.jsx("p",{className:"text-sm",children:I})]})}):i.jsxs("div",{className:"p-4",children:[i.jsx(Pb,{tabs:w,activeTabId:N,onTabClick:S,onAddTab:lt,onCloseTab:ft,onRenameTab:Pe}),i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-1 sm:space-x-6 overflow-x-auto scrollbar-hide","aria-label":"Tabs",children:["execution","verification","completed"].map(ze=>i.jsxs("button",{onClick:()=>xe({activeTab:ze}),className:`whitespace-nowrap py-3 px-0 border-b-2 font-medium text-sm sm:px-0 ${De.activeTab===ze?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[ze==="execution"&&"Tasks For Execution",ze==="verification"&&"Tasks Under Verification",ze==="completed"&&"Completed",i.jsx("span",{className:"bg-gray-200 text-gray-800 rounded-full px-2 py-0.5 ml-2 text-xs",children:O[ze]||0})]},ze))})})}),i.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-0 gap-4",children:i.jsxs("div",{className:"flex flex-row flex-wrap items-center gap-4 w-full sm:w-auto",children:[i.jsxs("div",{className:"relative",ref:Q,children:[i.jsxs("button",{onClick:()=>Y(ze=>!ze),className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-sm",children:[i.jsx("span",{children:"Filter"}),De.filters.length>0&&i.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold ml-2 px-2.5 py-0.5 rounded-full",children:De.filters.length})]}),i.jsx(W1,{isOpen:C,onClose:()=>Y(!1),filters:De.filters,setFilters:ze=>xe({filters:ze}),users:A,clientNames:ce,clientGroups:J,workTypes:ee})]}),i.jsx("input",{type:"text",placeholder:"Search tasks...",className:"w-60 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",value:De.searchTerm,onChange:ze=>xe({searchTerm:ze.target.value})}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 text-sm font-medium h-11 min-w-[120px] transition-colors",onClick:()=>D(ze=>!ze),"aria-label":"Show/Hide Columns",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),"Columns"]}),ne&&i.jsxs("div",{ref:z,className:"absolute right-0 z-20 bg-white border border-gray-200 rounded-lg shadow-lg p-3 mt-2 w-56 animate-fade-in",children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-2 text-sm",children:"Show/Hide Columns"}),i.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 custom-scrollbar",children:fp.map(ze=>i.jsxs("label",{className:"flex items-center space-x-2 mb-1 cursor-pointer hover:bg-blue-50 rounded px-2 py-1 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:De.visibleColumns.includes(ze.id),onChange:()=>{const Ae=De.visibleColumns;xe({visibleColumns:Ae.includes(ze.id)?Ae.filter(vt=>vt!==ze.id):[...Ae,ze.id]})},className:"accent-blue-500"}),i.jsx("span",{className:"text-gray-800 text-sm",children:ze.label})]},ze.id))})]})]}),i.jsxs("select",{className:"px-3 py-2 border border-gray-300 rounded-md bg-white focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",value:De.sortBy,onChange:ze=>xe({sortBy:ze.target.value}),children:[i.jsx("option",{value:"",children:"None"}),i.jsx("option",{value:"createdAt",children:"Assigned On"}),i.jsx("option",{value:"priority",children:"Priority"}),i.jsx("option",{value:"status",children:"Stages"}),i.jsx("option",{value:"clientName",children:"Client Name"}),i.jsx("option",{value:"clientGroup",children:"Client Group"}),i.jsx("option",{value:"workType",children:"Work Type"}),i.jsx("option",{value:"billed",children:"Billed"})]})]})}),i.jsx(rT,{children:i.jsx(mm,{tasks:at(k),viewType:"assigned",taskType:De.activeTab,highlightedTaskId:x,onTaskUpdate:(ze,Ae)=>{_(vt=>vt.map(gt=>gt._id===ze?Ae(gt):gt))},onTaskDelete:ze=>{_(k.filter(Ae=>Ae._id!==ze))},onStatusChange:(ze,Ae)=>{_(vt=>vt.map(gt=>gt._id===ze?{...gt,status:Ae}:gt))},shouldDisableActions:ze=>!1,shouldDisableFileActions:()=>!1,taskHours:q,visibleColumns:De.visibleColumns,setVisibleColumns:ze=>xe({visibleColumns:ze}),storageKeyPrefix:"assignedtasks",onEditTask:pt,sortBy:De.sortBy,dynamicColumns:f,customColumns:u})}),se&&i.jsx(qp,{users:A,mode:"edit",initialData:fe,isOpen:se,onClose:()=>Se(!1),onSubmit:Ze})]}):null},yO=()=>{const e=async ee=>{const H=s.find(ne=>ne.name===ee);if(!H){Ee.error("Team not found");return}try{if(!(await fetch(`${$e}/api/teams/${H._id}`,{method:"DELETE",headers:{Authorization:`Bearer ${t.token}`}})).ok)throw new Error("Failed to delete team");l(D=>D.filter(z=>z._id!==H._id)),V({show:!1,teamName:""}),Ee.success("Team deleted successfully!")}catch(ne){Ee.error(ne.message||"Failed to delete team")}},r=async ee=>{if(ee.preventDefault(),!m.trim()){Ee.error("Team name cannot be empty");return}try{const H=await fetch(`${$e}/api/teams`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.token}`},body:JSON.stringify({name:m.trim()})});if(!H.ok){const D=await H.json();throw new Error(D.message||"Failed to add team")}const ne=await H.json();l(D=>[...D,ne]),y(!1),w(""),Ee.success("Team added successfully!")}catch(H){Ee.error(H.message||"Failed to add team")}},{user:t}=gn(),[n,a]=T.useState([]),[s,l]=T.useState([]),[u,d]=T.useState(!0),[f,p]=T.useState(null),[x,y]=T.useState(!1),[m,w]=T.useState(""),[v,N]=T.useState({}),[S,k]=T.useState(null),[_,A]=T.useState(""),[R,V]=T.useState({show:!1,teamName:""}),P=T.useRef(null);T.useEffect(()=>{const ee=async()=>{try{const[H,ne]=await Promise.all([fetch(`${$e}/api/users`,{headers:{Authorization:`Bearer ${t.token}`}}),fetch(`${$e}/api/teams`,{headers:{Authorization:`Bearer ${t.token}`}})]);if(!H.ok||!ne.ok)throw new Error("Failed to fetch data");const D=await H.json(),z=await ne.json();if(!Array.isArray(D)||!Array.isArray(z))throw new Error("Invalid data format received");const q=D.filter(X=>X&&typeof X=="object"&&X.firstName&&X.lastName&&X.email);a(q),l(z),p(null)}catch(H){p(H.message),Ee.error("Failed to fetch team members")}finally{d(!1)}};t&&t.token&&ee()},[t]),T.useEffect(()=>{if(Object.values(v).some(Boolean)){const ee=H=>{P.current&&!P.current.contains(H.target)&&N({})};return document.addEventListener("mousedown",ee),()=>document.removeEventListener("mousedown",ee)}},[v]);const B=(ee=>{const H=s.reduce((ne,D)=>(ne[D.name]=[],ne),{Admin:[],"Team Head":[],Senior:[],Fresher:[]});return ee.forEach(ne=>{ne.role==="Admin"?H.Admin.push(ne):ne.role==="Team Head"?H["Team Head"].push(ne):ne.role==="Senior"?H.Senior.push(ne):ne.role==="Fresher"&&H.Fresher.push(ne)}),s.forEach(ne=>{["Admin","Team Head","Senior","Fresher"].includes(ne.name)||(H[ne.name]=ee.filter(D=>D.team===ne._id))}),H})(n),O=["Admin","Team Head","Senior","Fresher"],L=Object.keys(B).filter(ee=>!O.includes(ee)),C=ee=>{const H={"Team Head":1,Senior:2,Fresher:3};return[...ee].sort((ne,D)=>{const z=H[ne.role]||99,q=H[D.role]||99;return z!==q?z-q:(ne.firstName+ne.lastName).localeCompare(D.firstName+D.lastName)})},Y=()=>{k(null),A("")},Q=ee=>{V({show:!0,teamName:ee})},ce=()=>{V({show:!1,teamName:""})},W=ee=>{N(H=>{const ne={};return H[ee]||(ne[ee]=!0),ne})},J=ee=>{N(H=>({...H,[ee]:!H[ee]}))},re=async ee=>{const H=s.find(ne=>ne.name===ee);if(!H){Ee.error("Team not found");return}try{const ne=await fetch(`${$e}/api/teams/${H._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.token}`},body:JSON.stringify({name:_})});if(!ne.ok)throw new Error("Failed to update team name");const D=await ne.json();l(z=>z.map(q=>q._id===D._id?D:q)),k(null),A(""),Ee.success("Team name updated")}catch(ne){Ee.error(ne.message)}};return u?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):f?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"text-red-500 text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Error loading team members"}),i.jsx("p",{className:"text-sm",children:f})]})}):n.length===0?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"text-gray-500 text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"No team members found"}),i.jsx("p",{className:"text-sm",children:"Add team members to see them here"})]})}):i.jsxs("div",{className:"p-8 min-h-screen bg-[#f8f9fa]",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsx("h2",{className:"text-3xl font-semibold text-gray-900 tracking-tight",children:"Members"}),(t==null?void 0:t.role)==="Admin"&&i.jsx("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-blue-500 text-white rounded-lg shadow-sm hover:bg-blue-600 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-300 focus:ring-offset-2 text-sm font-medium",children:"Add Team"})]}),x&&i.jsx("div",{className:"fixed inset-0 z-50 bg-gray-600/30 overflow-y-auto h-full w-full flex items-center justify-center",children:i.jsx("div",{className:"relative p-5 border w-96 shadow-lg rounded-md bg-white z-60",children:i.jsxs("div",{className:"mt-3",children:[i.jsx("h3",{className:"text-lg font-medium leading-6 text-gray-900 mb-4",children:"Add New Team"}),i.jsxs("form",{onSubmit:r,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{htmlFor:"teamName",className:"block text-sm font-medium text-gray-700",children:"Team Name"}),i.jsx("input",{type:"text",id:"teamName",value:m,onChange:ee=>w(ee.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:()=>y(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Create Team"})]})]})]})})}),i.jsx("div",{ref:P,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10",children:O.map(ee=>{const H=B[ee]||[],ne=v[ee]||!1;return i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>W(ee),className:`w-full flex justify-between items-center px-4 py-3 text-sm font-medium text-gray-800 bg-white border border-gray-200 rounded-xl shadow-sm transition-all duration-150 ${ne?"ring-2 ring-blue-100":"hover:shadow-md hover:bg-gray-50"}`,style:{minHeight:"48px"},children:[i.jsxs("span",{children:[ee," ",i.jsxs("span",{className:"text-gray-400 font-normal",children:["(",H.length,")"]})]}),ne?i.jsx(r7,{className:"w-5 h-5 text-gray-400"}):i.jsx(e7,{className:"w-5 h-5 text-gray-400"})]}),ne&&i.jsx("div",{className:"absolute left-0 top-full w-full z-20 bg-white border border-gray-200 shadow-xl rounded-xl mt-2 max-h-80 overflow-y-auto animate-fadeIn p-2",children:H.length>0?i.jsx("div",{className:"space-y-1",children:C(H).map(D=>{var z;return i.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx("img",{src:((z=D.photo)==null?void 0:z.url)||kn,alt:`${D.firstName} ${D.lastName}`,className:"w-8 h-8 rounded-full object-cover border border-gray-200"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-900 truncate",children:[D.firstName," ",D.lastName]}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:D.email}),i.jsx("p",{className:"text-xs text-gray-400",children:D.role})]})]},D._id)})}):i.jsx("p",{className:"text-gray-400 text-sm text-center py-4",children:"No members in this team"})})]},ee)})}),L.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4 tracking-tight",children:"Teams"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:L.map(ee=>{const H=B[ee]||[],ne=v[ee]||!1,D=S===ee;return i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"w-full flex justify-between items-center px-4 py-3 text-sm font-medium text-gray-800 bg-white border border-gray-200 rounded-xl shadow-sm transition-all duration-150 hover:shadow-md hover:bg-gray-50",style:{minHeight:"48px"},children:[D?i.jsxs("div",{className:"flex items-center gap-1 w-full",children:[i.jsx("input",{type:"text",value:_,autoFocus:!0,onChange:z=>A(z.target.value),onKeyDown:z=>{z.key==="Enter"&&re(ee),z.key==="Escape"&&Y()},onBlur:Y,className:"w-full max-w-[120px] rounded px-2 py-1 border border-blue-300 bg-white shadow-sm focus:outline-none focus:ring-1 focus:ring-blue-400 text-sm font-medium text-gray-900 transition",style:{minWidth:0},placeholder:"Team name"}),i.jsx("button",{onClick:Y,className:"text-gray-400 hover:text-gray-600 p-1 rounded transition flex items-center justify-center",tabIndex:-1,type:"button","aria-label":"Cancel",style:{height:"24px",width:"24px"},children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6l8 8M6 14L14 6"})})})]}):i.jsxs("span",{onClick:()=>J(ee),className:"flex-1 cursor-pointer truncate",children:[ee," ",i.jsxs("span",{className:"text-gray-400 font-normal",children:["(",H.length,")"]})]}),(t==null?void 0:t.role)==="Admin"&&i.jsx("div",{className:"flex items-center space-x-2",children:D?null:i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{k(ee),A(ee)},className:"text-blue-500 hover:text-blue-700",children:i.jsx(B_,{className:"w-5 h-5"})}),i.jsx("button",{onClick:()=>Q(ee),className:"text-red-500 hover:text-red-700",children:i.jsx(Dv,{className:"w-5 h-5"})})]})})]}),ne&&i.jsx("div",{className:"absolute left-0 top-full w-full z-20 bg-white border border-gray-200 shadow-xl rounded-xl mt-2 max-h-80 overflow-y-auto animate-fadeIn p-2",children:H.length>0?i.jsx("div",{className:"space-y-1",children:C(H).map(z=>{var q;return i.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx("img",{src:((q=z.photo)==null?void 0:q.url)||kn,alt:`${z.firstName} ${z.lastName}`,className:"w-7 h-7 rounded-full object-cover border border-gray-200"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("h4",{className:"text-xs font-medium text-gray-900 truncate",children:[z.firstName," ",z.lastName]}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:z.email}),i.jsx("p",{className:"text-xs text-gray-400",children:z.role})]})]},z._id)})}):i.jsx("p",{className:"text-gray-400 text-xs text-center py-4",children:"No members in this team"})})]},ee)})})]}),R.show&&i.jsx("div",{className:"fixed inset-0 flex items-center justify-center backdrop-blur-sm bg-gray-600/30 z-50",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:[i.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Delete Team"}),i.jsxs("p",{children:["Are you sure you want to delete the team ",i.jsx("span",{className:"font-bold",children:R.teamName}),"?"]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{onClick:ce,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),i.jsx("button",{onClick:()=>e(R.teamName),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md",children:"Delete"})]})]})})]})},Ig=()=>{const{user:e}=gn(),[r,t]=T.useState({totalTasks:0,executionTasks:0,verificationTasks:0,issuedForVerificationTasks:0,priorityDistribution:{urgent:0,today:0,regular:0,inOneWeek:0,inFifteenDays:0,inOneMonth:0}}),[n,a]=T.useState(0),[s,l]=T.useState(!0);return T.useEffect(()=>{(async()=>{try{const d=await fetch(`${$e}/api/tasks/analytics/data`,{headers:{Authorization:`Bearer ${e.token}`}});if(!d.ok)throw new Error("Failed to fetch analytics data");const f=await d.json();t(f);const p=await fetch(`${$e}/api/tasks`,{headers:{Authorization:`Bearer ${e.token}`}});if(p.ok){const y=(await p.json()).filter(m=>Array.isArray(m.guides)&&m.guides.some(w=>(w._id||w)===e._id)&&m.status!=="completed").length;a(y)}else a(0)}catch(d){console.error("Error fetching analytics:",d),Ee.error("Failed to fetch analytics")}finally{l(!1)}})()},[e]),s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Total Tasks"}),i.jsx("p",{className:"text-3xl font-bold text-blue-600",children:r.totalTasks})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Task For Execution"}),i.jsx("p",{className:"text-3xl font-bold text-green-600",children:r.executionTasks})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Task For Verification"}),i.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:r.verificationTasks})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Issued for Verification"}),i.jsx("p",{className:"text-3xl font-bold text-purple-600",children:r.issuedForVerificationTasks})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Task For Guidance"}),i.jsx("p",{className:"text-3xl font-bold text-pink-600",children:n})]}),i.jsxs("div",{className:"col-span-full bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Priority Distribution"}),i.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:r.priorityDistribution.urgent}),i.jsx("div",{className:"text-sm text-gray-600",children:"Urgent"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.priorityDistribution.today}),i.jsx("div",{className:"text-sm text-gray-600",children:"Today"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-600",children:r.priorityDistribution.regular}),i.jsx("div",{className:"text-sm text-gray-600",children:"Regular"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.priorityDistribution.inOneWeek}),i.jsx("div",{className:"text-sm text-gray-600",children:"1 Week"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:r.priorityDistribution.inFifteenDays}),i.jsx("div",{className:"text-sm text-gray-600",children:"15 Days"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.priorityDistribution.inOneMonth}),i.jsx("div",{className:"text-sm text-gray-600",children:"1 Month"})]})]})]})]})})},vO=()=>{const{user:e}=gn(),[r,t]=T.useState([]),[n,a]=T.useState(!1),[s,l]=T.useState(!1),[u,d]=T.useState({name:"",label:"",type:"text",defaultValue:"",options:[]}),[f,p]=T.useState(""),[x,y]=T.useState(!1),m=async()=>{a(!0);try{const _=await fetch(`${$e}/api/custom-columns?includeInactive=true`,{headers:{Authorization:`Bearer ${e.token}`}});if(!_.ok)throw new Error("Failed to fetch columns");const A=await _.json();t(A)}catch{Ee.error("Failed to fetch columns")}finally{a(!1)}},w=async()=>{if(!u.name.trim()||!u.label.trim()){Ee.error("Name and label are required");return}if(u.type==="tags"&&u.options.length===0){Ee.error("Tags type requires at least one option");return}y(!0);try{const _=await fetch(`${$e}/api/custom-columns`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({name:u.name.trim(),label:u.label.trim(),type:u.type,defaultValue:u.type==="checkbox"?u.defaultValue==="true":u.type==="tags"?[]:u.defaultValue,options:u.type==="tags"?u.options:[]})});if(!_.ok){const A=await _.json();throw new Error(A.message||"Failed to add column")}Ee.success("Column added successfully"),d({name:"",label:"",type:"text",defaultValue:"",options:[]}),p(""),l(!1),m()}catch(_){Ee.error(_.message)}finally{y(!1)}},v=()=>{f.trim()&&!u.options.includes(f.trim())&&(d(_=>({..._,options:[..._.options,f.trim()]})),p(""))},N=_=>{d(A=>({...A,options:A.options.filter((R,V)=>V!==_)}))},S=async _=>{try{const A=r.find(V=>V._id===_),R=await fetch(`${$e}/api/custom-columns/${_}/toggle`,{method:"PATCH",headers:{Authorization:`Bearer ${e.token}`}});if(!R.ok){const V=await R.json();throw new Error(V.message||"Failed to toggle column")}Ee.success(`Column "${A==null?void 0:A.label}" ${A!=null&&A.isActive?"deactivated":"activated"} successfully`),m()}catch(A){Ee.error(A.message)}},k=async _=>{if(confirm("Are you sure you want to delete this column? This action cannot be undone."))try{const A=await fetch(`${$e}/api/custom-columns/${_}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.token}`}});if(!A.ok){const R=await A.json();throw new Error(R.message||"Failed to delete column")}Ee.success("Column deleted successfully"),m()}catch(A){Ee.error(A.message)}};return T.useEffect(()=>{m()},[]),e.role!=="Admin"?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-600",children:"Access denied. Admin role required."})}):i.jsxs("div",{className:"px-0 md:px-6 py-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Column Management"}),i.jsx("button",{onClick:()=>l(!s),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors",children:s?"Cancel":"Add New Column"})]}),s&&i.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"text-md font-medium text-gray-800 mb-4",children:"Add New Column"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name (Internal ID)"}),i.jsx("input",{type:"text",value:u.name,onChange:_=>d(A=>({...A,name:_.target.value.replace(/[^a-zA-Z0-9]/g,"")})),placeholder:"e.g., customfield1",className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only letters and numbers (A-Z, a-z, 0-9)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Label (Display Name)"}),i.jsx("input",{type:"text",value:u.label,onChange:_=>d(A=>({...A,label:_.target.value})),placeholder:"e.g., Custom Field 1",className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),i.jsxs("select",{value:u.type,onChange:_=>d(A=>({...A,type:_.target.value,defaultValue:_.target.value==="checkbox"?"false":"",options:_.target.value==="tags"?A.options:[]})),className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"text",children:"Text Input"}),i.jsx("option",{value:"checkbox",children:"Checkbox"}),i.jsx("option",{value:"tags",children:"Tags (Multiple Select)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Value"}),u.type==="checkbox"?i.jsxs("select",{value:u.defaultValue,onChange:_=>d(A=>({...A,defaultValue:_.target.value})),className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"false",children:"Unchecked"}),i.jsx("option",{value:"true",children:"Checked"})]}):u.type==="tags"?i.jsx("div",{className:"text-sm text-gray-500",children:"No default tags selected"}):i.jsx("input",{type:"text",value:u.defaultValue,onChange:_=>d(A=>({...A,defaultValue:_.target.value})),placeholder:"Default text value",className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),u.type==="tags"&&i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tag Options"}),i.jsxs("div",{className:"flex gap-2 mb-2",children:[i.jsx("input",{type:"text",value:f,onChange:_=>p(_.target.value),placeholder:"Add tag option",className:"flex-1 bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500",onKeyDown:_=>_.key==="Enter"&&v()}),i.jsx("button",{onClick:v,className:"bg-gray-600 text-white px-3 py-2 rounded hover:bg-gray-700 transition-colors",children:"Add"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:u.options.map((_,A)=>i.jsxs("span",{className:"inline-flex items-center bg-blue-100 text-blue-800 rounded-full px-3 py-1 text-sm",children:[_,i.jsx("button",{onClick:()=>N(A),className:"ml-2 text-blue-600 hover:text-blue-800",children:"×"})]},A))})]}),i.jsxs("div",{className:"flex gap-3 mt-4",children:[i.jsx("button",{onClick:w,disabled:x||!u.name.trim()||!u.label.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:x?"Adding...":"Add Column"}),i.jsx("button",{onClick:()=>l(!1),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition-colors",children:"Cancel"})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"text-md font-medium text-blue-800 mb-2",children:"Default Columns"}),i.jsx("p",{className:"text-sm text-blue-700",children:"The following columns are built-in and cannot be modified: Title, Description, Client Name, Client Group, Work Type, Internal Works, Task Status, Priority, Verifications, Self Verification, Inward Entry Date, Due Date, Target Date, Assigned By, Assigned To, Verifiers, Guide, Files, Comments."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-md font-medium text-gray-800 mb-4",children:"Custom Columns"}),n?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Loading columns..."})]}):r.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-600",children:"No custom columns found. Create your first custom column using the button above."})}):i.jsxs(i.Fragment,{children:[r.filter(_=>_.isActive).length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsxs("h4",{className:"text-sm font-medium text-green-700 mb-3 flex items-center",children:[i.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),"Active Columns (",r.filter(_=>_.isActive).length,")"]}),i.jsx("div",{className:"space-y-3",children:r.filter(_=>_.isActive).map(_=>i.jsx("div",{className:"p-4 rounded-lg border bg-white border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:_.label}),i.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:_.name}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${_.type==="text"?"bg-green-100 text-green-800":_.type==="checkbox"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:_.type==="tags"?"Tags":_.type==="checkbox"?"Checkbox":"Text"})]}),i.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Default:"})," ",_.type==="checkbox"?_.defaultValue?"Checked":"Unchecked":_.type==="tags"?"No default tags":_.defaultValue||"Empty"]}),_.type==="tags"&&_.options.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Options:"}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_.options.map((A,R)=>i.jsx("span",{className:"inline-flex items-center bg-purple-100 text-purple-800 rounded-full px-2 py-1 text-xs",children:A},R))})]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["Created by ",_.createdBy.firstName," ",_.createdBy.lastName," on"," ",new Date(_.createdAt).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx("button",{onClick:()=>S(_._id),className:"px-3 py-1 text-sm rounded transition-colors bg-red-100 text-red-700 hover:bg-red-200",children:"Deactivate"}),i.jsx("button",{onClick:()=>k(_._id),className:"text-red-600 hover:text-red-800 transition-colors p-1",title:"Delete column",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},_._id))})]}),r.filter(_=>!_.isActive).length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-600 mb-3 flex items-center",children:[i.jsx("span",{className:"w-3 h-3 bg-gray-400 rounded-full mr-2"}),"Inactive Columns (",r.filter(_=>!_.isActive).length,")"]}),i.jsx("div",{className:"space-y-3",children:r.filter(_=>!_.isActive).map(_=>i.jsx("div",{className:"p-4 rounded-lg border bg-gray-50 border-gray-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h4",{className:"font-medium text-gray-500",children:_.label}),i.jsx("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:_.name}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${_.type==="text"?"bg-green-100 text-green-800":_.type==="checkbox"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:_.type==="tags"?"Tags":_.type==="checkbox"?"Checkbox":"Text"}),i.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-2 py-1 rounded",children:"Inactive"})]}),i.jsxs("div",{className:"mt-2 text-sm text-gray-500",children:[i.jsx("span",{className:"font-medium",children:"Default:"})," ",_.type==="checkbox"?_.defaultValue?"Checked":"Unchecked":_.type==="tags"?"No default tags":_.defaultValue||"Empty"]}),_.type==="tags"&&_.options.length>0&&i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Options:"}),i.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:_.options.map((A,R)=>i.jsx("span",{className:"inline-flex items-center bg-purple-100 text-purple-800 rounded-full px-2 py-1 text-xs opacity-70",children:A},R))})]}),i.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:["Created by ",_.createdBy.firstName," ",_.createdBy.lastName," on"," ",new Date(_.createdAt).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx("button",{onClick:()=>S(_._id),className:"px-3 py-1 text-sm rounded transition-colors bg-green-100 text-green-700 hover:bg-green-200",children:"Activate"}),i.jsx("button",{onClick:()=>k(_._id),className:"text-red-600 hover:text-red-800 transition-colors p-1",title:"Delete column",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})},_._id))})]}),r.filter(_=>_.isActive).length===0&&r.filter(_=>!_.isActive).length===0&&i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-600",children:"No custom columns found. Create your first custom column using the button above."})})]})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var q1={};q1.version="0.18.5";var nT=1252,bO=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],aT=function(e){bO.indexOf(e)!=-1&&(nT=e)};function wO(){aT(1252)}var Yp=function(e){aT(e)};function NO(){Yp(1200),wO()}var $g=function(r){return String.fromCharCode(r)},v3=function(r){return String.fromCharCode(r)},Y1,xd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Gp(e){for(var r="",t=0,n=0,a=0,s=0,l=0,u=0,d=0,f=0;f<e.length;)t=e.charCodeAt(f++),s=t>>2,n=e.charCodeAt(f++),l=(t&3)<<4|n>>4,a=e.charCodeAt(f++),u=(n&15)<<2|a>>6,d=a&63,isNaN(n)?u=d=64:isNaN(a)&&(d=64),r+=xd.charAt(s)+xd.charAt(l)+xd.charAt(u)+xd.charAt(d);return r}function Au(e){var r="",t=0,n=0,a=0,s=0,l=0,u=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<e.length;)s=xd.indexOf(e.charAt(f++)),l=xd.indexOf(e.charAt(f++)),t=s<<2|l>>4,r+=String.fromCharCode(t),u=xd.indexOf(e.charAt(f++)),n=(l&15)<<4|u>>2,u!==64&&(r+=String.fromCharCode(n)),d=xd.indexOf(e.charAt(f++)),a=(u&3)<<6|d,d!==64&&(r+=String.fromCharCode(a));return r}var Vn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Lu=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(r,t){return t?new Buffer(r,t):new Buffer(r)}:Buffer.from.bind(Buffer)}return function(){}}();function jf(e){return Vn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function b3(e){return Vn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ll=function(r){return Vn?Lu(r,"binary"):r.split("").map(function(t){return t.charCodeAt(0)&255})};function Mx(e){if(typeof ArrayBuffer>"u")return Ll(e);for(var r=new ArrayBuffer(e.length),t=new Uint8Array(r),n=0;n!=e.length;++n)t[n]=e.charCodeAt(n)&255;return r}function gm(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var r=[],t=0;t<e.length;++t)r[t]=String.fromCharCode(e[t]);return r.join("")}function SO(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var ci=Vn?function(e){return Buffer.concat(e.map(function(r){return Buffer.isBuffer(r)?r:Lu(r)}))}:function(e){if(typeof Uint8Array<"u"){var r=0,t=0;for(r=0;r<e.length;++r)t+=e[r].length;var n=new Uint8Array(t),a=0;for(r=0,t=0;r<e.length;t+=a,++r)if(a=e[r].length,e[r]instanceof Uint8Array)n.set(e[r],t);else{if(typeof e[r]=="string")throw"wtf";n.set(new Uint8Array(e[r]),t)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function _O(e){for(var r=[],t=0,n=e.length+250,a=jf(e.length+255),s=0;s<e.length;++s){var l=e.charCodeAt(s);if(l<128)a[t++]=l;else if(l<2048)a[t++]=192|l>>6&31,a[t++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var u=e.charCodeAt(++s)&1023;a[t++]=240|l>>8&7,a[t++]=128|l>>2&63,a[t++]=128|u>>6&15|(l&3)<<4,a[t++]=128|u&63}else a[t++]=224|l>>12&15,a[t++]=128|l>>6&63,a[t++]=128|l&63;t>n&&(r.push(a.slice(0,t)),t=0,a=jf(65535),n=65530)}return r.push(a.slice(0,t)),ci(r)}var Dp=/\u0000/g,zg=/[\u0001-\u0006]/g;function Ih(e){for(var r="",t=e.length-1;t>=0;)r+=e.charAt(t--);return r}function Rl(e,r){var t=""+e;return t.length>=r?t:rs("0",r-t.length)+t}function Bb(e,r){var t=""+e;return t.length>=r?t:rs(" ",r-t.length)+t}function G1(e,r){var t=""+e;return t.length>=r?t:t+rs(" ",r-t.length)}function TO(e,r){var t=""+Math.round(e);return t.length>=r?t:rs("0",r-t.length)+t}function kO(e,r){var t=""+e;return t.length>=r?t:rs("0",r-t.length)+t}var w3=Math.pow(2,32);function bh(e,r){if(e>w3||e<-w3)return TO(e,r);var t=Math.round(e);return kO(t,r)}function X1(e,r){return r=r||0,e.length>=7+r&&(e.charCodeAt(r)|32)===103&&(e.charCodeAt(r+1)|32)===101&&(e.charCodeAt(r+2)|32)===110&&(e.charCodeAt(r+3)|32)===101&&(e.charCodeAt(r+4)|32)===114&&(e.charCodeAt(r+5)|32)===97&&(e.charCodeAt(r+6)|32)===108}var N3=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],$y=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function jO(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var ns={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},S3={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},EO={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function K1(e,r,t){for(var n=e<0?-1:1,a=e*n,s=0,l=1,u=0,d=1,f=0,p=0,x=Math.floor(a);f<r&&(x=Math.floor(a),u=x*l+s,p=x*f+d,!(a-x<5e-8));)a=1/(a-x),s=l,l=u,d=f,f=p;if(p>r&&(f>r?(p=d,u=s):(p=f,u=l)),!t)return[0,n*u,p];var y=Math.floor(n*u/p);return[y,n*u-y*p,p]}function Ug(e,r,t){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,l=[],u={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(u.u)<1e-6&&(u.u=0),r&&r.date1904&&(n+=1462),u.u>.9999&&(u.u=0,++a==86400&&(u.T=a=0,++n,++u.D)),n===60)l=t?[1317,10,29]:[1900,2,29],s=3;else if(n===0)l=t?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],s=d.getDay(),n<60&&(s=(s+6)%7),t&&(s=MO(d,l))}return u.y=l[0],u.m=l[1],u.d=l[2],u.S=a%60,a=Math.floor(a/60),u.M=a%60,a=Math.floor(a/60),u.H=a,u.q=s,u}var sT=new Date(1899,11,31,0,0,0),AO=sT.getTime(),CO=new Date(1900,2,1,0,0,0);function iT(e,r){var t=e.getTime();return r?t-=1461*24*60*60*1e3:e>=CO&&(t+=24*60*60*1e3),(t-(AO+(e.getTimezoneOffset()-sT.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Ib(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function DO(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function OO(e){var r=e<0?12:11,t=Ib(e.toFixed(12));return t.length<=r||(t=e.toPrecision(10),t.length<=r)?t:e.toExponential(5)}function LO(e){var r=Ib(e.toFixed(11));return r.length>(e<0?12:11)||r==="0"||r==="-0"?e.toPrecision(6):r}function RO(e){var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),t;return r>=-4&&r<=-1?t=e.toPrecision(10+r):Math.abs(r)<=9?t=OO(e):r===10?t=e.toFixed(10).substr(0,12):t=LO(e),Ib(DO(t.toUpperCase()))}function Bv(e,r){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):RO(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Td(14,iT(e,r&&r.date1904),r)}throw new Error("unsupported value in General format: "+e)}function MO(e,r){r[0]-=581;var t=e.getDay();return e<60&&(t=(t+6)%7),t}function FO(e,r,t,n){var a="",s=0,l=0,u=t.y,d,f=0;switch(e){case 98:u=t.y+543;case 121:switch(r.length){case 1:case 2:d=u%100,f=2;break;default:d=u%1e4,f=4;break}break;case 109:switch(r.length){case 1:case 2:d=t.m,f=r.length;break;case 3:return $y[t.m-1][1];case 5:return $y[t.m-1][0];default:return $y[t.m-1][2]}break;case 100:switch(r.length){case 1:case 2:d=t.d,f=r.length;break;case 3:return N3[t.q][0];default:return N3[t.q][1]}break;case 104:switch(r.length){case 1:case 2:d=1+(t.H+11)%12,f=r.length;break;default:throw"bad hour format: "+r}break;case 72:switch(r.length){case 1:case 2:d=t.H,f=r.length;break;default:throw"bad hour format: "+r}break;case 77:switch(r.length){case 1:case 2:d=t.M,f=r.length;break;default:throw"bad minute format: "+r}break;case 115:if(r!="s"&&r!="ss"&&r!=".0"&&r!=".00"&&r!=".000")throw"bad second format: "+r;return t.u===0&&(r=="s"||r=="ss")?Rl(t.S,r.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,s=Math.round(l*(t.S+t.u)),s>=60*l&&(s=0),r==="s"?s===0?"0":""+s/l:(a=Rl(s,2+n),r==="ss"?a.substr(0,2):"."+a.substr(2,r.length-1)));case 90:switch(r){case"[h]":case"[hh]":d=t.D*24+t.H;break;case"[m]":case"[mm]":d=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":d=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+r}f=r.length===3?1:2;break;case 101:d=u,f=1;break}var p=f>0?Rl(d,f):"";return p}function yd(e){var r=3;if(e.length<=r)return e;for(var t=e.length%r,n=e.substr(0,t);t!=e.length;t+=r)n+=(n.length>0?",":"")+e.substr(t,r);return n}var oT=/%/g;function PO(e,r,t){var n=r.replace(oT,""),a=r.length-n.length;return vu(e,n,t*Math.pow(10,2*a))+rs("%",a)}function BO(e,r,t){for(var n=r.length-1;r.charCodeAt(n-1)===44;)--n;return vu(e,r.substr(0,n),t/Math.pow(10,3*(r.length-n)))}function lT(e,r){var t,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+lT(e,-r);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(r)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(r/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),t.indexOf("e")===-1){var l=Math.floor(Math.log(r)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,f,p){return d+f+p.substr(0,(a+s)%a)+"."+p.substr(s)+"E"})}else t=r.toExponential(n);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var cT=/# (\?+)( ?)\/( ?)(\d+)/;function IO(e,r,t){var n=parseInt(e[4],10),a=Math.round(r*n),s=Math.floor(a/n),l=a-s*n,u=n;return t+(s===0?"":""+s)+" "+(l===0?rs(" ",e[1].length+1+e[4].length):Bb(l,e[1].length)+e[2]+"/"+e[3]+Rl(u,e[4].length))}function $O(e,r,t){return t+(r===0?"":""+r)+rs(" ",e[1].length+2+e[4].length)}var uT=/^#*0*\.([0#]+)/,dT=/\).*[0#]/,fT=/\(###\) ###\\?-####/;function Ui(e){for(var r="",t,n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function _3(e,r){var t=Math.pow(10,r);return""+Math.round(e*t)/t}function T3(e,r){var t=e-Math.floor(e),n=Math.pow(10,r);return r<(""+Math.round(t*n)).length?0:Math.round(t*n)}function zO(e,r){return r<(""+Math.round((e-Math.floor(e))*Math.pow(10,r))).length?1:0}function UO(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ko(e,r,t){if(e.charCodeAt(0)===40&&!r.match(dT)){var n=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ko("n",n,t):"("+Ko("n",n,-t)+")"}if(r.charCodeAt(r.length-1)===44)return BO(e,r,t);if(r.indexOf("%")!==-1)return PO(e,r,t);if(r.indexOf("E")!==-1)return lT(r,t);if(r.charCodeAt(0)===36)return"$"+Ko(e,r.substr(r.charAt(1)==" "?2:1),t);var a,s,l,u,d=Math.abs(t),f=t<0?"-":"";if(r.match(/^00+$/))return f+bh(d,r.length);if(r.match(/^[#?]+$/))return a=bh(t,0),a==="0"&&(a=""),a.length>r.length?a:Ui(r.substr(0,r.length-a.length))+a;if(s=r.match(cT))return IO(s,d,f);if(r.match(/^#+0+$/))return f+bh(d,r.length-r.indexOf("0"));if(s=r.match(uT))return a=_3(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Ui(s[1])).replace(/\.$/,"."+Ui(s[1])).replace(/\.(\d*)$/,function(w,v){return"."+v+rs("0",Ui(s[1]).length-v.length)}),r.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),s=r.match(/^(0*)\.(#*)$/))return f+_3(d,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=r.match(/^#{1,3},##0(\.?)$/))return f+yd(bh(d,0));if(s=r.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ko(e,r,-t):yd(""+(Math.floor(t)+zO(t,s[1].length)))+"."+Rl(T3(t,s[1].length),s[1].length);if(s=r.match(/^#,#*,#0/))return Ko(e,r.replace(/^#,#*,/,""),t);if(s=r.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ih(Ko(e,r.replace(/[\\-]/g,""),t)),l=0,Ih(Ih(r.replace(/\\/g,"")).replace(/[0#]/g,function(w){return l<a.length?a.charAt(l++):w==="0"?"0":""}));if(r.match(fT))return a=Ko(e,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(s=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),u=K1(d,Math.pow(10,l)-1,!1),a=""+f,p=vu("n",s[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+s[2]+"/"+s[3],p=G1(u[2],l),p.length<s[4].length&&(p=Ui(s[4].substr(s[4].length-p.length))+p),a+=p,a;if(s=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),u=K1(d,Math.pow(10,l)-1,!0),f+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Bb(u[1],l)+s[2]+"/"+s[3]+G1(u[2],l):rs(" ",2*l+1+s[2].length+s[3].length));if(s=r.match(/^[#0?]+$/))return a=bh(t,0),r.length<=a.length?a:Ui(r.substr(0,r.length-a.length))+a;if(s=r.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var x=r.indexOf(".")-l,y=r.length-a.length-x;return Ui(r.substr(0,x)+a+r.substr(r.length-y))}if(s=r.match(/^00,000\.([#0]*0)$/))return l=T3(t,s[1].length),t<0?"-"+Ko(e,r,-t):yd(UO(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Rl(0,3-w.length):"")+w})+"."+Rl(l,s[1].length);switch(r){case"###,##0.00":return Ko(e,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var m=yd(bh(d,0));return m!=="0"?f+m:"";case"###,###.00":return Ko(e,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ko(e,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+r+"|")}function HO(e,r,t){for(var n=r.length-1;r.charCodeAt(n-1)===44;)--n;return vu(e,r.substr(0,n),t/Math.pow(10,3*(r.length-n)))}function WO(e,r,t){var n=r.replace(oT,""),a=r.length-n.length;return vu(e,n,t*Math.pow(10,2*a))+rs("%",a)}function hT(e,r){var t,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(r==0)return"0.0E+0";if(r<0)return"-"+hT(e,-r);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(r)*Math.LOG10E)%a;if(s<0&&(s+=a),t=(r/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!t.match(/[Ee]/)){var l=Math.floor(Math.log(r)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(l-t.length+s):t+="E+"+(l-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(u,d,f,p){return d+f+p.substr(0,(a+s)%a)+"."+p.substr(s)+"E"})}else t=r.toExponential(n);return e.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),e.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function wc(e,r,t){if(e.charCodeAt(0)===40&&!r.match(dT)){var n=r.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?wc("n",n,t):"("+wc("n",n,-t)+")"}if(r.charCodeAt(r.length-1)===44)return HO(e,r,t);if(r.indexOf("%")!==-1)return WO(e,r,t);if(r.indexOf("E")!==-1)return hT(r,t);if(r.charCodeAt(0)===36)return"$"+wc(e,r.substr(r.charAt(1)==" "?2:1),t);var a,s,l,u,d=Math.abs(t),f=t<0?"-":"";if(r.match(/^00+$/))return f+Rl(d,r.length);if(r.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>r.length?a:Ui(r.substr(0,r.length-a.length))+a;if(s=r.match(cT))return $O(s,d,f);if(r.match(/^#+0+$/))return f+Rl(d,r.length-r.indexOf("0"));if(s=r.match(uT))return a=(""+t).replace(/^([^\.]+)$/,"$1."+Ui(s[1])).replace(/\.$/,"."+Ui(s[1])),a=a.replace(/\.(\d*)$/,function(w,v){return"."+v+rs("0",Ui(s[1]).length-v.length)}),r.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(r=r.replace(/^#+([0.])/,"$1"),s=r.match(/^(0*)\.(#*)$/))return f+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=r.match(/^#{1,3},##0(\.?)$/))return f+yd(""+d);if(s=r.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+wc(e,r,-t):yd(""+t)+"."+rs("0",s[1].length);if(s=r.match(/^#,#*,#0/))return wc(e,r.replace(/^#,#*,/,""),t);if(s=r.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ih(wc(e,r.replace(/[\\-]/g,""),t)),l=0,Ih(Ih(r.replace(/\\/g,"")).replace(/[0#]/g,function(w){return l<a.length?a.charAt(l++):w==="0"?"0":""}));if(r.match(fT))return a=wc(e,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(s=r.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(s[4].length,7),u=K1(d,Math.pow(10,l)-1,!1),a=""+f,p=vu("n",s[1],u[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+s[2]+"/"+s[3],p=G1(u[2],l),p.length<s[4].length&&(p=Ui(s[4].substr(s[4].length-p.length))+p),a+=p,a;if(s=r.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(s[1].length,s[4].length),7),u=K1(d,Math.pow(10,l)-1,!0),f+(u[0]||(u[1]?"":"0"))+" "+(u[1]?Bb(u[1],l)+s[2]+"/"+s[3]+G1(u[2],l):rs(" ",2*l+1+s[2].length+s[3].length));if(s=r.match(/^[#0?]+$/))return a=""+t,r.length<=a.length?a:Ui(r.substr(0,r.length-a.length))+a;if(s=r.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var x=r.indexOf(".")-l,y=r.length-a.length-x;return Ui(r.substr(0,x)+a+r.substr(r.length-y))}if(s=r.match(/^00,000\.([#0]*0)$/))return t<0?"-"+wc(e,r,-t):yd(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(w){return"00,"+(w.length<3?Rl(0,3-w.length):"")+w})+"."+Rl(0,s[1].length);switch(r){case"###,###":case"##,###":case"#,###":var m=yd(""+d);return m!=="0"?f+m:"";default:if(r.match(/\.[0#?]*$/))return wc(e,r.slice(0,r.lastIndexOf(".")),t)+Ui(r.slice(r.lastIndexOf(".")))}throw new Error("unsupported format |"+r+"|")}function vu(e,r,t){return(t|0)===t?wc(e,r,t):Ko(e,r,t)}function VO(e){for(var r=[],t=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:t=!t;break;case 95:case 42:case 92:++n;break;case 59:r[r.length]=e.substr(a,n-a),a=n+1}if(r[r.length]=e.substr(a),t===!0)throw new Error("Format |"+e+"| unterminated string ");return r}var pT=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function mT(e){for(var r=0,t="",n="";r<e.length;)switch(t=e.charAt(r)){case"G":X1(e,r)&&(r+=6),r++;break;case'"':for(;e.charCodeAt(++r)!==34&&r<e.length;);++r;break;case"\\":r+=2;break;case"_":r+=2;break;case"@":++r;break;case"B":case"b":if(e.charAt(r+1)==="1"||e.charAt(r+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(r,3).toUpperCase()==="A/P"||e.substr(r,5).toUpperCase()==="AM/PM"||e.substr(r,5).toUpperCase()==="上午/下午")return!0;++r;break;case"[":for(n=t;e.charAt(r++)!=="]"&&r<e.length;)n+=e.charAt(r);if(n.match(pT))return!0;break;case".":case"0":case"#":for(;r<e.length&&("0#?.,E+-%".indexOf(t=e.charAt(++r))>-1||t=="\\"&&e.charAt(r+1)=="-"&&"0#".indexOf(e.charAt(r+2))>-1););break;case"?":for(;e.charAt(++r)===t;);break;case"*":++r,(e.charAt(r)==" "||e.charAt(r)=="*")&&++r;break;case"(":case")":++r;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;r<e.length&&"0123456789".indexOf(e.charAt(++r))>-1;);break;case" ":++r;break;default:++r;break}return!1}function qO(e,r,t,n){for(var a=[],s="",l=0,u="",d="t",f,p,x,y="H";l<e.length;)switch(u=e.charAt(l)){case"G":if(!X1(e,l))throw new Error("unrecognized character "+u+" in "+e);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(s="";(x=e.charCodeAt(++l))!==34&&l<e.length;)s+=String.fromCharCode(x);a[a.length]={t:"t",v:s},++l;break;case"\\":var m=e.charAt(++l),w=m==="("||m===")"?m:"t";a[a.length]={t:w,v:m},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:r},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(f==null&&(f=Ug(r,t,e.charAt(l+1)==="2"),f==null))return"";a[a.length]={t:"X",v:e.substr(l,2)},d=u,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(r<0||f==null&&(f=Ug(r,t),f==null))return"";for(s=u;++l<e.length&&e.charAt(l).toLowerCase()===u;)s+=u;u==="m"&&d.toLowerCase()==="h"&&(u="M"),u==="h"&&(u=y),a[a.length]={t:u,v:s},d=u;break;case"A":case"a":case"上":var v={t:u,v:u};if(f==null&&(f=Ug(r,t)),e.substr(l,3).toUpperCase()==="A/P"?(f!=null&&(v.v=f.H>=12?"P":"A"),v.t="T",y="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(f!=null&&(v.v=f.H>=12?"PM":"AM"),v.t="T",l+=5,y="h"):e.substr(l,5).toUpperCase()==="上午/下午"?(f!=null&&(v.v=f.H>=12?"下午":"上午"),v.t="T",l+=5,y="h"):(v.t="t",++l),f==null&&v.t==="T")return"";a[a.length]=v,d=u;break;case"[":for(s=u;e.charAt(l++)!=="]"&&l<e.length;)s+=e.charAt(l);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(pT)){if(f==null&&(f=Ug(r,t),f==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},d=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",mT(e)||(a[a.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=u;++l<e.length&&(u=e.charAt(l))==="0";)s+=u;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=u;++l<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(l))>-1;)s+=u;a[a.length]={t:"n",v:s};break;case"?":for(s=u;e.charAt(++l)===u;)s+=u;a[a.length]={t:u,v:s},d=u;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":u,v:u},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=u;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)s+=e.charAt(l);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:u,v:u},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(u)===-1)throw new Error("unrecognized character "+u+" in "+e);a[a.length]={t:"t",v:u},++l;break}var N=0,S=0,k;for(l=a.length-1,d="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=y,d="h",N<1&&(N=1);break;case"s":(k=a[l].v.match(/\.0+$/))&&(S=Math.max(S,k[0].length-1)),N<3&&(N=3);case"d":case"y":case"M":case"e":d=a[l].t;break;case"m":d==="s"&&(a[l].t="M",N<2&&(N=2));break;case"X":break;case"Z":N<1&&a[l].v.match(/[Hh]/)&&(N=1),N<2&&a[l].v.match(/[Mm]/)&&(N=2),N<3&&a[l].v.match(/[Ss]/)&&(N=3)}switch(N){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var _="",A;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=FO(a[l].t.charCodeAt(0),a[l].v,f,S),a[l].t="t";break;case"n":case"?":for(A=l+1;a[A]!=null&&((u=a[A].t)==="?"||u==="D"||(u===" "||u==="t")&&a[A+1]!=null&&(a[A+1].t==="?"||a[A+1].t==="t"&&a[A+1].v==="/")||a[l].t==="("&&(u===" "||u==="n"||u===")")||u==="t"&&(a[A].v==="/"||a[A].v===" "&&a[A+1]!=null&&a[A+1].t=="?"));)a[l].v+=a[A].v,a[A]={v:"",t:";"},++A;_+=a[l].v,l=A-1;break;case"G":a[l].t="t",a[l].v=Bv(r,t);break}var R="",V,P;if(_.length>0){_.charCodeAt(0)==40?(V=r<0&&_.charCodeAt(0)===45?-r:r,P=vu("n",_,V)):(V=r<0&&n>1?-r:r,P=vu("n",_,V),V<0&&a[0]&&a[0].t=="t"&&(P=P.substr(1),a[0].v="-"+a[0].v)),A=P.length-1;var I=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){I=l;break}var B=a.length;if(I===a.length&&P.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(A>=a[l].v.length-1?(A-=a[l].v.length,a[l].v=P.substr(A+1,a[l].v.length)):A<0?a[l].v="":(a[l].v=P.substr(0,A+1),A=-1),a[l].t="t",B=l);A>=0&&B<a.length&&(a[B].v=P.substr(0,A+1)+a[B].v)}else if(I!==a.length&&P.indexOf("E")===-1){for(A=P.indexOf(".")-1,l=I;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(p=a[l].v.indexOf(".")>-1&&l===I?a[l].v.indexOf(".")-1:a[l].v.length-1,R=a[l].v.substr(p+1);p>=0;--p)A>=0&&(a[l].v.charAt(p)==="0"||a[l].v.charAt(p)==="#")&&(R=P.charAt(A--)+R);a[l].v=R,a[l].t="t",B=l}for(A>=0&&B<a.length&&(a[B].v=P.substr(0,A+1)+a[B].v),A=P.indexOf(".")+1,l=I;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==I)){for(p=a[l].v.indexOf(".")>-1&&l===I?a[l].v.indexOf(".")+1:0,R=a[l].v.substr(0,p);p<a[l].v.length;++p)A<P.length&&(R+=P.charAt(A++));a[l].v=R,a[l].t="t",B=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(V=n>1&&r<0&&l>0&&a[l-1].v==="-"?-r:r,a[l].v=vu(a[l].t,a[l].v,V),a[l].t="t");var O="";for(l=0;l!==a.length;++l)a[l]!=null&&(O+=a[l].v);return O}var k3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function j3(e,r){if(r==null)return!1;var t=parseFloat(r[2]);switch(r[1]){case"=":if(e==t)return!0;break;case">":if(e>t)return!0;break;case"<":if(e<t)return!0;break;case"<>":if(e!=t)return!0;break;case">=":if(e>=t)return!0;break;case"<=":if(e<=t)return!0;break}return!1}function YO(e,r){var t=VO(e),n=t.length,a=t[n-1].indexOf("@");if(n<4&&a>-1&&--n,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof r!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=r>0?t[0]:r<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[n,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var l=t[0].match(k3),u=t[1].match(k3);return j3(r,l)?[n,t[0]]:j3(r,u)?[n,t[1]]:[n,t[l!=null&&u!=null?2:1]]}return[n,s]}function Td(e,r,t){t==null&&(t={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&t.dateNF?n=t.dateNF:n=e;break;case"number":e==14&&t.dateNF?n=t.dateNF:n=(t.table!=null?t.table:ns)[e],n==null&&(n=t.table&&t.table[S3[e]]||ns[S3[e]]),n==null&&(n=EO[e]||"General");break}if(X1(n,0))return Bv(r,t);r instanceof Date&&(r=iT(r,t.date1904));var a=YO(n,r);if(X1(a[1]))return Bv(r,t);if(r===!0)r="TRUE";else if(r===!1)r="FALSE";else if(r===""||r==null)return"";return qO(a[1],r,t,a[0])}function gT(e,r){if(typeof r!="number"){r=+r||-1;for(var t=0;t<392;++t){if(ns[t]==null){r<0&&(r=t);continue}if(ns[t]==e){r=t;break}}r<0&&(r=391)}return ns[r]=e,r}function Fx(e){for(var r=0;r!=392;++r)e[r]!==void 0&&gT(e[r],r)}function Px(){ns=jO()}var xT=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function GO(e){var r=typeof e=="number"?ns[e]:e;return r=r.replace(xT,"(\\d+)"),new RegExp("^"+r+"$")}function XO(e,r,t){var n=-1,a=-1,s=-1,l=-1,u=-1,d=-1;(r.match(xT)||[]).forEach(function(x,y){var m=parseInt(t[y+1],10);switch(x.toLowerCase().charAt(0)){case"y":n=m;break;case"d":s=m;break;case"h":l=m;break;case"s":d=m;break;case"m":l>=0?u=m:a=m;break}}),d>=0&&u==-1&&a>=0&&(u=a,a=-1);var f=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&u==-1&&d==-1?f:n==-1&&a==-1&&s==-1?p:f+"T"+p}var KO=function(){var e={};e.version="1.2.0";function r(){for(var P=0,I=new Array(256),B=0;B!=256;++B)P=B,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,P=P&1?-306674912^P>>>1:P>>>1,I[B]=P;return typeof Int32Array<"u"?new Int32Array(I):I}var t=r();function n(P){var I=0,B=0,O=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)L[O]=P[O];for(O=0;O!=256;++O)for(B=P[O],I=256+O;I<4096;I+=256)B=L[I]=B>>>8^P[B&255];var C=[];for(O=1;O!=16;++O)C[O-1]=typeof Int32Array<"u"?L.subarray(O*256,O*256+256):L.slice(O*256,O*256+256);return C}var a=n(t),s=a[0],l=a[1],u=a[2],d=a[3],f=a[4],p=a[5],x=a[6],y=a[7],m=a[8],w=a[9],v=a[10],N=a[11],S=a[12],k=a[13],_=a[14];function A(P,I){for(var B=I^-1,O=0,L=P.length;O<L;)B=B>>>8^t[(B^P.charCodeAt(O++))&255];return~B}function R(P,I){for(var B=I^-1,O=P.length-15,L=0;L<O;)B=_[P[L++]^B&255]^k[P[L++]^B>>8&255]^S[P[L++]^B>>16&255]^N[P[L++]^B>>>24]^v[P[L++]]^w[P[L++]]^m[P[L++]]^y[P[L++]]^x[P[L++]]^p[P[L++]]^f[P[L++]]^d[P[L++]]^u[P[L++]]^l[P[L++]]^s[P[L++]]^t[P[L++]];for(O+=15;L<O;)B=B>>>8^t[(B^P[L++])&255];return~B}function V(P,I){for(var B=I^-1,O=0,L=P.length,C=0,Y=0;O<L;)C=P.charCodeAt(O++),C<128?B=B>>>8^t[(B^C)&255]:C<2048?(B=B>>>8^t[(B^(192|C>>6&31))&255],B=B>>>8^t[(B^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,Y=P.charCodeAt(O++)&1023,B=B>>>8^t[(B^(240|C>>8&7))&255],B=B>>>8^t[(B^(128|C>>2&63))&255],B=B>>>8^t[(B^(128|Y>>6&15|(C&3)<<4))&255],B=B>>>8^t[(B^(128|Y&63))&255]):(B=B>>>8^t[(B^(224|C>>12&15))&255],B=B>>>8^t[(B^(128|C>>6&63))&255],B=B>>>8^t[(B^(128|C&63))&255]);return~B}return e.table=t,e.bstr=A,e.buf=R,e.str=V,e}(),fa=function(){var r={};r.version="1.2.1";function t(le,Te){for(var te=le.split("/"),de=Te.split("/"),ye=0,Ne=0,Ge=Math.min(te.length,de.length);ye<Ge;++ye){if(Ne=te[ye].length-de[ye].length)return Ne;if(te[ye]!=de[ye])return te[ye]<de[ye]?-1:1}return te.length-de.length}function n(le){if(le.charAt(le.length-1)=="/")return le.slice(0,-1).indexOf("/")===-1?le:n(le.slice(0,-1));var Te=le.lastIndexOf("/");return Te===-1?le:le.slice(0,Te+1)}function a(le){if(le.charAt(le.length-1)=="/")return a(le.slice(0,-1));var Te=le.lastIndexOf("/");return Te===-1?le:le.slice(Te+1)}function s(le,Te){typeof Te=="string"&&(Te=new Date(Te));var te=Te.getHours();te=te<<6|Te.getMinutes(),te=te<<5|Te.getSeconds()>>>1,le.write_shift(2,te);var de=Te.getFullYear()-1980;de=de<<4|Te.getMonth()+1,de=de<<5|Te.getDate(),le.write_shift(2,de)}function l(le){var Te=le.read_shift(2)&65535,te=le.read_shift(2)&65535,de=new Date,ye=te&31;te>>>=5;var Ne=te&15;te>>>=4,de.setMilliseconds(0),de.setFullYear(te+1980),de.setMonth(Ne-1),de.setDate(ye);var Ge=Te&31;Te>>>=5;var ut=Te&63;return Te>>>=6,de.setHours(Te),de.setMinutes(ut),de.setSeconds(Ge<<1),de}function u(le){ko(le,0);for(var Te={},te=0;le.l<=le.length-4;){var de=le.read_shift(2),ye=le.read_shift(2),Ne=le.l+ye,Ge={};switch(de){case 21589:te=le.read_shift(1),te&1&&(Ge.mtime=le.read_shift(4)),ye>5&&(te&2&&(Ge.atime=le.read_shift(4)),te&4&&(Ge.ctime=le.read_shift(4))),Ge.mtime&&(Ge.mt=new Date(Ge.mtime*1e3));break}le.l=Ne,Te[de]=Ge}return Te}var d;function f(){return d||(d={})}function p(le,Te){if(le[0]==80&&le[1]==75)return Be(le,Te);if((le[0]|32)==109&&(le[1]|32)==105)return St(le,Te);if(le.length<512)throw new Error("CFB file size "+le.length+" < 512");var te=3,de=512,ye=0,Ne=0,Ge=0,ut=0,We=0,nt=[],st=le.slice(0,512);ko(st,0);var rt=x(st);switch(te=rt[0],te){case 3:de=512;break;case 4:de=4096;break;case 0:if(rt[1]==0)return Be(le,Te);default:throw new Error("Major Version: Expected 3 or 4 saw "+te)}de!==512&&(st=le.slice(0,de),ko(st,28));var Gt=le.slice(0,de);y(st,te);var nr=st.read_shift(4,"i");if(te===3&&nr!==0)throw new Error("# Directory Sectors: Expected 0 saw "+nr);st.l+=4,Ge=st.read_shift(4,"i"),st.l+=4,st.chk("00100000","Mini Stream Cutoff Size: "),ut=st.read_shift(4,"i"),ye=st.read_shift(4,"i"),We=st.read_shift(4,"i"),Ne=st.read_shift(4,"i");for(var zt=-1,tr=0;tr<109&&(zt=st.read_shift(4,"i"),!(zt<0));++tr)nt[tr]=zt;var Ar=m(le,de);N(We,Ne,Ar,de,nt);var Zr=k(Ar,Ge,nt,de);Zr[Ge].name="!Directory",ye>0&&ut!==Y&&(Zr[ut].name="!MiniFAT"),Zr[nt[0]].name="!FAT",Zr.fat_addrs=nt,Zr.ssz=de;var wn={},cn=[],Ca=[],Va=[];_(Ge,Zr,Ar,cn,ye,wn,Ca,ut),w(Ca,Va,cn),cn.shift();var Je={FileIndex:Ca,FullPaths:Va};return Te&&Te.raw&&(Je.raw={header:Gt,sectors:Ar}),Je}function x(le){if(le[le.l]==80&&le[le.l+1]==75)return[0,0];le.chk(Q,"Header Signature: "),le.l+=16;var Te=le.read_shift(2,"u");return[le.read_shift(2,"u"),Te]}function y(le,Te){var te=9;switch(le.l+=2,te=le.read_shift(2)){case 9:if(Te!=3)throw new Error("Sector Shift: Expected 9 saw "+te);break;case 12:if(Te!=4)throw new Error("Sector Shift: Expected 12 saw "+te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+te)}le.chk("0600","Mini Sector Shift: "),le.chk("000000000000","Reserved: ")}function m(le,Te){for(var te=Math.ceil(le.length/Te)-1,de=[],ye=1;ye<te;++ye)de[ye-1]=le.slice(ye*Te,(ye+1)*Te);return de[te-1]=le.slice(te*Te),de}function w(le,Te,te){for(var de=0,ye=0,Ne=0,Ge=0,ut=0,We=te.length,nt=[],st=[];de<We;++de)nt[de]=st[de]=de,Te[de]=te[de];for(;ut<st.length;++ut)de=st[ut],ye=le[de].L,Ne=le[de].R,Ge=le[de].C,nt[de]===de&&(ye!==-1&&nt[ye]!==ye&&(nt[de]=nt[ye]),Ne!==-1&&nt[Ne]!==Ne&&(nt[de]=nt[Ne])),Ge!==-1&&(nt[Ge]=de),ye!==-1&&de!=nt[de]&&(nt[ye]=nt[de],st.lastIndexOf(ye)<ut&&st.push(ye)),Ne!==-1&&de!=nt[de]&&(nt[Ne]=nt[de],st.lastIndexOf(Ne)<ut&&st.push(Ne));for(de=1;de<We;++de)nt[de]===de&&(Ne!==-1&&nt[Ne]!==Ne?nt[de]=nt[Ne]:ye!==-1&&nt[ye]!==ye&&(nt[de]=nt[ye]));for(de=1;de<We;++de)if(le[de].type!==0){if(ut=de,ut!=nt[ut])do ut=nt[ut],Te[de]=Te[ut]+"/"+Te[de];while(ut!==0&&nt[ut]!==-1&&ut!=nt[ut]);nt[de]=-1}for(Te[0]+="/",de=1;de<We;++de)le[de].type!==2&&(Te[de]+="/")}function v(le,Te,te){for(var de=le.start,ye=le.size,Ne=[],Ge=de;te&&ye>0&&Ge>=0;)Ne.push(Te.slice(Ge*C,Ge*C+C)),ye-=C,Ge=cf(te,Ge*4);return Ne.length===0?kt(0):ci(Ne).slice(0,le.size)}function N(le,Te,te,de,ye){var Ne=Y;if(le===Y){if(Te!==0)throw new Error("DIFAT chain shorter than expected")}else if(le!==-1){var Ge=te[le],ut=(de>>>2)-1;if(!Ge)return;for(var We=0;We<ut&&(Ne=cf(Ge,We*4))!==Y;++We)ye.push(Ne);N(cf(Ge,de-4),Te-1,te,de,ye)}}function S(le,Te,te,de,ye){var Ne=[],Ge=[];ye||(ye=[]);var ut=de-1,We=0,nt=0;for(We=Te;We>=0;){ye[We]=!0,Ne[Ne.length]=We,Ge.push(le[We]);var st=te[Math.floor(We*4/de)];if(nt=We*4&ut,de<4+nt)throw new Error("FAT boundary crossed: "+We+" 4 "+de);if(!le[st])break;We=cf(le[st],nt)}return{nodes:Ne,data:M3([Ge])}}function k(le,Te,te,de){var ye=le.length,Ne=[],Ge=[],ut=[],We=[],nt=de-1,st=0,rt=0,Gt=0,nr=0;for(st=0;st<ye;++st)if(ut=[],Gt=st+Te,Gt>=ye&&(Gt-=ye),!Ge[Gt]){We=[];var zt=[];for(rt=Gt;rt>=0;){zt[rt]=!0,Ge[rt]=!0,ut[ut.length]=rt,We.push(le[rt]);var tr=te[Math.floor(rt*4/de)];if(nr=rt*4&nt,de<4+nr)throw new Error("FAT boundary crossed: "+rt+" 4 "+de);if(!le[tr]||(rt=cf(le[tr],nr),zt[rt]))break}Ne[Gt]={nodes:ut,data:M3([We])}}return Ne}function _(le,Te,te,de,ye,Ne,Ge,ut){for(var We=0,nt=de.length?2:0,st=Te[le].data,rt=0,Gt=0,nr;rt<st.length;rt+=128){var zt=st.slice(rt,rt+128);ko(zt,64),Gt=zt.read_shift(2),nr=Wb(zt,0,Gt-nt),de.push(nr);var tr={name:nr,type:zt.read_shift(1),color:zt.read_shift(1),L:zt.read_shift(4,"i"),R:zt.read_shift(4,"i"),C:zt.read_shift(4,"i"),clsid:zt.read_shift(16),state:zt.read_shift(4,"i"),start:0,size:0},Ar=zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2);Ar!==0&&(tr.ct=A(zt,zt.l-8));var Zr=zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2)+zt.read_shift(2);Zr!==0&&(tr.mt=A(zt,zt.l-8)),tr.start=zt.read_shift(4,"i"),tr.size=zt.read_shift(4,"i"),tr.size<0&&tr.start<0&&(tr.size=tr.type=0,tr.start=Y,tr.name=""),tr.type===5?(We=tr.start,ye>0&&We!==Y&&(Te[We].name="!StreamData")):tr.size>=4096?(tr.storage="fat",Te[tr.start]===void 0&&(Te[tr.start]=S(te,tr.start,Te.fat_addrs,Te.ssz)),Te[tr.start].name=tr.name,tr.content=Te[tr.start].data.slice(0,tr.size)):(tr.storage="minifat",tr.size<0?tr.size=0:We!==Y&&tr.start!==Y&&Te[We]&&(tr.content=v(tr,Te[We].data,(Te[ut]||{}).data))),tr.content&&ko(tr.content,0),Ne[nr]=tr,Ge.push(tr)}}function A(le,Te){return new Date((Eo(le,Te+4)/1e7*Math.pow(2,32)+Eo(le,Te)/1e7-11644473600)*1e3)}function R(le,Te){return f(),p(d.readFileSync(le),Te)}function V(le,Te){var te=Te&&Te.type;switch(te||Vn&&Buffer.isBuffer(le)&&(te="buffer"),te||"base64"){case"file":return R(le,Te);case"base64":return p(Ll(Au(le)),Te);case"binary":return p(Ll(le),Te)}return p(le,Te)}function P(le,Te){var te=Te||{},de=te.root||"Root Entry";if(le.FullPaths||(le.FullPaths=[]),le.FileIndex||(le.FileIndex=[]),le.FullPaths.length!==le.FileIndex.length)throw new Error("inconsistent CFB structure");le.FullPaths.length===0&&(le.FullPaths[0]=de+"/",le.FileIndex[0]={name:de,type:5}),te.CLSID&&(le.FileIndex[0].clsid=te.CLSID),I(le)}function I(le){var Te="Sh33tJ5";if(!fa.find(le,"/"+Te)){var te=kt(4);te[0]=55,te[1]=te[3]=50,te[2]=54,le.FileIndex.push({name:Te,type:2,content:te,size:4,L:69,R:69,C:69}),le.FullPaths.push(le.FullPaths[0]+Te),B(le)}}function B(le,Te){P(le);for(var te=!1,de=!1,ye=le.FullPaths.length-1;ye>=0;--ye){var Ne=le.FileIndex[ye];switch(Ne.type){case 0:de?te=!0:(le.FileIndex.pop(),le.FullPaths.pop());break;case 1:case 2:case 5:de=!0,isNaN(Ne.R*Ne.L*Ne.C)&&(te=!0),Ne.R>-1&&Ne.L>-1&&Ne.R==Ne.L&&(te=!0);break;default:te=!0;break}}if(!(!te&&!Te)){var Ge=new Date(1987,1,19),ut=0,We=Object.create?Object.create(null):{},nt=[];for(ye=0;ye<le.FullPaths.length;++ye)We[le.FullPaths[ye]]=!0,le.FileIndex[ye].type!==0&&nt.push([le.FullPaths[ye],le.FileIndex[ye]]);for(ye=0;ye<nt.length;++ye){var st=n(nt[ye][0]);de=We[st],de||(nt.push([st,{name:a(st).replace("/",""),type:1,clsid:W,ct:Ge,mt:Ge,content:null}]),We[st]=!0)}for(nt.sort(function(nr,zt){return t(nr[0],zt[0])}),le.FullPaths=[],le.FileIndex=[],ye=0;ye<nt.length;++ye)le.FullPaths[ye]=nt[ye][0],le.FileIndex[ye]=nt[ye][1];for(ye=0;ye<nt.length;++ye){var rt=le.FileIndex[ye],Gt=le.FullPaths[ye];if(rt.name=a(Gt).replace("/",""),rt.L=rt.R=rt.C=-(rt.color=1),rt.size=rt.content?rt.content.length:0,rt.start=0,rt.clsid=rt.clsid||W,ye===0)rt.C=nt.length>1?1:-1,rt.size=0,rt.type=5;else if(Gt.slice(-1)=="/"){for(ut=ye+1;ut<nt.length&&n(le.FullPaths[ut])!=Gt;++ut);for(rt.C=ut>=nt.length?-1:ut,ut=ye+1;ut<nt.length&&n(le.FullPaths[ut])!=n(Gt);++ut);rt.R=ut>=nt.length?-1:ut,rt.type=1}else n(le.FullPaths[ye+1]||"")==n(Gt)&&(rt.R=ye+1),rt.type=2}}}function O(le,Te){var te=Te||{};if(te.fileType=="mad")return ht(le,te);switch(B(le),te.fileType){case"zip":return Ce(le,te)}var de=function(nr){for(var zt=0,tr=0,Ar=0;Ar<nr.FileIndex.length;++Ar){var Zr=nr.FileIndex[Ar];if(Zr.content){var wn=Zr.content.length;wn>0&&(wn<4096?zt+=wn+63>>6:tr+=wn+511>>9)}}for(var cn=nr.FullPaths.length+3>>2,Ca=zt+7>>3,Va=zt+127>>7,Je=Ca+tr+cn+Va,At=Je+127>>7,Xt=At<=109?0:Math.ceil((At-109)/127);Je+At+Xt+127>>7>At;)Xt=++At<=109?0:Math.ceil((At-109)/127);var Jt=[1,Xt,At,Va,cn,tr,zt,0];return nr.FileIndex[0].size=zt<<6,Jt[7]=(nr.FileIndex[0].start=Jt[0]+Jt[1]+Jt[2]+Jt[3]+Jt[4]+Jt[5])+(Jt[6]+7>>3),Jt}(le),ye=kt(de[7]<<9),Ne=0,Ge=0;{for(Ne=0;Ne<8;++Ne)ye.write_shift(1,ce[Ne]);for(Ne=0;Ne<8;++Ne)ye.write_shift(2,0);for(ye.write_shift(2,62),ye.write_shift(2,3),ye.write_shift(2,65534),ye.write_shift(2,9),ye.write_shift(2,6),Ne=0;Ne<3;++Ne)ye.write_shift(2,0);for(ye.write_shift(4,0),ye.write_shift(4,de[2]),ye.write_shift(4,de[0]+de[1]+de[2]+de[3]-1),ye.write_shift(4,0),ye.write_shift(4,4096),ye.write_shift(4,de[3]?de[0]+de[1]+de[2]-1:Y),ye.write_shift(4,de[3]),ye.write_shift(-4,de[1]?de[0]-1:Y),ye.write_shift(4,de[1]),Ne=0;Ne<109;++Ne)ye.write_shift(-4,Ne<de[2]?de[1]+Ne:-1)}if(de[1])for(Ge=0;Ge<de[1];++Ge){for(;Ne<236+Ge*127;++Ne)ye.write_shift(-4,Ne<de[2]?de[1]+Ne:-1);ye.write_shift(-4,Ge===de[1]-1?Y:Ge+1)}var ut=function(nr){for(Ge+=nr;Ne<Ge-1;++Ne)ye.write_shift(-4,Ne+1);nr&&(++Ne,ye.write_shift(-4,Y))};for(Ge=Ne=0,Ge+=de[1];Ne<Ge;++Ne)ye.write_shift(-4,J.DIFSECT);for(Ge+=de[2];Ne<Ge;++Ne)ye.write_shift(-4,J.FATSECT);ut(de[3]),ut(de[4]);for(var We=0,nt=0,st=le.FileIndex[0];We<le.FileIndex.length;++We)st=le.FileIndex[We],st.content&&(nt=st.content.length,!(nt<4096)&&(st.start=Ge,ut(nt+511>>9)));for(ut(de[6]+7>>3);ye.l&511;)ye.write_shift(-4,J.ENDOFCHAIN);for(Ge=Ne=0,We=0;We<le.FileIndex.length;++We)st=le.FileIndex[We],st.content&&(nt=st.content.length,!(!nt||nt>=4096)&&(st.start=Ge,ut(nt+63>>6)));for(;ye.l&511;)ye.write_shift(-4,J.ENDOFCHAIN);for(Ne=0;Ne<de[4]<<2;++Ne){var rt=le.FullPaths[Ne];if(!rt||rt.length===0){for(We=0;We<17;++We)ye.write_shift(4,0);for(We=0;We<3;++We)ye.write_shift(4,-1);for(We=0;We<12;++We)ye.write_shift(4,0);continue}st=le.FileIndex[Ne],Ne===0&&(st.start=st.size?st.start-1:Y);var Gt=Ne===0&&te.root||st.name;if(nt=2*(Gt.length+1),ye.write_shift(64,Gt,"utf16le"),ye.write_shift(2,nt),ye.write_shift(1,st.type),ye.write_shift(1,st.color),ye.write_shift(-4,st.L),ye.write_shift(-4,st.R),ye.write_shift(-4,st.C),st.clsid)ye.write_shift(16,st.clsid,"hex");else for(We=0;We<4;++We)ye.write_shift(4,0);ye.write_shift(4,st.state||0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,st.start),ye.write_shift(4,st.size),ye.write_shift(4,0)}for(Ne=1;Ne<le.FileIndex.length;++Ne)if(st=le.FileIndex[Ne],st.size>=4096)if(ye.l=st.start+1<<9,Vn&&Buffer.isBuffer(st.content))st.content.copy(ye,ye.l,0,st.size),ye.l+=st.size+511&-512;else{for(We=0;We<st.size;++We)ye.write_shift(1,st.content[We]);for(;We&511;++We)ye.write_shift(1,0)}for(Ne=1;Ne<le.FileIndex.length;++Ne)if(st=le.FileIndex[Ne],st.size>0&&st.size<4096)if(Vn&&Buffer.isBuffer(st.content))st.content.copy(ye,ye.l,0,st.size),ye.l+=st.size+63&-64;else{for(We=0;We<st.size;++We)ye.write_shift(1,st.content[We]);for(;We&63;++We)ye.write_shift(1,0)}if(Vn)ye.l=ye.length;else for(;ye.l<ye.length;)ye.write_shift(1,0);return ye}function L(le,Te){var te=le.FullPaths.map(function(We){return We.toUpperCase()}),de=te.map(function(We){var nt=We.split("/");return nt[nt.length-(We.slice(-1)=="/"?2:1)]}),ye=!1;Te.charCodeAt(0)===47?(ye=!0,Te=te[0].slice(0,-1)+Te):ye=Te.indexOf("/")!==-1;var Ne=Te.toUpperCase(),Ge=ye===!0?te.indexOf(Ne):de.indexOf(Ne);if(Ge!==-1)return le.FileIndex[Ge];var ut=!Ne.match(zg);for(Ne=Ne.replace(Dp,""),ut&&(Ne=Ne.replace(zg,"!")),Ge=0;Ge<te.length;++Ge)if((ut?te[Ge].replace(zg,"!"):te[Ge]).replace(Dp,"")==Ne||(ut?de[Ge].replace(zg,"!"):de[Ge]).replace(Dp,"")==Ne)return le.FileIndex[Ge];return null}var C=64,Y=-2,Q="d0cf11e0a1b11ae1",ce=[208,207,17,224,161,177,26,225],W="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Y,FREESECT:-1,HEADER_SIGNATURE:Q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:W,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(le,Te,te){f();var de=O(le,te);d.writeFileSync(Te,de)}function ee(le){for(var Te=new Array(le.length),te=0;te<le.length;++te)Te[te]=String.fromCharCode(le[te]);return Te.join("")}function H(le,Te){var te=O(le,Te);switch(Te&&Te.type||"buffer"){case"file":return f(),d.writeFileSync(Te.filename,te),te;case"binary":return typeof te=="string"?te:ee(te);case"base64":return Gp(typeof te=="string"?te:ee(te));case"buffer":if(Vn)return Buffer.isBuffer(te)?te:Lu(te);case"array":return typeof te=="string"?Ll(te):te}return te}var ne;function D(le){try{var Te=le.InflateRaw,te=new Te;if(te._processChunk(new Uint8Array([3,0]),te._finishFlushFlag),te.bytesRead)ne=le;else throw new Error("zlib does not expose bytesRead")}catch(de){console.error("cannot use native zlib: "+(de.message||de))}}function z(le,Te){if(!ne)return et(le,Te);var te=ne.InflateRaw,de=new te,ye=de._processChunk(le.slice(le.l),de._finishFlushFlag);return le.l+=de.bytesRead,ye}function q(le){return ne?ne.deflateRawSync(le):hr(le)}var X=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function fe(le){var Te=(le<<1|le<<11)&139536|(le<<5|le<<15)&558144;return(Te>>16|Te>>8|Te)&255}for(var G=typeof Uint8Array<"u",be=G?new Uint8Array(256):[],Fe=0;Fe<256;++Fe)be[Fe]=fe(Fe);function De(le,Te){var te=be[le&255];return Te<=8?te>>>8-Te:(te=te<<8|be[le>>8&255],Te<=16?te>>>16-Te:(te=te<<8|be[le>>16&255],te>>>24-Te))}function lt(le,Te){var te=Te&7,de=Te>>>3;return(le[de]|(te<=6?0:le[de+1]<<8))>>>te&3}function ft(le,Te){var te=Te&7,de=Te>>>3;return(le[de]|(te<=5?0:le[de+1]<<8))>>>te&7}function Pe(le,Te){var te=Te&7,de=Te>>>3;return(le[de]|(te<=4?0:le[de+1]<<8))>>>te&15}function xe(le,Te){var te=Te&7,de=Te>>>3;return(le[de]|(te<=3?0:le[de+1]<<8))>>>te&31}function Qe(le,Te){var te=Te&7,de=Te>>>3;return(le[de]|(te<=1?0:le[de+1]<<8))>>>te&127}function at(le,Te,te){var de=Te&7,ye=Te>>>3,Ne=(1<<te)-1,Ge=le[ye]>>>de;return te<8-de||(Ge|=le[ye+1]<<8-de,te<16-de)||(Ge|=le[ye+2]<<16-de,te<24-de)||(Ge|=le[ye+3]<<24-de),Ge&Ne}function pt(le,Te,te){var de=Te&7,ye=Te>>>3;return de<=5?le[ye]|=(te&7)<<de:(le[ye]|=te<<de&255,le[ye+1]=(te&7)>>8-de),Te+3}function Ze(le,Te,te){var de=Te&7,ye=Te>>>3;return te=(te&1)<<de,le[ye]|=te,Te+1}function ze(le,Te,te){var de=Te&7,ye=Te>>>3;return te<<=de,le[ye]|=te&255,te>>>=8,le[ye+1]=te,Te+8}function Ae(le,Te,te){var de=Te&7,ye=Te>>>3;return te<<=de,le[ye]|=te&255,te>>>=8,le[ye+1]=te&255,le[ye+2]=te>>>8,Te+16}function vt(le,Te){var te=le.length,de=2*te>Te?2*te:Te+5,ye=0;if(te>=Te)return le;if(Vn){var Ne=b3(de);if(le.copy)le.copy(Ne);else for(;ye<le.length;++ye)Ne[ye]=le[ye];return Ne}else if(G){var Ge=new Uint8Array(de);if(Ge.set)Ge.set(le);else for(;ye<te;++ye)Ge[ye]=le[ye];return Ge}return le.length=de,le}function gt(le){for(var Te=new Array(le),te=0;te<le;++te)Te[te]=0;return Te}function rr(le,Te,te){var de=1,ye=0,Ne=0,Ge=0,ut=0,We=le.length,nt=G?new Uint16Array(32):gt(32);for(Ne=0;Ne<32;++Ne)nt[Ne]=0;for(Ne=We;Ne<te;++Ne)le[Ne]=0;We=le.length;var st=G?new Uint16Array(We):gt(We);for(Ne=0;Ne<We;++Ne)nt[ye=le[Ne]]++,de<ye&&(de=ye),st[Ne]=0;for(nt[0]=0,Ne=1;Ne<=de;++Ne)nt[Ne+16]=ut=ut+nt[Ne-1]<<1;for(Ne=0;Ne<We;++Ne)ut=le[Ne],ut!=0&&(st[Ne]=nt[ut+16]++);var rt=0;for(Ne=0;Ne<We;++Ne)if(rt=le[Ne],rt!=0)for(ut=De(st[Ne],de)>>de-rt,Ge=(1<<de+4-rt)-1;Ge>=0;--Ge)Te[ut|Ge<<rt]=rt&15|Ne<<4;return de}var Wt=G?new Uint16Array(512):gt(512),Qt=G?new Uint16Array(32):gt(32);if(!G){for(var cr=0;cr<512;++cr)Wt[cr]=0;for(cr=0;cr<32;++cr)Qt[cr]=0}(function(){for(var le=[],Te=0;Te<32;Te++)le.push(5);rr(le,Qt,32);var te=[];for(Te=0;Te<=143;Te++)te.push(8);for(;Te<=255;Te++)te.push(9);for(;Te<=279;Te++)te.push(7);for(;Te<=287;Te++)te.push(8);rr(te,Wt,288)})();var Zt=function(){for(var Te=G?new Uint8Array(32768):[],te=0,de=0;te<Se.length-1;++te)for(;de<Se[te+1];++de)Te[de]=te;for(;de<32768;++de)Te[de]=29;var ye=G?new Uint8Array(259):[];for(te=0,de=0;te<se.length-1;++te)for(;de<se[te+1];++de)ye[de]=te;function Ne(ut,We){for(var nt=0;nt<ut.length;){var st=Math.min(65535,ut.length-nt),rt=nt+st==ut.length;for(We.write_shift(1,+rt),We.write_shift(2,st),We.write_shift(2,~st&65535);st-- >0;)We[We.l++]=ut[nt++]}return We.l}function Ge(ut,We){for(var nt=0,st=0,rt=G?new Uint16Array(32768):[];st<ut.length;){var Gt=Math.min(65535,ut.length-st);if(Gt<10){for(nt=pt(We,nt,+(st+Gt==ut.length)),nt&7&&(nt+=8-(nt&7)),We.l=nt/8|0,We.write_shift(2,Gt),We.write_shift(2,~Gt&65535);Gt-- >0;)We[We.l++]=ut[st++];nt=We.l*8;continue}nt=pt(We,nt,+(st+Gt==ut.length)+2);for(var nr=0;Gt-- >0;){var zt=ut[st];nr=(nr<<5^zt)&32767;var tr=-1,Ar=0;if((tr=rt[nr])&&(tr|=st&-32768,tr>st&&(tr-=32768),tr<st))for(;ut[tr+Ar]==ut[st+Ar]&&Ar<250;)++Ar;if(Ar>2){zt=ye[Ar],zt<=22?nt=ze(We,nt,be[zt+1]>>1)-1:(ze(We,nt,3),nt+=5,ze(We,nt,be[zt-23]>>5),nt+=3);var Zr=zt<8?0:zt-4>>2;Zr>0&&(Ae(We,nt,Ar-se[zt]),nt+=Zr),zt=Te[st-tr],nt=ze(We,nt,be[zt]>>3),nt-=3;var wn=zt<4?0:zt-2>>1;wn>0&&(Ae(We,nt,st-tr-Se[zt]),nt+=wn);for(var cn=0;cn<Ar;++cn)rt[nr]=st&32767,nr=(nr<<5^ut[st])&32767,++st;Gt-=Ar-1}else zt<=143?zt=zt+48:nt=Ze(We,nt,1),nt=ze(We,nt,be[zt]),rt[nr]=st&32767,++st}nt=ze(We,nt,0)-1}return We.l=(nt+7)/8|0,We.l}return function(We,nt){return We.length<8?Ne(We,nt):Ge(We,nt)}}();function hr(le){var Te=kt(50+Math.floor(le.length*1.1)),te=Zt(le,Te);return Te.slice(0,te)}var $t=G?new Uint16Array(32768):gt(32768),Mr=G?new Uint16Array(32768):gt(32768),xr=G?new Uint16Array(128):gt(128),Qr=1,Er=1;function Fr(le,Te){var te=xe(le,Te)+257;Te+=5;var de=xe(le,Te)+1;Te+=5;var ye=Pe(le,Te)+4;Te+=4;for(var Ne=0,Ge=G?new Uint8Array(19):gt(19),ut=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],We=1,nt=G?new Uint8Array(8):gt(8),st=G?new Uint8Array(8):gt(8),rt=Ge.length,Gt=0;Gt<ye;++Gt)Ge[X[Gt]]=Ne=ft(le,Te),We<Ne&&(We=Ne),nt[Ne]++,Te+=3;var nr=0;for(nt[0]=0,Gt=1;Gt<=We;++Gt)st[Gt]=nr=nr+nt[Gt-1]<<1;for(Gt=0;Gt<rt;++Gt)(nr=Ge[Gt])!=0&&(ut[Gt]=st[nr]++);var zt=0;for(Gt=0;Gt<rt;++Gt)if(zt=Ge[Gt],zt!=0){nr=be[ut[Gt]]>>8-zt;for(var tr=(1<<7-zt)-1;tr>=0;--tr)xr[nr|tr<<zt]=zt&7|Gt<<3}var Ar=[];for(We=1;Ar.length<te+de;)switch(nr=xr[Qe(le,Te)],Te+=nr&7,nr>>>=3){case 16:for(Ne=3+lt(le,Te),Te+=2,nr=Ar[Ar.length-1];Ne-- >0;)Ar.push(nr);break;case 17:for(Ne=3+ft(le,Te),Te+=3;Ne-- >0;)Ar.push(0);break;case 18:for(Ne=11+Qe(le,Te),Te+=7;Ne-- >0;)Ar.push(0);break;default:Ar.push(nr),We<nr&&(We=nr);break}var Zr=Ar.slice(0,te),wn=Ar.slice(te);for(Gt=te;Gt<286;++Gt)Zr[Gt]=0;for(Gt=de;Gt<30;++Gt)wn[Gt]=0;return Qr=rr(Zr,$t,286),Er=rr(wn,Mr,30),Te}function tn(le,Te){if(le[0]==3&&!(le[1]&3))return[jf(Te),2];for(var te=0,de=0,ye=b3(Te||1<<18),Ne=0,Ge=ye.length>>>0,ut=0,We=0;(de&1)==0;){if(de=ft(le,te),te+=3,de>>>1)de>>1==1?(ut=9,We=5):(te=Fr(le,te),ut=Qr,We=Er);else{te&7&&(te+=8-(te&7));var nt=le[te>>>3]|le[(te>>>3)+1]<<8;if(te+=32,nt>0)for(!Te&&Ge<Ne+nt&&(ye=vt(ye,Ne+nt),Ge=ye.length);nt-- >0;)ye[Ne++]=le[te>>>3],te+=8;continue}for(;;){!Te&&Ge<Ne+32767&&(ye=vt(ye,Ne+32767),Ge=ye.length);var st=at(le,te,ut),rt=de>>>1==1?Wt[st]:$t[st];if(te+=rt&15,rt>>>=4,(rt>>>8&255)===0)ye[Ne++]=rt;else{if(rt==256)break;rt-=257;var Gt=rt<8?0:rt-4>>2;Gt>5&&(Gt=0);var nr=Ne+se[rt];Gt>0&&(nr+=at(le,te,Gt),te+=Gt),st=at(le,te,We),rt=de>>>1==1?Qt[st]:Mr[st],te+=rt&15,rt>>>=4;var zt=rt<4?0:rt-2>>1,tr=Se[rt];for(zt>0&&(tr+=at(le,te,zt),te+=zt),!Te&&Ge<nr&&(ye=vt(ye,nr+100),Ge=ye.length);Ne<nr;)ye[Ne]=ye[Ne-tr],++Ne}}}return Te?[ye,te+7>>>3]:[ye.slice(0,Ne),te+7>>>3]}function et(le,Te){var te=le.slice(le.l||0),de=tn(te,Te);return le.l+=de[1],de[0]}function _e(le,Te){if(le)typeof console<"u"&&console.error(Te);else throw new Error(Te)}function Be(le,Te){var te=le;ko(te,0);var de=[],ye=[],Ne={FileIndex:de,FullPaths:ye};P(Ne,{root:Te.root});for(var Ge=te.length-4;(te[Ge]!=80||te[Ge+1]!=75||te[Ge+2]!=5||te[Ge+3]!=6)&&Ge>=0;)--Ge;te.l=Ge+4,te.l+=4;var ut=te.read_shift(2);te.l+=6;var We=te.read_shift(4);for(te.l=We,Ge=0;Ge<ut;++Ge){te.l+=20;var nt=te.read_shift(4),st=te.read_shift(4),rt=te.read_shift(2),Gt=te.read_shift(2),nr=te.read_shift(2);te.l+=8;var zt=te.read_shift(4),tr=u(te.slice(te.l+rt,te.l+rt+Gt));te.l+=rt+Gt+nr;var Ar=te.l;te.l=zt+4,ve(te,nt,st,Ne,tr),te.l=Ar}return Ne}function ve(le,Te,te,de,ye){le.l+=2;var Ne=le.read_shift(2),Ge=le.read_shift(2),ut=l(le);if(Ne&8257)throw new Error("Unsupported ZIP encryption");for(var We=le.read_shift(4),nt=le.read_shift(4),st=le.read_shift(4),rt=le.read_shift(2),Gt=le.read_shift(2),nr="",zt=0;zt<rt;++zt)nr+=String.fromCharCode(le[le.l++]);if(Gt){var tr=u(le.slice(le.l,le.l+Gt));(tr[21589]||{}).mt&&(ut=tr[21589].mt),((ye||{})[21589]||{}).mt&&(ut=ye[21589].mt)}le.l+=Gt;var Ar=le.slice(le.l,le.l+nt);switch(Ge){case 8:Ar=z(le,st);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ge)}var Zr=!1;Ne&8&&(We=le.read_shift(4),We==134695760&&(We=le.read_shift(4),Zr=!0),nt=le.read_shift(4),st=le.read_shift(4)),nt!=Te&&_e(Zr,"Bad compressed size: "+Te+" != "+nt),st!=te&&_e(Zr,"Bad uncompressed size: "+te+" != "+st),Kt(de,nr,Ar,{unsafe:!0,mt:ut})}function Ce(le,Te){var te=Te||{},de=[],ye=[],Ne=kt(1),Ge=te.compression?8:0,ut=0,We=0,nt=0,st=0,rt=0,Gt=le.FullPaths[0],nr=Gt,zt=le.FileIndex[0],tr=[],Ar=0;for(We=1;We<le.FullPaths.length;++We)if(nr=le.FullPaths[We].slice(Gt.length),zt=le.FileIndex[We],!(!zt.size||!zt.content||nr=="Sh33tJ5")){var Zr=st,wn=kt(nr.length);for(nt=0;nt<nr.length;++nt)wn.write_shift(1,nr.charCodeAt(nt)&127);wn=wn.slice(0,wn.l),tr[rt]=KO.buf(zt.content,0);var cn=zt.content;Ge==8&&(cn=q(cn)),Ne=kt(30),Ne.write_shift(4,67324752),Ne.write_shift(2,20),Ne.write_shift(2,ut),Ne.write_shift(2,Ge),zt.mt?s(Ne,zt.mt):Ne.write_shift(4,0),Ne.write_shift(-4,tr[rt]),Ne.write_shift(4,cn.length),Ne.write_shift(4,zt.content.length),Ne.write_shift(2,wn.length),Ne.write_shift(2,0),st+=Ne.length,de.push(Ne),st+=wn.length,de.push(wn),st+=cn.length,de.push(cn),Ne=kt(46),Ne.write_shift(4,33639248),Ne.write_shift(2,0),Ne.write_shift(2,20),Ne.write_shift(2,ut),Ne.write_shift(2,Ge),Ne.write_shift(4,0),Ne.write_shift(-4,tr[rt]),Ne.write_shift(4,cn.length),Ne.write_shift(4,zt.content.length),Ne.write_shift(2,wn.length),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(4,0),Ne.write_shift(4,Zr),Ar+=Ne.l,ye.push(Ne),Ar+=wn.length,ye.push(wn),++rt}return Ne=kt(22),Ne.write_shift(4,101010256),Ne.write_shift(2,0),Ne.write_shift(2,0),Ne.write_shift(2,rt),Ne.write_shift(2,rt),Ne.write_shift(4,Ar),Ne.write_shift(4,st),Ne.write_shift(2,0),ci([ci(de),ci(ye),Ne])}var Le={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function qe(le,Te){if(le.ctype)return le.ctype;var te=le.name||"",de=te.match(/\.([^\.]+)$/);return de&&Le[de[1]]||Te&&(de=(te=Te).match(/[\.\\]([^\.\\])+$/),de&&Le[de[1]])?Le[de[1]]:"application/octet-stream"}function Tt(le){for(var Te=Gp(le),te=[],de=0;de<Te.length;de+=76)te.push(Te.slice(de,de+76));return te.join(`\r
`)+`\r
`}function Dt(le){var Te=le.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(nt){var st=nt.charCodeAt(0).toString(16).toUpperCase();return"="+(st.length==1?"0"+st:st)});Te=Te.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),Te.charAt(0)==`
`&&(Te="=0D"+Te.slice(1)),Te=Te.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var te=[],de=Te.split(`\r
`),ye=0;ye<de.length;++ye){var Ne=de[ye];if(Ne.length==0){te.push("");continue}for(var Ge=0;Ge<Ne.length;){var ut=76,We=Ne.slice(Ge,Ge+ut);We.charAt(ut-1)=="="?ut--:We.charAt(ut-2)=="="?ut-=2:We.charAt(ut-3)=="="&&(ut-=3),We=Ne.slice(Ge,Ge+ut),Ge+=ut,Ge<Ne.length&&(We+="="),te.push(We)}}return te.join(`\r
`)}function er(le){for(var Te=[],te=0;te<le.length;++te){for(var de=le[te];te<=le.length&&de.charAt(de.length-1)=="=";)de=de.slice(0,de.length-1)+le[++te];Te.push(de)}for(var ye=0;ye<Te.length;++ye)Te[ye]=Te[ye].replace(/[=][0-9A-Fa-f]{2}/g,function(Ne){return String.fromCharCode(parseInt(Ne.slice(1),16))});return Ll(Te.join(`\r
`))}function ar(le,Te,te){for(var de="",ye="",Ne="",Ge,ut=0;ut<10;++ut){var We=Te[ut];if(!We||We.match(/^\s*$/))break;var nt=We.match(/^(.*?):\s*([^\s].*)$/);if(nt)switch(nt[1].toLowerCase()){case"content-location":de=nt[2].trim();break;case"content-type":Ne=nt[2].trim();break;case"content-transfer-encoding":ye=nt[2].trim();break}}switch(++ut,ye.toLowerCase()){case"base64":Ge=Ll(Au(Te.slice(ut).join("")));break;case"quoted-printable":Ge=er(Te.slice(ut));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ye)}var st=Kt(le,de.slice(te.length),Ge,{unsafe:!0});Ne&&(st.ctype=Ne)}function St(le,Te){if(ee(le.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var te=Te&&Te.root||"",de=(Vn&&Buffer.isBuffer(le)?le.toString("binary"):ee(le)).split(`\r
`),ye=0,Ne="";for(ye=0;ye<de.length;++ye)if(Ne=de[ye],!!/^Content-Location:/i.test(Ne)&&(Ne=Ne.slice(Ne.indexOf("file")),te||(te=Ne.slice(0,Ne.lastIndexOf("/")+1)),Ne.slice(0,te.length)!=te))for(;te.length>0&&(te=te.slice(0,te.length-1),te=te.slice(0,te.lastIndexOf("/")+1),Ne.slice(0,te.length)!=te););var Ge=(de[1]||"").match(/boundary="(.*?)"/);if(!Ge)throw new Error("MAD cannot find boundary");var ut="--"+(Ge[1]||""),We=[],nt=[],st={FileIndex:We,FullPaths:nt};P(st);var rt,Gt=0;for(ye=0;ye<de.length;++ye){var nr=de[ye];nr!==ut&&nr!==ut+"--"||(Gt++&&ar(st,de.slice(rt,ye),te),rt=ye)}return st}function ht(le,Te){var te=Te||{},de=te.boundary||"SheetJS";de="------="+de;for(var ye=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+de.slice(2)+'"',"","",""],Ne=le.FullPaths[0],Ge=Ne,ut=le.FileIndex[0],We=1;We<le.FullPaths.length;++We)if(Ge=le.FullPaths[We].slice(Ne.length),ut=le.FileIndex[We],!(!ut.size||!ut.content||Ge=="Sh33tJ5")){Ge=Ge.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ar){return"_x"+Ar.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ar){return"_u"+Ar.charCodeAt(0).toString(16)+"_"});for(var nt=ut.content,st=Vn&&Buffer.isBuffer(nt)?nt.toString("binary"):ee(nt),rt=0,Gt=Math.min(1024,st.length),nr=0,zt=0;zt<=Gt;++zt)(nr=st.charCodeAt(zt))>=32&&nr<128&&++rt;var tr=rt>=Gt*4/5;ye.push(de),ye.push("Content-Location: "+(te.root||"file:///C:/SheetJS/")+Ge),ye.push("Content-Transfer-Encoding: "+(tr?"quoted-printable":"base64")),ye.push("Content-Type: "+qe(ut,Ge)),ye.push(""),ye.push(tr?Dt(st):Tt(st))}return ye.push(de+`--\r
`),ye.join(`\r
`)}function Bt(le){var Te={};return P(Te,le),Te}function Kt(le,Te,te,de){var ye=de&&de.unsafe;ye||P(le);var Ne=!ye&&fa.find(le,Te);if(!Ne){var Ge=le.FullPaths[0];Te.slice(0,Ge.length)==Ge?Ge=Te:(Ge.slice(-1)!="/"&&(Ge+="/"),Ge=(Ge+Te).replace("//","/")),Ne={name:a(Te),type:2},le.FileIndex.push(Ne),le.FullPaths.push(Ge),ye||fa.utils.cfb_gc(le)}return Ne.content=te,Ne.size=te?te.length:0,de&&(de.CLSID&&(Ne.clsid=de.CLSID),de.mt&&(Ne.mt=de.mt),de.ct&&(Ne.ct=de.ct)),Ne}function Ot(le,Te){P(le);var te=fa.find(le,Te);if(te){for(var de=0;de<le.FileIndex.length;++de)if(le.FileIndex[de]==te)return le.FileIndex.splice(de,1),le.FullPaths.splice(de,1),!0}return!1}function Ur(le,Te,te){P(le);var de=fa.find(le,Te);if(de){for(var ye=0;ye<le.FileIndex.length;++ye)if(le.FileIndex[ye]==de)return le.FileIndex[ye].name=a(te),le.FullPaths[ye]=te,!0}return!1}function Ir(le){B(le,!0)}return r.find=L,r.read=V,r.parse=p,r.write=H,r.writeFile=re,r.utils={cfb_new:Bt,cfb_add:Kt,cfb_del:Ot,cfb_mov:Ur,cfb_gc:Ir,ReadShift:Lp,CheckField:MT,prep_blob:ko,bconcat:ci,use_zlib:D,_deflateRaw:hr,_inflateRaw:et,consts:J},r}();function JO(e){return typeof e=="string"?Mx(e):Array.isArray(e)?SO(e):e}function xm(e,r,t){if(typeof Deno<"u"){if(t&&typeof r=="string")switch(t){case"utf8":r=new TextEncoder(t).encode(r);break;case"binary":r=Mx(r);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(e,r)}var n=t=="utf8"?Kp(r):r;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([JO(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=s,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var u=File(e);return u.open("w"),u.encoding="binary",Array.isArray(r)&&(r=gm(r)),u.write(r),u.close(),r}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+e)}function fi(e){for(var r=Object.keys(e),t=[],n=0;n<r.length;++n)Object.prototype.hasOwnProperty.call(e,r[n])&&t.push(r[n]);return t}function E3(e,r){for(var t=[],n=fi(e),a=0;a!==n.length;++a)t[e[n[a]][r]]==null&&(t[e[n[a]][r]]=n[a]);return t}function $b(e){for(var r=[],t=fi(e),n=0;n!==t.length;++n)r[e[t[n]]]=t[n];return r}function Bx(e){for(var r=[],t=fi(e),n=0;n!==t.length;++n)r[e[t[n]]]=parseInt(t[n],10);return r}function QO(e){for(var r=[],t=fi(e),n=0;n!==t.length;++n)r[e[t[n]]]==null&&(r[e[t[n]]]=[]),r[e[t[n]]].push(t[n]);return r}var J1=new Date(1899,11,30,0,0,0);function lo(e,r){var t=e.getTime(),n=J1.getTime()+(e.getTimezoneOffset()-J1.getTimezoneOffset())*6e4;return(t-n)/(24*60*60*1e3)}var yT=new Date,ZO=J1.getTime()+(yT.getTimezoneOffset()-J1.getTimezoneOffset())*6e4,A3=yT.getTimezoneOffset();function vT(e){var r=new Date;return r.setTime(e*24*60*60*1e3+ZO),r.getTimezoneOffset()!==A3&&r.setTime(r.getTime()+(r.getTimezoneOffset()-A3)*6e4),r}var C3=new Date("2017-02-19T19:06:09.000Z"),bT=isNaN(C3.getFullYear())?new Date("2/19/17"):C3,eL=bT.getFullYear()==2017;function qi(e,r){var t=new Date(e);if(eL)return r>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):r<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(e instanceof Date)return e;if(bT.getFullYear()==1917&&!isNaN(t.getFullYear())){var n=t.getFullYear();return e.indexOf(""+n)>-1||t.setFullYear(t.getFullYear()+100),t}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Ix(e,r){if(Vn&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var t={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return t[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function co(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=co(e[t]));return r}function rs(e,r){for(var t="";t.length<r;)t+=e;return t}function bu(e){var r=Number(e);if(!isNaN(r))return isFinite(r)?r:NaN;if(!/\d/.test(e))return r;var t=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(r=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return t=-t,s}),!isNaN(r=Number(n)))?r/t:r}var tL=["january","february","march","april","may","june","july","august","september","october","november","december"];function Xp(e){var r=new Date(e),t=new Date(NaN),n=r.getYear(),a=r.getMonth(),s=r.getDate();if(isNaN(s))return t;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&tL.indexOf(l)==-1)return t}else if(l.match(/[a-z]/))return t;return n<0||n>8099?t:(a>0||s>1)&&n!=101?r:e.match(/[^-0-9:,\/\\]/)?t:r}function mn(e,r,t){if(e.FullPaths){if(typeof t=="string"){var n;return Vn?n=Lu(t):n=_O(t),fa.utils.cfb_add(e,r,n)}fa.utils.cfb_add(e,r,t)}else e.file(r,t)}function zb(){return fa.utils.cfb_new()}var Cs=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,rL={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Ub=$b(rL),Hb=/[&<>'"]/g,nL=/[\u0000-\u0008\u000b-\u001f]/g;function na(e){var r=e+"";return r.replace(Hb,function(t){return Ub[t]}).replace(nL,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function D3(e){return na(e).replace(/ /g,"_x0020_")}var wT=/[\u0000-\u001f]/g;function aL(e){var r=e+"";return r.replace(Hb,function(t){return Ub[t]}).replace(/\n/g,"<br/>").replace(wT,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function sL(e){var r=e+"";return r.replace(Hb,function(t){return Ub[t]}).replace(wT,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function iL(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function oL(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function zy(e){for(var r="",t=0,n=0,a=0,s=0,l=0,u=0;t<e.length;){if(n=e.charCodeAt(t++),n<128){r+=String.fromCharCode(n);continue}if(a=e.charCodeAt(t++),n>191&&n<224){l=(n&31)<<6,l|=a&63,r+=String.fromCharCode(l);continue}if(s=e.charCodeAt(t++),n<240){r+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}l=e.charCodeAt(t++),u=((n&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536,r+=String.fromCharCode(55296+(u>>>10&1023)),r+=String.fromCharCode(56320+(u&1023))}return r}function O3(e){var r=jf(2*e.length),t,n,a=1,s=0,l=0,u;for(n=0;n<e.length;n+=a)a=1,(u=e.charCodeAt(n))<128?t=u:u<224?(t=(u&31)*64+(e.charCodeAt(n+1)&63),a=2):u<240?(t=(u&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,t=(u&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),t-=65536,l=55296+(t>>>10&1023),t=56320+(t&1023)),l!==0&&(r[s++]=l&255,r[s++]=l>>>8,l=0),r[s++]=t%256,r[s++]=t>>>8;return r.slice(0,s).toString("ucs2")}function L3(e){return Lu(e,"binary").toString("utf8")}var Hg="foo bar bazâð£",Op=Vn&&(L3(Hg)==zy(Hg)&&L3||O3(Hg)==zy(Hg)&&O3)||zy,Kp=Vn?function(e){return Lu(e,"utf8").toString("binary")}:function(e){for(var r=[],t=0,n=0,a=0;t<e.length;)switch(n=e.charCodeAt(t++),!0){case n<128:r.push(String.fromCharCode(n));break;case n<2048:r.push(String.fromCharCode(192+(n>>6))),r.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(t++)-56320+(n<<10),r.push(String.fromCharCode(240+(a>>18&7))),r.push(String.fromCharCode(144+(a>>12&63))),r.push(String.fromCharCode(128+(a>>6&63))),r.push(String.fromCharCode(128+(a&63)));break;default:r.push(String.fromCharCode(224+(n>>12))),r.push(String.fromCharCode(128+(n>>6&63))),r.push(String.fromCharCode(128+(n&63)))}return r.join("")},lL=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(r){return[new RegExp("&"+r[0]+";","ig"),r[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),NT=/(^\s|\s$|\n)/;function ui(e,r){return"<"+e+(r.match(NT)?' xml:space="preserve"':"")+">"+r+"</"+e+">"}function Jp(e){return fi(e).map(function(r){return" "+r+'="'+e[r]+'"'}).join("")}function sr(e,r,t){return"<"+e+(t!=null?Jp(t):"")+(r!=null?(r.match(NT)?' xml:space="preserve"':"")+">"+r+"</"+e:"/")+">"}function Iv(e,r){try{return e.toISOString().replace(/\.\d*/,"")}catch(t){if(r)throw t}return""}function cL(e,r){switch(typeof e){case"string":var t=sr("vt:lpwstr",na(e));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return sr((e|0)==e?"vt:i4":"vt:r8",na(String(e)));case"boolean":return sr("vt:bool",e?"true":"false")}if(e instanceof Date)return sr("vt:filetime",Iv(e));throw new Error("Unable to serialize "+e)}var Ys={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},l0=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],jo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function uL(e,r){for(var t=1-2*(e[r+7]>>>7),n=((e[r+7]&127)<<4)+(e[r+6]>>>4&15),a=e[r+6]&15,s=5;s>=0;--s)a=a*256+e[r+s];return n==2047?a==0?t*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),t*Math.pow(2,n-52)*a)}function dL(e,r,t){var n=(r<0||1/r==-1/0?1:0)<<7,a=0,s=0,l=n?-r:r;isFinite(l)?l==0?a=s=0:(a=Math.floor(Math.log(l)/Math.LN2),s=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(r)?26985:0);for(var u=0;u<=5;++u,s/=256)e[t+u]=s&255;e[t+6]=(a&15)<<4|s&15,e[t+7]=a>>4|n}var R3=function(e){for(var r=[],t=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=t)r.push.apply(r,e[0][n].slice(a,a+t));return r},M3=Vn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(r){return Buffer.isBuffer(r)?r:Lu(r)})):R3(e)}:R3,F3=function(e,r,t){for(var n=[],a=r;a<t;a+=2)n.push(String.fromCharCode(Tp(e,a)));return n.join("").replace(Dp,"")},Wb=Vn?function(e,r,t){return Buffer.isBuffer(e)?e.toString("utf16le",r,t).replace(Dp,""):F3(e,r,t)}:F3,P3=function(e,r,t){for(var n=[],a=r;a<r+t;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},ST=Vn?function(e,r,t){return Buffer.isBuffer(e)?e.toString("hex",r,r+t):P3(e,r,t)}:P3,B3=function(e,r,t){for(var n=[],a=r;a<t;a++)n.push(String.fromCharCode(Oh(e,a)));return n.join("")},ym=Vn?function(r,t,n){return Buffer.isBuffer(r)?r.toString("utf8",t,n):B3(r,t,n)}:B3,_T=function(e,r){var t=Eo(e,r);return t>0?ym(e,r+4,r+4+t-1):""},TT=_T,kT=function(e,r){var t=Eo(e,r);return t>0?ym(e,r+4,r+4+t-1):""},jT=kT,ET=function(e,r){var t=2*Eo(e,r);return t>0?ym(e,r+4,r+4+t-1):""},AT=ET,CT=function(r,t){var n=Eo(r,t);return n>0?Wb(r,t+4,t+4+n):""},DT=CT,OT=function(e,r){var t=Eo(e,r);return t>0?ym(e,r+4,r+4+t):""},LT=OT,RT=function(e,r){return uL(e,r)},Q1=RT,Vb=function(r){return Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array};Vn&&(TT=function(r,t){if(!Buffer.isBuffer(r))return _T(r,t);var n=r.readUInt32LE(t);return n>0?r.toString("utf8",t+4,t+4+n-1):""},jT=function(r,t){if(!Buffer.isBuffer(r))return kT(r,t);var n=r.readUInt32LE(t);return n>0?r.toString("utf8",t+4,t+4+n-1):""},AT=function(r,t){if(!Buffer.isBuffer(r))return ET(r,t);var n=2*r.readUInt32LE(t);return r.toString("utf16le",t+4,t+4+n-1)},DT=function(r,t){if(!Buffer.isBuffer(r))return CT(r,t);var n=r.readUInt32LE(t);return r.toString("utf16le",t+4,t+4+n)},LT=function(r,t){if(!Buffer.isBuffer(r))return OT(r,t);var n=r.readUInt32LE(t);return r.toString("utf8",t+4,t+4+n)},Q1=function(r,t){return Buffer.isBuffer(r)?r.readDoubleLE(t):RT(r,t)},Vb=function(r){return Buffer.isBuffer(r)||Array.isArray(r)||typeof Uint8Array<"u"&&r instanceof Uint8Array});var Oh=function(e,r){return e[r]},Tp=function(e,r){return e[r+1]*256+e[r]},fL=function(e,r){var t=e[r+1]*256+e[r];return t<32768?t:(65535-t+1)*-1},Eo=function(e,r){return e[r+3]*(1<<24)+(e[r+2]<<16)+(e[r+1]<<8)+e[r]},cf=function(e,r){return e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]},hL=function(e,r){return e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]};function Lp(e,r){var t="",n,a,s=[],l,u,d,f;switch(r){case"dbcs":if(f=this.l,Vn&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)t+=String.fromCharCode(Tp(this,f)),f+=2;e*=2;break;case"utf8":t=ym(this,this.l,this.l+e);break;case"utf16le":e*=2,t=Wb(this,this.l,this.l+e);break;case"wstr":return Lp.call(this,e,"dbcs");case"lpstr-ansi":t=TT(this,this.l),e=4+Eo(this,this.l);break;case"lpstr-cp":t=jT(this,this.l),e=4+Eo(this,this.l);break;case"lpwstr":t=AT(this,this.l),e=4+2*Eo(this,this.l);break;case"lpp4":e=4+Eo(this,this.l),t=DT(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Eo(this,this.l),t=LT(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,t="";(l=Oh(this,this.l+e++))!==0;)s.push($g(l));t=s.join("");break;case"_wstr":for(e=0,t="";(l=Tp(this,this.l+e))!==0;)s.push($g(l)),e+=2;e+=2,t=s.join("");break;case"dbcs-cont":for(t="",f=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=Oh(this,f),this.l=f+1,u=Lp.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push($g(Tp(this,f))),f+=2}t=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(t="",f=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(f)!==-1)return l=Oh(this,f),this.l=f+1,u=Lp.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),s.join("")+u;s.push($g(Oh(this,f))),f+=1}t=s.join("");break;default:switch(e){case 1:return n=Oh(this,this.l),this.l++,n;case 2:return n=(r==="i"?fL:Tp)(this,this.l),this.l+=2,n;case 4:case-4:return r==="i"||(this[this.l+3]&128)===0?(n=(e>0?cf:hL)(this,this.l),this.l+=4,n):(a=Eo(this,this.l),this.l+=4,a);case 8:case-8:if(r==="f")return e==8?a=Q1(this,this.l):a=Q1([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:t=ST(this,this.l,e);break}}return this.l+=e,t}var pL=function(e,r,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24&255},mL=function(e,r,t){e[t]=r&255,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255},gL=function(e,r,t){e[t]=r&255,e[t+1]=r>>>8&255};function xL(e,r,t){var n=0,a=0;if(t==="dbcs"){for(a=0;a!=r.length;++a)gL(this,r.charCodeAt(a),this.l+2*a);n=2*r.length}else if(t==="sbcs"){for(r=r.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=r.length;++a)this[this.l+a]=r.charCodeAt(a)&255;n=r.length}else if(t==="hex"){for(;a<e;++a)this[this.l++]=parseInt(r.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(r.length,e);++a){var l=r.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=r&255;break;case 2:n=2,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255;break;case 3:n=3,this[this.l]=r&255,r>>>=8,this[this.l+1]=r&255,r>>>=8,this[this.l+2]=r&255;break;case 4:n=4,pL(this,r,this.l);break;case 8:if(n=8,t==="f"){dL(this,r,this.l);break}case 16:break;case-4:n=4,mL(this,r,this.l);break}return this.l+=n,this}function MT(e,r){var t=ST(this,this.l,e.length>>1);if(t!==e)throw new Error(r+"Expected "+e+" saw "+t);this.l+=e.length>>1}function ko(e,r){e.l=r,e.read_shift=Lp,e.chk=MT,e.write_shift=xL}function Bc(e,r){e.l+=r}function kt(e){var r=jf(e);return ko(r,0),r}function so(){var e=[],r=Vn?256:2048,t=function(f){var p=kt(f);return ko(p,0),p},n=t(r),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(f){return n&&f<n.length-n.l?n:(a(),n=t(Math.max(f+1,r)))},l=function(){return a(),ci(e)},u=function(f){a(),n=f,n.l==null&&(n.l=n.length),s(r)};return{next:s,push:u,end:l,_bufs:e}}function Vt(e,r,t,n){var a=+r,s;if(!isNaN(a)){n||(n=uB[a].p||(t||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var l=e.next(s);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var u=0;u!=4;++u)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&Vb(t)&&e.push(t)}}function Rp(e,r,t){var n=co(e);if(r.s?(n.cRel&&(n.c+=r.s.c),n.rRel&&(n.r+=r.s.r)):(n.cRel&&(n.c+=r.c),n.rRel&&(n.r+=r.r)),!t||t.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function I3(e,r,t){var n=co(e);return n.s=Rp(n.s,r.s,t),n.e=Rp(n.e,r.s,t),n}function Mp(e,r){if(e.cRel&&e.c<0)for(e=co(e);e.c<0;)e.c+=r>8?16384:256;if(e.rRel&&e.r<0)for(e=co(e);e.r<0;)e.r+=r>8?1048576:r>5?65536:16384;var t=sa(e);return!e.cRel&&e.cRel!=null&&(t=bL(t)),!e.rRel&&e.rRel!=null&&(t=yL(t)),t}function Uy(e,r){return e.s.r==0&&!e.s.rRel&&e.e.r==(r.biff>=12?1048575:r.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ci(e.s.c)+":"+(e.e.cRel?"":"$")+Ci(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(r.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+di(e.s.r)+":"+(e.e.rRel?"":"$")+di(e.e.r):Mp(e.s,r.biff)+":"+Mp(e.e,r.biff)}function qb(e){return parseInt(vL(e),10)-1}function di(e){return""+(e+1)}function yL(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function vL(e){return e.replace(/\$(\d+)$/,"$1")}function Yb(e){for(var r=wL(e),t=0,n=0;n!==r.length;++n)t=26*t+r.charCodeAt(n)-64;return t-1}function Ci(e){if(e<0)throw new Error("invalid column "+e);var r="";for(++e;e;e=Math.floor((e-1)/26))r=String.fromCharCode((e-1)%26+65)+r;return r}function bL(e){return e.replace(/^([A-Z])/,"$$$1")}function wL(e){return e.replace(/^\$([A-Z])/,"$1")}function NL(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Gs(e){for(var r=0,t=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?r=10*r+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:r-1}}function sa(e){for(var r=e.c+1,t="";r;r=(r-1)/26|0)t=String.fromCharCode((r-1)%26+65)+t;return t+(e.r+1)}function Ro(e){var r=e.indexOf(":");return r==-1?{s:Gs(e),e:Gs(e)}:{s:Gs(e.slice(0,r)),e:Gs(e.slice(r+1))}}function As(e,r){return typeof r>"u"||typeof r=="number"?As(e.s,e.e):(typeof e!="string"&&(e=sa(e)),typeof r!="string"&&(r=sa(r)),e==r?e:e+":"+r)}function Aa(e){var r={s:{c:0,r:0},e:{c:0,r:0}},t=0,n=0,a=0,s=e.length;for(t=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(r.s.c=--t,t=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;if(r.s.r=--t,n===s||a!=10)return r.e.c=r.s.c,r.e.r=r.s.r,r;for(++n,t=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)t=26*t+a;for(r.e.c=--t,t=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)t=10*t+a;return r.e.r=--t,r}function $3(e,r){var t=e.t=="d"&&r instanceof Date;if(e.z!=null)try{return e.w=Td(e.z,t?lo(r):r)}catch{}try{return e.w=Td((e.XF||{}).numFmtId||(t?14:0),t?lo(r):r)}catch{return""+r}}function Cu(e,r,t){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&t&&t.dateNF&&(e.z=t.dateNF),e.t=="e"?vm[e.v]||e.v:r==null?$3(e,e.v):$3(e,r))}function Pf(e,r){var t=r&&r.sheet?r.sheet:"Sheet1",n={};return n[t]=e,{SheetNames:[t],Sheets:n}}function FT(e,r,t){var n=t||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),l=0,u=0;if(s&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?Gs(n.origin):n.origin;l=d.r,u=d.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var p=Aa(s["!ref"]);f.s.c=p.s.c,f.s.r=p.s.r,f.e.c=Math.max(f.e.c,p.e.c),f.e.r=Math.max(f.e.r,p.e.r),l==-1&&(f.e.r=l=p.e.r+1)}for(var x=0;x!=r.length;++x)if(r[x]){if(!Array.isArray(r[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=r[x].length;++y)if(!(typeof r[x][y]>"u")){var m={v:r[x][y]},w=l+x,v=u+y;if(f.s.r>w&&(f.s.r=w),f.s.c>v&&(f.s.c=v),f.e.r<w&&(f.e.r=w),f.e.c<v&&(f.e.c=v),r[x][y]&&typeof r[x][y]=="object"&&!Array.isArray(r[x][y])&&!(r[x][y]instanceof Date))m=r[x][y];else if(Array.isArray(m.v)&&(m.f=r[x][y][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||ns[14],n.cellDates?(m.t="d",m.w=Td(m.z,lo(m.v))):(m.t="n",m.v=lo(m.v),m.w=Td(m.z,m.v))):m.t="s";if(a)s[w]||(s[w]=[]),s[w][v]&&s[w][v].z&&(m.z=s[w][v].z),s[w][v]=m;else{var N=sa({c:v,r:w});s[N]&&s[N].z&&(m.z=s[N].z),s[N]=m}}}return f.s.c<1e7&&(s["!ref"]=As(f)),s}function c0(e,r){return FT(null,e,r)}function SL(e){return e.read_shift(4,"i")}function Ml(e,r){return r||(r=kt(4)),r.write_shift(4,e),r}function Di(e){var r=e.read_shift(4);return r===0?"":e.read_shift(r,"dbcs")}function Xs(e,r){var t=!1;return r==null&&(t=!0,r=kt(4+2*e.length)),r.write_shift(4,e.length),e.length>0&&r.write_shift(0,e,"dbcs"),t?r.slice(0,r.l):r}function _L(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function TL(e,r){return r||(r=kt(4)),r.write_shift(2,0),r.write_shift(2,0),r}function Gb(e,r){var t=e.l,n=e.read_shift(1),a=Di(e),s=[],l={t:a,h:a};if((n&1)!==0){for(var u=e.read_shift(4),d=0;d!=u;++d)s.push(_L(e));l.r=s}else l.r=[{ich:0,ifnt:0}];return e.l=t+r,l}function kL(e,r){var t=!1;return r==null&&(t=!0,r=kt(15+4*e.t.length)),r.write_shift(1,0),Xs(e.t,r),t?r.slice(0,r.l):r}var jL=Gb;function EL(e,r){var t=!1;return r==null&&(t=!0,r=kt(23+4*e.t.length)),r.write_shift(1,1),Xs(e.t,r),r.write_shift(4,1),TL({},r),t?r.slice(0,r.l):r}function il(e){var r=e.read_shift(4),t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:r,iStyleRef:t}}function Bf(e,r){return r==null&&(r=kt(8)),r.write_shift(-4,e.c),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}function If(e){var r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:r}}function $f(e,r){return r==null&&(r=kt(4)),r.write_shift(3,e.iStyleRef||e.s),r.write_shift(1,0),r}var AL=Di,PT=Xs;function Xb(e){var r=e.read_shift(4);return r===0||r===4294967295?"":e.read_shift(r,"dbcs")}function Z1(e,r){var t=!1;return r==null&&(t=!0,r=kt(127)),r.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&r.write_shift(0,e,"dbcs"),t?r.slice(0,r.l):r}var CL=Di,$v=Xb,Kb=Z1;function BT(e){var r=e.slice(e.l,e.l+4),t=r[0]&1,n=r[0]&2;e.l+=4;var a=n===0?Q1([0,0,0,0,r[0]&252,r[1],r[2],r[3]],0):cf(r,0)>>2;return t?a/100:a}function IT(e,r){r==null&&(r=kt(4));var t=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,t=1),n)r.write_shift(-4,((t?a:e)<<2)+(t+2));else throw new Error("unsupported RkNumber "+e)}function $T(e){var r={s:{},e:{}};return r.s.r=e.read_shift(4),r.e.r=e.read_shift(4),r.s.c=e.read_shift(4),r.e.c=e.read_shift(4),r}function DL(e,r){return r||(r=kt(16)),r.write_shift(4,e.s.r),r.write_shift(4,e.e.r),r.write_shift(4,e.s.c),r.write_shift(4,e.e.c),r}var zf=$T,u0=DL;function d0(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Ef(e,r){return(r||kt(8)).write_shift(8,e,"f")}function OL(e){var r={},t=e.read_shift(1),n=t>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),l=e.read_shift(1),u=e.read_shift(1),d=e.read_shift(1);switch(e.l++,n){case 0:r.auto=1;break;case 1:r.index=a;var f=zL[a];f&&(r.rgb=J3(f));break;case 2:r.rgb=J3([l,u,d]);break;case 3:r.theme=a;break}return s!=0&&(r.tint=s>0?s/32767:s/32768),r}function ex(e,r){if(r||(r=kt(8)),!e||e.auto)return r.write_shift(4,0),r.write_shift(4,0),r;e.index!=null?(r.write_shift(1,2),r.write_shift(1,e.index)):e.theme!=null?(r.write_shift(1,6),r.write_shift(1,e.theme)):(r.write_shift(1,5),r.write_shift(1,0));var t=e.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),r.write_shift(2,t),!e.rgb||e.theme!=null)r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),r.write_shift(1,parseInt(n.slice(0,2),16)),r.write_shift(1,parseInt(n.slice(2,4),16)),r.write_shift(1,parseInt(n.slice(4,6),16)),r.write_shift(1,255)}return r}function LL(e){var r=e.read_shift(1);e.l++;var t={fBold:r&1,fItalic:r&2,fUnderline:r&4,fStrikeout:r&8,fOutline:r&16,fShadow:r&32,fCondense:r&64,fExtend:r&128};return t}function RL(e,r){r||(r=kt(2));var t=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return r.write_shift(1,t),r.write_shift(1,0),r}var zT=2,To=3,Wg=11,tx=19,Vg=64,ML=65,FL=71,PL=4108,BL=4126,oi=80,z3={1:{n:"CodePage",t:zT},2:{n:"Category",t:oi},3:{n:"PresentationFormat",t:oi},4:{n:"ByteCount",t:To},5:{n:"LineCount",t:To},6:{n:"ParagraphCount",t:To},7:{n:"SlideCount",t:To},8:{n:"NoteCount",t:To},9:{n:"HiddenCount",t:To},10:{n:"MultimediaClipCount",t:To},11:{n:"ScaleCrop",t:Wg},12:{n:"HeadingPairs",t:PL},13:{n:"TitlesOfParts",t:BL},14:{n:"Manager",t:oi},15:{n:"Company",t:oi},16:{n:"LinksUpToDate",t:Wg},17:{n:"CharacterCount",t:To},19:{n:"SharedDoc",t:Wg},22:{n:"HyperlinksChanged",t:Wg},23:{n:"AppVersion",t:To,p:"version"},24:{n:"DigSig",t:ML},26:{n:"ContentType",t:oi},27:{n:"ContentStatus",t:oi},28:{n:"Language",t:oi},29:{n:"Version",t:oi},255:{},2147483648:{n:"Locale",t:tx},2147483651:{n:"Behavior",t:tx},1919054434:{}},U3={1:{n:"CodePage",t:zT},2:{n:"Title",t:oi},3:{n:"Subject",t:oi},4:{n:"Author",t:oi},5:{n:"Keywords",t:oi},6:{n:"Comments",t:oi},7:{n:"Template",t:oi},8:{n:"LastAuthor",t:oi},9:{n:"RevNumber",t:oi},10:{n:"EditTime",t:Vg},11:{n:"LastPrinted",t:Vg},12:{n:"CreatedDate",t:Vg},13:{n:"ModifiedDate",t:Vg},14:{n:"PageCount",t:To},15:{n:"WordCount",t:To},16:{n:"CharCount",t:To},17:{n:"Thumbnail",t:FL},18:{n:"Application",t:oi},19:{n:"DocSecurity",t:To},255:{},2147483648:{n:"Locale",t:tx},2147483651:{n:"Behavior",t:tx},1919054434:{}};function IL(e){return e.map(function(r){return[r>>16&255,r>>8&255,r&255]})}var $L=IL([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),zL=co($L),vm={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},UL={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},qg={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function UT(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function HT(e,r){var t=QO(UL),n=[],a;n[n.length]=Cs,n[n.length]=sr("Types",null,{xmlns:Ys.CT,"xmlns:xsd":Ys.xsd,"xmlns:xsi":Ys.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return sr("Default",null,{Extension:d[0],ContentType:d[1]})}));var s=function(d){e[d]&&e[d].length>0&&(a=e[d][0],n[n.length]=sr("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:qg[d][r.bookType]||qg[d].xlsx}))},l=function(d){(e[d]||[]).forEach(function(f){n[n.length]=sr("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:qg[d][r.bookType]||qg[d].xlsx})})},u=function(d){(e[d]||[]).forEach(function(f){n[n.length]=sr("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:t[d][0]})})};return s("workbooks"),l("sheets"),l("charts"),u("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(u),u("vba"),u("comments"),u("threadedcomments"),u("drawings"),l("metadata"),u("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var zn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function WT(e){var r=e.lastIndexOf("/");return e.slice(0,r+1)+"_rels/"+e.slice(r+1)+".rels"}function $h(e){var r=[Cs,sr("Relationships",null,{xmlns:Ys.RELS})];return fi(e["!id"]).forEach(function(t){r[r.length]=sr("Relationship",null,e["!id"][t])}),r.length>2&&(r[r.length]="</Relationships>",r[1]=r[1].replace("/>",">")),r.join("")}function ra(e,r,t,n,a,s){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),r<0)for(r=e["!idx"];e["!id"]["rId"+r];++r);if(e["!idx"]=r+1,a.Id="rId"+r,a.Type=n,a.Target=t,[zn.HLINK,zn.XPATH,zn.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+r);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,r}function HL(e){var r=[Cs];r.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),r.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<e.length;++t)r.push('  <manifest:file-entry manifest:full-path="'+e[t][0]+'" manifest:media-type="'+e[t][1]+`"/>
`);return r.push("</manifest:manifest>"),r.join("")}function H3(e,r,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+r+`"/>
`,`  </rdf:Description>
`].join("")}function WL(e,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+r+`"/>
`,`  </rdf:Description>
`].join("")}function VL(e){var r=[Cs];r.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=e.length;++t)r.push(H3(e[t][0],e[t][1])),r.push(WL("",e[t][0]));return r.push(H3("","Document","pkg")),r.push("</rdf:RDF>"),r.join("")}function VT(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+q1.version+"</meta:generator></office:meta></office:document-meta>"}var xf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Hy(e,r,t,n,a){a[e]!=null||r==null||r===""||(a[e]=r,r=na(r),n[n.length]=t?sr(e,r,t):ui(e,r))}function qT(e,r){var t=r||{},n=[Cs,sr("cp:coreProperties",null,{"xmlns:cp":Ys.CORE_PROPS,"xmlns:dc":Ys.dc,"xmlns:dcterms":Ys.dcterms,"xmlns:dcmitype":Ys.dcmitype,"xmlns:xsi":Ys.xsi})],a={};if(!e&&!t.Props)return n.join("");e&&(e.CreatedDate!=null&&Hy("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Iv(e.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&Hy("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Iv(e.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var s=0;s!=xf.length;++s){var l=xf[s],u=t.Props&&t.Props[l[1]]!=null?t.Props[l[1]]:e?e[l[1]]:null;u===!0?u="1":u===!1?u="0":typeof u=="number"&&(u=String(u)),u!=null&&Hy(l[0],u,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var zh=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],YT=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function GT(e){var r=[],t=sr;return e||(e={}),e.Application="SheetJS",r[r.length]=Cs,r[r.length]=sr("Properties",null,{xmlns:Ys.EXT_PROPS,"xmlns:vt":Ys.vt}),zh.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=na(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(r[r.length]=t(n[0],a))}}),r[r.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),r[r.length]=t("TitlesOfParts",t("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+na(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}function XT(e){var r=[Cs,sr("Properties",null,{xmlns:Ys.CUST_PROPS,"xmlns:vt":Ys.vt})];if(!e)return r.join("");var t=1;return fi(e).forEach(function(a){++t,r[r.length]=sr("property",cL(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:na(a)})}),r.length>2&&(r[r.length]="</Properties>",r[1]=r[1].replace("/>",">")),r.join("")}var W3={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function qL(e,r){var t=[];return fi(W3).map(function(n){for(var a=0;a<xf.length;++a)if(xf[a][1]==n)return xf[a];for(a=0;a<zh.length;++a)if(zh[a][1]==n)return zh[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=r&&r.Props&&r.Props[n[1]]!=null?r.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(ui(W3[n[1]]||n[1],a))}}),sr("DocumentProperties",t.join(""),{xmlns:jo.o})}function YL(e,r){var t=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&fi(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)){for(var l=0;l<xf.length;++l)if(s==xf[l][1])return;for(l=0;l<zh.length;++l)if(s==zh[l][1])return;for(l=0;l<t.length;++l)if(s==t[l])return;var u=e[s],d="string";typeof u=="number"?(d="float",u=String(u)):u===!0||u===!1?(d="boolean",u=u?"1":"0"):u=String(u),a.push(sr(D3(s),u,{"dt:dt":d}))}}),r&&fi(r).forEach(function(s){if(Object.prototype.hasOwnProperty.call(r,s)&&!(e&&Object.prototype.hasOwnProperty.call(e,s))){var l=r[s],u="string";typeof l=="number"?(u="float",l=String(l)):l===!0||l===!1?(u="boolean",l=l?"1":"0"):l instanceof Date?(u="dateTime.tz",l=l.toISOString()):l=String(l),a.push(sr(D3(s),l,{"dt:dt":u}))}}),"<"+n+' xmlns="'+jo.o+'">'+a.join("")+"</"+n+">"}function GL(e){var r=typeof e=="string"?new Date(Date.parse(e)):e,t=r.getTime()/1e3+11644473600,n=t%Math.pow(2,32),a=(t-n)/Math.pow(2,32);n*=1e7,a*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),a+=s);var l=kt(8);return l.write_shift(4,n),l.write_shift(4,a),l}function V3(e,r){var t=kt(4),n=kt(4);switch(t.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,r);break;case 5:n=kt(8),n.write_shift(8,r,"f");break;case 11:n.write_shift(4,r?1:0);break;case 64:n=GL(r);break;case 31:case 80:for(n=kt(4+2*(r.length+1)+(r.length%2?0:2)),n.write_shift(4,r.length+1),n.write_shift(0,r,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}return ci([t,n])}var KT=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function XL(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function q3(e,r,t){var n=kt(8),a=[],s=[],l=8,u=0,d=kt(8),f=kt(8);if(d.write_shift(4,2),d.write_shift(4,1200),f.write_shift(4,1),s.push(d),a.push(f),l+=8+d.length,!r){f=kt(8),f.write_shift(4,0),a.unshift(f);var p=[kt(4)];for(p[0].write_shift(4,e.length),u=0;u<e.length;++u){var x=e[u][0];for(d=kt(8+2*(x.length+1)+(x.length%2?0:2)),d.write_shift(4,u+2),d.write_shift(4,x.length+1),d.write_shift(0,x,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=ci(p),s.unshift(d),l+=8+d.length}for(u=0;u<e.length;++u)if(!(r&&!r[e[u][0]])&&!(KT.indexOf(e[u][0])>-1||YT.indexOf(e[u][0])>-1)&&e[u][1]!=null){var y=e[u][1],m=0;if(r){m=+r[e[u][0]];var w=t[m];if(w.p=="version"&&typeof y=="string"){var v=y.split(".");y=(+v[0]<<16)+(+v[1]||0)}d=V3(w.t,y)}else{var N=XL(y);N==-1&&(N=31,y=String(y)),d=V3(N,y)}s.push(d),f=kt(8),f.write_shift(4,r?m:2+u),a.push(f),l+=8+d.length}var S=8*(s.length+1);for(u=0;u<s.length;++u)a[u].write_shift(4,S),S+=s[u].length;return n.write_shift(4,l),n.write_shift(4,s.length),ci([n].concat(a).concat(s))}function Y3(e,r,t,n,a,s){var l=kt(a?68:48),u=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,fa.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,r,"hex"),l.write_shift(4,a?68:48);var d=q3(e,t,n);if(u.push(d),a){var f=q3(a,null,null);l.write_shift(16,s,"hex"),l.write_shift(4,68+d.length),u.push(f)}return ci(u)}function KL(e,r){r||(r=kt(e));for(var t=0;t<e;++t)r.write_shift(1,0);return r}function JL(e,r){return e.read_shift(r)===1}function Hi(e,r){return r||(r=kt(2)),r.write_shift(2,+!!e),r}function JT(e){return e.read_shift(2,"u")}function Qo(e,r){return r||(r=kt(2)),r.write_shift(2,e),r}function QT(e,r,t){return t||(t=kt(2)),t.write_shift(1,r=="e"?+e:+!!e),t.write_shift(1,r=="e"?1:0),t}function ZT(e,r,t){var n=e.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return l}function QL(e){var r=e.t||"",t=kt(3);t.write_shift(2,r.length),t.write_shift(1,1);var n=kt(2*r.length);n.write_shift(2*r.length,r,"utf16le");var a=[t,n];return ci(a)}function ZL(e,r,t){var n;if(t){if(t.biff>=2&&t.biff<=5)return e.read_shift(r,"cpstr");if(t.biff>=12)return e.read_shift(r,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(r,"sbcs-cont"):n=e.read_shift(r,"dbcs-cont"),n}function eR(e,r,t){var n=e.read_shift(t&&t.biff==2?1:2);return n===0?(e.l++,""):ZL(e,n,t)}function tR(e,r,t){if(t.biff>5)return eR(e,r,t);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,t.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function ek(e,r,t){return t||(t=kt(3+2*e.length)),t.write_shift(2,e.length),t.write_shift(1,1),t.write_shift(31,e,"utf16le"),t}function G3(e,r){r||(r=kt(6+e.length*2)),r.write_shift(4,1+e.length);for(var t=0;t<e.length;++t)r.write_shift(2,e.charCodeAt(t));return r.write_shift(2,0),r}function rR(e){var r=kt(512),t=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),s=a>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}r.write_shift(4,2),r.write_shift(4,s);var l=[8,6815827,6619237,4849780,83];for(t=0;t<l.length;++t)r.write_shift(4,l[t]);if(s==28)n=n.slice(1),G3(n,r);else if(s&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<l.length;++t)r.write_shift(1,parseInt(l[t],16));var u=a>-1?n.slice(0,a):n;for(r.write_shift(4,2*(u.length+1)),t=0;t<u.length;++t)r.write_shift(2,u.charCodeAt(t));r.write_shift(2,0),s&8&&G3(a>-1?n.slice(a+1):"",r)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<l.length;++t)r.write_shift(1,parseInt(l[t],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(r.write_shift(2,d),r.write_shift(4,n.length-3*d+1),t=0;t<n.length-3*d;++t)r.write_shift(1,n.charCodeAt(t+3*d)&255);for(r.write_shift(1,0),r.write_shift(2,65535),r.write_shift(2,57005),t=0;t<6;++t)r.write_shift(4,0)}return r.slice(0,r.l)}function Af(e,r,t,n){return n||(n=kt(6)),n.write_shift(2,e),n.write_shift(2,r),n.write_shift(2,t||0),n}function nR(e,r,t){var n=t.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[a,s,l]}function aR(e){var r=e.read_shift(2),t=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r},e:{c:a,r:t}}}function tk(e,r){return r||(r=kt(8)),r.write_shift(2,e.s.r),r.write_shift(2,e.e.r),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c),r}function Jb(e,r,t){var n=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=kt(a);return s.write_shift(2,n),s.write_shift(2,r),a>4&&s.write_shift(2,29282),a>6&&s.write_shift(2,1997),a>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function sR(e,r){var t=!r||r.biff==8,n=kt(t?112:54);for(n.write_shift(r.biff==8?2:1,7),t&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(t?0:536870912));n.l<n.length;)n.write_shift(1,t?0:32);return n}function iR(e,r){var t=!r||r.biff>=8?2:1,n=kt(8+t*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),r.biff>=8&&n.write_shift(1,1),n.write_shift(t*e.name.length,e.name,r.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function oR(e,r){var t=kt(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=QL(e[a]);var s=ci([t].concat(n));return s.parts=[t.length].concat(n.map(function(l){return l.length})),s}function lR(){var e=kt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function cR(e){var r=kt(18),t=1718;return e&&e.RTL&&(t|=64),r.write_shift(2,t),r.write_shift(4,0),r.write_shift(4,64),r.write_shift(4,0),r.write_shift(4,0),r}function uR(e,r){var t=e.name||"Arial",n=r&&r.biff==5,a=n?15+t.length:16+2*t.length,s=kt(a);return s.write_shift(2,e.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*t.length,t,n?"sbcs":"utf16le"),s}function dR(e,r,t,n){var a=kt(10);return Af(e,r,n,a),a.write_shift(4,t),a}function fR(e,r,t,n,a){var s=!a||a.biff==8,l=kt(8+ +s+(1+s)*t.length);return Af(e,r,n,l),l.write_shift(2,t.length),s&&l.write_shift(1,1),l.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),l}function hR(e,r,t,n){var a=t&&t.biff==5;n||(n=kt(a?3+r.length:5+2*r.length)),n.write_shift(2,e),n.write_shift(a?1:2,r.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*r.length,r,a?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function pR(e,r){var t=r.biff==8||!r.biff?4:2,n=kt(2*t+6);return n.write_shift(t,e.s.r),n.write_shift(t,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function X3(e,r,t,n){var a=t&&t.biff==5;n||(n=kt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,r<<4));var s=0;return e.numFmtId>0&&a&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function mR(e){var r=kt(8);return r.write_shift(4,0),r.write_shift(2,0),r.write_shift(2,0),r}function gR(e,r,t,n,a,s){var l=kt(8);return Af(e,r,n,l),QT(t,s,l),l}function xR(e,r,t,n){var a=kt(14);return Af(e,r,n,a),Ef(t,a),a}function yR(e,r,t){if(t.biff<8)return vR(e,r,t);for(var n=[],a=e.l+r,s=e.read_shift(t.biff>8?4:2);s--!==0;)n.push(nR(e,t.biff>8?12:6,t));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function vR(e,r,t){e[e.l+1]==3&&e[e.l]++;var n=ZT(e,r,t);return n.charCodeAt(0)==3?n.slice(1):n}function bR(e){var r=kt(2+e.length*8);r.write_shift(2,e.length);for(var t=0;t<e.length;++t)tk(e[t],r);return r}function wR(e){var r=kt(24),t=Gs(e[0]);r.write_shift(2,t.r),r.write_shift(2,t.r),r.write_shift(2,t.c),r.write_shift(2,t.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)r.write_shift(1,parseInt(n[a],16));return ci([r,rR(e[1])])}function NR(e){var r=e[1].Tooltip,t=kt(10+2*(r.length+1));t.write_shift(2,2048);var n=Gs(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var a=0;a<r.length;++a)t.write_shift(2,r.charCodeAt(a));return t.write_shift(2,0),t}function SR(e){return e||(e=kt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function _R(e,r,t){if(!t.cellStyles)return Bc(e,r);var n=t&&t.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),l=e.read_shift(n),u=e.read_shift(n),d=e.read_shift(2);n==2&&(e.l+=2);var f={s:a,e:s,w:l,ixfe:u,flags:d};return(t.biff>=5||!t.biff)&&(f.level=d>>8&7),f}function TR(e,r){var t=kt(12);t.write_shift(2,r),t.write_shift(2,r),t.write_shift(2,e.width*256),t.write_shift(2,0);var n=0;return e.hidden&&(n|=1),t.write_shift(1,n),n=e.level||0,t.write_shift(1,n),t.write_shift(2,0),t}function kR(e){for(var r=kt(2*e),t=0;t<e;++t)r.write_shift(2,t+1);return r}function jR(e,r,t){var n=kt(15);return wm(n,e,r),n.write_shift(8,t,"f"),n}function ER(e,r,t){var n=kt(9);return wm(n,e,r),n.write_shift(2,t),n}var AR=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},r=$b({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(u,d){var f=[],p=jf(1);switch(d.type){case"base64":p=Ll(Au(u));break;case"binary":p=Ll(u);break;case"buffer":case"array":p=u;break}ko(p,0);var x=p.read_shift(1),y=!!(x&136),m=!1,w=!1;switch(x){case 2:break;case 3:break;case 48:m=!0,y=!0;break;case 49:m=!0,y=!0;break;case 131:break;case 139:break;case 140:w=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var v=0,N=521;x==2&&(v=p.read_shift(2)),p.l+=3,x!=2&&(v=p.read_shift(4)),v>1048576&&(v=1e6),x!=2&&(N=p.read_shift(2));var S=p.read_shift(2),k=d.codepage||1252;x!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(k=e[p[p.l]]),p.l+=1,p.l+=2),w&&(p.l+=36);for(var _=[],A={},R=Math.min(p.length,x==2?521:N-10-(m?264:0)),V=w?32:11;p.l<R&&p[p.l]!=13;)switch(A={},A.name=Y1.utils.decode(k,p.slice(p.l,p.l+V)).replace(/[\u0000\r\n].*$/g,""),p.l+=V,A.type=String.fromCharCode(p.read_shift(1)),x!=2&&!w&&(A.offset=p.read_shift(4)),A.len=p.read_shift(1),x==2&&(A.offset=p.read_shift(2)),A.dec=p.read_shift(1),A.name.length&&_.push(A),x!=2&&(p.l+=w?13:14),A.type){case"B":(!m||A.len!=8)&&d.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+A.name+":"+A.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+A.type)}if(p[p.l]!==13&&(p.l=N-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=N;var P=0,I=0;for(f[0]=[],I=0;I!=_.length;++I)f[0][I]=_[I].name;for(;v-- >0;){if(p[p.l]===42){p.l+=S;continue}for(++p.l,f[++P]=[],I=0,I=0;I!=_.length;++I){var B=p.slice(p.l,p.l+_[I].len);p.l+=_[I].len,ko(B,0);var O=Y1.utils.decode(k,B);switch(_[I].type){case"C":O.trim().length&&(f[P][I]=O.replace(/\s+$/,""));break;case"D":O.length===8?f[P][I]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):f[P][I]=O;break;case"F":f[P][I]=parseFloat(O.trim());break;case"+":case"I":f[P][I]=w?B.read_shift(-4,"i")^2147483648:B.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":f[P][I]=!0;break;case"N":case"F":f[P][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));f[P][I]="##MEMO##"+(w?parseInt(O.trim(),10):B.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(f[P][I]=+O||0);break;case"@":f[P][I]=new Date(B.read_shift(-8,"f")-621356832e5);break;case"T":f[P][I]=new Date((B.read_shift(4)-2440588)*864e5+B.read_shift(4));break;case"Y":f[P][I]=B.read_shift(4,"i")/1e4+B.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[P][I]=-B.read_shift(-8,"f");break;case"B":if(m&&_[I].len==8){f[P][I]=B.read_shift(8,"f");break}case"G":case"P":B.l+=_[I].len;break;case"0":if(_[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[I].type)}}}if(x!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d&&d.sheetRows&&(f=f.slice(0,d.sheetRows)),d.DBF=_,f}function n(u,d){var f=d||{};f.dateNF||(f.dateNF="yyyymmdd");var p=c0(t(u,f),f);return p["!cols"]=f.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete f.DBF,p}function a(u,d){try{return Pf(n(u,d),d)}catch(f){if(d&&d.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function l(u,d){var f=d||{};if(+f.codepage>=0&&Yp(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var p=so(),x=ix(u,{header:1,raw:!0,cellDates:!0}),y=x[0],m=x.slice(1),w=u["!cols"]||[],v=0,N=0,S=0,k=1;for(v=0;v<y.length;++v){if(((w[v]||{}).DBF||{}).name){y[v]=w[v].DBF.name,++S;continue}if(y[v]!=null){if(++S,typeof y[v]=="number"&&(y[v]=y[v].toString(10)),typeof y[v]!="string")throw new Error("DBF Invalid column name "+y[v]+" |"+typeof y[v]+"|");if(y.indexOf(y[v])!==v){for(N=0;N<1024;++N)if(y.indexOf(y[v]+"_"+N)==-1){y[v]+="_"+N;break}}}}var _=Aa(u["!ref"]),A=[],R=[],V=[];for(v=0;v<=_.e.c-_.s.c;++v){var P="",I="",B=0,O=[];for(N=0;N<m.length;++N)m[N][v]!=null&&O.push(m[N][v]);if(O.length==0||y[v]==null){A[v]="?";continue}for(N=0;N<O.length;++N){switch(typeof O[N]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=O[N]instanceof Date?"D":"C";break;default:I="C"}B=Math.max(B,String(O[N]).length),P=P&&P!=I?"C":I}B>250&&(B=250),I=((w[v]||{}).DBF||{}).type,I=="C"&&w[v].DBF.len>B&&(B=w[v].DBF.len),P=="B"&&I=="N"&&(P="N",V[v]=w[v].DBF.dec,B=w[v].DBF.len),R[v]=P=="C"||I=="N"?B:s[P]||0,k+=R[v],A[v]=P}var L=p.next(32);for(L.write_shift(4,318902576),L.write_shift(4,m.length),L.write_shift(2,296+32*S),L.write_shift(2,k),v=0;v<4;++v)L.write_shift(4,0);for(L.write_shift(4,0|(+r[nT]||3)<<8),v=0,N=0;v<y.length;++v)if(y[v]!=null){var C=p.next(32),Y=(y[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,Y,"sbcs"),C.write_shift(1,A[v]=="?"?"C":A[v],"sbcs"),C.write_shift(4,N),C.write_shift(1,R[v]||s[A[v]]||0),C.write_shift(1,V[v]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),N+=R[v]||s[A[v]]||0}var Q=p.next(264);for(Q.write_shift(4,13),v=0;v<65;++v)Q.write_shift(4,0);for(v=0;v<m.length;++v){var ce=p.next(k);for(ce.write_shift(1,0),N=0;N<y.length;++N)if(y[N]!=null)switch(A[N]){case"L":ce.write_shift(1,m[v][N]==null?63:m[v][N]?84:70);break;case"B":ce.write_shift(8,m[v][N]||0,"f");break;case"N":var W="0";for(typeof m[v][N]=="number"&&(W=m[v][N].toFixed(V[N]||0)),S=0;S<R[N]-W.length;++S)ce.write_shift(1,32);ce.write_shift(1,W,"sbcs");break;case"D":m[v][N]?(ce.write_shift(4,("0000"+m[v][N].getFullYear()).slice(-4),"sbcs"),ce.write_shift(2,("00"+(m[v][N].getMonth()+1)).slice(-2),"sbcs"),ce.write_shift(2,("00"+m[v][N].getDate()).slice(-2),"sbcs")):ce.write_shift(8,"00000000","sbcs");break;case"C":var J=String(m[v][N]!=null?m[v][N]:"").slice(0,R[N]);for(ce.write_shift(1,J,"sbcs"),S=0;S<R[N]-J.length;++S)ce.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}}(),CR=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},r=new RegExp("\x1BN("+fi(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(y,m){var w=e[m];return typeof w=="number"?v3(w):w},n=function(y,m,w){var v=m.charCodeAt(0)-32<<4|w.charCodeAt(0)-48;return v==59?y:v3(v)};e["|"]=254;function a(y,m){switch(m.type){case"base64":return s(Au(y),m);case"binary":return s(y,m);case"buffer":return s(Vn&&Buffer.isBuffer(y)?y.toString("binary"):gm(y),m);case"array":return s(Ix(y),m)}throw new Error("Unrecognized type "+m.type)}function s(y,m){var w=y.split(/[\n\r]+/),v=-1,N=-1,S=0,k=0,_=[],A=[],R=null,V={},P=[],I=[],B=[],O=0,L;for(+m.codepage>=0&&Yp(+m.codepage);S!==w.length;++S){O=0;var C=w[S].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(r,t),Y=C.replace(/;;/g,"\0").split(";").map(function(X){return X.replace(/\u0000/g,";")}),Q=Y[0],ce;if(C.length>0)switch(Q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Y[1].charAt(0)=="P"&&A.push(C.slice(3).replace(/;;/g,";"));break;case"C":var W=!1,J=!1,re=!1,ee=!1,H=-1,ne=-1;for(k=1;k<Y.length;++k)switch(Y[k].charAt(0)){case"A":break;case"X":N=parseInt(Y[k].slice(1))-1,J=!0;break;case"Y":for(v=parseInt(Y[k].slice(1))-1,J||(N=0),L=_.length;L<=v;++L)_[L]=[];break;case"K":ce=Y[k].slice(1),ce.charAt(0)==='"'?ce=ce.slice(1,ce.length-1):ce==="TRUE"?ce=!0:ce==="FALSE"?ce=!1:isNaN(bu(ce))?isNaN(Xp(ce).getDate())||(ce=qi(ce)):(ce=bu(ce),R!==null&&mT(R)&&(ce=vT(ce))),W=!0;break;case"E":ee=!0;var D=EM(Y[k].slice(1),{r:v,c:N});_[v][N]=[_[v][N],D];break;case"S":re=!0,_[v][N]=[_[v][N],"S5S"];break;case"G":break;case"R":H=parseInt(Y[k].slice(1))-1;break;case"C":ne=parseInt(Y[k].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+C)}if(W&&(_[v][N]&&_[v][N].length==2?_[v][N][0]=ce:_[v][N]=ce,R=null),re){if(ee)throw new Error("SYLK shared formula cannot have own formula");var z=H>-1&&_[H][ne];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");_[v][N][1]=AM(z[1],{r:v-H,c:N-ne})}break;case"F":var q=0;for(k=1;k<Y.length;++k)switch(Y[k].charAt(0)){case"X":N=parseInt(Y[k].slice(1))-1,++q;break;case"Y":for(v=parseInt(Y[k].slice(1))-1,L=_.length;L<=v;++L)_[L]=[];break;case"M":O=parseInt(Y[k].slice(1))/20;break;case"F":break;case"G":break;case"P":R=A[parseInt(Y[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(B=Y[k].slice(1).split(" "),L=parseInt(B[0],10);L<=parseInt(B[1],10);++L)O=parseInt(B[2],10),I[L-1]=O===0?{hidden:!0}:{wch:O},Qb(I[L-1]);break;case"C":N=parseInt(Y[k].slice(1))-1,I[N]||(I[N]={});break;case"R":v=parseInt(Y[k].slice(1))-1,P[v]||(P[v]={}),O>0?(P[v].hpt=O,P[v].hpx=ik(O)):O===0&&(P[v].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+C)}q<1&&(R=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+C)}}return P.length>0&&(V["!rows"]=P),I.length>0&&(V["!cols"]=I),m&&m.sheetRows&&(_=_.slice(0,m.sheetRows)),[_,V]}function l(y,m){var w=a(y,m),v=w[0],N=w[1],S=c0(v,m);return fi(N).forEach(function(k){S[k]=N[k]}),S}function u(y,m){return Pf(l(y,m),m)}function d(y,m,w,v){var N="C;Y"+(w+1)+";X"+(v+1)+";K";switch(y.t){case"n":N+=y.v||0,y.f&&!y.F&&(N+=";E"+ew(y.f,{r:w,c:v}));break;case"b":N+=y.v?"TRUE":"FALSE";break;case"e":N+=y.w||y.v;break;case"d":N+='"'+(y.w||y.v)+'"';break;case"s":N+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return N}function f(y,m){m.forEach(function(w,v){var N="F;W"+(v+1)+" "+(v+1)+" ";w.hidden?N+="0":(typeof w.width=="number"&&!w.wpx&&(w.wpx=rx(w.width)),typeof w.wpx=="number"&&!w.wch&&(w.wch=nx(w.wpx)),typeof w.wch=="number"&&(N+=Math.round(w.wch))),N.charAt(N.length-1)!=" "&&y.push(N)})}function p(y,m){m.forEach(function(w,v){var N="F;";w.hidden?N+="M0;":w.hpt?N+="M"+20*w.hpt+";":w.hpx&&(N+="M"+20*ax(w.hpx)+";"),N.length>2&&y.push(N+"R"+(v+1))})}function x(y,m){var w=["ID;PWXL;N;E"],v=[],N=Aa(y["!ref"]),S,k=Array.isArray(y),_=`\r
`;w.push("P;PGeneral"),w.push("F;P0;DG0G8;M255"),y["!cols"]&&f(w,y["!cols"]),y["!rows"]&&p(w,y["!rows"]),w.push("B;Y"+(N.e.r-N.s.r+1)+";X"+(N.e.c-N.s.c+1)+";D"+[N.s.c,N.s.r,N.e.c,N.e.r].join(" "));for(var A=N.s.r;A<=N.e.r;++A)for(var R=N.s.c;R<=N.e.c;++R){var V=sa({r:A,c:R});S=k?(y[A]||[])[R]:y[V],!(!S||S.v==null&&(!S.f||S.F))&&v.push(d(S,y,A,R))}return w.join(_)+_+v.join(_)+_+"E"+_}return{to_workbook:u,to_sheet:l,from_sheet:x}}(),DR=function(){function e(s,l){switch(l.type){case"base64":return r(Au(s),l);case"binary":return r(s,l);case"buffer":return r(Vn&&Buffer.isBuffer(s)?s.toString("binary"):gm(s),l);case"array":return r(Ix(s),l)}throw new Error("Unrecognized type "+l.type)}function r(s,l){for(var u=s.split(`
`),d=-1,f=-1,p=0,x=[];p!==u.length;++p){if(u[p].trim()==="BOT"){x[++d]=[],f=0;continue}if(!(d<0)){var y=u[p].trim().split(","),m=y[0],w=y[1];++p;for(var v=u[p]||"";(v.match(/["]/g)||[]).length&1&&p<u.length-1;)v+=`
`+u[++p];switch(v=v.trim(),+m){case-1:if(v==="BOT"){x[++d]=[],f=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?x[d][f]=!0:v==="FALSE"?x[d][f]=!1:isNaN(bu(w))?isNaN(Xp(w).getDate())?x[d][f]=w:x[d][f]=qi(w):x[d][f]=bu(w),++f;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),x[d][f++]=v!==""?v:null;break}if(v==="EOD")break}}return l&&l.sheetRows&&(x=x.slice(0,l.sheetRows)),x}function t(s,l){return c0(e(s,l),l)}function n(s,l){return Pf(t(s,l),l)}var a=function(){var s=function(d,f,p,x,y){d.push(f),d.push(p+","+x),d.push('"'+y.replace(/"/g,'""')+'"')},l=function(d,f,p,x){d.push(f+","+p),d.push(f==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(d){var f=[],p=Aa(d["!ref"]),x,y=Array.isArray(d);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,p.e.r-p.s.r+1,""),s(f,"TUPLES",0,p.e.c-p.s.c+1,""),s(f,"DATA",0,0,"");for(var m=p.s.r;m<=p.e.r;++m){l(f,-1,0,"BOT");for(var w=p.s.c;w<=p.e.c;++w){var v=sa({r:m,c:w});if(x=y?(d[m]||[])[w]:d[v],!x){l(f,1,0,"");continue}switch(x.t){case"n":var N=x.w;!N&&x.v!=null&&(N=x.v),N==null?x.f&&!x.F?l(f,1,0,"="+x.f):l(f,1,0,""):l(f,0,N,"V");break;case"b":l(f,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":l(f,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=Td(x.z||ns[14],lo(qi(x.v)))),l(f,0,x.w,"V");break;default:l(f,1,0,"")}}}l(f,-1,0,"EOD");var S=`\r
`,k=f.join(S);return k}}();return{to_workbook:n,to_sheet:t,from_sheet:a}}(),rk=function(){function e(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function r(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(x,y){for(var m=x.split(`
`),w=-1,v=-1,N=0,S=[];N!==m.length;++N){var k=m[N].trim().split(":");if(k[0]==="cell"){var _=Gs(k[1]);if(S.length<=_.r)for(w=S.length;w<=_.r;++w)S[w]||(S[w]=[]);switch(w=_.r,v=_.c,k[2]){case"t":S[w][v]=e(k[3]);break;case"v":S[w][v]=+k[3];break;case"vtf":var A=k[k.length-1];case"vtc":switch(k[3]){case"nl":S[w][v]=!!+k[4];break;default:S[w][v]=+k[4];break}k[2]=="vtf"&&(S[w][v]=[S[w][v],A])}}}return y&&y.sheetRows&&(S=S.slice(0,y.sheetRows)),S}function n(x,y){return c0(t(x,y),y)}function a(x,y){return Pf(n(x,y),y)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,u=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function f(x){if(!x||!x["!ref"])return"";for(var y=[],m=[],w,v="",N=Ro(x["!ref"]),S=Array.isArray(x),k=N.s.r;k<=N.e.r;++k)for(var _=N.s.c;_<=N.e.c;++_)if(v=sa({r:k,c:_}),w=S?(x[k]||[])[_]:x[v],!(!w||w.v==null||w.t==="z")){switch(m=["cell",v,"t"],w.t){case"s":case"str":m.push(r(w.v));break;case"n":w.f?(m[2]="vtf",m[3]="n",m[4]=w.v,m[5]=r(w.f)):(m[2]="v",m[3]=w.v);break;case"b":m[2]="vt"+(w.f?"f":"c"),m[3]="nl",m[4]=w.v?"1":"0",m[5]=r(w.f||(w.v?"TRUE":"FALSE"));break;case"d":var A=lo(qi(w.v));m[2]="vtc",m[3]="nd",m[4]=""+A,m[5]=w.w||Td(w.z||ns[14],A);break;case"e":continue}y.push(m.join(":"))}return y.push("sheet:c:"+(N.e.c-N.s.c+1)+":r:"+(N.e.r-N.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function p(x){return[s,l,u,l,f(x),d].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:p}}(),OR=function(){function e(p,x,y,m,w){w.raw?x[y][m]=p:p===""||(p==="TRUE"?x[y][m]=!0:p==="FALSE"?x[y][m]=!1:isNaN(bu(p))?isNaN(Xp(p).getDate())?x[y][m]=p:x[y][m]=qi(p):x[y][m]=bu(p))}function r(p,x){var y=x||{},m=[];if(!p||p.length===0)return m;for(var w=p.split(/[\r\n]/),v=w.length-1;v>=0&&w[v].length===0;)--v;for(var N=10,S=0,k=0;k<=v;++k)S=w[k].indexOf(" "),S==-1?S=w[k].length:S++,N=Math.max(N,S);for(k=0;k<=v;++k){m[k]=[];var _=0;for(e(w[k].slice(0,N).trim(),m,k,_,y),_=1;_<=(w[k].length-N)/10+1;++_)e(w[k].slice(N+(_-1)*10,N+_*10).trim(),m,k,_,y)}return y.sheetRows&&(m=m.slice(0,y.sheetRows)),m}var t={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(p){for(var x={},y=!1,m=0,w=0;m<p.length;++m)(w=p.charCodeAt(m))==34?y=!y:!y&&w in t&&(x[w]=(x[w]||0)+1);w=[];for(m in x)Object.prototype.hasOwnProperty.call(x,m)&&w.push([x[m],m]);if(!w.length){x=n;for(m in x)Object.prototype.hasOwnProperty.call(x,m)&&w.push([x[m],m])}return w.sort(function(v,N){return v[0]-N[0]||n[v[1]]-n[N[1]]}),t[w.pop()[1]]||44}function s(p,x){var y=x||{},m="",w=y.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(m=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(m=p.charAt(4),p=p.slice(6)):m=a(p.slice(0,1024)):y&&y.FS?m=y.FS:m=a(p.slice(0,1024));var N=0,S=0,k=0,_=0,A=0,R=m.charCodeAt(0),V=!1,P=0,I=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var B=y.dateNF!=null?GO(y.dateNF):null;function O(){var L=p.slice(_,A),C={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)C.t="z";else if(y.raw)C.t="s",C.v=L;else if(L.trim().length===0)C.t="s",C.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(C.t="s",C.v=L.slice(2,-1).replace(/""/g,'"')):CM(L)?(C.t="n",C.f=L.slice(1)):(C.t="s",C.v=L);else if(L=="TRUE")C.t="b",C.v=!0;else if(L=="FALSE")C.t="b",C.v=!1;else if(!isNaN(k=bu(L)))C.t="n",y.cellText!==!1&&(C.w=L),C.v=k;else if(!isNaN(Xp(L).getDate())||B&&L.match(B)){C.z=y.dateNF||ns[14];var Y=0;B&&L.match(B)&&(L=XO(L,y.dateNF,L.match(B)||[]),Y=1),y.cellDates?(C.t="d",C.v=qi(L,Y)):(C.t="n",C.v=lo(qi(L,Y))),y.cellText!==!1&&(C.w=Td(C.z,C.v instanceof Date?lo(C.v):C.v)),y.cellNF||delete C.z}else C.t="s",C.v=L;if(C.t=="z"||(y.dense?(w[N]||(w[N]=[]),w[N][S]=C):w[sa({c:S,r:N})]=C),_=A+1,I=p.charCodeAt(_),v.e.c<S&&(v.e.c=S),v.e.r<N&&(v.e.r=N),P==R)++S;else if(S=0,++N,y.sheetRows&&y.sheetRows<=N)return!0}e:for(;A<p.length;++A)switch(P=p.charCodeAt(A)){case 34:I===34&&(V=!V);break;case R:case 10:case 13:if(!V&&O())break e;break}return A-_>0&&O(),w["!ref"]=As(v),w}function l(p,x){return!(x&&x.PRN)||x.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?s(p,x):c0(r(p,x),x)}function u(p,x){var y="",m=x.type=="string"?[0,0,0,0]:WB(p,x);switch(x.type){case"base64":y=Au(p);break;case"binary":y=p;break;case"buffer":x.codepage==65001?y=p.toString("utf8"):x.codepage&&typeof Y1<"u"||(y=Vn&&Buffer.isBuffer(p)?p.toString("binary"):gm(p));break;case"array":y=Ix(p);break;case"string":y=p;break;default:throw new Error("Unrecognized type "+x.type)}return m[0]==239&&m[1]==187&&m[2]==191?y=Op(y.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?y=Op(y):x.type=="binary"&&typeof Y1<"u",y.slice(0,19)=="socialcalc:version:"?rk.to_sheet(x.type=="string"?y:Op(y),x):l(y,x)}function d(p,x){return Pf(u(p,x),x)}function f(p){for(var x=[],y=Aa(p["!ref"]),m,w=Array.isArray(p),v=y.s.r;v<=y.e.r;++v){for(var N=[],S=y.s.c;S<=y.e.c;++S){var k=sa({r:v,c:S});if(m=w?(p[v]||[])[S]:p[k],!m||m.v==null){N.push("          ");continue}for(var _=(m.w||(Cu(m),m.w)||"").slice(0,10);_.length<10;)_+=" ";N.push(_+(S===0?" ":""))}x.push(N.join(""))}return x.join(`
`)}return{to_workbook:d,to_sheet:u,from_sheet:f}}(),K3=function(){function e(D,z,q){if(D){ko(D,D.l||0);for(var X=q.Enum||H;D.l<D.length;){var se=D.read_shift(2),Se=X[se]||X[65535],fe=D.read_shift(2),G=D.l+fe,be=Se.f&&Se.f(D,fe,q);if(D.l=G,z(be,Se,se))return}}}function r(D,z){switch(z.type){case"base64":return t(Ll(Au(D)),z);case"binary":return t(Ll(D),z);case"buffer":case"array":return t(D,z)}throw"Unsupported type "+z.type}function t(D,z){if(!D)return D;var q=z||{},X=q.dense?[]:{},se="Sheet1",Se="",fe=0,G={},be=[],Fe=[],De={s:{r:0,c:0},e:{r:0,c:0}},lt=q.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)q.Enum=H,e(D,function(Qe,at,pt){switch(pt){case 0:q.vers=Qe,Qe>=4096&&(q.qpro=!0);break;case 6:De=Qe;break;case 204:Qe&&(Se=Qe);break;case 222:Se=Qe;break;case 15:case 51:q.qpro||(Qe[1].v=Qe[1].v.slice(1));case 13:case 14:case 16:pt==14&&(Qe[2]&112)==112&&(Qe[2]&15)>1&&(Qe[2]&15)<15&&(Qe[1].z=q.dateNF||ns[14],q.cellDates&&(Qe[1].t="d",Qe[1].v=vT(Qe[1].v))),q.qpro&&Qe[3]>fe&&(X["!ref"]=As(De),G[se]=X,be.push(se),X=q.dense?[]:{},De={s:{r:0,c:0},e:{r:0,c:0}},fe=Qe[3],se=Se||"Sheet"+(fe+1),Se="");var Ze=q.dense?(X[Qe[0].r]||[])[Qe[0].c]:X[sa(Qe[0])];if(Ze){Ze.t=Qe[1].t,Ze.v=Qe[1].v,Qe[1].z!=null&&(Ze.z=Qe[1].z),Qe[1].f!=null&&(Ze.f=Qe[1].f);break}q.dense?(X[Qe[0].r]||(X[Qe[0].r]=[]),X[Qe[0].r][Qe[0].c]=Qe[1]):X[sa(Qe[0])]=Qe[1];break}},q);else if(D[2]==26||D[2]==14)q.Enum=ne,D[2]==14&&(q.qpro=!0,D.l=0),e(D,function(Qe,at,pt){switch(pt){case 204:se=Qe;break;case 22:Qe[1].v=Qe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Qe[3]>fe&&(X["!ref"]=As(De),G[se]=X,be.push(se),X=q.dense?[]:{},De={s:{r:0,c:0},e:{r:0,c:0}},fe=Qe[3],se="Sheet"+(fe+1)),lt>0&&Qe[0].r>=lt)break;q.dense?(X[Qe[0].r]||(X[Qe[0].r]=[]),X[Qe[0].r][Qe[0].c]=Qe[1]):X[sa(Qe[0])]=Qe[1],De.e.c<Qe[0].c&&(De.e.c=Qe[0].c),De.e.r<Qe[0].r&&(De.e.r=Qe[0].r);break;case 27:Qe[14e3]&&(Fe[Qe[14e3][0]]=Qe[14e3][1]);break;case 1537:Fe[Qe[0]]=Qe[1],Qe[0]==fe&&(se=Qe[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(X["!ref"]=As(De),G[Se||se]=X,be.push(Se||se),!Fe.length)return{SheetNames:be,Sheets:G};for(var ft={},Pe=[],xe=0;xe<Fe.length;++xe)G[be[xe]]?(Pe.push(Fe[xe]||be[xe]),ft[Fe[xe]]=G[Fe[xe]]||G[be[xe]]):(Pe.push(Fe[xe]),ft[Fe[xe]]={"!ref":"A1"});return{SheetNames:Pe,Sheets:ft}}function n(D,z){var q=z||{};if(+q.codepage>=0&&Yp(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var X=so(),se=Aa(D["!ref"]),Se=Array.isArray(D),fe=[];ir(X,0,s(1030)),ir(X,6,d(se));for(var G=Math.min(se.e.r,8191),be=se.s.r;be<=G;++be)for(var Fe=di(be),De=se.s.c;De<=se.e.c;++De){be===se.s.r&&(fe[De]=Ci(De));var lt=fe[De]+Fe,ft=Se?(D[be]||[])[De]:D[lt];if(!(!ft||ft.t=="z"))if(ft.t=="n")(ft.v|0)==ft.v&&ft.v>=-32768&&ft.v<=32767?ir(X,13,m(be,De,ft.v)):ir(X,14,v(be,De,ft.v));else{var Pe=Cu(ft);ir(X,15,x(be,De,Pe.slice(0,239)))}}return ir(X,1),X.end()}function a(D,z){var q=z||{};if(+q.codepage>=0&&Yp(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var X=so();ir(X,0,l(D));for(var se=0,Se=0;se<D.SheetNames.length;++se)(D.Sheets[D.SheetNames[se]]||{})["!ref"]&&ir(X,27,ee(D.SheetNames[se],Se++));var fe=0;for(se=0;se<D.SheetNames.length;++se){var G=D.Sheets[D.SheetNames[se]];if(!(!G||!G["!ref"])){for(var be=Aa(G["!ref"]),Fe=Array.isArray(G),De=[],lt=Math.min(be.e.r,8191),ft=be.s.r;ft<=lt;++ft)for(var Pe=di(ft),xe=be.s.c;xe<=be.e.c;++xe){ft===be.s.r&&(De[xe]=Ci(xe));var Qe=De[xe]+Pe,at=Fe?(G[ft]||[])[xe]:G[Qe];if(!(!at||at.t=="z"))if(at.t=="n")ir(X,23,O(ft,xe,fe,at.v));else{var pt=Cu(at);ir(X,22,P(ft,xe,fe,pt.slice(0,239)))}}++fe}}return ir(X,1),X.end()}function s(D){var z=kt(2);return z.write_shift(2,D),z}function l(D){var z=kt(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var q=0,X=0,se=0,Se=0;Se<D.SheetNames.length;++Se){var fe=D.SheetNames[Se],G=D.Sheets[fe];if(!(!G||!G["!ref"])){++se;var be=Ro(G["!ref"]);q<be.e.r&&(q=be.e.r),X<be.e.c&&(X=be.e.c)}}return q>8191&&(q=8191),z.write_shift(2,q),z.write_shift(1,se),z.write_shift(1,X),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function u(D,z,q){var X={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&q.qpro?(X.s.c=D.read_shift(1),D.l++,X.s.r=D.read_shift(2),X.e.c=D.read_shift(1),D.l++,X.e.r=D.read_shift(2),X):(X.s.c=D.read_shift(2),X.s.r=D.read_shift(2),z==12&&q.qpro&&(D.l+=2),X.e.c=D.read_shift(2),X.e.r=D.read_shift(2),z==12&&q.qpro&&(D.l+=2),X.s.c==65535&&(X.s.c=X.e.c=X.s.r=X.e.r=0),X)}function d(D){var z=kt(8);return z.write_shift(2,D.s.c),z.write_shift(2,D.s.r),z.write_shift(2,D.e.c),z.write_shift(2,D.e.r),z}function f(D,z,q){var X=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(X[0].c=D.read_shift(1),X[3]=D.read_shift(1),X[0].r=D.read_shift(2),D.l+=2):(X[2]=D.read_shift(1),X[0].c=D.read_shift(2),X[0].r=D.read_shift(2)),X}function p(D,z,q){var X=D.l+z,se=f(D,z,q);if(se[1].t="s",q.vers==20768){D.l++;var Se=D.read_shift(1);return se[1].v=D.read_shift(Se,"utf8"),se}return q.qpro&&D.l++,se[1].v=D.read_shift(X-D.l,"cstr"),se}function x(D,z,q){var X=kt(7+q.length);X.write_shift(1,255),X.write_shift(2,z),X.write_shift(2,D),X.write_shift(1,39);for(var se=0;se<X.length;++se){var Se=q.charCodeAt(se);X.write_shift(1,Se>=128?95:Se)}return X.write_shift(1,0),X}function y(D,z,q){var X=f(D,z,q);return X[1].v=D.read_shift(2,"i"),X}function m(D,z,q){var X=kt(7);return X.write_shift(1,255),X.write_shift(2,z),X.write_shift(2,D),X.write_shift(2,q,"i"),X}function w(D,z,q){var X=f(D,z,q);return X[1].v=D.read_shift(8,"f"),X}function v(D,z,q){var X=kt(13);return X.write_shift(1,255),X.write_shift(2,z),X.write_shift(2,D),X.write_shift(8,q,"f"),X}function N(D,z,q){var X=D.l+z,se=f(D,z,q);if(se[1].v=D.read_shift(8,"f"),q.qpro)D.l=X;else{var Se=D.read_shift(2);A(D.slice(D.l,D.l+Se),se),D.l+=Se}return se}function S(D,z,q){var X=z&32768;return z&=-32769,z=(X?D:0)+(z>=8192?z-16384:z),(X?"":"$")+(q?Ci(z):di(z))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function A(D,z){ko(D,0);for(var q=[],X=0,se="",Se="",fe="",G="";D.l<D.length;){var be=D[D.l++];switch(be){case 0:q.push(D.read_shift(8,"f"));break;case 1:Se=S(z[0].c,D.read_shift(2),!0),se=S(z[0].r,D.read_shift(2),!1),q.push(Se+se);break;case 2:{var Fe=S(z[0].c,D.read_shift(2),!0),De=S(z[0].r,D.read_shift(2),!1);Se=S(z[0].c,D.read_shift(2),!0),se=S(z[0].r,D.read_shift(2),!1),q.push(Fe+De+":"+Se+se)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(D.read_shift(2));break;case 6:{for(var lt="";be=D[D.l++];)lt+=String.fromCharCode(be);q.push('"'+lt.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:G=q.pop(),fe=q.pop(),q.push(["AND","OR"][be-20]+"("+fe+","+G+")");break;default:if(be<32&&_[be])G=q.pop(),fe=q.pop(),q.push(fe+_[be]+G);else if(k[be]){if(X=k[be][1],X==69&&(X=D[D.l++]),X>q.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+q.join("|")+"|");return}var ft=q.slice(-X);q.length-=X,q.push(k[be][0]+"("+ft.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}q.length==1?z[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function R(D){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=D.read_shift(2),z[3]=D[D.l++],z[0].c=D[D.l++],z}function V(D,z){var q=R(D);return q[1].t="s",q[1].v=D.read_shift(z-4,"cstr"),q}function P(D,z,q,X){var se=kt(6+X.length);se.write_shift(2,D),se.write_shift(1,q),se.write_shift(1,z),se.write_shift(1,39);for(var Se=0;Se<X.length;++Se){var fe=X.charCodeAt(Se);se.write_shift(1,fe>=128?95:fe)}return se.write_shift(1,0),se}function I(D,z){var q=R(D);q[1].v=D.read_shift(2);var X=q[1].v>>1;if(q[1].v&1)switch(X&7){case 0:X=(X>>3)*5e3;break;case 1:X=(X>>3)*500;break;case 2:X=(X>>3)/20;break;case 3:X=(X>>3)/200;break;case 4:X=(X>>3)/2e3;break;case 5:X=(X>>3)/2e4;break;case 6:X=(X>>3)/16;break;case 7:X=(X>>3)/64;break}return q[1].v=X,q}function B(D,z){var q=R(D),X=D.read_shift(4),se=D.read_shift(4),Se=D.read_shift(2);if(Se==65535)return X===0&&se===3221225472?(q[1].t="e",q[1].v=15):X===0&&se===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var fe=Se&32768;return Se=(Se&32767)-16446,q[1].v=(1-fe*2)*(se*Math.pow(2,Se+32)+X*Math.pow(2,Se)),q}function O(D,z,q,X){var se=kt(14);if(se.write_shift(2,D),se.write_shift(1,q),se.write_shift(1,z),X==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var Se=0,fe=0,G=0,be=0;return X<0&&(Se=1,X=-X),fe=Math.log2(X)|0,X/=Math.pow(2,fe-31),be=X>>>0,(be&2147483648)==0&&(X/=2,++fe,be=X>>>0),X-=be,be|=2147483648,be>>>=0,X*=Math.pow(2,32),G=X>>>0,se.write_shift(4,G),se.write_shift(4,be),fe+=16383+(Se?32768:0),se.write_shift(2,fe),se}function L(D,z){var q=B(D);return D.l+=z-14,q}function C(D,z){var q=R(D),X=D.read_shift(4);return q[1].v=X>>6,q}function Y(D,z){var q=R(D),X=D.read_shift(8,"f");return q[1].v=X,q}function Q(D,z){var q=Y(D);return D.l+=z-10,q}function ce(D,z){return D[D.l+z-1]==0?D.read_shift(z,"cstr"):""}function W(D,z){var q=D[D.l++];q>z-1&&(q=z-1);for(var X="";X.length<q;)X+=String.fromCharCode(D[D.l++]);return X}function J(D,z,q){if(!(!q.qpro||z<21)){var X=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var se=D.read_shift(z-21,"cstr");return[X,se]}}function re(D,z){for(var q={},X=D.l+z;D.l<X;){var se=D.read_shift(2);if(se==14e3){for(q[se]=[0,""],q[se][0]=D.read_shift(2);D[D.l];)q[se][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return q}function ee(D,z){var q=kt(5+D.length);q.write_shift(2,14e3),q.write_shift(2,z);for(var X=0;X<D.length;++X){var se=D.charCodeAt(X);q[q.l++]=se>127?95:se}return q[q.l++]=0,q}var H={0:{n:"BOF",f:JT},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:u},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:w},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:N},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ce},222:{n:"SHEETNAMELP",f:W},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:V},23:{n:"NUMBER17",f:B},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:Y},40:{n:"FORMULA28",f:Q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:r}}(),LR=/^\s|\s$|[\t\n\r]/;function nk(e,r){if(!r.bookSST)return"";var t=[Cs];t[t.length]=sr("sst",null,{xmlns:l0[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],s="<si>";a.r?s+=a.r:(s+="<t",a.t||(a.t=""),a.t.match(LR)&&(s+=' xml:space="preserve"'),s+=">"+na(a.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function RR(e){return[e.read_shift(4),e.read_shift(4)]}function MR(e,r){return r||(r=kt(8)),r.write_shift(4,e.Count),r.write_shift(4,e.Unique),r}var FR=kL;function PR(e){var r=so();Vt(r,159,MR(e));for(var t=0;t<e.length;++t)Vt(r,19,FR(e[t]));return Vt(r,160),r.end()}function BR(e){for(var r=[],t=e.split(""),n=0;n<t.length;++n)r[n]=t[n].charCodeAt(0);return r}function ak(e){var r=0,t,n=BR(e),a=n.length+1,s,l,u,d,f;for(t=jf(a),t[0]=n.length,s=1;s!=a;++s)t[s]=n[s-1];for(s=a-1;s>=0;--s)l=t[s],u=(r&16384)===0?0:1,d=r<<1&32767,f=u|d,r=f^l;return r^52811}var IR=function(){function e(a,s){switch(s.type){case"base64":return r(Au(a),s);case"binary":return r(a,s);case"buffer":return r(Vn&&Buffer.isBuffer(a)?a.toString("binary"):gm(a),s);case"array":return r(Ix(a),s)}throw new Error("Unrecognized type "+s.type)}function r(a,s){var l=s||{},u=l.dense?[]:{},d=a.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,x){Array.isArray(u)&&(u[x]=[]);for(var y=/\\\w+\b/g,m=0,w,v=-1;w=y.exec(p);){switch(w[0]){case"\\cell":var N=p.slice(m,y.lastIndex-w[0].length);if(N[0]==" "&&(N=N.slice(1)),++v,N.length){var S={v:N,t:"s"};Array.isArray(u)?u[x][v]=S:u[sa({r:x,c:v})]=S}break}m=y.lastIndex}v>f.e.c&&(f.e.c=v)}),u["!ref"]=As(f),u}function t(a,s){return Pf(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],l=Aa(a["!ref"]),u,d=Array.isArray(a),f=l.s.r;f<=l.e.r;++f){s.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)s.push("\\cellx"+(p+1));for(s.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var x=sa({r:f,c:p});u=d?(a[f]||[])[p]:a[x],!(!u||u.v==null&&(!u.f||u.F))&&(s.push(" "+(u.w||(Cu(u),u.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:e,from_sheet:n}}();function J3(e){for(var r=0,t=1;r!=3;++r)t=t*256+(e[r]>255?255:e[r]<0?0:e[r]);return t.toString(16).toUpperCase().slice(1)}var $R=6,wu=$R;function rx(e){return Math.floor((e+Math.round(128/wu)/256)*wu)}function nx(e){return Math.floor((e-5)/wu*100+.5)/100}function zv(e){return Math.round((e*wu+5)/wu*256)/256}function Qb(e){e.width?(e.wpx=rx(e.width),e.wch=nx(e.wpx),e.MDW=wu):e.wpx?(e.wch=nx(e.wpx),e.width=zv(e.wch),e.MDW=wu):typeof e.wch=="number"&&(e.width=zv(e.wch),e.wpx=rx(e.width),e.MDW=wu),e.customWidth&&delete e.customWidth}var zR=96,sk=zR;function ax(e){return e*96/sk}function ik(e){return e*sk/96}function UR(e){var r=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var n=t[0];n<=t[1];++n)e[n]!=null&&(r[r.length]=sr("numFmt",null,{numFmtId:n,formatCode:na(e[n])}))}),r.length===1?"":(r[r.length]="</numFmts>",r[0]=sr("numFmts",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function HR(e){var r=[];return r[r.length]=sr("cellXfs",null),e.forEach(function(t){r[r.length]=sr("xf",null,t)}),r[r.length]="</cellXfs>",r.length===2?"":(r[0]=sr("cellXfs",null,{count:r.length-2}).replace("/>",">"),r.join(""))}function ok(e,r){var t=[Cs,sr("styleSheet",null,{xmlns:l0[0],"xmlns:vt":Ys.vt})],n;return e.SSF&&(n=UR(e.SSF))!=null&&(t[t.length]=n),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=HR(r.cellXfs))&&(t[t.length]=n),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function WR(e,r){var t=e.read_shift(2),n=Di(e);return[t,n]}function VR(e,r,t){t||(t=kt(6+4*r.length)),t.write_shift(2,e),Xs(r,t);var n=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),n}function qR(e,r,t){var n={};n.sz=e.read_shift(2)/20;var a=LL(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var u=e.read_shift(1);u>0&&(n.family=u);var d=e.read_shift(1);switch(d>0&&(n.charset=d),e.l++,n.color=OL(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Di(e),n}function YR(e,r){r||(r=kt(25+4*32)),r.write_shift(2,e.sz*20),RL(e,r),r.write_shift(2,e.bold?700:400);var t=0;e.vertAlign=="superscript"?t=1:e.vertAlign=="subscript"&&(t=2),r.write_shift(2,t),r.write_shift(1,e.underline||0),r.write_shift(1,e.family||0),r.write_shift(1,e.charset||0),r.write_shift(1,0),ex(e.color,r);var n=0;return n=2,r.write_shift(1,n),Xs(e.name,r),r.length>r.l?r.slice(0,r.l):r}var GR=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Wy,XR=Bc;function Q3(e,r){r||(r=kt(4*3+8*7+16*1)),Wy||(Wy=$b(GR));var t=Wy[e.patternType];t==null&&(t=40),r.write_shift(4,t);var n=0;if(t!=40)for(ex({auto:1},r),ex({auto:1},r);n<12;++n)r.write_shift(4,0);else{for(;n<4;++n)r.write_shift(4,0);for(;n<12;++n)r.write_shift(4,0)}return r.length>r.l?r.slice(0,r.l):r}function KR(e,r){var t=e.l+r,n=e.read_shift(2),a=e.read_shift(2);return e.l=t,{ixfe:n,numFmtId:a}}function lk(e,r,t){t||(t=kt(16)),t.write_shift(2,r||0),t.write_shift(2,e.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var n=0;return t.write_shift(1,n),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function hp(e,r){return r||(r=kt(10)),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(4,0),r}var JR=Bc;function QR(e,r){return r||(r=kt(51)),r.write_shift(1,0),hp(null,r),hp(null,r),hp(null,r),hp(null,r),hp(null,r),r.length>r.l?r.slice(0,r.l):r}function ZR(e,r){return r||(r=kt(12+4*10)),r.write_shift(4,e.xfId),r.write_shift(2,1),r.write_shift(1,0),r.write_shift(1,0),Z1(e.name||"",r),r.length>r.l?r.slice(0,r.l):r}function eM(e,r,t){var n=kt(2052);return n.write_shift(4,e),Z1(r,n),Z1(t,n),n.length>n.l?n.slice(0,n.l):n}function tM(e,r){if(r){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)r[a]!=null&&++t}),t!=0&&(Vt(e,615,Ml(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)r[a]!=null&&Vt(e,44,VR(a,r[a]))}),Vt(e,616))}}function rM(e){var r=1;Vt(e,611,Ml(r)),Vt(e,43,YR({sz:12,color:{theme:1},name:"Calibri",family:2})),Vt(e,612)}function nM(e){var r=2;Vt(e,603,Ml(r)),Vt(e,45,Q3({patternType:"none"})),Vt(e,45,Q3({patternType:"gray125"})),Vt(e,604)}function aM(e){var r=1;Vt(e,613,Ml(r)),Vt(e,46,QR()),Vt(e,614)}function sM(e){var r=1;Vt(e,626,Ml(r)),Vt(e,47,lk({numFmtId:0},65535)),Vt(e,627)}function iM(e,r){Vt(e,617,Ml(r.length)),r.forEach(function(t){Vt(e,47,lk(t,0))}),Vt(e,618)}function oM(e){var r=1;Vt(e,619,Ml(r)),Vt(e,48,ZR({xfId:0,name:"Normal"})),Vt(e,620)}function lM(e){var r=0;Vt(e,505,Ml(r)),Vt(e,506)}function cM(e){var r=0;Vt(e,508,eM(r,"TableStyleMedium9","PivotStyleMedium4")),Vt(e,509)}function uM(e,r){var t=so();return Vt(t,278),tM(t,e.SSF),rM(t),nM(t),aM(t),sM(t),iM(t,r.cellXfs),oM(t),lM(t),cM(t),Vt(t,279),t.end()}function ck(e,r){if(r&&r.themeXLSX)return r.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var t=[Cs];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',t[t.length]='<a:font script="Hang" typeface="맑은 고딕"/>',t[t.length]='<a:font script="Hans" typeface="宋体"/>',t[t.length]='<a:font script="Hant" typeface="新細明體"/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function dM(e,r){return{flags:e.read_shift(4),version:e.read_shift(4),name:Di(e)}}function fM(e){var r=kt(12+2*e.name.length);return r.write_shift(4,e.flags),r.write_shift(4,e.version),Xs(e.name,r),r.slice(0,r.l)}function hM(e){for(var r=[],t=e.read_shift(4);t-- >0;)r.push([e.read_shift(4),e.read_shift(4)]);return r}function pM(e){var r=kt(4+8*e.length);r.write_shift(4,e.length);for(var t=0;t<e.length;++t)r.write_shift(4,e[t][0]),r.write_shift(4,e[t][1]);return r}function mM(e,r){var t=kt(8+2*r.length);return t.write_shift(4,e),Xs(r,t),t.slice(0,t.l)}function gM(e){return e.l+=4,e.read_shift(4)!=0}function xM(e,r){var t=kt(8);return t.write_shift(4,e),t.write_shift(4,1),t}function yM(){var e=so();return Vt(e,332),Vt(e,334,Ml(1)),Vt(e,335,fM({name:"XLDAPR",version:12e4,flags:3496657072})),Vt(e,336),Vt(e,339,mM(1,"XLDAPR")),Vt(e,52),Vt(e,35,Ml(514)),Vt(e,4096,Ml(0)),Vt(e,4097,Qo(1)),Vt(e,36),Vt(e,53),Vt(e,340),Vt(e,337,xM(1)),Vt(e,51,pM([[1,0]])),Vt(e,338),Vt(e,333),e.end()}function uk(){var e=[Cs];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function vM(e){var r={};r.i=e.read_shift(4);var t={};t.r=e.read_shift(4),t.c=e.read_shift(4),r.r=sa(t);var n=e.read_shift(1);return n&2&&(r.l="1"),n&8&&(r.a="1"),r}var Fh=1024;function dk(e,r){for(var t=[21600,21600],n=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[sr("xml",null,{"xmlns:v":jo.v,"xmlns:o":jo.o,"xmlns:x":jo.x,"xmlns:mv":jo.mv}).replace(/\/>/,">"),sr("o:shapelayout",sr("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),sr("v:shapetype",[sr("v:stroke",null,{joinstyle:"miter"}),sr("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:n})];Fh<e*1e3;)Fh+=1e3;return r.forEach(function(s){var l=Gs(s[0]),u={color2:"#BEFF82",type:"gradient"};u.type=="gradient"&&(u.angle="-180");var d=u.type=="gradient"?sr("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=sr("v:fill",d,u),p={on:"t",obscured:"t"};++Fh,a=a.concat(["<v:shape"+Jp({id:"_x0000_s"+Fh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,sr("v:shadow",null,p),sr("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ui("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),ui("x:AutoFill","False"),ui("x:Row",String(l.r)),ui("x:Column",String(l.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function fk(e){var r=[Cs,sr("comments",null,{xmlns:l0[0]})],t=[];return r.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var s=na(a.a);t.indexOf(s)==-1&&(t.push(s),r.push("<author>"+s+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),r.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),r.push("<author>SheetJ5</author>")),r.push("</authors>"),r.push("<commentList>"),e.forEach(function(n){var a=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=t.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(a=t.indexOf(na(d.a))),s.push(d.t||"")}),r.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),s.length<=1)r.push(ui("t",na(s[0]||"")));else{for(var l=`Comment:
    `+s[0]+`
`,u=1;u<s.length;++u)l+=`Reply:
    `+s[u]+`
`;r.push(ui("t",na(l)))}r.push("</text></comment>")}),r.push("</commentList>"),r.length>2&&(r[r.length]="</comments>",r[1]=r[1].replace("/>",">")),r.join("")}function bM(e,r,t){var n=[Cs,sr("ThreadedComments",null,{xmlns:Ys.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var s="";(a[1]||[]).forEach(function(l,u){if(!l.T){delete l.ID;return}l.a&&r.indexOf(l.a)==-1&&r.push(l.a);var d={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};u==0?s=d.id:d.parentId=s,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+r.indexOf(l.a)).slice(-12)+"}"),n.push(sr("threadedComment",ui("text",l.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function wM(e){var r=[Cs,sr("personList",null,{xmlns:Ys.TCMNT,"xmlns:x":l0[0]}).replace(/[\/]>/,">")];return e.forEach(function(t,n){r.push(sr("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:t,providerId:"None"}))}),r.push("</personList>"),r.join("")}function NM(e){var r={};r.iauthor=e.read_shift(4);var t=zf(e);return r.rfx=t.s,r.ref=sa(t.s),e.l+=16,r}function SM(e,r){return r==null&&(r=kt(36)),r.write_shift(4,e[1].iauthor),u0(e[0],r),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r}var _M=Di;function TM(e){return Xs(e.slice(0,54))}function kM(e){var r=so(),t=[];return Vt(r,628),Vt(r,630),e.forEach(function(n){n[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),Vt(r,632,TM(a.a)))})}),Vt(r,631),Vt(r,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var s={s:Gs(n[0]),e:Gs(n[0])};Vt(r,635,SM([s,a])),a.t&&a.t.length>0&&Vt(r,637,EL(a)),Vt(r,636),delete a.iauthor})}),Vt(r,634),Vt(r,629),r.end()}function jM(e,r){r.FullPaths.forEach(function(t,n){if(n!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&fa.utils.cfb_add(e,a,r.FileIndex[n].content)}})}var hk=["xlsb","xlsm","xlam","biff8","xla"],EM=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,r={r:0,c:0};function t(n,a,s,l){var u=!1,d=!1;s.length==0?d=!0:s.charAt(0)=="["&&(d=!0,s=s.slice(1,-1)),l.length==0?u=!0:l.charAt(0)=="["&&(u=!0,l=l.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return u?p+=r.c:--p,d?f+=r.r:--f,a+(u?"":"$")+Ci(p)+(d?"":"$")+di(f)}return function(a,s){return r=s,a.replace(e,t)}}(),Zb=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ew=function(){return function(r,t){return r.replace(Zb,function(n,a,s,l,u,d){var f=Yb(l)-(s?0:t.c),p=qb(d)-(u?0:t.r),x=p==0?"":u?p+1:"["+p+"]",y=f==0?"":s?f+1:"["+f+"]";return a+"R"+x+"C"+y})}}();function AM(e,r){return e.replace(Zb,function(t,n,a,s,l,u){return n+(a=="$"?a+s:Ci(Yb(s)+r.c))+(l=="$"?l+u:di(qb(u)+r.r))})}function CM(e){return e.length!=1}function ks(e){e.l+=1}function kd(e,r){var t=e.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function pk(e,r,t){var n=2;if(t){if(t.biff>=2&&t.biff<=5)return mk(e);t.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),l=kd(e),u=kd(e);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function mk(e){var r=kd(e),t=kd(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:r[0],c:n,cRel:r[1],rRel:r[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function DM(e,r,t){if(t.biff<8)return mk(e);var n=e.read_shift(t.biff==12?4:2),a=e.read_shift(t.biff==12?4:2),s=kd(e),l=kd(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function gk(e,r,t){if(t&&t.biff>=2&&t.biff<=5)return OM(e);var n=e.read_shift(t&&t.biff==12?4:2),a=kd(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function OM(e){var r=kd(e),t=e.read_shift(1);return{r:r[0],c:t,cRel:r[1],rRel:r[2]}}function LM(e){var r=e.read_shift(2),t=e.read_shift(2);return{r,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function RM(e,r,t){var n=t&&t.biff?t.biff:8;if(n>=2&&n<=5)return MM(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),l=(s&16384)>>14,u=(s&32768)>>15;if(s&=16383,u==1)for(;a>524287;)a-=1048576;if(l==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:l,rRel:u}}function MM(e){var r=e.read_shift(2),t=e.read_shift(1),n=(r&32768)>>15,a=(r&16384)>>14;return r&=16383,n==1&&r>=8192&&(r=r-16384),a==1&&t>=128&&(t=t-256),{r,c:t,cRel:a,rRel:n}}function FM(e,r,t){var n=(e[e.l++]&96)>>5,a=pk(e,t.biff>=2&&t.biff<=5?6:8,t);return[n,a]}function PM(e,r,t){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var l=pk(e,s,t);return[n,a,l]}function BM(e,r,t){var n=(e[e.l++]&96)>>5;return e.l+=t&&t.biff>8?12:t.biff<8?6:8,[n]}function IM(e,r,t){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(t)switch(t.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function $M(e,r,t){var n=(e[e.l++]&96)>>5,a=DM(e,r-1,t);return[n,a]}function zM(e,r,t){var n=(e[e.l++]&96)>>5;return e.l+=t.biff==2?6:t.biff==12?14:7,[n]}function Z3(e){var r=e[e.l+1]&1,t=1;return e.l+=4,[r,t]}function UM(e,r,t){e.l+=2;for(var n=e.read_shift(t&&t.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(t&&t.biff==2?1:2));return a}function HM(e,r,t){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(t&&t.biff==2?1:2)]}function WM(e,r,t){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(t&&t.biff==2?1:2)]}function VM(e){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(2)]}function qM(e,r,t){var n=e[e.l+1]&255?1:0;return e.l+=t&&t.biff==2?3:4,[n]}function xk(e){var r=e.read_shift(1),t=e.read_shift(1);return[r,t]}function YM(e){return e.read_shift(2),xk(e)}function GM(e){return e.read_shift(2),xk(e)}function XM(e,r,t){var n=(e[e.l]&96)>>5;e.l+=1;var a=gk(e,0,t);return[n,a]}function KM(e,r,t){var n=(e[e.l]&96)>>5;e.l+=1;var a=RM(e,0,t);return[n,a]}function JM(e,r,t){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);t&&t.biff==5&&(e.l+=12);var s=gk(e,0,t);return[n,a,s]}function QM(e,r,t){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(t&&t.biff<=3?1:2);return[QF[a],bk[a],n]}function ZM(e,r,t){var n=e[e.l++],a=e.read_shift(1),s=t&&t.biff<=3?[n==88?-1:0,e.read_shift(1)]:eF(e);return[a,(s[0]===0?bk:JF)[s[1]]]}function eF(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function tF(e,r,t){e.l+=t&&t.biff==2?3:4}function rF(e,r,t){if(e.l++,t&&t.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(t&&t.biff==2?1:2);return[n,a]}function nF(e){return e.l++,vm[e.read_shift(1)]}function aF(e){return e.l++,e.read_shift(2)}function sF(e){return e.l++,e.read_shift(1)!==0}function iF(e){return e.l++,d0(e)}function oF(e,r,t){return e.l++,ZT(e,r-1,t)}function lF(e,r){var t=[e.read_shift(1)];if(r==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=JL(e,1)?"TRUE":"FALSE",r!=12&&(e.l+=7);break;case 37:case 16:t[1]=vm[e[e.l]],e.l+=r==12?4:8;break;case 0:e.l+=8;break;case 1:t[1]=d0(e);break;case 2:t[1]=tR(e,0,{biff:r>0&&r<8?2:r});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function cF(e,r,t){for(var n=e.read_shift(t.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((t.biff==12?zf:aR)(e));return a}function uF(e,r,t){var n=0,a=0;t.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),t.biff>=2&&t.biff<8&&(--n,--a==0&&(a=256));for(var s=0,l=[];s!=n&&(l[s]=[]);++s)for(var u=0;u!=a;++u)l[s][u]=lF(e,t.biff);return l}function dF(e,r,t){var n=e.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,s=e.read_shift(a);switch(t.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function fF(e,r,t){if(t.biff==5)return hF(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function hF(e){var r=e.read_shift(1)>>>5&3,t=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[r,t,n]}function pF(e,r,t){var n=e.read_shift(1)>>>5&3;e.l+=t&&t.biff==2?3:4;var a=e.read_shift(t&&t.biff==2?1:2);return[n,a]}function mF(e,r,t){var n=e.read_shift(1)>>>5&3,a=e.read_shift(t&&t.biff==2?1:2);return[n,a]}function gF(e,r,t){var n=e.read_shift(1)>>>5&3;return e.l+=4,t.biff<8&&e.l--,t.biff==12&&(e.l+=2),[n]}function xF(e,r,t){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var yF=Bc,vF=Bc,bF=Bc;function bm(e,r,t){return e.l+=2,[LM(e)]}function tw(e){return e.l+=6,[]}var wF=bm,NF=tw,SF=tw,_F=bm;function yk(e){return e.l+=2,[JT(e),e.read_shift(2)&1]}var TF=bm,kF=yk,jF=tw,EF=bm,AF=bm,CF=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function DF(e){e.l+=2;var r=e.read_shift(2),t=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),l=CF[t>>2&31];return{ixti:r,coltype:t&3,rt:l,idx:n,c:a,C:s}}function OF(e){return e.l+=2,[e.read_shift(4)]}function LF(e,r,t){return e.l+=5,e.l+=2,e.l+=t.biff==2?1:4,["PTGSHEET"]}function RF(e,r,t){return e.l+=t.biff==2?4:5,["PTGENDSHEET"]}function MF(e){var r=e.read_shift(1)>>>5&3,t=e.read_shift(2);return[r,t]}function FF(e){var r=e.read_shift(1)>>>5&3,t=e.read_shift(2);return[r,t]}function PF(e){return e.l+=4,[0,0]}var eN={1:{n:"PtgExp",f:rF},2:{n:"PtgTbl",f:bF},3:{n:"PtgAdd",f:ks},4:{n:"PtgSub",f:ks},5:{n:"PtgMul",f:ks},6:{n:"PtgDiv",f:ks},7:{n:"PtgPower",f:ks},8:{n:"PtgConcat",f:ks},9:{n:"PtgLt",f:ks},10:{n:"PtgLe",f:ks},11:{n:"PtgEq",f:ks},12:{n:"PtgGe",f:ks},13:{n:"PtgGt",f:ks},14:{n:"PtgNe",f:ks},15:{n:"PtgIsect",f:ks},16:{n:"PtgUnion",f:ks},17:{n:"PtgRange",f:ks},18:{n:"PtgUplus",f:ks},19:{n:"PtgUminus",f:ks},20:{n:"PtgPercent",f:ks},21:{n:"PtgParen",f:ks},22:{n:"PtgMissArg",f:ks},23:{n:"PtgStr",f:oF},26:{n:"PtgSheet",f:LF},27:{n:"PtgEndSheet",f:RF},28:{n:"PtgErr",f:nF},29:{n:"PtgBool",f:sF},30:{n:"PtgInt",f:aF},31:{n:"PtgNum",f:iF},32:{n:"PtgArray",f:zM},33:{n:"PtgFunc",f:QM},34:{n:"PtgFuncVar",f:ZM},35:{n:"PtgName",f:dF},36:{n:"PtgRef",f:XM},37:{n:"PtgArea",f:FM},38:{n:"PtgMemArea",f:pF},39:{n:"PtgMemErr",f:yF},40:{n:"PtgMemNoMem",f:vF},41:{n:"PtgMemFunc",f:mF},42:{n:"PtgRefErr",f:gF},43:{n:"PtgAreaErr",f:BM},44:{n:"PtgRefN",f:KM},45:{n:"PtgAreaN",f:$M},46:{n:"PtgMemAreaN",f:MF},47:{n:"PtgMemNoMemN",f:FF},57:{n:"PtgNameX",f:fF},58:{n:"PtgRef3d",f:JM},59:{n:"PtgArea3d",f:PM},60:{n:"PtgRefErr3d",f:xF},61:{n:"PtgAreaErr3d",f:IM},255:{}},BF={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},IF={1:{n:"PtgElfLel",f:yk},2:{n:"PtgElfRw",f:EF},3:{n:"PtgElfCol",f:wF},6:{n:"PtgElfRwV",f:AF},7:{n:"PtgElfColV",f:_F},10:{n:"PtgElfRadical",f:TF},11:{n:"PtgElfRadicalS",f:jF},13:{n:"PtgElfColS",f:NF},15:{n:"PtgElfColSV",f:SF},16:{n:"PtgElfRadicalLel",f:kF},25:{n:"PtgList",f:DF},29:{n:"PtgSxName",f:OF},255:{}},$F={0:{n:"PtgAttrNoop",f:PF},1:{n:"PtgAttrSemi",f:qM},2:{n:"PtgAttrIf",f:WM},4:{n:"PtgAttrChoose",f:UM},8:{n:"PtgAttrGoto",f:HM},16:{n:"PtgAttrSum",f:tF},32:{n:"PtgAttrBaxcel",f:Z3},33:{n:"PtgAttrBaxcel",f:Z3},64:{n:"PtgAttrSpace",f:YM},65:{n:"PtgAttrSpaceSemi",f:GM},128:{n:"PtgAttrIfError",f:VM},255:{}};function zF(e,r,t,n){if(n.biff<8)return Bc(e,r);for(var a=e.l+r,s=[],l=0;l!==t.length;++l)switch(t[l][0]){case"PtgArray":t[l][1]=uF(e,0,n),s.push(t[l][1]);break;case"PtgMemArea":t[l][2]=cF(e,t[l][1],n),s.push(t[l][2]);break;case"PtgExp":n&&n.biff==12&&(t[l][1][1]=e.read_shift(4),s.push(t[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[l][0]}return r=a-e.l,r!==0&&s.push(Bc(e,r)),s}function UF(e,r,t){for(var n=e.l+r,a,s,l=[];n!=e.l;)r=n-e.l,s=e[e.l],a=eN[s]||eN[BF[s]],(s===24||s===25)&&(a=(s===24?IF:$F)[e[e.l+1]]),!a||!a.f?Bc(e,r):l.push([a.n,a.f(e,r,t)]);return l}function HF(e){for(var r=[],t=0;t<e.length;++t){for(var n=e[t],a=[],s=0;s<n.length;++s){var l=n[s];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}r.push(a.join(","))}return r.join(";")}var WF={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function VF(e,r){if(!e&&!(r&&r.biff<=5&&r.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function vk(e,r,t){if(!e)return"SH33TJSERR0";if(t.biff>8&&(!e.XTI||!e.XTI[r]))return e.SheetNames[r];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[r];if(t.biff<8)return r>1e4&&(r-=65536),r<0&&(r=-r),r==0?"":e.XTI[r-1];if(!n)return"SH33TJSERR1";var a="";if(t.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return t.SID!=null?e.SheetNames[t.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function tN(e,r,t){var n=vk(e,r,t);return n=="#REF"?n:VF(n,t)}function Xh(e,r,t,n,a){var s=a&&a.biff||8,l={s:{c:0,r:0}},u=[],d,f,p,x=0,y=0,m,w="";if(!e[0]||!e[0][0])return"";for(var v=-1,N="",S=0,k=e[0].length;S<k;++S){var _=e[0][S];switch(_[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=u.pop(),f=u.pop(),v>=0){switch(e[0][v][1][0]){case 0:N=rs(" ",e[0][v][1][1]);break;case 1:N=rs("\r",e[0][v][1][1]);break;default:if(N="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}f=f+N,v=-1}u.push(f+WF[_[0]]+d);break;case"PtgIsect":d=u.pop(),f=u.pop(),u.push(f+" "+d);break;case"PtgUnion":d=u.pop(),f=u.pop(),u.push(f+","+d);break;case"PtgRange":d=u.pop(),f=u.pop(),u.push(f+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=Rp(_[1][1],l,a),u.push(Mp(p,s));break;case"PtgRefN":p=t?Rp(_[1][1],t,a):_[1][1],u.push(Mp(p,s));break;case"PtgRef3d":x=_[1][1],p=Rp(_[1][2],l,a),w=tN(n,x,a),u.push(w+"!"+Mp(p,s));break;case"PtgFunc":case"PtgFuncVar":var A=_[1][0],R=_[1][1];A||(A=0),A&=127;var V=A==0?[]:u.slice(-A);u.length-=A,R==="User"&&(R=V.shift()),u.push(R+"("+V.join(",")+")");break;case"PtgBool":u.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":u.push(_[1]);break;case"PtgNum":u.push(String(_[1]));break;case"PtgStr":u.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":u.push(_[1]);break;case"PtgAreaN":m=I3(_[1][1],t?{s:t}:l,a),u.push(Uy(m,a));break;case"PtgArea":m=I3(_[1][1],l,a),u.push(Uy(m,a));break;case"PtgArea3d":x=_[1][1],m=_[1][2],w=tN(n,x,a),u.push(w+"!"+Uy(m,a));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=_[1][2];var P=(n.names||[])[y-1]||(n[0]||[])[y],I=P?P.Name:"SH33TJSNAME"+String(y);I&&I.slice(0,6)=="_xlfn."&&!a.xlfn&&(I=I.slice(6)),u.push(I);break;case"PtgNameX":var B=_[1][1];y=_[1][2];var O;if(a.biff<=5)B<0&&(B=-B),n[B]&&(O=n[B][y]);else{var L="";if(((n[B]||[])[0]||[])[0]==14849||(((n[B]||[])[0]||[])[0]==1025?n[B][y]&&n[B][y].itab>0&&(L=n.SheetNames[n[B][y].itab-1]+"!"):L=n.SheetNames[y-1]+"!"),n[B]&&n[B][y])L+=n[B][y].Name;else if(n[0]&&n[0][y])L+=n[0][y].Name;else{var C=(vk(n,B,a)||"").split(";;");C[y-1]?L=C[y-1]:L+="SH33TJSERRX"}u.push(L);break}O||(O={Name:"SH33TJSERRY"}),u.push(O.Name);break;case"PtgParen":var Y="(",Q=")";if(v>=0){switch(N="",e[0][v][1][0]){case 2:Y=rs(" ",e[0][v][1][1])+Y;break;case 3:Y=rs("\r",e[0][v][1][1])+Y;break;case 4:Q=rs(" ",e[0][v][1][1])+Q;break;case 5:Q=rs("\r",e[0][v][1][1])+Q;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}u.push(Y+u.pop()+Q);break;case"PtgRefErr":u.push("#REF!");break;case"PtgRefErr3d":u.push("#REF!");break;case"PtgExp":p={c:_[1][1],r:_[1][0]};var ce={c:t.c,r:t.r};if(n.sharedf[sa(p)]){var W=n.sharedf[sa(p)];u.push(Xh(W,l,ce,n,a))}else{var J=!1;for(d=0;d!=n.arrayf.length;++d)if(f=n.arrayf[d],!(p.c<f[0].s.c||p.c>f[0].e.c)&&!(p.r<f[0].s.r||p.r>f[0].e.r)){u.push(Xh(f[1],l,ce,n,a)),J=!0;break}J||u.push(_[1])}break;case"PtgArray":u.push("{"+HF(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=S;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":u.push("");break;case"PtgAreaErr":u.push("#REF!");break;case"PtgAreaErr3d":u.push("#REF!");break;case"PtgList":u.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&re.indexOf(e[0][S][0])==-1){_=e[0][v];var ee=!0;switch(_[1][0]){case 4:ee=!1;case 0:N=rs(" ",_[1][1]);break;case 5:ee=!1;case 1:N=rs("\r",_[1][1]);break;default:if(N="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}u.push((ee?N:"")+u.pop()+(ee?"":N)),v=-1}}if(u.length>1&&a.WTF)throw new Error("bad formula stack");return u[0]}function qF(e){if(e==null){var r=kt(8);return r.write_shift(1,3),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,65535),r}else if(typeof e=="number")return Ef(e);return Ef(0)}function YF(e,r,t,n,a){var s=Af(r,t,a),l=qF(e.v),u=kt(6),d=33;u.write_shift(2,d),u.write_shift(4,0);for(var f=kt(e.bf.length),p=0;p<e.bf.length;++p)f[p]=e.bf[p];var x=ci([s,l,u,f]);return x}function $x(e,r,t){var n=e.read_shift(4),a=UF(e,n,t),s=e.read_shift(4),l=s>0?zF(e,s,a,t):null;return[a,l]}var GF=$x,zx=$x,XF=$x,KF=$x,JF={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},bk={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},QF={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ZF(e){var r="of:="+e.replace(Zb,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return r.replace(/;/g,"|").replace(/,/g,";")}function e9(e){return e.replace(/\./,"!")}var Fp=typeof Map<"u";function rw(e,r,t){var n=0,a=e.length;if(t){if(Fp?t.has(r):Object.prototype.hasOwnProperty.call(t,r)){for(var s=Fp?t.get(r):t[r];n<s.length;++n)if(e[s[n]].t===r)return e.Count++,s[n]}}else for(;n<a;++n)if(e[n].t===r)return e.Count++,n;return e[a]={t:r},e.Count++,e.Unique++,t&&(Fp?(t.has(r)||t.set(r,[]),t.get(r).push(a)):(Object.prototype.hasOwnProperty.call(t,r)||(t[r]=[]),t[r].push(a))),a}function Ux(e,r){var t={min:e+1,max:e+1},n=-1;return r.MDW&&(wu=r.MDW),r.width!=null?t.customWidth=1:r.wpx!=null?n=nx(r.wpx):r.wch!=null&&(n=r.wch),n>-1?(t.width=zv(n),t.customWidth=1):r.width!=null&&(t.width=r.width),r.hidden&&(t.hidden=!0),r.level!=null&&(t.outlineLevel=t.level=r.level),t}function wk(e,r){if(e){var t=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=t[0]),e.right==null&&(e.right=t[1]),e.top==null&&(e.top=t[2]),e.bottom==null&&(e.bottom=t[3]),e.header==null&&(e.header=t[4]),e.footer==null&&(e.footer=t[5])}}function Md(e,r,t){var n=t.revssf[r.z!=null?r.z:"General"],a=60,s=e.length;if(n==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){gT(r.z,a),t.ssf[a]=r.z,t.revssf[r.z]=n=a;break}}for(a=0;a!=s;++a)if(e[a].numFmtId===n)return a;return e[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function t9(e,r,t){if(e&&e["!ref"]){var n=Aa(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+t+"): "+e["!ref"])}}function r9(e){if(e.length===0)return"";for(var r='<mergeCells count="'+e.length+'">',t=0;t!=e.length;++t)r+='<mergeCell ref="'+As(e[t])+'"/>';return r+"</mergeCells>"}function n9(e,r,t,n,a){var s=!1,l={},u=null;if(n.bookType!=="xlsx"&&r.vbaraw){var d=r.SheetNames[t];try{r.Workbook&&(d=r.Workbook.Sheets[t].CodeName||d)}catch{}s=!0,l.codeName=Kp(na(d))}if(e&&e["!outline"]){var f={summaryBelow:1,summaryRight:1};e["!outline"].above&&(f.summaryBelow=0),e["!outline"].left&&(f.summaryRight=0),u=(u||"")+sr("outlinePr",null,f)}!s&&!u||(a[a.length]=sr("sheetPr",u,l))}var a9=["objects","scenarios","selectLockedCells","selectUnlockedCells"],s9=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function i9(e){var r={sheet:1};return a9.forEach(function(t){e[t]!=null&&e[t]&&(r[t]="1")}),s9.forEach(function(t){e[t]!=null&&!e[t]&&(r[t]="0")}),e.password&&(r.password=ak(e.password).toString(16).toUpperCase()),sr("sheetProtection",null,r)}function o9(e){return wk(e),sr("pageMargins",null,e)}function l9(e,r){for(var t=["<cols>"],n,a=0;a!=r.length;++a)(n=r[a])&&(t[t.length]=sr("col",null,Ux(a,n)));return t[t.length]="</cols>",t.join("")}function c9(e,r,t,n){var a=typeof e.ref=="string"?e.ref:As(e.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,l=Ro(a);l.s.r==l.e.r&&(l.e.r=Ro(r["!ref"]).e.r,a=As(l));for(var u=0;u<s.length;++u){var d=s[u];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+t.SheetNames[n]+"'!"+a;break}}return u==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+a}),sr("autoFilter",null,{ref:a})}function u9(e,r,t,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),sr("sheetViews",sr("sheetView",null,a),{})}function d9(e,r,t,n){if(e.c&&t["!comments"].push([r,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",s=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=vm[e.v];break;case"d":n&&n.cellDates?a=qi(e.v,-1).toISOString():(e=co(e),e.t="n",a=""+(e.v=lo(qi(e.v)))),typeof e.z>"u"&&(e.z=ns[14]);break;default:a=e.v;break}var u=ui("v",na(a)),d={r},f=Md(n.cellXfs,e,n);switch(f!==0&&(d.s=f),e.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){u=ui("v",""+rw(n.Strings,e.v,n.revStrings)),d.t="s";break}d.t="str";break}if(e.t!=s&&(e.t=s,e.v=l),typeof e.f=="string"&&e.f){var p=e.F&&e.F.slice(0,r.length)==r?{t:"array",ref:e.F}:null;u=sr("f",na(e.f),p)+(e.v!=null?u:"")}return e.l&&t["!links"].push([r,e.l]),e.D&&(d.cm=1),sr("c",u,d)}function f9(e,r,t,n){var a=[],s=[],l=Aa(e["!ref"]),u="",d,f="",p=[],x=0,y=0,m=e["!rows"],w=Array.isArray(e),v={r:f},N,S=-1;for(y=l.s.c;y<=l.e.c;++y)p[y]=Ci(y);for(x=l.s.r;x<=l.e.r;++x){for(s=[],f=di(x),y=l.s.c;y<=l.e.c;++y){d=p[y]+f;var k=w?(e[x]||[])[y]:e[d];k!==void 0&&(u=d9(k,d,e,r))!=null&&s.push(u)}(s.length>0||m&&m[x])&&(v={r:f},m&&m[x]&&(N=m[x],N.hidden&&(v.hidden=1),S=-1,N.hpx?S=ax(N.hpx):N.hpt&&(S=N.hpt),S>-1&&(v.ht=S,v.customHeight=1),N.level&&(v.outlineLevel=N.level)),a[a.length]=sr("row",s.join(""),v))}if(m)for(;x<m.length;++x)m&&m[x]&&(v={r:x+1},N=m[x],N.hidden&&(v.hidden=1),S=-1,N.hpx?S=ax(N.hpx):N.hpt&&(S=N.hpt),S>-1&&(v.ht=S,v.customHeight=1),N.level&&(v.outlineLevel=N.level),a[a.length]=sr("row","",v));return a.join("")}function Nk(e,r,t,n){var a=[Cs,sr("worksheet",null,{xmlns:l0[0],"xmlns:r":Ys.r})],s=t.SheetNames[e],l=0,u="",d=t.Sheets[s];d==null&&(d={});var f=d["!ref"]||"A1",p=Aa(f);if(p.e.c>16383||p.e.r>1048575){if(r.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),f=As(p)}n||(n={}),d["!comments"]=[];var x=[];n9(d,t,e,r,a),a[a.length]=sr("dimension",null,{ref:f}),a[a.length]=u9(d,r,e,t),r.sheetFormat&&(a[a.length]=sr("sheetFormatPr",null,{defaultRowHeight:r.sheetFormat.defaultRowHeight||"16",baseColWidth:r.sheetFormat.baseColWidth||"10",outlineLevelRow:r.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(a[a.length]=l9(d,d["!cols"])),a[l=a.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(u=f9(d,r),u.length>0&&(a[a.length]=u)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),d["!protect"]&&(a[a.length]=i9(d["!protect"])),d["!autofilter"]!=null&&(a[a.length]=c9(d["!autofilter"],d,t,e)),d["!merges"]!=null&&d["!merges"].length>0&&(a[a.length]=r9(d["!merges"]));var y=-1,m,w=-1;return d["!links"].length>0&&(a[a.length]="<hyperlinks>",d["!links"].forEach(function(v){v[1].Target&&(m={ref:v[0]},v[1].Target.charAt(0)!="#"&&(w=ra(n,-1,na(v[1].Target).replace(/#.*$/,""),zn.HLINK),m["r:id"]="rId"+w),(y=v[1].Target.indexOf("#"))>-1&&(m.location=na(v[1].Target.slice(y+1))),v[1].Tooltip&&(m.tooltip=na(v[1].Tooltip)),a[a.length]=sr("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(a[a.length]=o9(d["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&(a[a.length]=ui("ignoredErrors",sr("ignoredError",null,{numberStoredAsText:1,sqref:f}))),x.length>0&&(w=ra(n,-1,"../drawings/drawing"+(e+1)+".xml",zn.DRAW),a[a.length]=sr("drawing",null,{"r:id":"rId"+w}),d["!drawing"]=x),d["!comments"].length>0&&(w=ra(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",zn.VML),a[a.length]=sr("legacyDrawing",null,{"r:id":"rId"+w}),d["!legacy"]=w),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function h9(e,r){var t={},n=e.l+r;t.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=a/20),t}function p9(e,r,t){var n=kt(145),a=(t["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var s=320;a.hpx?s=ax(a.hpx)*20:a.hpt&&(s=a.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var u=0,d=n.l;n.l+=4;for(var f={r:e,c:0},p=0;p<16;++p)if(!(r.s.c>p+1<<10||r.e.c<p<<10)){for(var x=-1,y=-1,m=p<<10;m<p+1<<10;++m){f.c=m;var w=Array.isArray(t)?(t[f.r]||[])[f.c]:t[sa(f)];w&&(x<0&&(x=m),y=m)}x<0||(++u,n.write_shift(4,x),n.write_shift(4,y))}var v=n.l;return n.l=d,n.write_shift(4,u),n.l=v,n.length>n.l?n.slice(0,n.l):n}function m9(e,r,t,n){var a=p9(n,t,r);(a.length>17||(r["!rows"]||[])[n])&&Vt(e,0,a)}var g9=zf,x9=u0;function y9(){}function v9(e,r){var t={},n=e[e.l];return++e.l,t.above=!(n&64),t.left=!(n&128),e.l+=18,t.name=AL(e),t}function b9(e,r,t){t==null&&(t=kt(84+4*e.length));var n=192;r&&(r.above&&(n&=-65),r.left&&(n&=-129)),t.write_shift(1,n);for(var a=1;a<3;++a)t.write_shift(1,0);return ex({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),PT(e,t),t.slice(0,t.l)}function w9(e){var r=il(e);return[r]}function N9(e,r,t){return t==null&&(t=kt(8)),Bf(r,t)}function S9(e){var r=If(e);return[r]}function _9(e,r,t){return t==null&&(t=kt(4)),$f(r,t)}function T9(e){var r=il(e),t=e.read_shift(1);return[r,t,"b"]}function k9(e,r,t){return t==null&&(t=kt(9)),Bf(r,t),t.write_shift(1,e.v?1:0),t}function j9(e){var r=If(e),t=e.read_shift(1);return[r,t,"b"]}function E9(e,r,t){return t==null&&(t=kt(5)),$f(r,t),t.write_shift(1,e.v?1:0),t}function A9(e){var r=il(e),t=e.read_shift(1);return[r,t,"e"]}function C9(e,r,t){return t==null&&(t=kt(9)),Bf(r,t),t.write_shift(1,e.v),t}function D9(e){var r=If(e),t=e.read_shift(1);return[r,t,"e"]}function O9(e,r,t){return t==null&&(t=kt(8)),$f(r,t),t.write_shift(1,e.v),t.write_shift(2,0),t.write_shift(1,0),t}function L9(e){var r=il(e),t=e.read_shift(4);return[r,t,"s"]}function R9(e,r,t){return t==null&&(t=kt(12)),Bf(r,t),t.write_shift(4,r.v),t}function M9(e){var r=If(e),t=e.read_shift(4);return[r,t,"s"]}function F9(e,r,t){return t==null&&(t=kt(8)),$f(r,t),t.write_shift(4,r.v),t}function P9(e){var r=il(e),t=d0(e);return[r,t,"n"]}function B9(e,r,t){return t==null&&(t=kt(16)),Bf(r,t),Ef(e.v,t),t}function I9(e){var r=If(e),t=d0(e);return[r,t,"n"]}function $9(e,r,t){return t==null&&(t=kt(12)),$f(r,t),Ef(e.v,t),t}function z9(e){var r=il(e),t=BT(e);return[r,t,"n"]}function U9(e,r,t){return t==null&&(t=kt(12)),Bf(r,t),IT(e.v,t),t}function H9(e){var r=If(e),t=BT(e);return[r,t,"n"]}function W9(e,r,t){return t==null&&(t=kt(8)),$f(r,t),IT(e.v,t),t}function V9(e){var r=il(e),t=Gb(e);return[r,t,"is"]}function q9(e){var r=il(e),t=Di(e);return[r,t,"str"]}function Y9(e,r,t){return t==null&&(t=kt(12+4*e.v.length)),Bf(r,t),Xs(e.v,t),t.length>t.l?t.slice(0,t.l):t}function G9(e){var r=If(e),t=Di(e);return[r,t,"str"]}function X9(e,r,t){return t==null&&(t=kt(8+4*e.v.length)),$f(r,t),Xs(e.v,t),t.length>t.l?t.slice(0,t.l):t}function K9(e,r,t){var n=e.l+r,a=il(e);a.r=t["!row"];var s=e.read_shift(1),l=[a,s,"b"];if(t.cellFormula){e.l+=2;var u=zx(e,n-e.l,t);l[3]=Xh(u,null,a,t.supbooks,t)}else e.l=n;return l}function J9(e,r,t){var n=e.l+r,a=il(e);a.r=t["!row"];var s=e.read_shift(1),l=[a,s,"e"];if(t.cellFormula){e.l+=2;var u=zx(e,n-e.l,t);l[3]=Xh(u,null,a,t.supbooks,t)}else e.l=n;return l}function Q9(e,r,t){var n=e.l+r,a=il(e);a.r=t["!row"];var s=d0(e),l=[a,s,"n"];if(t.cellFormula){e.l+=2;var u=zx(e,n-e.l,t);l[3]=Xh(u,null,a,t.supbooks,t)}else e.l=n;return l}function Z9(e,r,t){var n=e.l+r,a=il(e);a.r=t["!row"];var s=Di(e),l=[a,s,"str"];if(t.cellFormula){e.l+=2;var u=zx(e,n-e.l,t);l[3]=Xh(u,null,a,t.supbooks,t)}else e.l=n;return l}var eP=zf,tP=u0;function rP(e,r){return r==null&&(r=kt(4)),r.write_shift(4,e),r}function nP(e,r){var t=e.l+r,n=zf(e),a=Xb(e),s=Di(e),l=Di(e),u=Di(e);e.l=t;var d={rfx:n,relId:a,loc:s,display:u};return l&&(d.Tooltip=l),d}function aP(e,r){var t=kt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));u0({s:Gs(e[0]),e:Gs(e[0])},t),Kb("rId"+r,t);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Xs(a||"",t),Xs(e[1].Tooltip||"",t),Xs("",t),t.slice(0,t.l)}function sP(){}function iP(e,r,t){var n=e.l+r,a=$T(e),s=e.read_shift(1),l=[a];if(l[2]=s,t.cellFormula){var u=GF(e,n-e.l,t);l[1]=u}else e.l=n;return l}function oP(e,r,t){var n=e.l+r,a=zf(e),s=[a];if(t.cellFormula){var l=KF(e,n-e.l,t);s[1]=l,e.l=n}else e.l=n;return s}function lP(e,r,t){t==null&&(t=kt(18));var n=Ux(e,r);t.write_shift(-4,e),t.write_shift(-4,e),t.write_shift(4,(n.width||10)*256),t.write_shift(4,0);var a=0;return r.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),r.level&&(a|=r.level<<8),t.write_shift(2,a),t}var Sk=["left","right","top","bottom","header","footer"];function cP(e){var r={};return Sk.forEach(function(t){r[t]=d0(e)}),r}function uP(e,r){return r==null&&(r=kt(6*8)),wk(e),Sk.forEach(function(t){Ef(e[t],r)}),r}function dP(e){var r=e.read_shift(2);return e.l+=28,{RTL:r&32}}function fP(e,r,t){t==null&&(t=kt(30));var n=924;return(((r||{}).Views||[])[0]||{}).RTL&&(n|=32),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function hP(e){var r=kt(24);return r.write_shift(4,4),r.write_shift(4,1),u0(e,r),r}function pP(e,r){return r==null&&(r=kt(16*4+2)),r.write_shift(2,e.password?ak(e.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?r.write_shift(4,e[t[0]]!=null&&!e[t[0]]?1:0):r.write_shift(4,e[t[0]]!=null&&e[t[0]]?0:1)}),r}function mP(){}function gP(){}function xP(e,r,t,n,a,s,l){if(r.v===void 0)return!1;var u="";switch(r.t){case"b":u=r.v?"1":"0";break;case"d":r=co(r),r.z=r.z||ns[14],r.v=lo(qi(r.v)),r.t="n";break;case"n":case"e":u=""+r.v;break;default:u=r.v;break}var d={r:t,c:n};switch(d.s=Md(a.cellXfs,r,a),r.l&&s["!links"].push([sa(d),r.l]),r.c&&s["!comments"].push([sa(d),r.c]),r.t){case"s":case"str":return a.bookSST?(u=rw(a.Strings,r.v,a.revStrings),d.t="s",d.v=u,l?Vt(e,18,F9(r,d)):Vt(e,7,R9(r,d))):(d.t="str",l?Vt(e,17,X9(r,d)):Vt(e,6,Y9(r,d))),!0;case"n":return r.v==(r.v|0)&&r.v>-1e3&&r.v<1e3?l?Vt(e,13,W9(r,d)):Vt(e,2,U9(r,d)):l?Vt(e,16,$9(r,d)):Vt(e,5,B9(r,d)),!0;case"b":return d.t="b",l?Vt(e,15,E9(r,d)):Vt(e,4,k9(r,d)),!0;case"e":return d.t="e",l?Vt(e,14,O9(r,d)):Vt(e,3,C9(r,d)),!0}return l?Vt(e,12,_9(r,d)):Vt(e,1,N9(r,d)),!0}function yP(e,r,t,n){var a=Aa(r["!ref"]||"A1"),s,l="",u=[];Vt(e,145);var d=Array.isArray(r),f=a.e.r;r["!rows"]&&(f=Math.max(a.e.r,r["!rows"].length-1));for(var p=a.s.r;p<=f;++p){l=di(p),m9(e,r,a,p);var x=!1;if(p<=a.e.r)for(var y=a.s.c;y<=a.e.c;++y){p===a.s.r&&(u[y]=Ci(y)),s=u[y]+l;var m=d?(r[p]||[])[y]:r[s];if(!m){x=!1;continue}x=xP(e,m,p,y,n,r,x)}}Vt(e,146)}function vP(e,r){!r||!r["!merges"]||(Vt(e,177,rP(r["!merges"].length)),r["!merges"].forEach(function(t){Vt(e,176,tP(t))}),Vt(e,178))}function bP(e,r){!r||!r["!cols"]||(Vt(e,390),r["!cols"].forEach(function(t,n){t&&Vt(e,60,lP(n,t))}),Vt(e,391))}function wP(e,r){!r||!r["!ref"]||(Vt(e,648),Vt(e,649,hP(Aa(r["!ref"]))),Vt(e,650))}function NP(e,r,t){r["!links"].forEach(function(n){if(n[1].Target){var a=ra(t,-1,n[1].Target.replace(/#.*$/,""),zn.HLINK);Vt(e,494,aP(n,a))}}),delete r["!links"]}function SP(e,r,t,n){if(r["!comments"].length>0){var a=ra(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",zn.VML);Vt(e,551,Kb("rId"+a)),r["!legacy"]=a}}function _P(e,r,t,n){if(r["!autofilter"]){var a=r["!autofilter"],s=typeof a.ref=="string"?a.ref:As(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,u=Ro(s);u.s.r==u.e.r&&(u.e.r=Ro(r["!ref"]).e.r,s=As(u));for(var d=0;d<l.length;++d){var f=l[d];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==n){f.Ref="'"+t.SheetNames[n]+"'!"+s;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+t.SheetNames[n]+"'!"+s}),Vt(e,161,u0(Aa(s))),Vt(e,162)}}function TP(e,r,t){Vt(e,133),Vt(e,137,fP(r,t)),Vt(e,138),Vt(e,134)}function kP(e,r){r["!protect"]&&Vt(e,535,pP(r["!protect"]))}function jP(e,r,t,n){var a=so(),s=t.SheetNames[e],l=t.Sheets[s]||{},u=s;try{t&&t.Workbook&&(u=t.Workbook.Sheets[e].CodeName||u)}catch{}var d=Aa(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(r.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],Vt(a,129),(t.vbaraw||l["!outline"])&&Vt(a,147,b9(u,l["!outline"])),Vt(a,148,x9(d)),TP(a,l,t.Workbook),bP(a,l),yP(a,l,e,r),kP(a,l),_P(a,l,t,e),vP(a,l),NP(a,l,n),l["!margins"]&&Vt(a,476,uP(l["!margins"])),(!r||r.ignoreEC||r.ignoreEC==null)&&wP(a,l),SP(a,l,e,n),Vt(a,130),a.end()}function EP(e,r){e.l+=10;var t=Di(e);return{name:t}}var AP=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function CP(e){return!e.Workbook||!e.Workbook.WBProps?"false":oL(e.Workbook.WBProps.date1904)?"true":"false"}var DP="][*?/\\".split("");function _k(e,r){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return DP.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function OP(e,r,t){e.forEach(function(n,a){_k(n);for(var s=0;s<a;++s)if(n==e[s])throw new Error("Duplicate Sheet Name: "+n);if(t){var l=r&&r[a]&&r[a].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function LP(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var r=e.Workbook&&e.Workbook.Sheets||[];OP(e.SheetNames,r,!!e.vbaraw);for(var t=0;t<e.SheetNames.length;++t)t9(e.Sheets[e.SheetNames[t]],e.SheetNames[t],t)}function Tk(e){var r=[Cs];r[r.length]=sr("workbook",null,{xmlns:l0[0],"xmlns:r":Ys.r});var t=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(AP.forEach(function(u){e.Workbook.WBProps[u[0]]!=null&&e.Workbook.WBProps[u[0]]!=u[1]&&(n[u[0]]=e.Workbook.WBProps[u[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),r[r.length]=sr("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],s=0;if(a&&a[0]&&a[0].Hidden){for(r[r.length]="<bookViews>",s=0;s!=e.SheetNames.length&&!(!a[s]||!a[s].Hidden);++s);s==e.SheetNames.length&&(s=0),r[r.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',r[r.length]="</bookViews>"}for(r[r.length]="<sheets>",s=0;s!=e.SheetNames.length;++s){var l={name:na(e.SheetNames[s].slice(0,31))};if(l.sheetId=""+(s+1),l["r:id"]="rId"+(s+1),a[s])switch(a[s].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}r[r.length]=sr("sheet",null,l)}return r[r.length]="</sheets>",t&&(r[r.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(u){var d={name:u.Name};u.Comment&&(d.comment=u.Comment),u.Sheet!=null&&(d.localSheetId=""+u.Sheet),u.Hidden&&(d.hidden="1"),u.Ref&&(r[r.length]=sr("definedName",na(u.Ref),d))}),r[r.length]="</definedNames>"),r.length>2&&(r[r.length]="</workbook>",r[1]=r[1].replace("/>",">")),r.join("")}function RP(e,r){var t={};return t.Hidden=e.read_shift(4),t.iTabID=e.read_shift(4),t.strRelID=$v(e),t.name=Di(e),t}function MP(e,r){return r||(r=kt(127)),r.write_shift(4,e.Hidden),r.write_shift(4,e.iTabID),Kb(e.strRelID,r),Xs(e.name.slice(0,31),r),r.length>r.l?r.slice(0,r.l):r}function FP(e,r){var t={},n=e.read_shift(4);t.defaultThemeVersion=e.read_shift(4);var a=r>8?Di(e):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(n&65536),t.backupFile=!!(n&64),t.checkCompatibility=!!(n&4096),t.date1904=!!(n&1),t.filterPrivacy=!!(n&8),t.hidePivotFieldList=!!(n&1024),t.promptedSolutions=!!(n&16),t.publishItems=!!(n&2048),t.refreshAllConnections=!!(n&262144),t.saveExternalLinkValues=!!(n&128),t.showBorderUnselectedTables=!!(n&4),t.showInkAnnotation=!!(n&32),t.showObjects=["all","placeholders","none"][n>>13&3],t.showPivotChartFilter=!!(n&32768),t.updateLinks=["userSet","never","always"][n>>8&3],t}function PP(e,r){r||(r=kt(72));var t=0;return e&&e.filterPrivacy&&(t|=8),r.write_shift(4,t),r.write_shift(4,0),PT(e&&e.CodeName||"ThisWorkbook",r),r.slice(0,r.l)}function BP(e,r,t){var n=e.l+r;e.l+=4,e.l+=1;var a=e.read_shift(4),s=CL(e),l=XF(e,0,t),u=Xb(e);e.l=n;var d={Name:s,Ptg:l};return a<268435455&&(d.Sheet=a),u&&(d.Comment=u),d}function IP(e,r){Vt(e,143);for(var t=0;t!=r.SheetNames.length;++t){var n=r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t]&&r.Workbook.Sheets[t].Hidden||0,a={Hidden:n,iTabID:t+1,strRelID:"rId"+(t+1),name:r.SheetNames[t]};Vt(e,156,MP(a))}Vt(e,144)}function $P(e,r){r||(r=kt(127));for(var t=0;t!=4;++t)r.write_shift(4,0);return Xs("SheetJS",r),Xs(q1.version,r),Xs(q1.version,r),Xs("7262",r),r.length>r.l?r.slice(0,r.l):r}function zP(e,r){r||(r=kt(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,e),r.write_shift(4,e);var t=120;return r.write_shift(1,t),r.length>r.l?r.slice(0,r.l):r}function UP(e,r){if(!(!r.Workbook||!r.Workbook.Sheets)){for(var t=r.Workbook.Sheets,n=0,a=-1,s=-1;n<t.length;++n)!t[n]||!t[n].Hidden&&a==-1?a=n:t[n].Hidden==1&&s==-1&&(s=n);s>a||(Vt(e,135),Vt(e,158,zP(a)),Vt(e,136))}}function HP(e,r){var t=so();return Vt(t,131),Vt(t,128,$P()),Vt(t,153,PP(e.Workbook&&e.Workbook.WBProps||null)),UP(t,e),IP(t,e),Vt(t,132),t.end()}function WP(e,r,t){return(r.slice(-4)===".bin"?HP:Tk)(e)}function VP(e,r,t,n,a){return(r.slice(-4)===".bin"?jP:Nk)(e,t,n,a)}function qP(e,r,t){return(r.slice(-4)===".bin"?uM:ok)(e,t)}function YP(e,r,t){return(r.slice(-4)===".bin"?PR:nk)(e,t)}function GP(e,r,t){return(r.slice(-4)===".bin"?kM:fk)(e)}function XP(e){return(e.slice(-4)===".bin"?yM:uk)()}function KP(e,r){var t=[];return e.Props&&t.push(qL(e.Props,r)),e.Custprops&&t.push(YL(e.Props,e.Custprops)),t.join("")}function JP(){return""}function QP(e,r){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return r.cellXfs.forEach(function(n,a){var s=[];s.push(sr("NumberFormat",null,{"ss:Format":na(ns[n.numFmtId])}));var l={"ss:ID":"s"+(21+a)};t.push(sr("Style",s.join(""),l))}),sr("Styles",t.join(""))}function kk(e){return sr("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+ew(e.Ref,{r:0,c:0})})}function ZP(e){if(!((e||{}).Workbook||{}).Names)return"";for(var r=e.Workbook.Names,t=[],n=0;n<r.length;++n){var a=r[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(kk(a)))}return sr("Names",t.join(""))}function eB(e,r,t,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,s=[],l=0;l<a.length;++l){var u=a[l];u.Sheet==t&&(u.Name.match(/^_xlfn\./)||s.push(kk(u)))}return s.join("")}function tB(e,r,t,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(sr("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(sr("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(sr("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[t])if(n.Workbook.Sheets[t].Hidden)a.push(sr("Visible",n.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==t&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ui("ProtectContents","True")),e["!protect"].objects&&a.push(ui("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ui("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ui("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ui("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":sr("WorksheetOptions",a.join(""),{xmlns:jo.x})}function rB(e){return e.map(function(r){var t=iL(r.t||""),n=sr("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return sr("Comment",n,{"ss:Author":r.a})}).join("")}function nB(e,r,t,n,a,s,l){if(!e||e.v==null&&e.f==null)return"";var u={};if(e.f&&(u["ss:Formula"]="="+na(ew(e.f,l))),e.F&&e.F.slice(0,r.length)==r){var d=Gs(e.F.slice(r.length+1));u["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(e.l&&e.l.Target&&(u["ss:HRef"]=na(e.l.Target),e.l.Tooltip&&(u["x:HRefScreenTip"]=na(e.l.Tooltip))),t["!merges"])for(var f=t["!merges"],p=0;p!=f.length;++p)f[p].s.c!=l.c||f[p].s.r!=l.r||(f[p].e.c>f[p].s.c&&(u["ss:MergeAcross"]=f[p].e.c-f[p].s.c),f[p].e.r>f[p].s.r&&(u["ss:MergeDown"]=f[p].e.r-f[p].s.r));var x="",y="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":x="Number",y=String(e.v);break;case"b":x="Boolean",y=e.v?"1":"0";break;case"e":x="Error",y=vm[e.v];break;case"d":x="DateTime",y=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ns[14]);break;case"s":x="String",y=sL(e.v||"");break}var m=Md(n.cellXfs,e,n);u["ss:StyleID"]="s"+(21+m),u["ss:Index"]=l.c+1;var w=e.v!=null?y:"",v=e.t=="z"?"":'<Data ss:Type="'+x+'">'+w+"</Data>";return(e.c||[]).length>0&&(v+=rB(e.c)),sr("Cell",v,u)}function aB(e,r){var t='<Row ss:Index="'+(e+1)+'"';return r&&(r.hpt&&!r.hpx&&(r.hpx=ik(r.hpt)),r.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+r.hpx+'"'),r.hidden&&(t+=' ss:Hidden="1"')),t+">"}function sB(e,r,t,n){if(!e["!ref"])return"";var a=Aa(e["!ref"]),s=e["!merges"]||[],l=0,u=[];e["!cols"]&&e["!cols"].forEach(function(N,S){Qb(N);var k=!!N.width,_=Ux(S,N),A={"ss:Index":S+1};k&&(A["ss:Width"]=rx(_.width)),N.hidden&&(A["ss:Hidden"]="1"),u.push(sr("Column",null,A))});for(var d=Array.isArray(e),f=a.s.r;f<=a.e.r;++f){for(var p=[aB(f,(e["!rows"]||[])[f])],x=a.s.c;x<=a.e.c;++x){var y=!1;for(l=0;l!=s.length;++l)if(!(s[l].s.c>x)&&!(s[l].s.r>f)&&!(s[l].e.c<x)&&!(s[l].e.r<f)){(s[l].s.c!=x||s[l].s.r!=f)&&(y=!0);break}if(!y){var m={r:f,c:x},w=sa(m),v=d?(e[f]||[])[x]:e[w];p.push(nB(v,w,e,r,t,n,m))}}p.push("</Row>"),p.length>2&&u.push(p.join(""))}return u.join("")}function iB(e,r,t){var n=[],a=t.SheetNames[e],s=t.Sheets[a],l=s?eB(s,r,e,t):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=s?sB(s,r,e,t):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(tB(s,r,e,t)),n.join("")}function oB(e,r){r||(r={}),e.SSF||(e.SSF=co(ns)),e.SSF&&(Px(),Fx(e.SSF),r.revssf=Bx(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF,r.cellXfs=[],Md(r.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(KP(e,r)),t.push(JP()),t.push(""),t.push("");for(var n=0;n<e.SheetNames.length;++n)t.push(sr("Worksheet",iB(n,r,e),{"ss:Name":na(e.SheetNames[n])}));return t[2]=QP(e,r),t[3]=ZP(e),Cs+sr("Workbook",t.join(""),{xmlns:jo.ss,"xmlns:o":jo.o,"xmlns:x":jo.x,"xmlns:ss":jo.ss,"xmlns:dt":jo.dt,"xmlns:html":jo.html})}var Vy={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function lB(e,r){var t=[],n=[],a=[],s=0,l,u=E3(z3,"n"),d=E3(U3,"n");if(e.Props)for(l=fi(e.Props),s=0;s<l.length;++s)(Object.prototype.hasOwnProperty.call(u,l[s])?t:Object.prototype.hasOwnProperty.call(d,l[s])?n:a).push([l[s],e.Props[l[s]]]);if(e.Custprops)for(l=fi(e.Custprops),s=0;s<l.length;++s)Object.prototype.hasOwnProperty.call(e.Props||{},l[s])||(Object.prototype.hasOwnProperty.call(u,l[s])?t:Object.prototype.hasOwnProperty.call(d,l[s])?n:a).push([l[s],e.Custprops[l[s]]]);var f=[];for(s=0;s<a.length;++s)KT.indexOf(a[s][0])>-1||YT.indexOf(a[s][0])>-1||a[s][1]!=null&&f.push(a[s]);n.length&&fa.utils.cfb_add(r,"/SummaryInformation",Y3(n,Vy.SI,d,U3)),(t.length||f.length)&&fa.utils.cfb_add(r,"/DocumentSummaryInformation",Y3(t,Vy.DSI,u,z3,f.length?f:null,Vy.UDI))}function cB(e,r){var t=r||{},n=fa.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return fa.utils.cfb_add(n,a,jk(e,t)),t.biff==8&&(e.Props||e.Custprops)&&lB(e,n),t.biff==8&&e.vbaraw&&jM(n,fa.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var uB={0:{f:h9},1:{f:w9},2:{f:z9},3:{f:A9},4:{f:T9},5:{f:P9},6:{f:q9},7:{f:L9},8:{f:Z9},9:{f:Q9},10:{f:K9},11:{f:J9},12:{f:S9},13:{f:H9},14:{f:D9},15:{f:j9},16:{f:I9},17:{f:G9},18:{f:M9},19:{f:Gb},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:BP},40:{},42:{},43:{f:qR},44:{f:WR},45:{f:XR},46:{f:JR},47:{f:KR},48:{},49:{f:SL},50:{},51:{f:hM},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:_R},62:{f:V9},63:{f:vM},64:{f:mP},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Bc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:dP},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:v9},148:{f:g9,p:16},151:{f:sP},152:{},153:{f:FP},154:{},155:{},156:{f:RP},157:{},158:{},159:{T:1,f:RR},160:{T:-1},161:{T:1,f:zf},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:eP},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:dM},336:{T:-1},337:{f:gM,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:$v},357:{},358:{},359:{},360:{T:1},361:{},362:{f:yR},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:iP},427:{f:oP},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:cP},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:y9},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:nP},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:$v},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:_M},633:{T:1},634:{T:-1},635:{T:1,f:NM},636:{T:-1},637:{f:jL},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:EP},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:gP},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function ir(e,r,t,n){var a=r;if(!isNaN(a)){var s=n||(t||[]).length||0,l=e.next(4);l.write_shift(2,a),l.write_shift(2,s),s>0&&Vb(t)&&e.push(t)}}function dB(e,r,t,n){var a=(t||[]).length||0;if(a<=8224)return ir(e,r,t,a);var s=r;if(!isNaN(s)){for(var l=t.parts||[],u=0,d=0,f=0;f+(l[u]||8224)<=8224;)f+=l[u]||8224,u++;var p=e.next(4);for(p.write_shift(2,s),p.write_shift(2,f),e.push(t.slice(d,d+f)),d+=f;d<a;){for(p=e.next(4),p.write_shift(2,60),f=0;f+(l[u]||8224)<=8224;)f+=l[u]||8224,u++;p.write_shift(2,f),e.push(t.slice(d,d+f)),d+=f}}}function wm(e,r,t){return e||(e=kt(7)),e.write_shift(2,r),e.write_shift(2,t),e.write_shift(2,0),e.write_shift(1,0),e}function fB(e,r,t,n){var a=kt(9);return wm(a,e,r),QT(t,n||"b",a),a}function hB(e,r,t){var n=kt(8+2*t.length);return wm(n,e,r),n.write_shift(1,t.length),n.write_shift(t.length,t,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function pB(e,r,t,n){if(r.v!=null)switch(r.t){case"d":case"n":var a=r.t=="d"?lo(qi(r.v)):r.v;a==(a|0)&&a>=0&&a<65536?ir(e,2,ER(t,n,a)):ir(e,3,jR(t,n,a));return;case"b":case"e":ir(e,5,fB(t,n,r.v,r.t));return;case"s":case"str":ir(e,4,hB(t,n,(r.v||"").slice(0,255)));return}ir(e,1,wm(null,t,n))}function mB(e,r,t,n){var a=Array.isArray(r),s=Aa(r["!ref"]||"A1"),l,u="",d=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(r["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),l=As(s)}for(var f=s.s.r;f<=s.e.r;++f){u=di(f);for(var p=s.s.c;p<=s.e.c;++p){f===s.s.r&&(d[p]=Ci(p)),l=d[p]+u;var x=a?(r[f]||[])[p]:r[l];x&&pB(e,x,f,p)}}}function gB(e,r){for(var t=r||{},n=so(),a=0,s=0;s<e.SheetNames.length;++s)e.SheetNames[s]==t.sheet&&(a=s);if(a==0&&t.sheet&&e.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return ir(n,t.biff==4?1033:t.biff==3?521:9,Jb(e,16,t)),mB(n,e.Sheets[e.SheetNames[a]],a,t),ir(n,10),n.end()}function xB(e,r,t){ir(e,49,uR({sz:12,name:"Arial"},t))}function yB(e,r,t){r&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)r[a]!=null&&ir(e,1054,hR(a,r[a],t))})}function vB(e,r){var t=kt(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),ir(e,2151,t),t=kt(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),tk(Aa(r["!ref"]||"A1"),t),t.write_shift(4,4),ir(e,2152,t)}function bB(e,r){for(var t=0;t<16;++t)ir(e,224,X3({numFmtId:0,style:!0},0,r));r.cellXfs.forEach(function(n){ir(e,224,X3(n,0,r))})}function wB(e,r){for(var t=0;t<r["!links"].length;++t){var n=r["!links"][t];ir(e,440,wR(n)),n[1].Tooltip&&ir(e,2048,NR(n))}delete r["!links"]}function NB(e,r){if(r){var t=0;r.forEach(function(n,a){++t<=256&&n&&ir(e,125,TR(Ux(a,n),a))})}}function SB(e,r,t,n,a){var s=16+Md(a.cellXfs,r,a);if(r.v==null&&!r.bf){ir(e,513,Af(t,n,s));return}if(r.bf)ir(e,6,YF(r,t,n,a,s));else switch(r.t){case"d":case"n":var l=r.t=="d"?lo(qi(r.v)):r.v;ir(e,515,xR(t,n,l,s));break;case"b":case"e":ir(e,517,gR(t,n,r.v,s,a,r.t));break;case"s":case"str":if(a.bookSST){var u=rw(a.Strings,r.v,a.revStrings);ir(e,253,dR(t,n,u,s))}else ir(e,516,fR(t,n,(r.v||"").slice(0,255),s,a));break;default:ir(e,513,Af(t,n,s))}}function _B(e,r,t){var n=so(),a=t.SheetNames[e],s=t.Sheets[a]||{},l=(t||{}).Workbook||{},u=(l.Sheets||[])[e]||{},d=Array.isArray(s),f=r.biff==8,p,x="",y=[],m=Aa(s["!ref"]||"A1"),w=f?65536:16384;if(m.e.c>255||m.e.r>=w){if(r.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,w-1)}ir(n,2057,Jb(t,16,r)),ir(n,13,Qo(1)),ir(n,12,Qo(100)),ir(n,15,Hi(!0)),ir(n,17,Hi(!1)),ir(n,16,Ef(.001)),ir(n,95,Hi(!0)),ir(n,42,Hi(!1)),ir(n,43,Hi(!1)),ir(n,130,Qo(1)),ir(n,128,mR()),ir(n,131,Hi(!1)),ir(n,132,Hi(!1)),f&&NB(n,s["!cols"]),ir(n,512,pR(m,r)),f&&(s["!links"]=[]);for(var v=m.s.r;v<=m.e.r;++v){x=di(v);for(var N=m.s.c;N<=m.e.c;++N){v===m.s.r&&(y[N]=Ci(N)),p=y[N]+x;var S=d?(s[v]||[])[N]:s[p];S&&(SB(n,S,v,N,r),f&&S.l&&s["!links"].push([p,S.l]))}}var k=u.CodeName||u.name||a;return f&&ir(n,574,cR((l.Views||[])[0])),f&&(s["!merges"]||[]).length&&ir(n,229,bR(s["!merges"])),f&&wB(n,s),ir(n,442,ek(k)),f&&vB(n,s),ir(n,10),n.end()}function TB(e,r,t){var n=so(),a=(e||{}).Workbook||{},s=a.Sheets||[],l=a.WBProps||{},u=t.biff==8,d=t.biff==5;if(ir(n,2057,Jb(e,5,t)),t.bookType=="xla"&&ir(n,135),ir(n,225,u?Qo(1200):null),ir(n,193,KL(2)),d&&ir(n,191),d&&ir(n,192),ir(n,226),ir(n,92,sR("SheetJS",t)),ir(n,66,Qo(u?1200:1252)),u&&ir(n,353,Qo(0)),u&&ir(n,448),ir(n,317,kR(e.SheetNames.length)),u&&e.vbaraw&&ir(n,211),u&&e.vbaraw){var f=l.CodeName||"ThisWorkbook";ir(n,442,ek(f))}ir(n,156,Qo(17)),ir(n,25,Hi(!1)),ir(n,18,Hi(!1)),ir(n,19,Qo(0)),u&&ir(n,431,Hi(!1)),u&&ir(n,444,Qo(0)),ir(n,61,lR()),ir(n,64,Hi(!1)),ir(n,141,Qo(0)),ir(n,34,Hi(CP(e)=="true")),ir(n,14,Hi(!0)),u&&ir(n,439,Hi(!1)),ir(n,218,Qo(0)),xB(n,e,t),yB(n,e.SSF,t),bB(n,t),u&&ir(n,352,Hi(!1));var p=n.end(),x=so();u&&ir(x,140,SR()),u&&t.Strings&&dB(x,252,oR(t.Strings)),ir(x,10);var y=x.end(),m=so(),w=0,v=0;for(v=0;v<e.SheetNames.length;++v)w+=(u?12:11)+(u?2:1)*e.SheetNames[v].length;var N=p.length+w+y.length;for(v=0;v<e.SheetNames.length;++v){var S=s[v]||{};ir(m,133,iR({pos:N,hs:S.Hidden||0,dt:0,name:e.SheetNames[v]},t)),N+=r[v].length}var k=m.end();if(w!=k.length)throw new Error("BS8 "+w+" != "+k.length);var _=[];return p.length&&_.push(p),k.length&&_.push(k),y.length&&_.push(y),ci(_)}function kB(e,r){var t=r||{},n=[];e&&!e.SSF&&(e.SSF=co(ns)),e&&e.SSF&&(Px(),Fx(e.SSF),t.revssf=Bx(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,nw(t),t.cellXfs=[],Md(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=_B(a,t,e);return n.unshift(TB(e,n,t)),ci(n)}function jk(e,r){for(var t=0;t<=e.SheetNames.length;++t){var n=e.Sheets[e.SheetNames[t]];if(!(!n||!n["!ref"])){var a=Ro(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=r||{};switch(s.biff||2){case 8:case 5:return kB(e,r);case 4:case 3:case 2:return gB(e,r)}throw new Error("invalid type "+s.bookType+" for BIFF")}function jB(e,r,t,n){for(var a=e["!merges"]||[],s=[],l=r.s.c;l<=r.e.c;++l){for(var u=0,d=0,f=0;f<a.length;++f)if(!(a[f].s.r>t||a[f].s.c>l)&&!(a[f].e.r<t||a[f].e.c<l)){if(a[f].s.r<t||a[f].s.c<l){u=-1;break}u=a[f].e.r-a[f].s.r+1,d=a[f].e.c-a[f].s.c+1;break}if(!(u<0)){var p=sa({r:t,c:l}),x=n.dense?(e[t]||[])[l]:e[p],y=x&&x.v!=null&&(x.h||aL(x.w||(Cu(x),x.w)||""))||"",m={};u>1&&(m.rowspan=u),d>1&&(m.colspan=d),n.editable?y='<span contenteditable="true">'+y+"</span>":x&&(m["data-t"]=x&&x.t||"z",x.v!=null&&(m["data-v"]=x.v),x.z!=null&&(m["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+x.l.Target+'">'+y+"</a>")),m.id=(n.id||"sjs")+"-"+p,s.push(sr("td",y,m))}}var w="<tr>";return w+s.join("")+"</tr>"}var EB='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',AB="</body></html>";function CB(e,r,t){var n=[];return n.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function Ek(e,r){var t=r||{},n=t.header!=null?t.header:EB,a=t.footer!=null?t.footer:AB,s=[n],l=Ro(e["!ref"]);t.dense=Array.isArray(e),s.push(CB(e,l,t));for(var u=l.s.r;u<=l.e.r;++u)s.push(jB(e,l,u,t));return s.push("</table>"+a),s.join("")}function Ak(e,r,t){var n=t||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Gs(n.origin):n.origin;a=l.r,s=l.c}var u=r.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,u.length),f={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var p=Ro(e["!ref"]);f.s.r=Math.min(f.s.r,p.s.r),f.s.c=Math.min(f.s.c,p.s.c),f.e.r=Math.max(f.e.r,p.e.r),f.e.c=Math.max(f.e.c,p.e.c),a==-1&&(f.e.r=a=p.e.r+1)}var x=[],y=0,m=e["!rows"]||(e["!rows"]=[]),w=0,v=0,N=0,S=0,k=0,_=0;for(e["!cols"]||(e["!cols"]=[]);w<u.length&&v<d;++w){var A=u[w];if(rN(A)){if(n.display)continue;m[v]={hidden:!0}}var R=A.children;for(N=S=0;N<R.length;++N){var V=R[N];if(!(n.display&&rN(V))){var P=V.hasAttribute("data-v")?V.getAttribute("data-v"):V.hasAttribute("v")?V.getAttribute("v"):lL(V.innerHTML),I=V.getAttribute("data-z")||V.getAttribute("z");for(y=0;y<x.length;++y){var B=x[y];B.s.c==S+s&&B.s.r<v+a&&v+a<=B.e.r&&(S=B.e.c+1-s,y=-1)}_=+V.getAttribute("colspan")||1,((k=+V.getAttribute("rowspan")||1)>1||_>1)&&x.push({s:{r:v+a,c:S+s},e:{r:v+a+(k||1)-1,c:S+s+(_||1)-1}});var O={t:"s",v:P},L=V.getAttribute("data-t")||V.getAttribute("t")||"";P!=null&&(P.length==0?O.t=L||"z":n.raw||P.trim().length==0||L=="s"||(P==="TRUE"?O={t:"b",v:!0}:P==="FALSE"?O={t:"b",v:!1}:isNaN(bu(P))?isNaN(Xp(P).getDate())||(O={t:"d",v:qi(P)},n.cellDates||(O={t:"n",v:lo(O.v)}),O.z=n.dateNF||ns[14]):O={t:"n",v:bu(P)})),O.z===void 0&&I!=null&&(O.z=I);var C="",Y=V.getElementsByTagName("A");if(Y&&Y.length)for(var Q=0;Q<Y.length&&!(Y[Q].hasAttribute("href")&&(C=Y[Q].getAttribute("href"),C.charAt(0)!="#"));++Q);C&&C.charAt(0)!="#"&&(O.l={Target:C}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][S+s]=O):e[sa({c:S+s,r:v+a})]=O,f.e.c<S+s&&(f.e.c=S+s),S+=_}}++v}return x.length&&(e["!merges"]=(e["!merges"]||[]).concat(x)),f.e.r=Math.max(f.e.r,v-1+a),e["!ref"]=As(f),v>=d&&(e["!fullref"]=As((f.e.r=u.length-w+v-1+a,f))),e}function Ck(e,r){var t=r||{},n=t.dense?[]:{};return Ak(n,e,r)}function DB(e,r){return Pf(Ck(e,r),r)}function rN(e){var r="",t=OB(e);return t&&(r=t(e).getPropertyValue("display")),r||(r=e.style&&e.style.display),r==="none"}function OB(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var LB=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),r="<office:document-styles "+Jp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Cs+r}}(),nN=function(){var e=function(s){return na(s).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},r=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,n=function(s,l,u){var d=[];d.push('      <table:table table:name="'+na(l.SheetNames[u])+`" table:style-name="ta1">
`);var f=0,p=0,x=Ro(s["!ref"]||"A1"),y=s["!merges"]||[],m=0,w=Array.isArray(s);if(s["!cols"])for(p=0;p<=x.e.c;++p)d.push("        <table:table-column"+(s["!cols"][p]?' table:style-name="co'+s["!cols"][p].ods+'"':"")+`></table:table-column>
`);var v="",N=s["!rows"]||[];for(f=0;f<x.s.r;++f)v=N[f]?' table:style-name="ro'+N[f].ods+'"':"",d.push("        <table:table-row"+v+`></table:table-row>
`);for(;f<=x.e.r;++f){for(v=N[f]?' table:style-name="ro'+N[f].ods+'"':"",d.push("        <table:table-row"+v+`>
`),p=0;p<x.s.c;++p)d.push(r);for(;p<=x.e.c;++p){var S=!1,k={},_="";for(m=0;m!=y.length;++m)if(!(y[m].s.c>p)&&!(y[m].s.r>f)&&!(y[m].e.c<p)&&!(y[m].e.r<f)){(y[m].s.c!=p||y[m].s.r!=f)&&(S=!0),k["table:number-columns-spanned"]=y[m].e.c-y[m].s.c+1,k["table:number-rows-spanned"]=y[m].e.r-y[m].s.r+1;break}if(S){d.push(t);continue}var A=sa({r:f,c:p}),R=w?(s[f]||[])[p]:s[A];if(R&&R.f&&(k["table:formula"]=na(ZF(R.f)),R.F&&R.F.slice(0,A.length)==A)){var V=Ro(R.F);k["table:number-matrix-columns-spanned"]=V.e.c-V.s.c+1,k["table:number-matrix-rows-spanned"]=V.e.r-V.s.r+1}if(!R){d.push(r);continue}switch(R.t){case"b":_=R.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=R.v?"true":"false";break;case"n":_=R.w||String(R.v||0),k["office:value-type"]="float",k["office:value"]=R.v||0;break;case"s":case"str":_=R.v==null?"":R.v,k["office:value-type"]="string";break;case"d":_=R.w||qi(R.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=qi(R.v).toISOString(),k["table:style-name"]="ce1";break;default:d.push(r);continue}var P=e(_);if(R.l&&R.l.Target){var I=R.l.Target;I=I.charAt(0)=="#"?"#"+e9(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),P=sr("text:a",P,{"xlink:href":I.replace(/&/g,"&amp;")})}d.push("          "+sr("table:table-cell",sr("text:p",P,{}),k)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},a=function(s,l){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var u=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var p=0;p<f["!cols"].length;++p)if(f["!cols"][p]){var x=f["!cols"][p];if(x.width==null&&x.wpx==null&&x.wch==null)continue;Qb(x),x.ods=u;var y=f["!cols"][p].wpx+"px";s.push('  <style:style style:name="co'+u+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),s.push(`  </style:style>
`),++u}}});var d=0;l.SheetNames.map(function(f){return l.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var p=0;p<f["!rows"].length;++p)if(f["!rows"][p]){f["!rows"][p].ods=d;var x=f["!rows"][p].hpx+"px";s.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),s.push(`  </style:style>
`),++d}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(l,u){var d=[Cs],f=Jp({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=Jp({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});u.bookType=="fods"?(d.push("<office:document"+f+p+`>
`),d.push(VT().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+f+`>
`),a(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var x=0;x!=l.SheetNames.length;++x)d.push(n(l.Sheets[l.SheetNames[x]],l,x));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),u.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function Dk(e,r){if(r.bookType=="fods")return nN(e,r);var t=zb(),n="",a=[],s=[];return n="mimetype",mn(t,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",mn(t,n,nN(e,r)),a.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",mn(t,n,LB(e,r)),a.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",mn(t,n,Cs+VT()),a.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",mn(t,n,VL(s)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",mn(t,n,HL(a)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function sx(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function RB(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ll(Kp(e))}function MB(e,r){e:for(var t=0;t<=e.length-r.length;++t){for(var n=0;n<r.length;++n)if(e[t+n]!=r[n])continue e;return!0}return!1}function jd(e){var r=e.reduce(function(a,s){return a+s.length},0),t=new Uint8Array(r),n=0;return e.forEach(function(a){t.set(a,n),n+=a.length}),t}function FB(e,r,t){var n=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,n-6176);e[r+15]|=n>>7,e[r+14]|=(n&127)<<1;for(var s=0;a>=1;++s,a/=256)e[r+s]=a&255;e[r+15]|=t>=0?0:128}function Qp(e,r){var t=r?r[0]:0,n=e[t]&127;e:if(e[t++]>=128&&(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128)||(n+=(e[t]&127)*Math.pow(2,28),++t,e[t++]<128)||(n+=(e[t]&127)*Math.pow(2,35),++t,e[t++]<128)||(n+=(e[t]&127)*Math.pow(2,42),++t,e[t++]<128)))break e;return r&&(r[0]=t),n}function ea(e){var r=new Uint8Array(7);r[0]=e&127;var t=1;e:if(e>127){if(r[t-1]|=128,r[t]=e>>7&127,++t,e<=16383||(r[t-1]|=128,r[t]=e>>14&127,++t,e<=2097151)||(r[t-1]|=128,r[t]=e>>21&127,++t,e<=268435455)||(r[t-1]|=128,r[t]=e/256>>>21&127,++t,e<=34359738367)||(r[t-1]|=128,r[t]=e/65536>>>21&127,++t,e<=4398046511103))break e;r[t-1]|=128,r[t]=e/16777216>>>21&127,++t}return r.slice(0,t)}function Uh(e){var r=0,t=e[r]&127;e:if(e[r++]>=128){if(t|=(e[r]&127)<<7,e[r++]<128||(t|=(e[r]&127)<<14,e[r++]<128)||(t|=(e[r]&127)<<21,e[r++]<128))break e;t|=(e[r]&127)<<28}return t}function Fs(e){for(var r=[],t=[0];t[0]<e.length;){var n=t[0],a=Qp(e,t),s=a&7;a=Math.floor(a/8);var l=0,u;if(a==0)break;switch(s){case 0:{for(var d=t[0];e[t[0]++]>=128;);u=e.slice(d,t[0])}break;case 5:l=4,u=e.slice(t[0],t[0]+l),t[0]+=l;break;case 1:l=8,u=e.slice(t[0],t[0]+l),t[0]+=l;break;case 2:l=Qp(e,t),u=e.slice(t[0],t[0]+l),t[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var f={data:u,type:s};r[a]==null?r[a]=[f]:r[a].push(f)}return r}function ii(e){var r=[];return e.forEach(function(t,n){t.forEach(function(a){a.data&&(r.push(ea(n*8+a.type)),a.type==2&&r.push(ea(a.data.length)),r.push(a.data))})}),jd(r)}function jl(e){for(var r,t=[],n=[0];n[0]<e.length;){var a=Qp(e,n),s=Fs(e.slice(n[0],n[0]+a));n[0]+=a;var l={id:Uh(s[1][0].data),messages:[]};s[2].forEach(function(u){var d=Fs(u.data),f=Uh(d[3][0].data);l.messages.push({meta:d,data:e.slice(n[0],n[0]+f)}),n[0]+=f}),(r=s[3])!=null&&r[0]&&(l.merge=Uh(s[3][0].data)>>>0>0),t.push(l)}return t}function wh(e){var r=[];return e.forEach(function(t){var n=[];n[1]=[{data:ea(t.id),type:0}],n[2]=[],t.merge!=null&&(n[3]=[{data:ea(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:ea(l.data.length)}],n[2].push({data:ii(l.meta),type:2})});var s=ii(n);r.push(ea(s.length)),r.push(s),a.forEach(function(l){return r.push(l)})}),jd(r)}function PB(e,r){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var t=[0],n=Qp(r,t),a=[];t[0]<r.length;){var s=r[t[0]]&3;if(s==0){var l=r[t[0]++]>>2;if(l<60)++l;else{var u=l-59;l=r[t[0]],u>1&&(l|=r[t[0]+1]<<8),u>2&&(l|=r[t[0]+2]<<16),u>3&&(l|=r[t[0]+3]<<24),l>>>=0,l++,t[0]+=u}a.push(r.slice(t[0],t[0]+l)),t[0]+=l;continue}else{var d=0,f=0;if(s==1?(f=(r[t[0]]>>2&7)+4,d=(r[t[0]++]&224)<<3,d|=r[t[0]++]):(f=(r[t[0]++]>>2)+1,s==2?(d=r[t[0]]|r[t[0]+1]<<8,t[0]+=2):(d=(r[t[0]]|r[t[0]+1]<<8|r[t[0]+2]<<16|r[t[0]+3]<<24)>>>0,t[0]+=4)),a=[jd(a)],d==0)throw new Error("Invalid offset 0");if(d>a[0].length)throw new Error("Invalid offset beyond length");if(f>=d)for(a.push(a[0].slice(-d)),f-=d;f>=a[a.length-1].length;)a.push(a[a.length-1]),f-=a[a.length-1].length;a.push(a[0].slice(-d,-d+f))}}var p=jd(a);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function El(e){for(var r=[],t=0;t<e.length;){var n=e[t++],a=e[t]|e[t+1]<<8|e[t+2]<<16;t+=3,r.push(PB(n,e.slice(t,t+a))),t+=a}if(t!==e.length)throw new Error("data is not a valid framed stream!");return jd(r)}function Nh(e){for(var r=[],t=0;t<e.length;){var n=Math.min(e.length-t,268435455),a=new Uint8Array(4);r.push(a);var s=ea(n),l=s.length;r.push(s),n<=60?(l++,r.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,r.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,r.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,r.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,r.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),r.push(e.slice(t,t+n)),l+=n,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,t+=n}return jd(r)}function qy(e,r){var t=new Uint8Array(32),n=sx(t),a=12,s=0;switch(t[0]=5,e.t){case"n":t[1]=2,FB(t,a,e.v),s|=1,a+=16;break;case"b":t[1]=6,n.setFloat64(a,e.v?1:0,!0),s|=2,a+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));t[1]=3,n.setUint32(a,r.indexOf(e.v),!0),s|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,s,!0),t.slice(0,a)}function Yy(e,r){var t=new Uint8Array(32),n=sx(t),a=12,s=0;switch(t[0]=3,e.t){case"n":t[2]=2,n.setFloat64(a,e.v,!0),s|=32,a+=8;break;case"b":t[2]=6,n.setFloat64(a,e.v?1:0,!0),s|=32,a+=8;break;case"s":if(r.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));t[2]=3,n.setUint32(a,r.indexOf(e.v),!0),s|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,s,!0),t.slice(0,a)}function dd(e){var r=Fs(e);return Qp(r[1][0].data)}function BB(e,r,t){var n,a,s,l;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var u=((l=(s=e[8])==null?void 0:s[0])==null?void 0:l.data)&&Uh(e[8][0].data)>0||!1;if(u)throw"Math only works with normal offsets";for(var d=0,f=sx(e[7][0].data),p=0,x=[],y=sx(e[4][0].data),m=0,w=[],v=0;v<r.length;++v){if(r[v]==null){f.setUint16(v*2,65535,!0),y.setUint16(v*2,65535);continue}f.setUint16(v*2,p,!0),y.setUint16(v*2,m,!0);var N,S;switch(typeof r[v]){case"string":N=qy({t:"s",v:r[v]},t),S=Yy({t:"s",v:r[v]},t);break;case"number":N=qy({t:"n",v:r[v]},t),S=Yy({t:"n",v:r[v]},t);break;case"boolean":N=qy({t:"b",v:r[v]},t),S=Yy({t:"b",v:r[v]},t);break;default:throw new Error("Unsupported value "+r[v])}x.push(N),p+=N.length,w.push(S),m+=S.length,++d}for(e[2][0].data=ea(d);v<e[7][0].data.length/2;++v)f.setUint16(v*2,65535,!0),y.setUint16(v*2,65535,!0);return e[6][0].data=jd(x),e[3][0].data=jd(w),d}function IB(e,r){if(!r||!r.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ro(t["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(As(n)));var s=ix(t,{range:n,header:1}),l=["~Sh33tJ5~"];s.forEach(function(z){return z.forEach(function(q){typeof q=="string"&&l.push(q)})});var u={},d=[],f=fa.read(r.numbers,{type:"base64"});f.FileIndex.map(function(z,q){return[z,f.FullPaths[q]]}).forEach(function(z){var q=z[0],X=z[1];if(q.type==2&&q.name.match(/\.iwa/)){var se=q.content,Se=El(se),fe=jl(Se);fe.forEach(function(G){d.push(G.id),u[G.id]={deps:[],location:X,type:Uh(G.messages[0].meta[1][0].data)}})}}),d.sort(function(z,q){return z-q});var p=d.filter(function(z){return z>1}).map(function(z){return[z,ea(z)]});f.FileIndex.map(function(z,q){return[z,f.FullPaths[q]]}).forEach(function(z){var q=z[0];if(z[1],!!q.name.match(/\.iwa/)){var X=jl(El(q.content));X.forEach(function(se){se.messages.forEach(function(Se){p.forEach(function(fe){se.messages.some(function(G){return Uh(G.meta[1][0].data)!=11006&&MB(G.data,fe[1])})&&u[fe[0]].deps.push(se.id)})})})}});for(var x=fa.find(f,u[1].location),y=jl(El(x.content)),m,w=0;w<y.length;++w){var v=y[w];v.id==1&&(m=v)}var N=dd(Fs(m.messages[0].data)[1][0].data);for(x=fa.find(f,u[N].location),y=jl(El(x.content)),w=0;w<y.length;++w)v=y[w],v.id==N&&(m=v);for(N=dd(Fs(m.messages[0].data)[2][0].data),x=fa.find(f,u[N].location),y=jl(El(x.content)),w=0;w<y.length;++w)v=y[w],v.id==N&&(m=v);for(N=dd(Fs(m.messages[0].data)[2][0].data),x=fa.find(f,u[N].location),y=jl(El(x.content)),w=0;w<y.length;++w)v=y[w],v.id==N&&(m=v);var S=Fs(m.messages[0].data);{S[6][0].data=ea(n.e.r+1),S[7][0].data=ea(n.e.c+1);var k=dd(S[46][0].data),_=fa.find(f,u[k].location),A=jl(El(_.content));{for(var R=0;R<A.length&&A[R].id!=k;++R);if(A[R].id!=k)throw"Bad ColumnRowUIDMapArchive";var V=Fs(A[R].messages[0].data);V[1]=[],V[2]=[],V[3]=[];for(var P=0;P<=n.e.c;++P){var I=[];I[1]=I[2]=[{type:0,data:ea(P+420690)}],V[1].push({type:2,data:ii(I)}),V[2].push({type:0,data:ea(P)}),V[3].push({type:0,data:ea(P)})}V[4]=[],V[5]=[],V[6]=[];for(var B=0;B<=n.e.r;++B)I=[],I[1]=I[2]=[{type:0,data:ea(B+726270)}],V[4].push({type:2,data:ii(I)}),V[5].push({type:0,data:ea(B)}),V[6].push({type:0,data:ea(B)});A[R].messages[0].data=ii(V)}_.content=Nh(wh(A)),_.size=_.content.length,delete S[46];var O=Fs(S[4][0].data);{O[7][0].data=ea(n.e.r+1);var L=Fs(O[1][0].data),C=dd(L[2][0].data);_=fa.find(f,u[C].location),A=jl(El(_.content));{if(A[0].id!=C)throw"Bad HeaderStorageBucket";var Y=Fs(A[0].messages[0].data);for(B=0;B<s.length;++B){var Q=Fs(Y[2][0].data);Q[1][0].data=ea(B),Q[4][0].data=ea(s[B].length),Y[2][B]={type:Y[2][0].type,data:ii(Q)}}A[0].messages[0].data=ii(Y)}_.content=Nh(wh(A)),_.size=_.content.length;var ce=dd(O[2][0].data);_=fa.find(f,u[ce].location),A=jl(El(_.content));{if(A[0].id!=ce)throw"Bad HeaderStorageBucket";for(Y=Fs(A[0].messages[0].data),P=0;P<=n.e.c;++P)Q=Fs(Y[2][0].data),Q[1][0].data=ea(P),Q[4][0].data=ea(n.e.r+1),Y[2][P]={type:Y[2][0].type,data:ii(Q)};A[0].messages[0].data=ii(Y)}_.content=Nh(wh(A)),_.size=_.content.length;var W=dd(O[4][0].data);(function(){for(var z=fa.find(f,u[W].location),q=jl(El(z.content)),X,se=0;se<q.length;++se){var Se=q[se];Se.id==W&&(X=Se)}var fe=Fs(X.messages[0].data);{fe[3]=[];var G=[];l.forEach(function(De,lt){G[1]=[{type:0,data:ea(lt)}],G[2]=[{type:0,data:ea(1)}],G[3]=[{type:2,data:RB(De)}],fe[3].push({type:2,data:ii(G)})})}X.messages[0].data=ii(fe);var be=wh(q),Fe=Nh(be);z.content=Fe,z.size=z.content.length})();var J=Fs(O[3][0].data);{var re=J[1][0];delete J[2];var ee=Fs(re.data);{var H=dd(ee[2][0].data);(function(){for(var z=fa.find(f,u[H].location),q=jl(El(z.content)),X,se=0;se<q.length;++se){var Se=q[se];Se.id==H&&(X=Se)}var fe=Fs(X.messages[0].data);{delete fe[6],delete J[7];var G=new Uint8Array(fe[5][0].data);fe[5]=[];for(var be=0,Fe=0;Fe<=n.e.r;++Fe){var De=Fs(G);be+=BB(De,s[Fe],l),De[1][0].data=ea(Fe),fe[5].push({data:ii(De),type:2})}fe[1]=[{type:0,data:ea(n.e.c+1)}],fe[2]=[{type:0,data:ea(n.e.r+1)}],fe[3]=[{type:0,data:ea(be)}],fe[4]=[{type:0,data:ea(n.e.r+1)}]}X.messages[0].data=ii(fe);var lt=wh(q),ft=Nh(lt);z.content=ft,z.size=z.content.length})()}re.data=ii(ee)}O[3][0].data=ii(J)}S[4][0].data=ii(O)}m.messages[0].data=ii(S);var ne=wh(y),D=Nh(ne);return x.content=D,x.size=x.content.length,f}function $B(e){return function(t){for(var n=0;n!=e.length;++n){var a=e[n];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function nw(e){$B([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function zB(e,r){return r.bookType=="ods"?Dk(e,r):r.bookType=="numbers"?IB(e,r):r.bookType=="xlsb"?UB(e,r):HB(e,r)}function UB(e,r){Fh=1024,e&&!e.SSF&&(e.SSF=co(ns)),e&&e.SSF&&(Px(),Fx(e.SSF),r.revssf=Bx(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Fp?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var t=r.bookType=="xlsb"?"bin":"xml",n=hk.indexOf(r.bookType)>-1,a=UT();nw(r=r||{});var s=zb(),l="",u=0;if(r.cellXfs=[],Md(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",mn(s,l,qT(e.Props,r)),a.coreprops.push(l),ra(r.rels,2,l,zn.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(e.SheetNames[f]);e.Props.SheetNames=d}for(e.Props.Worksheets=e.Props.SheetNames.length,mn(s,l,GT(e.Props)),a.extprops.push(l),ra(r.rels,3,l,zn.EXT_PROPS),e.Custprops!==e.Props&&fi(e.Custprops||{}).length>0&&(l="docProps/custom.xml",mn(s,l,XT(e.Custprops)),a.custprops.push(l),ra(r.rels,4,l,zn.CUST_PROPS)),u=1;u<=e.SheetNames.length;++u){var p={"!id":{}},x=e.Sheets[e.SheetNames[u-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,mn(s,l,VP(u-1,l,r,e,p)),a.sheets.push(l),ra(r.wbrels,-1,"worksheets/sheet"+u+"."+t,zn.WS[0])}if(x){var m=x["!comments"],w=!1,v="";m&&m.length>0&&(v="xl/comments"+u+"."+t,mn(s,v,GP(m,v)),a.comments.push(v),ra(p,-1,"../comments"+u+"."+t,zn.CMNT),w=!0),x["!legacy"]&&w&&mn(s,"xl/drawings/vmlDrawing"+u+".vml",dk(u,x["!comments"])),delete x["!comments"],delete x["!legacy"]}p["!id"].rId1&&mn(s,WT(l),$h(p))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+t,mn(s,l,YP(r.Strings,l,r)),a.strs.push(l),ra(r.wbrels,-1,"sharedStrings."+t,zn.SST)),l="xl/workbook."+t,mn(s,l,WP(e,l)),a.workbooks.push(l),ra(r.rels,1,l,zn.WB),l="xl/theme/theme1.xml",mn(s,l,ck(e.Themes,r)),a.themes.push(l),ra(r.wbrels,-1,"theme/theme1.xml",zn.THEME),l="xl/styles."+t,mn(s,l,qP(e,l,r)),a.styles.push(l),ra(r.wbrels,-1,"styles."+t,zn.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",mn(s,l,e.vbaraw),a.vba.push(l),ra(r.wbrels,-1,"vbaProject.bin",zn.VBA)),l="xl/metadata."+t,mn(s,l,XP(l)),a.metadata.push(l),ra(r.wbrels,-1,"metadata."+t,zn.XLMETA),mn(s,"[Content_Types].xml",HT(a,r)),mn(s,"_rels/.rels",$h(r.rels)),mn(s,"xl/_rels/workbook."+t+".rels",$h(r.wbrels)),delete r.revssf,delete r.ssf,s}function HB(e,r){Fh=1024,e&&!e.SSF&&(e.SSF=co(ns)),e&&e.SSF&&(Px(),Fx(e.SSF),r.revssf=Bx(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.rels={},r.wbrels={},r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,Fp?r.revStrings=new Map:(r.revStrings={},r.revStrings.foo=[],delete r.revStrings.foo);var t="xml",n=hk.indexOf(r.bookType)>-1,a=UT();nw(r=r||{});var s=zb(),l="",u=0;if(r.cellXfs=[],Md(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",mn(s,l,qT(e.Props,r)),a.coreprops.push(l),ra(r.rels,2,l,zn.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],f=0;f<e.SheetNames.length;++f)(e.Workbook.Sheets[f]||{}).Hidden!=2&&d.push(e.SheetNames[f]);e.Props.SheetNames=d}e.Props.Worksheets=e.Props.SheetNames.length,mn(s,l,GT(e.Props)),a.extprops.push(l),ra(r.rels,3,l,zn.EXT_PROPS),e.Custprops!==e.Props&&fi(e.Custprops||{}).length>0&&(l="docProps/custom.xml",mn(s,l,XT(e.Custprops)),a.custprops.push(l),ra(r.rels,4,l,zn.CUST_PROPS));var p=["SheetJ5"];for(r.tcid=0,u=1;u<=e.SheetNames.length;++u){var x={"!id":{}},y=e.Sheets[e.SheetNames[u-1]],m=(y||{})["!type"]||"sheet";switch(m){case"chart":default:l="xl/worksheets/sheet"+u+"."+t,mn(s,l,Nk(u-1,r,e,x)),a.sheets.push(l),ra(r.wbrels,-1,"worksheets/sheet"+u+"."+t,zn.WS[0])}if(y){var w=y["!comments"],v=!1,N="";if(w&&w.length>0){var S=!1;w.forEach(function(k){k[1].forEach(function(_){_.T==!0&&(S=!0)})}),S&&(N="xl/threadedComments/threadedComment"+u+"."+t,mn(s,N,bM(w,p,r)),a.threadedcomments.push(N),ra(x,-1,"../threadedComments/threadedComment"+u+"."+t,zn.TCMNT)),N="xl/comments"+u+"."+t,mn(s,N,fk(w)),a.comments.push(N),ra(x,-1,"../comments"+u+"."+t,zn.CMNT),v=!0}y["!legacy"]&&v&&mn(s,"xl/drawings/vmlDrawing"+u+".vml",dk(u,y["!comments"])),delete y["!comments"],delete y["!legacy"]}x["!id"].rId1&&mn(s,WT(l),$h(x))}return r.Strings!=null&&r.Strings.length>0&&(l="xl/sharedStrings."+t,mn(s,l,nk(r.Strings,r)),a.strs.push(l),ra(r.wbrels,-1,"sharedStrings."+t,zn.SST)),l="xl/workbook."+t,mn(s,l,Tk(e)),a.workbooks.push(l),ra(r.rels,1,l,zn.WB),l="xl/theme/theme1.xml",mn(s,l,ck(e.Themes,r)),a.themes.push(l),ra(r.wbrels,-1,"theme/theme1.xml",zn.THEME),l="xl/styles."+t,mn(s,l,ok(e,r)),a.styles.push(l),ra(r.wbrels,-1,"styles."+t,zn.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",mn(s,l,e.vbaraw),a.vba.push(l),ra(r.wbrels,-1,"vbaProject.bin",zn.VBA)),l="xl/metadata."+t,mn(s,l,uk()),a.metadata.push(l),ra(r.wbrels,-1,"metadata."+t,zn.XLMETA),p.length>1&&(l="xl/persons/person.xml",mn(s,l,wM(p)),a.people.push(l),ra(r.wbrels,-1,"persons/person.xml",zn.PEOPLE)),mn(s,"[Content_Types].xml",HT(a,r)),mn(s,"_rels/.rels",$h(r.rels)),mn(s,"xl/_rels/workbook."+t+".rels",$h(r.wbrels)),delete r.revssf,delete r.ssf,s}function WB(e,r){var t="";switch((r||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":t=Au(e.slice(0,12));break;case"binary":t=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(r&&r.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function Ok(e,r){switch(r.type){case"base64":case"binary":break;case"buffer":case"array":r.type="";break;case"file":return xm(r.file,fa.write(e,{type:Vn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");default:throw new Error("Unrecognized type "+r.type)}return fa.write(e,r)}function VB(e,r){var t=co(r||{}),n=zB(e,t);return qB(n,t)}function qB(e,r){var t={},n=Vn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(r.compression&&(t.compression="DEFLATE"),r.password)t.type=n;else switch(r.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+r.bookType+"' files");case"buffer":case"file":t.type=n;break;default:throw new Error("Unrecognized type "+r.type)}var a=e.FullPaths?fa.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!r.compression}):e.generate(t);if(typeof Deno<"u"&&typeof a=="string"){if(r.type=="binary"||r.type=="base64")return a;a=new Uint8Array(Mx(a))}return r.password&&typeof encrypt_agile<"u"?Ok(encrypt_agile(a,r.password),r):r.type==="file"?xm(r.file,a):r.type=="string"?Op(a):a}function YB(e,r){var t=r||{},n=cB(e,t);return Ok(n,t)}function Nc(e,r,t){t||(t="");var n=t+e;switch(r.type){case"base64":return Gp(Kp(n));case"binary":return Kp(n);case"string":return e;case"file":return xm(r.file,n,"utf8");case"buffer":return Vn?Lu(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Nc(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function GB(e,r){switch(r.type){case"base64":return Gp(e);case"binary":return e;case"string":return e;case"file":return xm(r.file,e,"binary");case"buffer":return Vn?Lu(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+r.type)}function Yg(e,r){switch(r.type){case"string":case"base64":case"binary":for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return r.type=="base64"?Gp(t):r.type=="string"?Op(t):t;case"file":return xm(r.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+r.type)}}function Lk(e,r){NO(),LP(e);var t=co(r||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var n=Lk(e,t);return t.type="array",Mx(n)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=e.SheetNames.indexOf(t.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Nc(oB(e,t),t);case"slk":case"sylk":return Nc(CR.from_sheet(e.Sheets[e.SheetNames[a]],t),t);case"htm":case"html":return Nc(Ek(e.Sheets[e.SheetNames[a]],t),t);case"txt":return GB(Rk(e.Sheets[e.SheetNames[a]],t),t);case"csv":return Nc(aw(e.Sheets[e.SheetNames[a]],t),t,"\uFEFF");case"dif":return Nc(DR.from_sheet(e.Sheets[e.SheetNames[a]],t),t);case"dbf":return Yg(AR.from_sheet(e.Sheets[e.SheetNames[a]],t),t);case"prn":return Nc(OR.from_sheet(e.Sheets[e.SheetNames[a]],t),t);case"rtf":return Nc(IR.from_sheet(e.Sheets[e.SheetNames[a]],t),t);case"eth":return Nc(rk.from_sheet(e.Sheets[e.SheetNames[a]],t),t);case"fods":return Nc(Dk(e,t),t);case"wk1":return Yg(K3.sheet_to_wk1(e.Sheets[e.SheetNames[a]],t),t);case"wk3":return Yg(K3.book_to_wk3(e,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Yg(jk(e,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),YB(e,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return VB(e,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function XB(e){if(!e.bookType){var r={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType=r[e.bookType]||e.bookType}}function KB(e,r,t){var n={};return n.type="file",n.file=r,XB(n),Lk(e,n)}function JB(e,r,t,n,a,s,l,u){var d=di(t),f=u.defval,p=u.raw||!Object.prototype.hasOwnProperty.call(u,"raw"),x=!0,y=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:t,enumerable:!1})}catch{y.__rowNum__=t}else y.__rowNum__=t;if(!l||e[t])for(var m=r.s.c;m<=r.e.c;++m){var w=l?e[t][m]:e[n[m]+d];if(w===void 0||w.t===void 0){if(f===void 0)continue;s[m]!=null&&(y[s[m]]=f);continue}var v=w.v;switch(w.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+w.t)}if(s[m]!=null){if(v==null)if(w.t=="e"&&v===null)y[s[m]]=null;else if(f!==void 0)y[s[m]]=f;else if(p&&v===null)y[s[m]]=null;else continue;else y[s[m]]=p&&(w.t!=="n"||w.t==="n"&&u.rawNumbers!==!1)?v:Cu(w,v,u);v!=null&&(x=!1)}}return{row:y,isempty:x}}function ix(e,r){if(e==null||e["!ref"]==null)return[];var t={t:"n",v:0},n=0,a=1,s=[],l=0,u="",d={s:{r:0,c:0},e:{r:0,c:0}},f=r||{},p=f.range!=null?f.range:e["!ref"];switch(f.header===1?n=1:f.header==="A"?n=2:Array.isArray(f.header)?n=3:f.header==null&&(n=0),typeof p){case"string":d=Aa(p);break;case"number":d=Aa(e["!ref"]),d.s.r=p;break;default:d=p}n>0&&(a=0);var x=di(d.s.r),y=[],m=[],w=0,v=0,N=Array.isArray(e),S=d.s.r,k=0,_={};N&&!e[S]&&(e[S]=[]);var A=f.skipHidden&&e["!cols"]||[],R=f.skipHidden&&e["!rows"]||[];for(k=d.s.c;k<=d.e.c;++k)if(!(A[k]||{}).hidden)switch(y[k]=Ci(k),t=N?e[S][k]:e[y[k]+x],n){case 1:s[k]=k-d.s.c;break;case 2:s[k]=y[k];break;case 3:s[k]=f.header[k-d.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),u=l=Cu(t,null,f),v=_[l]||0,!v)_[l]=1;else{do u=l+"_"+v++;while(_[u]);_[l]=v,_[u]=1}s[k]=u}for(S=d.s.r+a;S<=d.e.r;++S)if(!(R[S]||{}).hidden){var V=JB(e,d,S,y,n,s,N,f);(V.isempty===!1||(n===1?f.blankrows!==!1:f.blankrows))&&(m[w++]=V.row)}return m.length=w,m}var aN=/"/g;function QB(e,r,t,n,a,s,l,u){for(var d=!0,f=[],p="",x=di(t),y=r.s.c;y<=r.e.c;++y)if(n[y]){var m=u.dense?(e[t]||[])[y]:e[n[y]+x];if(m==null)p="";else if(m.v!=null){d=!1,p=""+(u.rawNumbers&&m.t=="n"?m.v:Cu(m,null,u));for(var w=0,v=0;w!==p.length;++w)if((v=p.charCodeAt(w))===a||v===s||v===34||u.forceQuotes){p='"'+p.replace(aN,'""')+'"';break}p=="ID"&&(p='"ID"')}else m.f!=null&&!m.F?(d=!1,p="="+m.f,p.indexOf(",")>=0&&(p='"'+p.replace(aN,'""')+'"')):p="";f.push(p)}return u.blankrows===!1&&d?null:f.join(l)}function aw(e,r){var t=[],n=r??{};if(e==null||e["!ref"]==null)return"";var a=Aa(e["!ref"]),s=n.FS!==void 0?n.FS:",",l=s.charCodeAt(0),u=n.RS!==void 0?n.RS:`
`,d=u.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),p="",x=[];n.dense=Array.isArray(e);for(var y=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],w=a.s.c;w<=a.e.c;++w)(y[w]||{}).hidden||(x[w]=Ci(w));for(var v=0,N=a.s.r;N<=a.e.r;++N)(m[N]||{}).hidden||(p=QB(e,a,N,x,l,d,s,n),p!=null&&(n.strip&&(p=p.replace(f,"")),(p||n.blankrows!==!1)&&t.push((v++?u:"")+p)));return delete n.dense,t.join("")}function Rk(e,r){r||(r={}),r.FS="	",r.RS=`
`;var t=aw(e,r);return t}function ZB(e){var r="",t,n="";if(e==null||e["!ref"]==null)return[];var a=Aa(e["!ref"]),s="",l=[],u,d=[],f=Array.isArray(e);for(u=a.s.c;u<=a.e.c;++u)l[u]=Ci(u);for(var p=a.s.r;p<=a.e.r;++p)for(s=di(p),u=a.s.c;u<=a.e.c;++u)if(r=l[u]+s,t=f?(e[p]||[])[u]:e[r],n="",t!==void 0){if(t.F!=null){if(r=t.F,!t.f)continue;n=t.f,r.indexOf(":")==-1&&(r=r+":"+r)}if(t.f!=null)n=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)n=""+t.v;else if(t.t=="b")n=t.v?"TRUE":"FALSE";else if(t.w!==void 0)n="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?n="'"+t.v:n=""+t.v}}d[d.length]=r+"="+n}return d}function Mk(e,r,t){var n=t||{},a=+!n.skipHeader,s=e||{},l=0,u=0;if(s&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?Gs(n.origin):n.origin;l=d.r,u=d.c}var f,p={s:{c:0,r:0},e:{c:u,r:l+r.length-1+a}};if(s["!ref"]){var x=Aa(s["!ref"]);p.e.c=Math.max(p.e.c,x.e.c),p.e.r=Math.max(p.e.r,x.e.r),l==-1&&(l=x.e.r+1,p.e.r=l+r.length-1+a)}else l==-1&&(l=0,p.e.r=r.length-1+a);var y=n.header||[],m=0;r.forEach(function(v,N){fi(v).forEach(function(S){(m=y.indexOf(S))==-1&&(y[m=y.length]=S);var k=v[S],_="z",A="",R=sa({c:u+m,r:l+N+a});f=Zp(s,R),k&&typeof k=="object"&&!(k instanceof Date)?s[R]=k:(typeof k=="number"?_="n":typeof k=="boolean"?_="b":typeof k=="string"?_="s":k instanceof Date?(_="d",n.cellDates||(_="n",k=lo(k)),A=n.dateNF||ns[14]):k===null&&n.nullError&&(_="e",k=0),f?(f.t=_,f.v=k,delete f.w,delete f.R,A&&(f.z=A)):s[R]=f={t:_,v:k},A&&(f.z=A))})}),p.e.c=Math.max(p.e.c,u+y.length-1);var w=di(l);if(a)for(m=0;m<y.length;++m)s[Ci(m+u)+w]={t:"s",v:y[m]};return s["!ref"]=As(p),s}function eI(e,r){return Mk(null,e,r)}function Zp(e,r,t){if(typeof r=="string"){if(Array.isArray(e)){var n=Gs(r);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[r]||(e[r]={t:"z"})}return typeof r!="number"?Zp(e,sa(r)):Zp(e,sa({r,c:t||0}))}function tI(e,r){if(typeof r=="number"){if(r>=0&&e.SheetNames.length>r)return r;throw new Error("Cannot find sheet # "+r)}else if(typeof r=="string"){var t=e.SheetNames.indexOf(r);if(t>-1)return t;throw new Error("Cannot find sheet name |"+r+"|")}else throw new Error("Cannot find sheet |"+r+"|")}function rI(){return{SheetNames:[],Sheets:{}}}function nI(e,r,t,n){var a=1;if(!t)for(;a<=65535&&e.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var l=s&&s[1]||t;for(++a;a<=65535&&e.SheetNames.indexOf(t=l+a)!=-1;++a);}if(_k(t),e.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return e.SheetNames.push(t),e.Sheets[t]=r,t}function aI(e,r,t){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=tI(e,r);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}e.Workbook.Sheets[n].Hidden=t}function sI(e,r){return e.z=r,e}function Fk(e,r,t){return r?(e.l={Target:r},t&&(e.l.Tooltip=t)):delete e.l,e}function iI(e,r,t){return Fk(e,"#"+r,t)}function oI(e,r,t){e.c||(e.c=[]),e.c.push({t:r,a:t||"SheetJS"})}function lI(e,r,t,n){for(var a=typeof r!="string"?r:Aa(r),s=typeof r=="string"?r:As(r),l=a.s.r;l<=a.e.r;++l)for(var u=a.s.c;u<=a.e.c;++u){var d=Zp(e,l,u);d.t="n",d.F=s,delete d.v,l==a.s.r&&u==a.s.c&&(d.f=t,n&&(d.D=!0))}return e}var Gy={encode_col:Ci,encode_row:di,encode_cell:sa,encode_range:As,decode_col:Yb,decode_row:qb,split_cell:NL,decode_cell:Gs,decode_range:Ro,format_cell:Cu,sheet_add_aoa:FT,sheet_add_json:Mk,sheet_add_dom:Ak,aoa_to_sheet:c0,json_to_sheet:eI,table_to_sheet:Ck,table_to_book:DB,sheet_to_csv:aw,sheet_to_txt:Rk,sheet_to_json:ix,sheet_to_html:Ek,sheet_to_formulae:ZB,sheet_to_row_object_array:ix,sheet_get_cell:Zp,book_new:rI,book_append_sheet:nI,book_set_sheet_visibility:aI,cell_set_number_format:sI,cell_set_hyperlink:Fk,cell_set_internal_link:iI,cell_add_comment:oI,sheet_set_array_formula:lI,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Gg=()=>{var Te;const{user:e,updateUser:r}=gn(),t=T.useRef(null),[n,a]=T.useState({firstName:e.firstName,lastName:e.lastName,email:e.email}),[s,l]=T.useState([]),[u,d]=T.useState(!0),[f,p]=T.useState(!1),[x,y]=T.useState("Account settings"),[m,w]=T.useState([]),[v,N]=T.useState(!1),[S,k]=T.useState(""),[_,A]=T.useState(!1),[R,V]=T.useState(null),[P,I]=T.useState(""),[B,O]=T.useState(!1),[L,C]=T.useState(""),[Y,Q]=T.useState([]),[ce,W]=T.useState(!1),[J,re]=T.useState({name:"",color:"#6B7280"}),[ee,H]=T.useState(!1),[ne,D]=T.useState(!1),[z,q]=T.useState(!1),[X,se]=T.useState(null),[Se,fe]=T.useState({name:"",color:""}),[G,be]=T.useState(!1),[Fe,De]=T.useState(""),[lt,ft]=T.useState([]),[Pe,xe]=T.useState(!1),[Qe,at]=T.useState(""),[pt,Ze]=T.useState(!1),[ze,Ae]=T.useState(null),[vt,gt]=T.useState(""),[rr,Wt]=T.useState(!1),[Qt,cr]=T.useState("");T.useEffect(()=>{(async()=>{try{const[de]=await Promise.all([fetch(`${$e}/api/tasks?type=received`,{headers:{Authorization:`Bearer ${e.token}`}})]),ye=await de.json();l(ye)}catch{Ee.error("Failed to fetch user stats")}finally{d(!1)}})()},[e]);const Zt=s.length,hr=s.filter(te=>te.status==="yet_to_start"||te.status==="in_progress").length,$t=s.filter(te=>(te.status==="yet_to_start"||te.status==="in_progress")&&te.priority==="urgent").length,Mr=te=>{a({...n,[te.target.name]:te.target.value})},xr=()=>{t.current.click()},Qr=async te=>{const de=te.target.files[0];if(!de)return;if(!de.type.startsWith("image/")){Ee.error("Please upload an image file");return}const ye=new FormData;ye.append("photo",de),p(!0);try{const Ne=await fetch(`${$e}/api/users/profile`,{method:"PUT",headers:{Authorization:`Bearer ${e.token}`},body:ye});if(!Ne.ok){const ut=await Ne.json();throw new Error(ut.message||"Failed to upload photo")}const Ge=await Ne.json();r(Ge),Ee.success("Profile photo updated successfully")}catch(Ne){Ee.error(Ne.message)}finally{p(!1)}},Er=async te=>{te.preventDefault();try{const de=await fetch(`${$e}/api/users/profile`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({firstName:n.firstName,lastName:n.lastName})});if(!de.ok){const Ne=await de.json();throw new Error(Ne.message||"Failed to update profile")}const ye=await de.json();r(ye),Ee.success("Profile updated successfully")}catch(de){Ee.error(de.message)}},Fr=async()=>{if(!(e.role!=="Admin"&&e.role!=="Team Head")){N(!0);try{const te=await fetch(`${$e}/api/priorities`,{headers:{Authorization:`Bearer ${e.token}`}});if(!te.ok)throw new Error("Failed to fetch priorities");const de=await te.json();w(de)}catch{Ee.error("Failed to fetch priorities")}finally{N(!1)}}},tn=async()=>{if(!S.trim()){Ee.error("Priority name is required");return}A(!0);try{const te=await fetch(`${$e}/api/priorities`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({name:S.trim()})});if(!te.ok){const de=await te.json();throw new Error(de.message||"Failed to add priority")}Ee.success("Priority added successfully"),k(""),Fr()}catch(te){Ee.error(te.message)}finally{A(!1)}},et=async te=>{if(confirm("Are you sure you want to delete this priority?"))try{const de=await fetch(`${$e}/api/priorities/${te}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.token}`}});if(!de.ok){const ye=await de.json();throw new Error(ye.message||"Failed to delete priority")}Ee.success("Priority deleted successfully"),Fr()}catch(de){Ee.error(de.message)}},_e=async(te,de)=>{if(!de.trim()){Ee.error("Priority name is required");return}O(!0);try{const ye=await fetch(`${$e}/api/priorities/${te}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({name:de.trim()})});if(!ye.ok){const Ne=await ye.json();throw new Error(Ne.message||"Failed to update priority")}Ee.success("Priority updated successfully"),V(null),I(""),Fr()}catch(ye){Ee.error(ye.message)}finally{O(!1)}},Be=te=>{V(te._id),I(te.name)},ve=()=>{V(null),I("")};T.useEffect(()=>{x==="Priority Management"?(Fr(),C(""),k("")):x==="Stages"?(Ce(),De(""),re({name:"",color:"#6B7280"})):x==="Works"&&(ar(),cr(""),at(""))},[x]);const Ce=async()=>{W(!0);try{const te=await fetch(`${$e}/api/task-statuses`,{headers:{Authorization:`Bearer ${e.token}`,"Content-Type":"application/json"}});if(!te.ok)throw new Error("Failed to fetch task statuses");const de=await te.json();Q(de)}catch(te){Ee.error(te.message)}finally{W(!1)}},Le=async()=>{if(!J.name.trim()){Ee.error("Name is required");return}H(!0);try{const te=await fetch(`${$e}/api/task-statuses`,{method:"POST",headers:{Authorization:`Bearer ${e.token}`,"Content-Type":"application/json"},body:JSON.stringify(J)});if(!te.ok){const de=await te.json();throw new Error(de.message||"Failed to add task status")}Ee.success("Task status added successfully"),re({name:"",color:"#6B7280"}),Ce()}catch(te){Ee.error(te.message)}finally{H(!1)}},qe=async(te,de)=>{if(confirm(`Are you sure you want to delete the "${de}" status? This action cannot be undone.`))try{const ye=await fetch(`${$e}/api/task-statuses/${te}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.token}`,"Content-Type":"application/json"}});if(!ye.ok){const Ne=await ye.json();throw new Error(Ne.message||"Failed to delete task status")}Ee.success("Task status deleted successfully"),Ce()}catch(ye){Ee.error(ye.message)}},Tt=async(te,de)=>{if(!de.name.trim()){Ee.error("Status name is required");return}be(!0);try{const ye=await fetch(`${$e}/api/task-statuses/${te}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify(de)});if(!ye.ok){const Ne=await ye.json();throw new Error(Ne.message||"Failed to update task status")}Ee.success("Task status updated successfully"),se(null),fe({name:"",color:""}),Ce()}catch(ye){Ee.error(ye.message)}finally{be(!1)}},Dt=te=>{se(te._id),fe({name:te.name,color:te.hexColor||te.color||"#6B7280"})},er=()=>{se(null),fe({name:"",color:""})},ar=async()=>{if(!(e.role!=="Admin"&&e.role!=="Team Head")){xe(!0);try{const te=await fetch(`${$e}/api/work-types`,{headers:{Authorization:`Bearer ${e.token}`}});if(!te.ok)throw new Error("Failed to fetch work types");const de=await te.json();ft(de)}catch{Ee.error("Failed to fetch work types")}finally{xe(!1)}}},St=async()=>{if(!Qe.trim()){Ee.error("Work type name is required");return}Ze(!0);try{const te=await fetch(`${$e}/api/work-types`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({name:Qe.trim()})});if(!te.ok){const de=await te.json();throw new Error(de.message||"Failed to add work type")}Ee.success("Work type added successfully"),at(""),ar()}catch(te){Ee.error(te.message)}finally{Ze(!1)}},ht=async(te,de)=>{if(!de.trim()){Ee.error("Work type name is required");return}Wt(!0);try{const ye=await fetch(`${$e}/api/work-types/${te}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({name:de.trim()})});if(!ye.ok){const Ne=await ye.json();throw new Error(Ne.message||"Failed to update work type")}Ee.success("Work type updated successfully"),Ae(null),gt(""),ar()}catch(ye){Ee.error(ye.message)}finally{Wt(!1)}},Bt=async(te,de)=>{try{const ye=await fetch(`${$e}/api/work-types/${te}/can-delete`,{headers:{Authorization:`Bearer ${e.token}`}});if(!ye.ok)throw new Error("Failed to check work type deletion");const Ne=await ye.json();if(!Ne.canDelete){Ee.error(`Cannot delete "${de}". It is being used in ${Ne.tasksCount} task(s).`);return}if(!confirm(`Are you sure you want to delete the "${de}" work type?`))return;const Ge=await fetch(`${$e}/api/work-types/${te}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.token}`}});if(!Ge.ok){const ut=await Ge.json();throw new Error(ut.message||"Failed to delete work type")}Ee.success("Work type deleted successfully"),ar()}catch(ye){Ee.error(ye.message)}},Kt=te=>{Ae(te._id),gt(te.name)},Ot=()=>{Ae(null),gt("")},Ur=async()=>{if(confirm("This will create a backup of the entire database. This may take a few minutes. Continue?")){D(!0);try{const te=await fetch(`${$e}/api/backup/database`,{method:"GET",headers:{Authorization:`Bearer ${e.token}`}});if(!te.ok){const We=await te.json();throw new Error(We.message||"Failed to create backup")}const de=te.headers.get("Content-Disposition");let ye="database-backup.gz";if(de){const We=de.match(/filename="(.+)"/);We&&(ye=We[1])}const Ne=await te.blob(),Ge=window.URL.createObjectURL(Ne),ut=document.createElement("a");ut.href=Ge,ut.download=ye,document.body.appendChild(ut),ut.click(),window.URL.revokeObjectURL(Ge),document.body.removeChild(ut),Ee.success("Database backup downloaded successfully")}catch(te){Ee.error(te.message)}finally{D(!1)}}},Ir=async()=>{if(confirm("This will export all tasks to an Excel file. Continue?")){q(!0);try{const te=await fetch(`${$e}/api/tasks/export/excel`,{method:"GET",headers:{Authorization:`Bearer ${e.token}`}});if(!te.ok){const rt=await te.json();throw new Error(rt.message||"Failed to export tasks")}const de=await te.json();if(!de||de.length===0){Ee.error("No tasks found to export");return}const ye=de.map(rt=>{var Gt,nr,zt,tr,Ar;return{"Task ID":rt._id,Title:rt.title,Description:rt.description,Status:rt.status,Priority:rt.priority,"Client Name":rt.clientName||"","Client Group":rt.clientGroup||"","Work Type":rt.workType||"","Assigned To":rt.assignedTo?`${rt.assignedTo.firstName} ${rt.assignedTo.lastName}`:"","Assigned To Email":((Gt=rt.assignedTo)==null?void 0:Gt.email)||"","Assigned By":rt.assignedBy?`${rt.assignedBy.firstName} ${rt.assignedBy.lastName}`:"","Assigned By Email":((nr=rt.assignedBy)==null?void 0:nr.email)||"","Verification Status":rt.verificationStatus||"",Verification:rt.verification||"","Primary Verifier":rt.verificationAssignedTo?`${rt.verificationAssignedTo.firstName} ${rt.verificationAssignedTo.lastName}`:"","Second Verifier":rt.secondVerificationAssignedTo?`${rt.secondVerificationAssignedTo.firstName} ${rt.secondVerificationAssignedTo.lastName}`:"","Third Verifier":rt.thirdVerificationAssignedTo?`${rt.thirdVerificationAssignedTo.firstName} ${rt.thirdVerificationAssignedTo.lastName}`:"","Fourth Verifier":rt.fourthVerificationAssignedTo?`${rt.fourthVerificationAssignedTo.firstName} ${rt.fourthVerificationAssignedTo.lastName}`:"","Fifth Verifier":rt.fifthVerificationAssignedTo?`${rt.fifthVerificationAssignedTo.firstName} ${rt.fifthVerificationAssignedTo.lastName}`:"",Guides:((zt=rt.guides)==null?void 0:zt.map(Zr=>`${Zr.firstName} ${Zr.lastName}`).join(", "))||"","Inward Entry Date":rt.inwardEntryDate?new Date(rt.inwardEntryDate).toLocaleDateString():"","Due Date":rt.dueDate?new Date(rt.dueDate).toLocaleDateString():"","Target Date":rt.targetDate?new Date(rt.targetDate).toLocaleDateString():"","Created At":new Date(rt.createdAt).toLocaleDateString(),"Updated At":new Date(rt.updatedAt).toLocaleDateString(),Billed:rt.billed?"Yes":"No","Self Verification":rt.selfVerification?"Yes":"No","Files Count":((tr=rt.files)==null?void 0:tr.length)||0,"Comments Count":((Ar=rt.comments)==null?void 0:Ar.length)||0,"Custom Fields":rt.customFields?JSON.stringify(rt.customFields):"","Verification Comments":rt.verificationComments||""}}),Ne=Gy.book_new(),Ge=Gy.json_to_sheet(ye),ut=[],We=Object.keys(ye[0]||{});We.length>0&&(We.forEach((rt,Gt)=>{const nr=Math.max(rt.length,...ye.map(zt=>(zt[rt]||"").toString().length));ut[Gt]={wch:Math.min(nr+2,50)}}),Ge["!cols"]=ut),Gy.book_append_sheet(Ne,Ge,"All Tasks");const st=`tasks_export_${new Date().toISOString().split("T")[0]}.xlsx`;KB(Ne,st),Ee.success("Tasks exported to Excel successfully")}catch(te){Ee.error(te.message)}finally{q(!1)}}},le=["Account settings",...e.role==="Admin"||e.role==="Team Head"?["Priority Management","Stages","Works"]:[],...e.role==="Admin"?["Attributes"]:[]];return i.jsxs("div",{className:"bg-white min-h-screen",children:[i.jsxs("div",{className:"bg-[#485bbd] px-4 sm:px-8 py-4 flex flex-col md:flex-row items-center gap-4 md:gap-6 relative",children:[e.role==="Admin"&&i.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[i.jsx("button",{onClick:Ir,disabled:z,className:"bg-green-600/20 hover:bg-green-600/30 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center gap-2 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",title:"Export All Tasks to Excel",children:z?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Exporting..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Backup Excel"]})}),i.jsx("button",{onClick:Ur,disabled:ne,className:"bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg transition-colors duration-200 flex items-center gap-2 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",title:"Download Database Backup",children:ne?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),"Backup DB"]})})]}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center w-full md:w-auto gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:((Te=e.photo)==null?void 0:Te.url)||kn,alt:"Profile",className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-4 border-white object-cover shadow-lg bg-white"}),i.jsx("input",{type:"file",ref:t,onChange:Qr,className:"hidden",accept:"image/*"}),i.jsx("button",{onClick:xr,disabled:f,className:"absolute bottom-0 right-0 bg-gray-200 rounded-full p-1 cursor-pointer border border-gray-300 hover:bg-gray-300 transition-colors",children:f?i.jsxs("svg",{className:"animate-spin h-5 w-5 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536M9 13h3l8-8a2.828 2.828 0 00-4-4l-8 8v3zm0 0v3h3"})})})]}),i.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-left",children:[i.jsxs("span",{className:"text-xl md:text-2xl text-white",children:[e.firstName," ",e.lastName]}),i.jsx("span",{className:"text-white text-sm md:text-[14px] mt-1",children:e.email}),i.jsx("span",{className:"text-xs md:text-[12px] mt-1 bg-[#4f46e5] text-white px-2 py-0.5 rounded inline-block",children:e.role})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full md:w-auto md:flex md:flex-col md:justify-around md:items-start md:pb-2 md:mt-0",children:[i.jsxs("div",{className:"flex flex-col items-center md:flex-row md:gap-16",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-2xl md:text-4xl text-white",children:u?"-":Zt}),i.jsx("span",{className:"text-xs uppercase font-bold text-gray-300 tracking-wide mt-1 text-center",children:"Total Tasks"})]}),i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-2xl md:text-4xl text-white",children:u?"-":hr}),i.jsx("span",{className:"text-xs uppercase font-bold text-gray-300 tracking-wide mt-1 text-center",children:"Pending Tasks"})]})]}),i.jsx("div",{className:"flex flex-col items-center md:flex-row md:gap-16 mt-0 md:mt-2",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("span",{className:"text-2xl md:text-4xl text-white",children:u?"-":$t}),i.jsx("span",{className:"text-xs uppercase font-bold text-gray-300 tracking-wide mt-1 text-center",children:"Urgent Tasks"})]})})]})]}),i.jsx("div",{className:"border-b border-gray-200 bg-white",children:i.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto px-4",children:le.map(te=>i.jsx("button",{onClick:()=>y(te),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm focus:outline-none transition-all ${te===x?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-blue-700 hover:border-blue-300"}`,children:te},te))})}),i.jsxs("div",{className:"max-w-4xl bg-white rounded-lg p-4 md:p-0 mx-auto",children:[x==="Account settings"&&i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-lg font-semibold px-0 md:px-6 py-4",children:"Account settings"}),i.jsxs("form",{onSubmit:Er,children:[i.jsxs("div",{className:"divide-y divide-gray-200",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center px-0 md:px-6 py-3",children:[i.jsx("div",{className:"w-full md:w-1/3 text-gray-600 font-medium mb-2 md:mb-0",children:"First Name"}),i.jsx("div",{className:"w-full md:w-2/3",children:i.jsx("input",{type:"text",name:"firstName",value:n.firstName,onChange:Mr,className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"First Name"})})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center px-0 md:px-6 py-3",children:[i.jsx("div",{className:"w-full md:w-1/3 text-gray-600 font-medium mb-2 md:mb-0",children:"Last Name"}),i.jsx("div",{className:"w-full md:w-2/3",children:i.jsx("input",{type:"text",name:"lastName",value:n.lastName,onChange:Mr,className:"w-full bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Last Name"})})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center px-0 md:px-6 py-3",children:[i.jsx("div",{className:"w-full md:w-1/3 text-gray-600 font-medium mb-2 md:mb-0",children:"Email"}),i.jsx("div",{className:"w-full md:w-2/3",children:i.jsx("input",{name:"email",type:"email",value:n.email,disabled:!0,className:"w-full bg-gray-50 border border-gray-300 rounded-md px-3 py-2 text-gray-500 cursor-not-allowed",readOnly:!0})})]})]}),i.jsx("div",{className:"px-0 md:px-6 py-4 bg-white text-right",children:i.jsx("button",{type:"submit",className:"w-full md:w-auto bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors shadow-sm border-none focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Save"})})]})]}),x==="Priority Management"&&(e.role==="Admin"||e.role==="Team Head")&&i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-lg font-semibold px-0 md:px-6 py-4",children:"Priority Management"}),i.jsxs("div",{className:"px-0 md:px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-md font-medium text-gray-800 mb-3",children:"Add New Priority"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("input",{type:"text",value:S,onChange:te=>{k(te.target.value),C(te.target.value)},placeholder:"Search priorities or add new priority name",className:"flex-1 bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsx("button",{onClick:tn,disabled:_||!S.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:_?"Adding...":"Add Priority"})]})]}),i.jsxs("div",{className:"px-0 md:px-6 py-4",children:[i.jsx("h3",{className:"text-md font-medium text-gray-800 mb-3",children:"Current Priorities"}),v?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Loading priorities..."})]}):i.jsxs("div",{className:"space-y-2",children:[m.filter(te=>L===""||te.name.toLowerCase().includes(L.toLowerCase())).map(te=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsx("div",{className:"flex-1",children:R===te._id?i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:P,onChange:de=>I(de.target.value),className:"flex-1 bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),i.jsx("button",{onClick:()=>_e(te._id,P),disabled:B||!P.trim(),className:"bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700 transition-colors disabled:bg-gray-400",children:B?"Saving...":"Save"}),i.jsx("button",{onClick:ve,disabled:B,className:"bg-gray-600 text-white px-3 py-2 rounded hover:bg-gray-700 transition-colors disabled:bg-gray-400",children:"Cancel"})]}):i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"font-medium text-gray-800",children:te.name}),te.isDefault&&i.jsx("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:"Default"})]})}),!te.isDefault&&R!==te._id&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>Be(te),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-50 rounded-full transition-colors",title:"Edit priority",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>et(te._id),className:"text-red-600 hover:text-red-800 p-2 hover:bg-red-50 rounded-full transition-colors",title:"Delete priority",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},te._id||te.name)),m.filter(te=>L===""||te.name.toLowerCase().includes(L.toLowerCase())).length===0&&i.jsx("p",{className:"text-gray-600 text-center py-4",children:L?"No priorities found matching your search.":"No priorities found."})]})]})]}),x==="Stages"&&(e.role==="Admin"||e.role==="Team Head")&&i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-lg font-semibold px-0 md:px-6 py-4",children:"Task Status Management"}),i.jsxs("div",{className:"px-0 md:px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-md font-medium text-gray-800 mb-3",children:"Add New Task Status"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsx("input",{type:"text",value:J.name,onChange:te=>{re(de=>({...de,name:te.target.value})),De(te.target.value)},placeholder:"Search statuses or add new status name",className:"bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("input",{type:"color",value:J.color,onChange:te=>re(de=>({...de,color:te.target.value})),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer",title:"Status color"}),i.jsx("button",{onClick:Le,disabled:ee||!J.name.trim(),className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:ee?"Adding...":"Add Status"})]})]})]}),i.jsxs("div",{className:"px-0 md:px-6 py-4",children:[i.jsx("h3",{className:"text-md font-medium text-gray-800 mb-3",children:"Current Task Statuses"}),ce?i.jsx("p",{className:"text-gray-600 text-center py-4",children:"Loading task statuses..."}):i.jsxs("div",{className:"space-y-3",children:[Y.filter(te=>Fe===""||te.name.toLowerCase().includes(Fe.toLowerCase())).map(te=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center space-x-4 flex-1",children:[i.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:te.hexColor||te.color},title:`Status color: ${te.hexColor||te.color}`}),i.jsx("div",{className:"flex-1",children:X===te._id?i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:Se.name,onChange:de=>fe(ye=>({...ye,name:de.target.value})),className:"flex-1 bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),i.jsx("input",{type:"color",value:Se.color,onChange:de=>fe(ye=>({...ye,color:de.target.value})),className:"w-12 h-10 border border-gray-300 rounded cursor-pointer",title:"Status color"}),i.jsx("button",{onClick:()=>Tt(te._id,Se),disabled:G||!Se.name.trim(),className:"bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700 transition-colors disabled:bg-gray-400",children:G?"Saving...":"Save"}),i.jsx("button",{onClick:er,disabled:G,className:"bg-gray-600 text-white px-3 py-2 rounded hover:bg-gray-700 transition-colors disabled:bg-gray-400",children:"Cancel"})]}):i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-900",children:te.name}),te.isDefault&&i.jsx("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:"Default"})]})})]}),!te.isDefault&&X!==te._id&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>Dt(te),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-50 rounded-full transition-colors",title:"Edit status",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>qe(te._id,te.name),className:"text-red-600 hover:text-red-800 p-2 hover:bg-red-50 rounded-full transition-colors",title:"Delete status",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},te._id)),Y.filter(te=>Fe===""||te.name.toLowerCase().includes(Fe.toLowerCase())).length===0&&i.jsx("p",{className:"text-gray-600 text-center py-4",children:Fe?"No statuses found matching your search.":"No task statuses found."})]})]})]}),x==="Works"&&(e.role==="Admin"||e.role==="Team Head")&&i.jsxs(i.Fragment,{children:[i.jsx("h2",{className:"text-lg font-semibold px-0 md:px-6 py-4",children:"Work Types Management"}),i.jsxs("div",{className:"px-0 md:px-6 py-4 border-b border-gray-200",children:[i.jsx("h3",{className:"text-md font-medium text-gray-800 mb-3",children:"Add New Work Type"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("input",{type:"text",value:Qe,onChange:te=>{at(te.target.value),cr(te.target.value)},placeholder:"Search work types or add new work type name",className:"flex-1 bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsx("button",{onClick:St,disabled:pt||!Qe.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:pt?"Adding...":"Add Work Type"})]})]}),i.jsxs("div",{className:"px-0 md:px-6 py-4",children:[i.jsx("h3",{className:"text-md font-medium text-gray-800 mb-3",children:"Current Work Types"}),Pe?i.jsx("p",{className:"text-gray-600 text-center py-4",children:"Loading work types..."}):i.jsxs("div",{className:"space-y-3",children:[lt.filter(te=>Qt===""||te.name.toLowerCase().includes(Qt.toLowerCase())).map(te=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"flex-1",children:ze===te._id?i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",value:vt,onChange:de=>gt(de.target.value),className:"flex-1 bg-white border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500",autoFocus:!0}),i.jsx("button",{onClick:()=>ht(te._id,vt),disabled:rr||!vt.trim(),className:"bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700 transition-colors disabled:bg-gray-400",children:rr?"Saving...":"Save"}),i.jsx("button",{onClick:Ot,disabled:rr,className:"bg-gray-600 text-white px-3 py-2 rounded hover:bg-gray-700 transition-colors disabled:bg-gray-400",children:"Cancel"})]}):i.jsx("span",{className:"font-medium text-gray-900",children:te.name})}),ze!==te._id&&i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>Kt(te),className:"text-blue-600 hover:text-blue-800 p-2 hover:bg-blue-50 rounded-full transition-colors",title:"Edit work type",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>Bt(te._id,te.name),className:"text-red-600 hover:text-red-800 p-2 hover:bg-red-50 rounded-full transition-colors",title:"Delete work type",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]},te._id)),lt.filter(te=>Qt===""||te.name.toLowerCase().includes(Qt.toLowerCase())).length===0&&i.jsx("p",{className:"text-gray-600 text-center py-4",children:Qt?"No work types found matching your search.":"No work types found."})]})]})]}),x==="Attributes"&&e.role==="Admin"&&i.jsx(vO,{})]})]})},cI=()=>{const{user:e}=gn(),[r,t]=T.useState([]),[n,a]=T.useState([]),[s,l]=T.useState(!0),[u,d]=T.useState(null),[f,p]=T.useState({}),[x,y]=T.useState({}),m=["Fresher","Team Head","Senior"];T.useEffect(()=>{const N=async()=>{try{const[S,k]=await Promise.all([fetch(`${$e}/api/users/pending-approvals`,{headers:{Authorization:`Bearer ${e.token}`}}),fetch(`${$e}/api/teams`,{headers:{Authorization:`Bearer ${e.token}`}})]);if(!S.ok||!k.ok)throw new Error("Failed to fetch data");const _=await S.json(),A=await k.json();t(_),a(A),d(null)}catch(S){console.error("Error fetching data:",S),d(S.message),Ee.error("Failed to fetch pending approvals")}finally{l(!1)}};e&&e.token&&N()},[e]);const w=(N,S)=>{if(p(k=>({...k,[N]:S})),S==="Senior"){const k=n.find(_=>_.name==="Senior");k&&y(_=>({..._,[N]:k._id}))}else y(k=>{const _={...k};return delete _[N],_})},v=async(N,S)=>{try{if(S==="approved"){if(!f[N]){Ee.error("Please select a role before approving");return}if(f[N]!=="Senior"&&!x[N]){Ee.error("Please select a team before approving");return}}if(!(await fetch(`${$e}/api/users/${N}/approval`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({status:S,role:f[N],team:f[N]==="Senior"?null:x[N]})})).ok)throw new Error("Failed to update user status");t(r.filter(_=>_._id!==N)),p(_=>{const A={..._};return delete A[N],A}),y(_=>{const A={..._};return delete A[N],A}),Ee.success(`User ${S} successfully`)}catch(k){Ee.error(k.message)}};return s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):u?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"text-red-500 text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Error loading pending approvals"}),i.jsx("p",{className:"text-sm",children:u})]})}):r.length===0?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"text-gray-500 text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"No pending approvals"}),i.jsx("p",{className:"text-sm",children:"All users have been processed"})]})}):i.jsxs("div",{className:"p-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Pending User Approvals"}),i.jsx("div",{className:"grid gap-6",children:r.map(N=>i.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[N.firstName," ",N.lastName]}),i.jsx("p",{className:"text-gray-600",children:N.email}),i.jsxs("p",{className:"text-sm text-gray-500",children:["Registered on: ",new Date(N.createdAt).toLocaleDateString()]})]}),i.jsxs("div",{className:"flex flex-col space-y-4 min-w-[340px]",children:[i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("select",{value:f[N._id]||"",onChange:S=>w(N._id,S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Select Role"}),m.map(S=>i.jsx("option",{value:S,children:S},S))]}),i.jsxs("select",{value:x[N._id]||"",onChange:S=>y(k=>({...k,[N._id]:S.target.value})),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"Select Team"}),n.map(S=>i.jsx("option",{value:S._id,children:S.name},S._id))]})]}),i.jsxs("div",{className:"flex flex-row space-x-4 w-full justify-center min-w-[220px]",children:[i.jsx("button",{onClick:()=>v(N._id,"approved"),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",disabled:!f[N._id]||f[N._id]!=="Senior"&&!x[N._id],children:"Approve"}),i.jsx("button",{onClick:()=>v(N._id,"rejected"),className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Reject"})]})]})]})},N._id))})]})},uI=()=>{const{user:e}=gn(),[r,t]=T.useState([]),[n,a]=T.useState(!0),[s,l]=T.useState(null),u=async()=>{try{const f=await fetch(`${$e}/api/users/blocked`,{headers:{Authorization:`Bearer ${e.token}`}});if(!f.ok)throw new Error("Failed to fetch blocked users");const p=await f.json();t(p),l(null)}catch(f){console.error("Error fetching blocked users:",f),l(f.message),Ee.error("Failed to fetch blocked users")}finally{a(!1)}};T.useEffect(()=>{u()},[e]);const d=async f=>{try{if(!(await fetch(`${$e}/api/users/${f}/unblock`,{method:"PUT",headers:{Authorization:`Bearer ${e.token}`}})).ok)throw new Error("Failed to unblock user");t(r.filter(x=>x._id!==f)),Ee.success("User unblocked successfully")}catch(p){console.error("Error unblocking user:",p),Ee.error(p.message)}};return n?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):s?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"text-red-500 text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Error loading blocked users"}),i.jsx("p",{className:"text-sm",children:s}),i.jsx("button",{onClick:u,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]})}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-between items-center mb-8",children:i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Blocked Users"})}),r.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-gray-500 text-lg",children:"No blocked users found"})}):i.jsx("div",{className:"overflow-x-auto w-full",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),i.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(f=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.firstName," ",f.lastName]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-500",children:f.email})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-500",children:f.role})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:i.jsx("button",{onClick:()=>d(f._id),className:"text-blue-600 hover:text-blue-900",children:"Unblock"})})]},f._id))})]})})]})},dI=["Admin","Senior","Team Head","Fresher"],fI=["None","TimeSheet Verifier","Task Verifier"],hI=()=>{const{user:e}=gn(),[r,t]=T.useState([]),[n,a]=T.useState([]),[s,l]=T.useState(!0),[u,d]=T.useState(null),f=T.useRef({});T.useEffect(()=>{const N=async()=>{try{const[S,k]=await Promise.all([fetch(`${$e}/api/users`,{headers:{Authorization:`Bearer ${e.token}`}}),fetch(`${$e}/api/teams`,{headers:{Authorization:`Bearer ${e.token}`}})]);if(!S.ok||!k.ok)throw new Error("Failed to fetch data");const _=await S.json(),A=await k.json();t(_),a(A),d(null)}catch(S){d(S.message),Ee.error("Failed to fetch users or teams")}finally{l(!1)}};e&&e.token&&N()},[e]),T.useEffect(()=>{const N=S=>{t(k=>k.map(_=>{if(_.showRole2Dropdown){const A=f.current[_._id];if(A&&!A.contains(S.target))return{..._,showRole2Dropdown:!1}}return _}))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[t]);const p=N=>{if(!N)return"-";const S=n.find(k=>k._id===N);return S?S.name:"-"},x=async(N,S)=>{try{const k=await fetch(`${$e}/api/users/${N}/update-fields`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({role:S})});if(!k.ok){const _=await k.json();throw new Error(_.message||"Failed to update user role")}t(_=>_.map(A=>A._id===N?{...A,role:S,team:S==="Senior"?null:A.team}:A)),Ee.success("User role updated successfully")}catch(k){console.error("Error updating user role:",k),Ee.error(k.message)}},y=async(N,S)=>{try{const k=r.find(V=>V._id===N);if(!k)throw new Error("User not found");k.role;const _=S===""?null:S,A=await fetch(`${$e}/api/users/${N}/update-fields`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({team:_})});if(!A.ok){const V=await A.json();throw new Error(V.message||"Failed to update user team")}const R=await A.json();t(V=>V.map(P=>P._id===N?R:P)),Ee.success("User team updated successfully")}catch(k){console.error("Error updating user team:",k),Ee.error(k.message)}},m=async(N,S)=>{try{const k=await fetch(`${$e}/api/users/${N}/update-fields`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({role2:S})});if(!k.ok){const _=await k.json();throw new Error(_.message||"Failed to update user role2")}t(_=>_.map(A=>A._id===N?{...A,role2:S}:A)),Ee.success("User role2 updated successfully")}catch(k){console.error("Error updating user role2:",k),Ee.error(k.message)}},w=async N=>{if(window.confirm("Are you sure you want to delete this user?"))try{const S=await fetch(`${$e}/api/users/${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.token}`}});if(!S.ok){const k=await S.json();throw new Error(k.message||"Failed to delete user")}t(k=>k.filter(_=>_._id!==N)),Ee.success("User deleted successfully")}catch(S){console.error("Error deleting user:",S),Ee.error(S.message)}};if(s)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(u)return i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"text-red-500 text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Error loading users"}),i.jsx("p",{className:"text-sm",children:u})]})});const v=[...r].filter(N=>N.status==="approved").sort((N,S)=>{if(N.role==="Admin")return-1;if(S.role==="Admin")return 1;const k=p(N.team),_=p(S.team);return k==="Senior"?-1:_==="Senior"?1:k!==_?k.localeCompare(_):(N.firstName+N.lastName).localeCompare(S.firstName+S.lastName)});return i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"All Users"}),i.jsx("div",{className:"overflow-x-auto w-full",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role1"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role2"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Team"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:v.map(N=>{var S,k,_;return i.jsxs("tr",{className:"border-b",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:((S=N.photo)==null?void 0:S.url)||kn,alt:`${N.firstName} ${N.lastName}`,className:"w-9 h-9 rounded-full object-cover mr-3"}),i.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[N.firstName," ",N.lastName]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:N.email}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:i.jsxs("select",{value:N.role||"",onChange:A=>x(N._id,A.target.value),className:"px-2 py-1 border border-gray-300 rounded",children:[i.jsx("option",{value:"",children:"Select Role"}),dI.map(A=>i.jsx("option",{value:A,children:A},A))]})}),i.jsx("td",{className:"px-5 py-4 whitespace-nowrap text-sm text-gray-600",children:e.role==="Admin"?i.jsxs("div",{className:"relative inline-block w-full",children:[i.jsx("button",{type:"button",className:"w-full px-2 py-1 border border-gray-300 rounded text-left bg-white focus:outline-none",onClick:A=>{const R=A.target.getBoundingClientRect();t(V=>V.map(P=>P._id===N._id?{...P,showRole2Dropdown:!P.showRole2Dropdown,dropdownCoords:{left:R.left+window.scrollX,top:R.bottom+window.scrollY}}:{...P,showRole2Dropdown:!1}))},children:(Array.isArray(N.role2)?N.role2.join(", "):N.role2)||"None"}),N.showRole2Dropdown&&i.jsx("div",{ref:A=>{f.current[N._id]=A},className:"fixed z-50 w-48 bg-white border border-gray-200 rounded shadow-lg max-h-60 overflow-y-auto",style:{left:(((k=N.dropdownCoords)==null?void 0:k.left)||0)+"px",top:(((_=N.dropdownCoords)==null?void 0:_.top)||0)+"px"},children:fI.map(A=>{const R=Array.isArray(N.role2)?N.role2.includes(A):N.role2===A;return i.jsxs("div",{className:`flex items-center px-3 py-2 cursor-pointer hover:bg-blue-50 ${R?"font-semibold text-blue-600":""}`,onClick:()=>{let V;Array.isArray(N.role2)?(N.role2.includes(A)?V=N.role2.filter(P=>P!==A):V=[...N.role2,A].filter(P=>P!=="None"),V.length===0&&(V=["None"])):V=A===N.role2?["None"]:[A],m(N._id,V),t(P=>P.map(I=>I._id===N._id?{...I,showRole2Dropdown:!0,role2:V}:I))},children:[R&&i.jsx(Ph,{className:"w-4 h-4 mr-2 text-blue-600"}),!R&&i.jsx("span",{className:"w-4 h-4 mr-2"}),A]},A)})})]}):(Array.isArray(N.role2)?N.role2.join(", "):N.role2)||"None"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:i.jsxs("select",{value:N.team||"",onChange:A=>y(N._id,A.target.value),className:"px-2 py-1 border border-gray-300 rounded",children:[i.jsx("option",{value:"",children:"Select Team"}),n.map(A=>i.jsx("option",{value:A._id,children:A.name},A._id))]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:i.jsx("button",{onClick:()=>w(N._id),className:"text-red-600 hover:text-red-900",disabled:N.role==="Admin",children:"Delete"})})]},N._id)})})]})})]})},sN=({users:e=[],mode:r="create",initialData:t=null,isOpen:n=!1,onClose:a=()=>{},onSubmit:s=null,automationId:l=null,isEditingTemplate:u=!1})=>{var tn,et;const{user:d,isAuthenticated:f}=gn(),[p,x]=T.useState(!1),[y,m]=T.useState({name:""}),[w,v]=T.useState([]),[N,S]=T.useState([]),[k,_]=T.useState([]),[A,R]=T.useState([{name:"urgent",isDefault:!0},{name:"today",isDefault:!0},{name:"lessThan3Days",isDefault:!0},{name:"thisWeek",isDefault:!0},{name:"thisMonth",isDefault:!0},{name:"regular",isDefault:!0},{name:"filed",isDefault:!0},{name:"dailyWorksOffice",isDefault:!0},{name:"monthlyWorks",isDefault:!0}]),[V,P]=T.useState({title:"",description:"",clientName:"",clientGroup:"",workType:[],assignedTo:[],priority:"today",inwardEntryDate:"",inwardEntryTime:"",dueDate:"",targetDate:"",billed:!1,status:"yet_to_start"}),[I,B]=T.useState([]),[O,L]=T.useState(""),[C,Y]=T.useState(!1),[Q,ce]=T.useState(!1),[W,J]=T.useState(""),re=T.useRef(null),[ee,H]=T.useState([]),[ne,D]=T.useState([]),[z,q]=T.useState(null),[X,se]=T.useState(!1),[Se,fe]=T.useState({}),G=T.useRef(null),[be,Fe]=T.useState(!1),[De,lt]=T.useState(""),[ft,Pe]=T.useState(!1),[xe,Qe]=T.useState(!1),at=10*1024*1024,pt=50*1024*1024,Ze=10,ze=()=>{const _e=new Date,Be=_e.toISOString().split("T")[0],ve=_e.getHours(),Ce=_e.getMinutes(),Le=ve>=12?"PM":"AM",Tt=`${(ve%12||12).toString().padStart(2,"0")}:${Ce.toString().padStart(2,"0")} ${Le}`;return{date:Be,time:Tt}},Ae=_e=>{const[Be,ve]=_e.split(" ");let[Ce,Le]=Be.split(":");return Ce=parseInt(Ce,10),Ce===12?Ce=ve==="PM"?12:0:ve==="PM"&&(Ce=Ce+12),`${Ce.toString().padStart(2,"0")}:${Le}`},vt=_e=>{const[Be,ve]=_e.split(":"),Ce=parseInt(Be,10),Le=Ce>=12?"PM":"AM";return`${(Ce%12||12).toString().padStart(2,"0")}:${ve} ${Le}`};T.useEffect(()=>{n&&(async()=>{try{const ve=await(await fetch(`${$e}/api/clients`,{headers:{Authorization:`Bearer ${d.token}`}})).json();v(ve);const Le=await(await fetch(`${$e}/api/clients/groups`,{headers:{Authorization:`Bearer ${d.token}`}})).json();S(Le);const Tt=await(await fetch(`${$e}/api/clients/work-types`,{headers:{Authorization:`Bearer ${d.token}`}})).json();_(Tt);try{const er=await(await fetch(`${$e}/api/priorities`,{headers:{Authorization:`Bearer ${d.token}`}})).json(),ar=[{name:"urgent",isDefault:!0},{name:"today",isDefault:!0},{name:"lessThan3Days",isDefault:!0},{name:"thisWeek",isDefault:!0},{name:"thisMonth",isDefault:!0},{name:"regular",isDefault:!0},{name:"filed",isDefault:!0},{name:"dailyWorksOffice",isDefault:!0},{name:"monthlyWorks",isDefault:!0}],St=er.filter(Bt=>!Bt.isDefault),ht=[...ar,...St];R(ht)}catch(Dt){console.error("Error fetching priorities, using defaults:",Dt)}}catch(Be){console.error("Error fetching data:",Be),Ee.error("Failed to fetch required data")}})()},[n,d]);const gt=T.useMemo(()=>W?w.filter(_e=>_e.name.toLowerCase().includes(W.toLowerCase())||_e.group&&_e.group.name.toLowerCase().includes(W.toLowerCase())):w,[w,W]);T.useEffect(()=>{const _e=Be=>{re.current&&!re.current.contains(Be.target)&&!Be.target.closest(".work-type-modal")&&(a(),Y(!1),ce(!1))};return n&&document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[n,a]);const rr=_e=>{const Be=Array.from(_e),ve=[];ee.length+Be.length>Ze&&ve.push(`Maximum ${Ze} files allowed`);let Ce=ee.reduce((qe,Tt)=>qe+Tt.size,0);Be.forEach(qe=>{qe.size>at&&ve.push(`${qe.name} exceeds 10MB limit`),Ce+=qe.size}),Ce>pt&&ve.push("Total size exceeds 50MB limit");const Le=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","image/jpeg","image/png","image/gif","text/plain"];return Be.forEach(qe=>{Le.includes(qe.type)||ve.push(`${qe.name} is not a supported file type`)}),ve.length>0?(Ee.error(ve.join(`
`)),!1):!0},Wt=_e=>{const Be=_e.target.files;if(!Be||Be.length===0)return;const ve=Array.from(Be);console.log("Selected files:",ve),rr(ve)&&H(Ce=>{const Le=[...Ce,...ve];return console.log("Updated selected files:",Le),Le}),G.current&&(G.current.value="")},Qt=_e=>{H(Be=>Be.filter((ve,Ce)=>Ce!==_e))};T.useEffect(()=>{if(r==="edit"&&t&&n){let _e="";if(t.inwardEntryTime)_e=t.inwardEntryTime;else if(t.inwardEntryDate){const qe=new Date(t.inwardEntryDate),Tt=qe.getHours().toString().padStart(2,"0"),Dt=qe.getMinutes().toString().padStart(2,"0");_e=`${Tt}:${Dt}`}const Be=_e?vt(_e):"";P({title:t.title||"",description:t.description||"",clientName:t.clientName||"",clientGroup:t.clientGroup||"",workType:Array.isArray(t.workType)?t.workType:[],assignedTo:Array.isArray(t.assignedTo)?t.assignedTo.map(qe=>typeof qe=="string"?qe:qe._id):t.assignedTo?[typeof t.assignedTo=="string"?t.assignedTo:t.assignedTo._id]:[],priority:t.priority||"regular",inwardEntryDate:t.inwardEntryDate?t.inwardEntryDate.split("T")[0]:"",inwardEntryTime:Be,dueDate:t.dueDate?t.dueDate.split("T")[0]:"",targetDate:t.targetDate?t.targetDate.split("T")[0]:"",billed:typeof t.billed=="boolean"?t.billed:!0,status:t.status||"yet_to_start"}),J(t.clientName||"");const ve=Array.isArray(t.assignedTo)?t.assignedTo:t.assignedTo?[t.assignedTo]:[],Ce=ve.map(qe=>typeof qe=="string"?qe:qe._id);console.log("[EditModal-FIX] assignedToRaw:",ve),console.log("[EditModal-FIX] users:",e),console.log("[EditModal-FIX] assignedUserIds:",Ce);const Le=e.filter(qe=>Ce.includes(qe._id));console.log("[EditModal-FIX] selectedUsers to set:",Le),B(Le)}else if(r==="create"&&n){const{date:_e,time:Be}=ze();P(ve=>ve.title||ve.status!=="yet_to_start"?ve:{title:"",description:"",clientName:"",clientGroup:"",workType:[],assignedTo:[],priority:"today",inwardEntryDate:_e,inwardEntryTime:Be,dueDate:"",targetDate:"",billed:!1,status:"yet_to_start"}),J(""),B([])}},[r,t,n,e]),T.useEffect(()=>{if(r==="edit"&&t&&n&&e.length>0&&I.length===0&&(Array.isArray(t.assignedTo)||t.assignedTo)){const _e=Array.isArray(t.assignedTo)?t.assignedTo:t.assignedTo?[t.assignedTo]:[],Be=_e.map(Ce=>typeof Ce=="string"?Ce:Ce._id);console.log("[EditModal-FIX][users effect] assignedToRaw:",_e),console.log("[EditModal-FIX][users effect] users:",e),console.log("[EditModal-FIX][users effect] assignedUserIds:",Be);const ve=e.filter(Ce=>Be.includes(Ce._id));console.log("[EditModal-FIX][users effect] selectedUsers to set:",ve),B(ve)}},[e,t,n,r]);const cr=async _e=>{if(_e.preventDefault(),!f()){Ee.error("Please login to create tasks");return}if(!V.title.trim()){Ee.error("Task Title is required");return}if(!V.clientName.trim()){Ee.error("Client Name is required");return}if(!V.inwardEntryDate){Ee.error("Inward Entry Date is required");return}if(!V.inwardEntryTime){Ee.error("Inward Entry Time is required");return}if(V.assignedTo.length===0){Ee.error("Please select at least one user to assign the task to");return}if(V.workType.length===0){Ee.error("Please select at least one work type");return}if(V.billed!==!0&&V.billed!==!1){Ee.error("Please select whether the task is billed or not");return}try{se(!0),console.log("Creating task with files:",ee);let Be;if(Array.isArray(V.assignedTo)?Be=V.assignedTo.filter(Boolean):Be=V.assignedTo?[V.assignedTo]:[],Be.length===0){Ee.error("Please select at least one user to assign the task to"),se(!1);return}const ve={...V,assignedTo:Be,inwardEntryTime:Ae(V.inwardEntryTime),billed:V.billed};let Ce,Le;if(r==="edit"&&t)if(u){const qe={...ve,_id:t._id};Ee.success("Template updated successfully"),s&&s(qe),a();return}else if(t._id){if(Ce=await fetch(`${$e}/api/tasks/${t._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.token}`},body:JSON.stringify(ve)}),!Ce.ok){const qe=await Ce.json();throw new Error(qe.message||"Failed to update task")}Le=await Ce.json(),Ee.success("Task updated successfully"),s&&s(Le),a()}else throw new Error("Task ID not found for editing");else{if(!l){Ee.error("Automation ID is required to create a task"),se(!1);return}try{const qe=await fetch(`${$e}/api/automations/${l}/tasks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.token}`},body:JSON.stringify(ve)});if(!qe.ok){const Dt=await qe.json();throw new Error(Dt.message||"Failed to create task template")}const Tt=await qe.json();if(console.log("Automation template save response:",Tt),Ee.success(Tt.message||"Automation task template saved successfully"),ee.length>0){if(!ve.assignedTo||!ve.assignedTo.length)throw new Error("assignedTo must be a non-empty array of user IDs");const Dt={...ve,assignedTo:Array.isArray(ve.assignedTo)?ve.assignedTo:[ve.assignedTo]};console.log("Creating task with data:",Dt);const er=await fetch(`${$e}/api/tasks`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.token}`},body:JSON.stringify(Dt)});if(!er.ok){const ht=await er.text();throw console.error("Error creating task for file upload:",ht),new Error(`Failed to create task for file upload: ${ht}`)}let ar;try{ar=await er.json(),console.log("Task creation response:",ar)}catch(ht){throw console.error("Error parsing task creation response:",ht),new Error("Failed to parse task creation response")}let St;if(Array.isArray(ar)&&ar.length>0?(St=ar[0],console.log("Using first task from array:",St)):St=ar,St&&St._id)console.log("Got valid task ID:",St._id),q(St._id),await Zt(St._id),Ee.success("Files uploaded successfully");else throw console.error("Invalid task result:",ar),new Error("Invalid task ID received from server")}s&&(Tt.taskTemplate?s(Tt.taskTemplate):Tt.allTemplates&&Array.isArray(Tt.allTemplates)&&s(Tt.allTemplates)),a()}catch(qe){throw console.error("Error in task creation process:",qe),Ee.error(`Task template saved but ${qe.message}`),qe}}}catch(Be){console.error("Error creating task:",Be),Ee.error(Be.message),q(null)}finally{se(!1)}},Zt=async _e=>{if(!_e)throw console.error("Missing task ID for file upload"),new Error("Invalid task ID");if(!ee.length){console.log("No files to upload");return}if(typeof _e!="string"||!_e.match(/^[0-9a-fA-F]{24}$/))throw console.error("Invalid task ID format:",_e),new Error("Invalid task ID format");console.log("Uploading files for task:",_e,"Files:",ee),fe({});const Be=3;for(let ve=0;ve<ee.length;ve+=Be){const Ce=ee.slice(ve,ve+Be),Le=new FormData;Ce.forEach(qe=>{Le.append("files",qe)});try{console.log("Uploading batch:",Ce);const qe=await fetch(`${$e}/api/tasks/${_e}/files`,{method:"POST",headers:{Authorization:`Bearer ${d.token}`},body:Le});if(!qe.ok){const Dt=await qe.json();throw new Error(Dt.message||"Failed to upload files")}const Tt=await qe.json();console.log("Uploaded files response:",Tt),D(Dt=>{const er=[...Dt,...Tt];return console.log("Updated task files:",er),er}),Ce.forEach((Dt,er)=>{fe(ar=>({...ar,[ve+er]:"completed"}))})}catch(qe){throw console.error(`Failed to upload batch starting at index ${ve}:`,qe),qe}}H([]),G.current&&(G.current.value="")},hr=_e=>{e.find(ve=>ve._id===_e)&&P(ve=>{const Ce=ve.assignedTo.includes(_e)?ve.assignedTo.filter(Le=>Le!==_e):[...ve.assignedTo,_e];return B(e.filter(Le=>Ce.includes(Le._id))),Y(!1),{...ve,assignedTo:Ce}})},$t=_e=>{P(Be=>{const ve=Be.workType.includes(_e)?Be.workType.filter(Ce=>Ce!==_e):[...Be.workType,_e];return{...Be,workType:ve}})},Mr=I.length>0?`${I.length} user${I.length>1?"s":""} selected`:"Select users",Qr=T.useMemo(()=>!d||e.some(_e=>_e._id===d._id)?e:[d,...e],[e,d]).filter(_e=>`${_e.firstName} ${_e.lastName}`.toLowerCase().includes(O.toLowerCase())),Er=async _e=>{_e.preventDefault();try{const Be=await fetch(`${$e}/api/clients/work-types`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d.token}`},body:JSON.stringify(y)});if(!Be.ok)throw new Error("Failed to create work type");const ve=await Be.json();_(Ce=>[...Ce,ve]),x(!1),m({name:""}),Ee.success("Work type created successfully")}catch(Be){Ee.error(Be.message)}},Fr=T.useMemo(()=>De?k.filter(_e=>_e.name.toLowerCase().includes(De.toLowerCase())):k,[k,De]);return T.useEffect(()=>{const _e=Be=>{Be.target.closest(".work-type-dropdown")||setTimeout(()=>Fe(!1),100)};return be&&document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[be]),i.jsxs(i.Fragment,{children:[n&&i.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:r==="edit"?"Edit Task":"Create New Task"}),i.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),i.jsxs("form",{onSubmit:cr,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Task Title ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:V.title,onChange:_e=>P({...V,title:_e.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:W,onChange:_e=>{J(_e.target.value),ce(!0)},onFocus:()=>ce(!0),placeholder:"Search client or group...",className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),Q&&i.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:gt.length>0?gt.map(_e=>i.jsxs("div",{className:"px-4 py-2 hover:bg-gray-100 cursor-pointer",onClick:()=>{P(Be=>({...Be,clientName:_e.name,clientGroup:_e.group?_e.group.name:""})),J(_e.name),ce(!1)},children:[i.jsx("div",{className:"font-medium text-gray-900",children:_e.name}),i.jsx("div",{className:"text-sm text-gray-500",children:_e.group?_e.group.name:"No Group"})]},_e._id)):i.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No clients found"})})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client Group ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:V.clientGroup,className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),i.jsx("select",{value:V.priority,onChange:_e=>P({...V,priority:_e.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:A.map(_e=>i.jsx("option",{value:_e.name,children:_e.name.charAt(0).toUpperCase()+_e.name.slice(1).replace(/([A-Z])/g," $1")},_e._id||_e.name))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Inward Entry Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("input",{type:"date",value:V.inwardEntryDate,onChange:_e=>P({...V,inwardEntryDate:_e.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("select",{value:((tn=V.inwardEntryTime.split(" ")[0])==null?void 0:tn.split(":")[0])||"12",onChange:_e=>{const Be=V.inwardEntryTime.split(" "),[ve,Ce]=(Be[0]||"12:00").split(":"),Le=Be[1]||"AM",qe=`${_e.target.value}:${Ce} ${Le}`;P({...V,inwardEntryTime:qe})},className:"w-1/3 border rounded-md px-2 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Array.from({length:12},(_e,Be)=>Be+1).map(_e=>i.jsx("option",{value:_e.toString().padStart(2,"0"),children:_e},_e))}),i.jsx("span",{className:"text-gray-500",children:":"}),i.jsx("select",{value:((et=V.inwardEntryTime.split(" ")[0])==null?void 0:et.split(":")[1])||"00",onChange:_e=>{const Be=V.inwardEntryTime.split(" "),[ve]=(Be[0]||"12:00").split(":"),Ce=Be[1]||"AM",Le=`${ve}:${_e.target.value} ${Ce}`;P({...V,inwardEntryTime:Le})},className:"w-1/3 border rounded-md px-2 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:Array.from({length:60},(_e,Be)=>Be).map(_e=>i.jsx("option",{value:_e.toString().padStart(2,"0"),children:_e.toString().padStart(2,"0")},_e))}),i.jsxs("select",{value:V.inwardEntryTime.split(" ")[1]||"AM",onChange:_e=>{const Ce=`${V.inwardEntryTime.split(" ")[0]||"12:00"} ${_e.target.value}`;P({...V,inwardEntryTime:Ce})},className:"w-1/3 border rounded-md px-1 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"AM",children:"AM"}),i.jsx("option",{value:"PM",children:"PM"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),i.jsx("input",{type:"date",value:V.dueDate,onChange:_e=>P({...V,dueDate:_e.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target Date"}),i.jsx("input",{type:"date",value:V.targetDate,onChange:_e=>P({...V,targetDate:_e.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Internal Works ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:V.billed===!0?"yes":V.billed===!1?"no":"",onChange:_e=>P({...V,billed:_e.target.value==="yes"?!0:_e.target.value==="no"?!1:""}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[i.jsx("option",{value:"",disabled:!0,children:"Select internal works status"}),i.jsx("option",{value:"yes",children:"Yes"}),i.jsx("option",{value:"no",children:"No"})]})]}),i.jsxs("div",{className:"md:col-span-2 flex flex-row md:items-end gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Assign To ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"relative w-full",children:[C&&i.jsxs("div",{className:"absolute z-10 w-full bottom-full mb-1 bg-white border rounded-md shadow-lg max-h-60 overflow-auto",children:[i.jsx("div",{className:"sticky top-0 bg-white p-2 border-b",children:i.jsx("input",{type:"text",placeholder:"Search users...",value:O,onChange:_e=>L(_e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",onClick:_e=>_e.stopPropagation()})}),i.jsx("div",{className:"py-1",children:Qr.length>0?Qr.map(_e=>{var Be;return i.jsx("button",{type:"button",onClick:()=>{ft?hr(_e._id):(P(ve=>({...ve,assignedTo:[_e._id]})),B([_e]),Y(!1))},className:`w-full px-4 py-2 text-left hover:bg-blue-50 focus:outline-none focus:bg-blue-50 ${V.assignedTo.includes(_e._id)?"bg-blue-50":""}`,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium mr-3 overflow-hidden",children:i.jsx("img",{src:((Be=_e.photo)==null?void 0:Be.url)||kn,alt:`${_e.firstName} ${_e.lastName}`,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium text-gray-900",children:[_e.firstName," ",_e.lastName]}),i.jsx("div",{className:"text-sm text-gray-500",children:_e.group})]})]})},_e._id)}):i.jsx("div",{className:"px-4 py-2 text-gray-500 text-center",children:"No users found"})})]}),i.jsxs("button",{type:"button",onClick:()=>Y(!C),className:"w-full flex items-center justify-between border rounded-md px-3 py-2 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("span",{className:"text-gray-700",children:Mr}),i.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${C?"transform rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),i.jsx("button",{type:"button","aria-pressed":ft,onClick:()=>{Pe(_e=>{const Be=!_e;return!Be&&V.assignedTo.length>1&&(P(ve=>({...ve,assignedTo:ve.assignedTo.slice(0,1)})),B(e.filter(ve=>ve._id===V.assignedTo[0]))),Be})},className:`relative inline-flex h-5 w-10 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 ${ft?"bg-blue-500":"bg-gray-200"}`,tabIndex:0,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform ${ft?"translate-x-5":"translate-x-1"}`})}),i.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Multiple"})]}),I.length>0&&i.jsx("div",{className:"absolute left-0 w-full mt-2 flex flex-wrap gap-2 z-10",children:I.map(_e=>i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[_e.firstName," ",_e.lastName,i.jsx("button",{type:"button",onClick:()=>{ft?(P(Be=>({...Be,assignedTo:Be.assignedTo.filter(ve=>ve!==_e._id)})),B(Be=>Be.filter(ve=>ve._id!==_e._id))):(P(Be=>({...Be,assignedTo:[]})),B([]))},className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-blue-200",children:i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},_e._id))})]}),i.jsxs("div",{className:"flex-1 flex flex-col justify-end",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Team Head"}),i.jsx("input",{type:"text",value:(()=>{const _e=new Set;I.forEach(Ce=>{Ce.team&&_e.add(Ce.team.toString())});const Be=e.filter(Ce=>Ce.team&&_e.has(Ce.team.toString())&&Ce.role==="Team Head");return Be.length===0?"":Array.from(new Map(Be.map(Ce=>[Ce._id,Ce])).values()).map(Ce=>`${Ce.firstName} ${Ce.lastName}`).join(", ")})(),className:"w-full border rounded-md px-3 py-2 bg-gray-100 text-gray-700",readOnly:!0,placeholder:"Team Head will appear here"})]})]}),i.jsxs("div",{className:"md:col-span-2 mt-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Task Status ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(tT,{value:V.status,onChange:_e=>P({...V,status:_e}),excludeCompleted:!0,className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{className:"md:col-span-2 mt-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description/Notes"}),i.jsx("textarea",{value:V.description,onChange:_e=>P({...V,description:_e.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:"3",placeholder:"Enter task description or notes..."})]}),i.jsxs("div",{className:"md:col-span-2 mt-2",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"relative flex items-center gap-2",children:[i.jsxs("div",{className:"w-full border rounded-md px-3 py-2 bg-white flex flex-wrap gap-2 min-h-[42px] cursor-pointer work-type-dropdown",onClick:()=>Fe(!0),children:[V.workType.length===0&&i.jsx("span",{className:"text-gray-400",children:"Select or search work type..."}),V.workType.map(_e=>i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 border border-blue-400",children:[_e,V.workType.includes(_e)&&i.jsx("span",{className:"float-right text-blue-600",children:"✔"}),i.jsx("button",{type:"button",onClick:Be=>{Be.preventDefault(),Be.stopPropagation(),$t(_e)},className:"ml-1 inline-flex items-center justify-center w-4 h-4 rounded-full hover:bg-blue-200",children:i.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]},_e))]}),i.jsx("button",{type:"button",onClick:()=>{m({name:""}),x(!0),Fe(!1)},className:"ml-2 px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-800 border-2 border-gray-200 hover:bg-gray-200 whitespace-nowrap",children:"+ New Work Type"}),i.jsx("button",{type:"button","aria-pressed":xe,onClick:()=>{Qe(_e=>{const Be=!_e;return!Be&&V.workType.length>1&&P(ve=>({...ve,workType:ve.workType.slice(0,1)})),Be})},className:`relative inline-flex h-5 w-10 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 ${xe?"bg-blue-500":"bg-gray-200"}`,tabIndex:0,children:i.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white shadow transition-transform ${xe?"translate-x-5":"translate-x-1"}`})}),i.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"Multiple"}),be&&i.jsxs("div",{className:"absolute z-20 w-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto work-type-dropdown",children:[i.jsx("div",{className:"sticky top-0 bg-white p-2 border-b",children:i.jsx("input",{type:"text",placeholder:"Search work type...",value:De,onChange:_e=>lt(_e.target.value),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})}),i.jsx("div",{className:"py-1",children:Fr.length>0?Fr.map(_e=>i.jsxs("button",{type:"button",className:`w-full px-4 py-2 text-left hover:bg-blue-50 focus:outline-none focus:bg-blue-50 cursor-pointer ${V.workType.includes(_e.name)?"bg-blue-50":""}`,onClick:Be=>{Be.preventDefault(),Be.stopPropagation(),xe?$t(_e.name):(P(ve=>({...ve,workType:[_e.name]})),Fe(!1))},children:[_e.name,V.workType.includes(_e.name)&&i.jsx("span",{className:"float-right text-blue-600",children:"✔"})]},_e._id)):i.jsx("div",{className:"px-4 py-2 text-gray-500",children:"No work types found"})})]})]})]})]}),i.jsxs("div",{className:"border-t pt-4 mt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Attach Files (Optional)"}),i.jsxs("div",{className:"text-sm text-gray-500",children:["Max ",Ze," files, ",at/1024/1024,"MB per file, ",pt/1024/1024,"MB total"]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsx("label",{className:"flex-1",children:i.jsxs("div",{className:"relative border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-blue-500 transition-colors",children:[i.jsx("input",{type:"file",multiple:!0,onChange:Wt,ref:G,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:".pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt,.jpg,.jpeg,.png,.gif"}),i.jsxs("div",{className:"text-center",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:i.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Click to select files or drag and drop"}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"PDF, Word, Excel, PowerPoint, Images, Text files"})]})]})})}),ee.length>0&&i.jsxs("div",{className:"mt-4 border rounded-lg divide-y",children:[i.jsxs("div",{className:"p-3 bg-gray-50 text-sm font-medium text-gray-700",children:["Selected Files (",ee.length,")"]}),i.jsx("ul",{className:"divide-y",children:ee.map((_e,Be)=>i.jsxs("li",{className:"p-3 flex items-center justify-between hover:bg-gray-50",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("span",{className:"text-gray-500",children:_e.type.startsWith("image/")?"🖼️":_e.type.includes("pdf")?"📄":_e.type.includes("word")?"📝":_e.type.includes("excel")||_e.type.includes("spreadsheet")?"📊":_e.type.includes("powerpoint")||_e.type.includes("presentation")?"📑":"📎"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:_e.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:[(_e.size/1024/1024).toFixed(2)," MB"]})]})]}),i.jsx("button",{type:"button",onClick:()=>Qt(Be),className:"text-red-500 hover:text-red-700 p-1",disabled:X,children:"✕"})]},Be))})]}),X&&i.jsxs("div",{className:"mt-4",children:[i.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Uploading files..."}),i.jsx("div",{className:"space-y-2",children:ee.map((_e,Be)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full ${Se[Be]==="completed"?"bg-green-500":"bg-blue-500 animate-pulse"}`,style:{width:Se[Be]==="completed"?"100%":"50%"}})}),i.jsx("span",{className:"text-xs text-gray-500",children:Se[Be]==="completed"?"Done":"Uploading..."})]},Be))})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[i.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-600 hover:text-gray-800",disabled:X,children:"Cancel"}),i.jsx("button",{type:"submit",disabled:X,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700
                    ${X?"opacity-50 cursor-not-allowed":""}`,children:X?r==="edit"?"Updating...":"Creating Task...":r==="edit"?"Update Task":"Create Task"})]})]}),z&&ne.length>0&&i.jsx("div",{className:"mt-6 border-t pt-6",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Uploaded Files"}),i.jsx(pm,{taskId:z,files:ne,onFileDeleted:_e=>{D(Be=>Be.filter(ve=>ve._id!==_e))}}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:a,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Done"})})]})})]})}),p&&i.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50 work-type-modal",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-md",onClick:_e=>_e.stopPropagation(),children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Work Type"}),i.jsxs("form",{onSubmit:Er,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Type Name"}),i.jsx("input",{type:"text",value:y.name,onChange:_e=>m({...y,name:_e.target.value}),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Work Type"})]})]})]})})]})},Xy=(e,r,t)=>{let n=parseInt(e,10);return t==="PM"&&n<12?n+=12:t==="AM"&&n===12&&(n=0),`${n.toString().padStart(2,"0")}:${r}`},pI=({isOpen:e,onClose:r,onSelectAutomation:t,user:n,API_BASE_URL:a})=>{var D,z,q,X,se,Se;const[s,l]=T.useState([]),[u,d]=T.useState(""),[f,p]=T.useState(!1),[x,y]=T.useState(!0),[m,w]=T.useState(""),[v,N]=T.useState({name:"",description:"",triggerType:"",dayOfMonth:"",specificDate:"",specificTime:"",hours:"12",minutes:"00",period:"AM",quarterlyMonths:[1,4,7,10],halfYearlyMonths:[1,7]}),[S,k]=T.useState(!1),[_,A]=T.useState(!1),[R,V]=T.useState(null),[P,I]=T.useState(!1),[B,O]=T.useState(""),[L,C]=T.useState({show:!1,id:null,name:""}),[Y,Q]=T.useState(!1);T.useEffect(()=>{!e||!(n!=null&&n.token)||(k(!0),fetch(`${a}/api/automations`,{headers:{Authorization:`Bearer ${n.token}`}}).then(fe=>fe.json()).then(fe=>{l(Array.isArray(fe)?fe:[]),k(!1)}).catch(()=>k(!1)))},[e,n,a]);const ce=fe=>{w(fe),N({...v,triggerType:fe}),y(!1)},W=()=>{y(!0),w("")},J=(fe,G)=>{fe.stopPropagation(),C({show:!0,id:G._id,name:G.name})},re=()=>{C({show:!1,id:null,name:""})},ee=async()=>{if(!(!L.id||!(n!=null&&n.token))){Q(!0);try{const fe=await fetch(`${a}/api/automations/${L.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${n.token}`}});if(fe.ok)l(G=>G.filter(be=>be._id!==L.id)),C({show:!1,id:null,name:""}),V({success:!0,message:"Automation deleted successfully"});else{const G=await fe.json();O(G.message||"Failed to delete automation"),V({success:!1,message:"Failed to delete automation"})}}catch(fe){console.error("Delete error:",fe),O("Error deleting automation"),V({success:!1,message:"Error deleting automation"})}finally{Q(!1)}}},H=async()=>{A(!0),V(null),O("");try{const fe=await fetch(`${a}/api/automations/check-trigger`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.token}`}}),G=await fe.json();if(!fe.ok)throw new Error(G.message||"Failed to trigger automation check");V({success:!0,message:G.message,processedCount:G.processedCount})}catch(fe){console.error("Error triggering automation check:",fe),V({success:!1,message:fe.message||"An error occurred while checking automations"})}finally{A(!1)}},ne=async()=>{k(!0),O("");try{const fe={...v};if(fe.triggerType==="dayOfMonth"&&!fe.dayOfMonth)throw new Error("Day of month is required");if(fe.triggerType==="quarterly"){if(!fe.dayOfMonth)throw new Error("Day of month is required for quarterly automation");(!fe.quarterlyMonths||fe.quarterlyMonths.length===0)&&(fe.quarterlyMonths=[1,4,7,10])}if(fe.triggerType==="halfYearly"){if(!fe.dayOfMonth)throw new Error("Day of month is required for half-yearly automation");(!fe.halfYearlyMonths||fe.halfYearlyMonths.length===0)&&(fe.halfYearlyMonths=[1,7])}if(fe.triggerType==="yearly"){if(!fe.dayOfMonth)throw new Error("Day of month is required for yearly automation");fe.monthOfYear||(fe.monthOfYear=1)}if(fe.triggerType==="dateAndTime"){if(!fe.specificDate||!fe.specificTime)throw new Error("Both date and time are required");if(new Date(`${fe.specificDate}T${fe.specificTime}`)<=new Date)throw new Error("The date and time must be in the future")}const G=await fetch(`${a}/api/automations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n.token}`},body:JSON.stringify(v)});if(!G.ok)throw new Error("Failed to create automation");const be=await G.json();l([...s,be]),p(!1),y(!0),w(""),N({name:"",description:"",triggerType:"",dayOfMonth:"",specificDate:"",specificTime:"",hours:"12",minutes:"00",period:"AM",quarterlyMonths:[1,4,7,10],halfYearlyMonths:[1,7]})}catch(fe){O(fe.message)}finally{k(!1)}};return e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm",children:[L.show&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full mx-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Delete Automation"}),i.jsxs("p",{className:"text-gray-600 mb-6",children:["Are you sure you want to delete ",i.jsx("span",{className:"font-semibold",children:L.name}),"? This action cannot be undone."]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx("button",{onClick:re,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",disabled:Y,children:"Cancel"}),i.jsx("button",{onClick:ee,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md flex items-center",disabled:Y,children:Y?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white/30 border-t-white mr-2"}),"Deleting..."]}):"Delete"})]})]})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-0 w-full max-w-5xl min-h-[200px] max-h-[85vh] flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center py-4 px-6 border-b border-gray-100",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Automations"}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-700 rounded-full p-1 hover:bg-gray-100 transition-colors",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),f?i.jsxs("div",{className:"flex flex-col gap-4 p-6 overflow-y-auto",children:[x?i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h3",{className:"text-base font-medium text-gray-800 mb-6",children:"Select Trigger Type"}),i.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsxs("button",{onClick:()=>ce("dateAndTime"),className:"bg-white shadow-sm border border-gray-200 rounded-lg p-4 flex flex-col items-center text-center hover:border-purple-200 hover:shadow transition-all focus:outline-none",children:[i.jsx("div",{className:"bg-purple-100 text-purple-600 p-2 rounded-full w-10 h-10 flex items-center justify-center mb-3",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-800 text-base block mb-1",children:"One-time Date and Time"}),i.jsx("p",{className:"text-xs text-gray-500 px-2",children:"Create one-time tasks on a specific date and time"})]})]}),i.jsxs("button",{onClick:()=>ce("dayOfMonth"),className:"bg-white shadow-sm border border-gray-200 rounded-lg p-4 flex flex-col items-center text-center hover:border-blue-200 hover:shadow transition-all focus:outline-none",children:[i.jsx("div",{className:"bg-blue-100 text-blue-600 p-2 rounded-full w-10 h-10 flex items-center justify-center mb-3",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-800 text-base block mb-1",children:"Day of the Month"}),i.jsx("p",{className:"text-xs text-gray-500 px-2",children:"Create recurring tasks on a specific day each month"})]})]}),i.jsxs("button",{onClick:()=>ce("quarterly"),className:"bg-white shadow-sm border border-gray-200 rounded-lg p-4 flex flex-col items-center text-center hover:border-green-200 hover:shadow transition-all focus:outline-none",children:[i.jsx("div",{className:"bg-green-100 text-green-600 p-2 rounded-full w-10 h-10 flex items-center justify-center mb-3",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-800 text-base block mb-1",children:"Quarterly"}),i.jsx("p",{className:"text-xs text-gray-500 px-2",children:"Create recurring tasks every quarter (Jan, Apr, Jul, Oct)"})]})]}),i.jsxs("button",{onClick:()=>ce("halfYearly"),className:"bg-white shadow-sm border border-gray-200 rounded-lg p-4 flex flex-col items-center text-center hover:border-orange-200 hover:shadow transition-all focus:outline-none",children:[i.jsx("div",{className:"bg-orange-100 text-orange-600 p-2 rounded-full w-10 h-10 flex items-center justify-center mb-3",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-800 text-base block mb-1",children:"Half Yearly"}),i.jsx("p",{className:"text-xs text-gray-500 px-2",children:"Create recurring tasks twice a year (Jan & Jul)"})]})]}),i.jsxs("button",{onClick:()=>ce("yearly"),className:"bg-white shadow-sm border border-gray-200 rounded-lg p-4 flex flex-col items-center text-center hover:border-red-200 hover:shadow transition-all focus:outline-none",children:[i.jsx("div",{className:"bg-red-100 text-red-600 p-2 rounded-full w-10 h-10 flex items-center justify-center mb-3",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-800 text-base block mb-1",children:"Yearly"}),i.jsx("p",{className:"text-xs text-gray-500 px-2",children:"Create recurring tasks once a year on a specific date"})]})]})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 text-sm text-gray-600 font-medium border border-gray-200 rounded hover:bg-gray-50 transition-colors",children:"Cancel"})})]}):i.jsxs("div",{className:"flex flex-col gap-6 overflow-y-auto max-h-[calc(100vh-15rem)]",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("button",{onClick:W,className:"mr-3 text-gray-500 hover:text-gray-700 bg-gray-100 hover:bg-gray-200 transition-colors p-2 rounded-full",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),i.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:[m==="dateAndTime"&&"One-time Automation",m==="dayOfMonth"&&"Monthly Automation",m==="quarterly"&&"Quarterly Automation",m==="halfYearly"&&"Half Yearly Automation",m==="yearly"&&"Yearly Automation"]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Automation Name"}),i.jsx("input",{type:"text",placeholder:"Client Report",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:v.name,onChange:fe=>N({...v,name:fe.target.value})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),i.jsx("textarea",{placeholder:"Brief description of what this automation does",className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:v.description,onChange:fe=>N({...v,description:fe.target.value}),rows:3})]}),m==="dayOfMonth"?i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Trigger Day (1-31)"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsx("input",{type:"number",min:"1",max:"31",placeholder:"Day of month when tasks should be created",className:"w-full border border-gray-300 rounded-lg pl-11 pr-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:v.dayOfMonth,onChange:fe=>N({...v,dayOfMonth:fe.target.value})})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Tasks will be created automatically on this day each month."})]}):m==="quarterly"?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-base font-medium text-gray-800",children:"Quarterly Settings"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Day of Month (1-31)"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsx("input",{type:"number",min:"1",max:"31",placeholder:"Which day of the month",className:"w-full border border-gray-300 rounded-lg pl-11 pr-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:v.dayOfMonth,onChange:fe=>N({...v,dayOfMonth:fe.target.value})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Q1 Month"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:((D=v.quarterlyMonths)==null?void 0:D[0])||1,onChange:fe=>{const G=[...v.quarterlyMonths||[1,4,7,10]];G[0]=parseInt(fe.target.value),N({...v,quarterlyMonths:G})},children:[i.jsx("option",{value:"1",children:"January"}),i.jsx("option",{value:"2",children:"February"}),i.jsx("option",{value:"3",children:"March"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Q2 Month"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:((z=v.quarterlyMonths)==null?void 0:z[1])||4,onChange:fe=>{const G=[...v.quarterlyMonths||[1,4,7,10]];G[1]=parseInt(fe.target.value),N({...v,quarterlyMonths:G})},children:[i.jsx("option",{value:"4",children:"April"}),i.jsx("option",{value:"5",children:"May"}),i.jsx("option",{value:"6",children:"June"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Q3 Month"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:((q=v.quarterlyMonths)==null?void 0:q[2])||7,onChange:fe=>{const G=[...v.quarterlyMonths||[1,4,7,10]];G[2]=parseInt(fe.target.value),N({...v,quarterlyMonths:G})},children:[i.jsx("option",{value:"7",children:"July"}),i.jsx("option",{value:"8",children:"August"}),i.jsx("option",{value:"9",children:"September"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Q4 Month"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:((X=v.quarterlyMonths)==null?void 0:X[3])||10,onChange:fe=>{const G=[...v.quarterlyMonths||[1,4,7,10]];G[3]=parseInt(fe.target.value),N({...v,quarterlyMonths:G})},children:[i.jsx("option",{value:"10",children:"October"}),i.jsx("option",{value:"11",children:"November"}),i.jsx("option",{value:"12",children:"December"})]})]})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Tasks will be created in the selected month of each quarter on the specified day."})]}):m==="halfYearly"?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-base font-medium text-gray-800",children:"Half Yearly Settings"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Day of Month (1-31)"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-orange-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsx("input",{type:"number",min:"1",max:"31",placeholder:"Which day of the month",className:"w-full border border-gray-300 rounded-lg pl-11 pr-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:v.dayOfMonth,onChange:fe=>N({...v,dayOfMonth:fe.target.value})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Half (H1) Month"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:((se=v.halfYearlyMonths)==null?void 0:se[0])||1,onChange:fe=>{const G=[...v.halfYearlyMonths||[1,7]];G[0]=parseInt(fe.target.value),N({...v,halfYearlyMonths:G})},children:[i.jsx("option",{value:"1",children:"January"}),i.jsx("option",{value:"2",children:"February"}),i.jsx("option",{value:"3",children:"March"}),i.jsx("option",{value:"4",children:"April"}),i.jsx("option",{value:"5",children:"May"}),i.jsx("option",{value:"6",children:"June"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Second Half (H2) Month"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:((Se=v.halfYearlyMonths)==null?void 0:Se[1])||7,onChange:fe=>{const G=[...v.halfYearlyMonths||[1,7]];G[1]=parseInt(fe.target.value),N({...v,halfYearlyMonths:G})},children:[i.jsx("option",{value:"7",children:"July"}),i.jsx("option",{value:"8",children:"August"}),i.jsx("option",{value:"9",children:"September"}),i.jsx("option",{value:"10",children:"October"}),i.jsx("option",{value:"11",children:"November"}),i.jsx("option",{value:"12",children:"December"})]})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Tasks will be created in the selected month of each half-year on the specified day."})]}):m==="yearly"?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"text-base font-medium text-gray-800",children:"Yearly Settings"}),i.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Day of Month (1-31)"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsx("input",{type:"number",min:"1",max:"31",placeholder:"Which day of the month",className:"w-full border border-gray-300 rounded-lg pl-11 pr-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:v.dayOfMonth,onChange:fe=>N({...v,dayOfMonth:fe.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Month"}),i.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white",value:v.monthOfYear||1,onChange:fe=>N({...v,monthOfYear:parseInt(fe.target.value)}),children:[i.jsx("option",{value:"1",children:"January"}),i.jsx("option",{value:"2",children:"February"}),i.jsx("option",{value:"3",children:"March"}),i.jsx("option",{value:"4",children:"April"}),i.jsx("option",{value:"5",children:"May"}),i.jsx("option",{value:"6",children:"June"}),i.jsx("option",{value:"7",children:"July"}),i.jsx("option",{value:"8",children:"August"}),i.jsx("option",{value:"9",children:"September"}),i.jsx("option",{value:"10",children:"October"}),i.jsx("option",{value:"11",children:"November"}),i.jsx("option",{value:"12",children:"December"})]})]})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Tasks will be created once a year on the specified date."})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Specific Date"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3.5 flex items-center pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-purple-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsx("input",{type:"date",className:"w-full border border-gray-300 rounded-lg pl-11 pr-4 py-2.5 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:v.specificDate,onChange:fe=>N({...v,specificDate:fe.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Specific Time (12-hour format)"}),i.jsxs("div",{className:"flex space-x-3 items-center",children:[i.jsxs("div",{className:"w-1/3 relative",children:[i.jsx("select",{className:"w-full bg-white border border-gray-300 rounded-lg py-2.5 px-4 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",value:v.hours,onChange:fe=>{const G=fe.target.value,be=Xy(G,v.minutes,v.period);N({...v,hours:G,specificTime:be})},children:Array.from({length:12}).map((fe,G)=>i.jsx("option",{value:G===0?"12":String(G+1),children:G===0?"12":String(G+1)},G))}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),i.jsxs("div",{className:"w-1/3 relative",children:[i.jsx("select",{className:"w-full bg-white border border-gray-300 rounded-lg py-2.5 px-4 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",value:v.minutes,onChange:fe=>{const G=fe.target.value,be=Xy(v.hours,G,v.period);N({...v,minutes:G,specificTime:be})},children:Array.from({length:60}).map((fe,G)=>i.jsx("option",{value:G.toString().padStart(2,"0"),children:G.toString().padStart(2,"0")},G))}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),i.jsxs("div",{className:"w-1/3 relative",children:[i.jsxs("select",{className:"w-full bg-white border border-gray-300 rounded-lg py-2.5 px-4 text-base focus:ring-2 focus:ring-blue-500 focus:border-blue-500 appearance-none",value:v.period,onChange:fe=>{const G=fe.target.value,be=Xy(v.hours,v.minutes,G);N({...v,period:G,specificTime:be})},children:[i.jsx("option",{value:"AM",children:"AM"}),i.jsx("option",{value:"PM",children:"PM"})]}),i.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Tasks will be created only once at this exact date and time, then the automation will be deleted. Must be a future date and time."})]})]})]}),!x&&B&&i.jsx("div",{className:"bg-red-50 border border-red-100 p-4 rounded-lg mt-2",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm text-red-700",children:B})})]})}),!x&&i.jsxs("div",{className:"flex gap-4 mt-6 sticky bottom-0 pt-4 bg-white border-t border-gray-100",children:[i.jsx("button",{onClick:W,className:"flex-1 bg-white border border-gray-300 text-gray-700 rounded-lg py-3 font-medium hover:bg-gray-50 transition-colors shadow-sm",disabled:S,children:"Back"}),i.jsx("button",{onClick:ne,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg py-3 font-medium hover:from-blue-600 hover:to-blue-700 transition-colors shadow-sm flex items-center justify-center",disabled:S||!v.name||m==="dayOfMonth"&&!v.dayOfMonth||m==="dateAndTime"&&(!v.specificDate||!v.specificTime),children:S?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white/30 border-t-white mr-2"}),"Creating..."]}):i.jsx(i.Fragment,{children:"Create Automation"})})]})]}):i.jsxs("div",{className:"p-6 flex flex-col h-full overflow-hidden",children:[S?i.jsxs("div",{className:"text-center py-12 flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-3 border-blue-100 border-t-blue-500 mb-3"}),i.jsx("p",{className:"text-gray-500 text-base",children:"Loading automations..."})]}):s.length===0?i.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-dashed border-gray-200 flex flex-col items-center mx-4 my-6",children:[i.jsx("div",{className:"bg-gray-100 p-3 rounded-full mb-3",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),i.jsx("p",{className:"text-gray-600 font-medium text-lg mb-1",children:"No automations yet"}),i.jsx("p",{className:"text-gray-500 text-sm mb-4 max-w-sm px-6",children:"Create your first automation to start saving time on repetitive tasks"}),i.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center justify-center gap-2 bg-blue-600 text-white rounded-md py-2 px-4 text-sm font-medium hover:bg-blue-700 transition",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create Your First Automation"]})]}):i.jsxs("div",{className:"overflow-y-auto flex-grow",style:{maxHeight:"calc(100vh - 10rem)"},children:[i.jsx("div",{className:"px-5 pb-2",children:i.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Search Automations...",value:u,onChange:fe=>d(fe.target.value)})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 p-5",children:s.filter(fe=>{var G,be;return((G=fe.name)==null?void 0:G.toLowerCase().includes(u.toLowerCase()))||((be=fe.description)==null?void 0:be.toLowerCase().includes(u.toLowerCase()))}).map(fe=>i.jsxs("div",{onClick:G=>{if(G.target.closest('button[data-action="delete"]')){G.preventDefault(),G.stopPropagation();return}t(fe)},className:"w-full text-left p-4 rounded-lg border border-gray-100 bg-white hover:bg-blue-50 hover:border-blue-200 transition-all flex flex-col gap-2 shadow-sm cursor-pointer",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex flex-col overflow-hidden",children:[i.jsx("span",{className:"font-medium text-gray-800 text-base truncate",children:fe.name}),i.jsx("span",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:fe.description})]}),fe.triggerType==="dayOfMonth"||!fe.triggerType?i.jsxs("div",{className:"bg-yellow-50 text-yellow-700 text-xs font-medium px-2 py-1 rounded-md flex items-center whitespace-nowrap shrink-0 ml-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Day ",fe.dayOfMonth]}):fe.triggerType==="quarterly"?i.jsxs("div",{className:"bg-green-50 text-green-700 text-xs font-medium px-2 py-1 rounded-md flex items-center whitespace-nowrap shrink-0 ml-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Q",fe.monthOfYear===1?"1":fe.monthOfYear===4?"2":fe.monthOfYear===7?"3":fe.monthOfYear===10?"4":""]}):fe.triggerType==="halfYearly"?i.jsxs("div",{className:"bg-orange-50 text-orange-700 text-xs font-medium px-2 py-1 rounded-md flex items-center whitespace-nowrap shrink-0 ml-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"H",fe.monthOfYear===1?"1":fe.monthOfYear===7?"2":""]}):fe.triggerType==="yearly"?i.jsxs("div",{className:"bg-red-50 text-red-700 text-xs font-medium px-2 py-1 rounded-md flex items-center whitespace-nowrap shrink-0 ml-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Yearly"]}):i.jsxs("div",{className:"bg-purple-50 text-purple-700 text-xs font-medium px-2 py-1 rounded-md flex items-center whitespace-nowrap shrink-0 ml-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Once"]})]}),i.jsxs("div",{className:"mt-1.5 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"bg-blue-50 text-blue-700 text-xs font-medium px-2 py-0.5 rounded flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),fe.taskTemplate&&Array.isArray(fe.taskTemplate)?fe.taskTemplate.length:0]})}),i.jsxs("button",{onClick:G=>{G.stopPropagation(),G.preventDefault(),J(G,fe)},className:"bg-red-50 text-red-700 text-xs font-medium px-2 py-0.5 rounded flex items-center hover:bg-red-100 transition-colors ml-auto","aria-label":"Delete automation","data-action":"delete",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]},fe._id))})]}),i.jsxs("div",{className:"sticky bottom-0 pt-3 px-4 pb-4 bg-white border-t border-gray-100 mt-auto",children:[i.jsxs("button",{onClick:()=>p(!0),className:"flex items-center justify-center gap-1.5 bg-blue-600 text-white rounded-md py-2.5 font-medium hover:bg-blue-700 transition-colors w-full",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Create New Automation"]}),R&&i.jsx("div",{className:`p-2.5 rounded-md mt-2 text-xs ${R.success?"bg-green-50 border border-green-100":"bg-red-50 border border-red-100"}`,children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`flex-shrink-0 w-4 h-4 ${R.success?"text-green-500":"text-red-500"}`,children:R.success?i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}):i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx("div",{className:"ml-2",children:i.jsx("p",{className:`font-medium ${R.success?"text-green-800":"text-red-800"}`,children:R.message})})]})}),(n==null?void 0:n.role)==="Admin"&&i.jsx("div",{className:"space-y-2",children:i.jsx("button",{onClick:H,className:"flex items-center justify-center gap-1.5 bg-white border border-gray-200 text-gray-700 rounded-md py-2 text-xs font-medium hover:bg-gray-50 transition-colors w-full",disabled:_,children:_?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-3.5 w-3.5 border-2 border-gray-300 border-t-gray-600 mr-1"}),"Checking Automations..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Check Pending Automations"]})})})]})]})]})]}):null},mI=({isOpen:e,onClose:r,onDownload:t,availableColumns:n})=>{const[a,s]=T.useState(n.map(p=>p.id)),l=p=>{s(x=>x.includes(p)?x.filter(y=>y!==p):[...x,p])},u=()=>{s(n.map(p=>p.id))},d=()=>{s([])},f=()=>{if(a.length===0){alert("Please select at least one column");return}t(a),r()};return e?i.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/20 bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Select Columns for PDF"}),i.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"×"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex gap-2 mb-3",children:[i.jsx("button",{onClick:u,className:"px-3 py-1 text-sm bg-blue-500 text-white rounded hover:bg-blue-600",children:"Select All"}),i.jsx("button",{onClick:d,className:"px-3 py-1 text-sm bg-gray-500 text-white rounded hover:bg-gray-600",children:"Deselect All"})]}),i.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Selected: ",a.length," of ",n.length," columns"]})]}),i.jsx("div",{className:"max-h-64 overflow-y-auto border border-gray-200 rounded p-3",children:n.map(p=>i.jsxs("label",{className:"flex items-center space-x-3 mb-2 cursor-pointer hover:bg-gray-50 p-2 rounded",children:[i.jsx("input",{type:"checkbox",checked:a.includes(p.id),onChange:()=>l(p.id),className:"accent-blue-500"}),i.jsx("span",{className:"text-sm text-gray-700",children:p.label})]},p.id))}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[i.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded hover:bg-gray-50",children:"Cancel"}),i.jsx("button",{onClick:f,disabled:a.length===0,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Download PDF"})]})]})}):null},gI="modulepreload",xI=function(e){return"/"+e},iN={},Uv=function(r,t,n){let a=Promise.resolve();if(t&&t.length>0){let l=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=l(t.map(f=>{if(f=xI(f),f in iN)return;iN[f]=!0;const p=f.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":gI,p||(y.as="script"),y.crossOrigin="",y.href=f,d&&y.setAttribute("nonce",d),document.head.appendChild(y),p)return new Promise((m,w)=>{y.addEventListener("load",m),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return a.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return r().catch(s)})};function aa(e){"@babel/helpers - typeof";return aa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},aa(e)}var ji=Uint8Array,Co=Uint16Array,sw=Int32Array,Hx=new ji([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Wx=new ji([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Hv=new ji([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pk=function(e,r){for(var t=new Co(31),n=0;n<31;++n)t[n]=r+=1<<e[n-1];for(var a=new sw(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)a[s]=s-t[n]<<5|n;return{b:t,r:a}},Bk=Pk(Hx,2),Ik=Bk.b,Wv=Bk.r;Ik[28]=258,Wv[258]=28;var $k=Pk(Wx,0),yI=$k.b,oN=$k.r,Vv=new Co(32768);for(var Ea=0;Ea<32768;++Ea){var fd=(Ea&43690)>>1|(Ea&21845)<<1;fd=(fd&52428)>>2|(fd&13107)<<2,fd=(fd&61680)>>4|(fd&3855)<<4,Vv[Ea]=((fd&65280)>>8|(fd&255)<<8)>>1}var Lc=function(e,r,t){for(var n=e.length,a=0,s=new Co(r);a<n;++a)e[a]&&++s[e[a]-1];var l=new Co(r);for(a=1;a<r;++a)l[a]=l[a-1]+s[a-1]<<1;var u;if(t){u=new Co(1<<r);var d=15-r;for(a=0;a<n;++a)if(e[a])for(var f=a<<4|e[a],p=r-e[a],x=l[e[a]-1]++<<p,y=x|(1<<p)-1;x<=y;++x)u[Vv[x]>>d]=f}else for(u=new Co(n),a=0;a<n;++a)e[a]&&(u[a]=Vv[l[e[a]-1]++]>>15-e[a]);return u},Ed=new ji(288);for(var Ea=0;Ea<144;++Ea)Ed[Ea]=8;for(var Ea=144;Ea<256;++Ea)Ed[Ea]=9;for(var Ea=256;Ea<280;++Ea)Ed[Ea]=7;for(var Ea=280;Ea<288;++Ea)Ed[Ea]=8;var em=new ji(32);for(var Ea=0;Ea<32;++Ea)em[Ea]=5;var vI=Lc(Ed,9,0),bI=Lc(Ed,9,1),wI=Lc(em,5,0),NI=Lc(em,5,1),Ky=function(e){for(var r=e[0],t=1;t<e.length;++t)e[t]>r&&(r=e[t]);return r},Al=function(e,r,t){var n=r/8|0;return(e[n]|e[n+1]<<8)>>(r&7)&t},Jy=function(e,r){var t=r/8|0;return(e[t]|e[t+1]<<8|e[t+2]<<16)>>(r&7)},iw=function(e){return(e+7)/8|0},zk=function(e,r,t){return(t==null||t>e.length)&&(t=e.length),new ji(e.subarray(r,t))},SI=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Dl=function(e,r,t){var n=new Error(r||SI[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Dl),!t)throw n;return n},_I=function(e,r,t,n){var a=e.length,s=0;if(!a||r.f&&!r.l)return t||new ji(0);var l=!t,u=l||r.i!=2,d=r.i;l&&(t=new ji(a*3));var f=function(Fe){var De=t.length;if(Fe>De){var lt=new ji(Math.max(De*2,Fe));lt.set(t),t=lt}},p=r.f||0,x=r.p||0,y=r.b||0,m=r.l,w=r.d,v=r.m,N=r.n,S=a*8;do{if(!m){p=Al(e,x,1);var k=Al(e,x+1,3);if(x+=3,k)if(k==1)m=bI,w=NI,v=9,N=5;else if(k==2){var V=Al(e,x,31)+257,P=Al(e,x+10,15)+4,I=V+Al(e,x+5,31)+1;x+=14;for(var B=new ji(I),O=new ji(19),L=0;L<P;++L)O[Hv[L]]=Al(e,x+L*3,7);x+=P*3;for(var C=Ky(O),Y=(1<<C)-1,Q=Lc(O,C,1),L=0;L<I;){var ce=Q[Al(e,x,Y)];x+=ce&15;var _=ce>>4;if(_<16)B[L++]=_;else{var W=0,J=0;for(_==16?(J=3+Al(e,x,3),x+=2,W=B[L-1]):_==17?(J=3+Al(e,x,7),x+=3):_==18&&(J=11+Al(e,x,127),x+=7);J--;)B[L++]=W}}var re=B.subarray(0,V),ee=B.subarray(V);v=Ky(re),N=Ky(ee),m=Lc(re,v,1),w=Lc(ee,N,1)}else Dl(1);else{var _=iw(x)+4,A=e[_-4]|e[_-3]<<8,R=_+A;if(R>a){d&&Dl(0);break}u&&f(y+A),t.set(e.subarray(_,R),y),r.b=y+=A,r.p=x=R*8,r.f=p;continue}if(x>S){d&&Dl(0);break}}u&&f(y+131072);for(var H=(1<<v)-1,ne=(1<<N)-1,D=x;;D=x){var W=m[Jy(e,x)&H],z=W>>4;if(x+=W&15,x>S){d&&Dl(0);break}if(W||Dl(2),z<256)t[y++]=z;else if(z==256){D=x,m=null;break}else{var q=z-254;if(z>264){var L=z-257,X=Hx[L];q=Al(e,x,(1<<X)-1)+Ik[L],x+=X}var se=w[Jy(e,x)&ne],Se=se>>4;se||Dl(3),x+=se&15;var ee=yI[Se];if(Se>3){var X=Wx[Se];ee+=Jy(e,x)&(1<<X)-1,x+=X}if(x>S){d&&Dl(0);break}u&&f(y+131072);var fe=y+q;if(y<ee){var G=s-ee,be=Math.min(ee,fe);for(G+y<0&&Dl(3);y<be;++y)t[y]=n[G+y]}for(;y<fe;++y)t[y]=t[y-ee]}}r.l=m,r.p=D,r.b=y,r.f=p,m&&(p=1,r.m=v,r.d=w,r.n=N)}while(!p);return y!=t.length&&l?zk(t,0,y):t.subarray(0,y)},mu=function(e,r,t){t<<=r&7;var n=r/8|0;e[n]|=t,e[n+1]|=t>>8},pp=function(e,r,t){t<<=r&7;var n=r/8|0;e[n]|=t,e[n+1]|=t>>8,e[n+2]|=t>>16},Qy=function(e,r){for(var t=[],n=0;n<e.length;++n)e[n]&&t.push({s:n,f:e[n]});var a=t.length,s=t.slice();if(!a)return{t:Hk,l:0};if(a==1){var l=new ji(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(R,V){return R.f-V.f}),t.push({s:-1,f:25001});var u=t[0],d=t[1],f=0,p=1,x=2;for(t[0]={s:-1,f:u.f+d.f,l:u,r:d};p!=a-1;)u=t[t[f].f<t[x].f?f++:x++],d=t[f!=p&&t[f].f<t[x].f?f++:x++],t[p++]={s:-1,f:u.f+d.f,l:u,r:d};for(var y=s[0].s,n=1;n<a;++n)s[n].s>y&&(y=s[n].s);var m=new Co(y+1),w=qv(t[p-1],m,0);if(w>r){var n=0,v=0,N=w-r,S=1<<N;for(s.sort(function(V,P){return m[P.s]-m[V.s]||V.f-P.f});n<a;++n){var k=s[n].s;if(m[k]>r)v+=S-(1<<w-m[k]),m[k]=r;else break}for(v>>=N;v>0;){var _=s[n].s;m[_]<r?v-=1<<r-m[_]++-1:++n}for(;n>=0&&v;--n){var A=s[n].s;m[A]==r&&(--m[A],++v)}w=r}return{t:new ji(m),l:w}},qv=function(e,r,t){return e.s==-1?Math.max(qv(e.l,r,t+1),qv(e.r,r,t+1)):r[e.s]=t},lN=function(e){for(var r=e.length;r&&!e[--r];);for(var t=new Co(++r),n=0,a=e[0],s=1,l=function(d){t[n++]=d},u=1;u<=r;++u)if(e[u]==a&&u!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(a),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(a);s=1,a=e[u]}return{c:t.subarray(0,n),n:r}},mp=function(e,r){for(var t=0,n=0;n<r.length;++n)t+=e[n]*r[n];return t},Uk=function(e,r,t){var n=t.length,a=iw(r+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=t[s];return(a+4+n)*8},cN=function(e,r,t,n,a,s,l,u,d,f,p){mu(r,p++,t),++a[256];for(var x=Qy(a,15),y=x.t,m=x.l,w=Qy(s,15),v=w.t,N=w.l,S=lN(y),k=S.c,_=S.n,A=lN(v),R=A.c,V=A.n,P=new Co(19),I=0;I<k.length;++I)++P[k[I]&31];for(var I=0;I<R.length;++I)++P[R[I]&31];for(var B=Qy(P,7),O=B.t,L=B.l,C=19;C>4&&!O[Hv[C-1]];--C);var Y=f+5<<3,Q=mp(a,Ed)+mp(s,em)+l,ce=mp(a,y)+mp(s,v)+l+14+3*C+mp(P,O)+2*P[16]+3*P[17]+7*P[18];if(d>=0&&Y<=Q&&Y<=ce)return Uk(r,p,e.subarray(d,d+f));var W,J,re,ee;if(mu(r,p,1+(ce<Q)),p+=2,ce<Q){W=Lc(y,m,0),J=y,re=Lc(v,N,0),ee=v;var H=Lc(O,L,0);mu(r,p,_-257),mu(r,p+5,V-1),mu(r,p+10,C-4),p+=14;for(var I=0;I<C;++I)mu(r,p+3*I,O[Hv[I]]);p+=3*C;for(var ne=[k,R],D=0;D<2;++D)for(var z=ne[D],I=0;I<z.length;++I){var q=z[I]&31;mu(r,p,H[q]),p+=O[q],q>15&&(mu(r,p,z[I]>>5&127),p+=z[I]>>12)}}else W=vI,J=Ed,re=wI,ee=em;for(var I=0;I<u;++I){var X=n[I];if(X>255){var q=X>>18&31;pp(r,p,W[q+257]),p+=J[q+257],q>7&&(mu(r,p,X>>23&31),p+=Hx[q]);var se=X&31;pp(r,p,re[se]),p+=ee[se],se>3&&(pp(r,p,X>>5&8191),p+=Wx[se])}else pp(r,p,W[X]),p+=J[X]}return pp(r,p,W[256]),p+J[256]},TI=new sw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Hk=new ji(0),kI=function(e,r,t,n,a,s){var l=s.z||e.length,u=new ji(n+l+5*(1+Math.ceil(l/7e3))+a),d=u.subarray(n,u.length-a),f=s.l,p=(s.r||0)&7;if(r){p&&(d[0]=s.r>>3);for(var x=TI[r-1],y=x>>13,m=x&8191,w=(1<<t)-1,v=s.p||new Co(32768),N=s.h||new Co(w+1),S=Math.ceil(t/3),k=2*S,_=function(ft){return(e[ft]^e[ft+1]<<S^e[ft+2]<<k)&w},A=new sw(25e3),R=new Co(288),V=new Co(32),P=0,I=0,B=s.i||0,O=0,L=s.w||0,C=0;B+2<l;++B){var Y=_(B),Q=B&32767,ce=N[Y];if(v[Q]=ce,N[Y]=Q,L<=B){var W=l-B;if((P>7e3||O>24576)&&(W>423||!f)){p=cN(e,d,0,A,R,V,I,O,C,B-C,p),O=P=I=0,C=B;for(var J=0;J<286;++J)R[J]=0;for(var J=0;J<30;++J)V[J]=0}var re=2,ee=0,H=m,ne=Q-ce&32767;if(W>2&&Y==_(B-ne))for(var D=Math.min(y,W)-1,z=Math.min(32767,B),q=Math.min(258,W);ne<=z&&--H&&Q!=ce;){if(e[B+re]==e[B+re-ne]){for(var X=0;X<q&&e[B+X]==e[B+X-ne];++X);if(X>re){if(re=X,ee=ne,X>D)break;for(var se=Math.min(ne,X-2),Se=0,J=0;J<se;++J){var fe=B-ne+J&32767,G=v[fe],be=fe-G&32767;be>Se&&(Se=be,ce=fe)}}}Q=ce,ce=v[Q],ne+=Q-ce&32767}if(ee){A[O++]=268435456|Wv[re]<<18|oN[ee];var Fe=Wv[re]&31,De=oN[ee]&31;I+=Hx[Fe]+Wx[De],++R[257+Fe],++V[De],L=B+re,++P}else A[O++]=e[B],++R[e[B]]}}for(B=Math.max(B,L);B<l;++B)A[O++]=e[B],++R[e[B]];p=cN(e,d,f,A,R,V,I,O,C,B-C,p),f||(s.r=p&7|d[p/8|0]<<3,p-=7,s.h=N,s.p=v,s.i=B,s.w=L)}else{for(var B=s.w||0;B<l+f;B+=65535){var lt=B+65535;lt>=l&&(d[p/8|0]=f,lt=l),p=Uk(d,p+1,e.subarray(B,lt))}s.i=l}return zk(u,0,n+iw(p)+a)},Wk=function(){var e=1,r=0;return{p:function(t){for(var n=e,a=r,s=t.length|0,l=0;l!=s;){for(var u=Math.min(l+2655,s);l<u;++l)a+=n+=t[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,r=a},d:function(){return e%=65521,r%=65521,(e&255)<<24|(e&65280)<<8|(r&255)<<8|r>>8}}},jI=function(e,r,t,n,a){if(!a&&(a={l:1},r.dictionary)){var s=r.dictionary.subarray(-32768),l=new ji(s.length+e.length);l.set(s),l.set(e,s.length),e=l,a.w=s.length}return kI(e,r.level==null?6:r.level,r.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+r.mem,t,n,a)},Vk=function(e,r,t){for(;t;++r)e[r]=t,t>>>=8},EI=function(e,r){var t=r.level,n=t==0?0:t<6?1:t==9?3:2;if(e[0]=120,e[1]=n<<6|(r.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,r.dictionary){var a=Wk();a.p(r.dictionary),Vk(e,2,a.d())}},AI=function(e,r){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Dl(6,"invalid zlib data"),(e[1]>>5&1)==1&&Dl(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Yv(e,r){r||(r={});var t=Wk();t.p(e);var n=jI(e,r,r.dictionary?6:2,4);return EI(n,r),Vk(n,n.length-4,t.d()),n}function CI(e,r){return _I(e.subarray(AI(e),-4),{i:2},r,r)}var DI=typeof TextDecoder<"u"&&new TextDecoder,OI=0;try{DI.decode(Hk,{stream:!0}),OI=1}catch{}var Gr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Zy(){Gr.console&&typeof Gr.console.log=="function"&&Gr.console.log.apply(Gr.console,arguments)}var wa={log:Zy,warn:function(e){Gr.console&&(typeof Gr.console.warn=="function"?Gr.console.warn.apply(Gr.console,arguments):Zy.call(null,arguments))},error:function(e){Gr.console&&(typeof Gr.console.error=="function"?Gr.console.error.apply(Gr.console,arguments):Zy(e))}};function ev(e,r,t){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){sf(n.response,r,t)},n.onerror=function(){wa.error("could not download file")},n.send()}function uN(e){var r=new XMLHttpRequest;r.open("HEAD",e,!1);try{r.send()}catch{}return r.status>=200&&r.status<=299}function Xg(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}var Pp,Gv,sf=Gr.saveAs||((typeof window>"u"?"undefined":aa(window))!=="object"||window!==Gr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,r,t){var n=Gr.URL||Gr.webkitURL,a=document.createElement("a");r=r||e.name||"download",a.download=r,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?uN(a.href)?ev(e,r,t):Xg(a,a.target="_blank"):Xg(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Xg(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,r,t){if(r=r||e.name||"download",typeof e=="string")if(uN(e))ev(e,r,t);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Xg(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:aa(s)!=="object"&&(wa.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,t),r)}:function(e,r,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return ev(e,r,t);var a=e.type==="application/octet-stream",s=/constructor/i.test(Gr.HTMLElement)||Gr.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&s)&&(typeof FileReader>"u"?"undefined":aa(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var p=u.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},u.readAsDataURL(e)}else{var d=Gr.URL||Gr.webkitURL,f=d.createObjectURL(e);n?n.location=f:location.href=f,n=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function qk(e){var r;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<t.length;n++){var a=t[n].re,s=t[n].process,l=a.exec(e);l&&(r=s(l),this.r=r[0],this.g=r[1],this.b=r[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+u+d+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function tv(e,r){var t=e[0],n=e[1],a=e[2],s=e[3];t=Ni(t,n,a,s,r[0],7,-680876936),s=Ni(s,t,n,a,r[1],12,-389564586),a=Ni(a,s,t,n,r[2],17,606105819),n=Ni(n,a,s,t,r[3],22,-1044525330),t=Ni(t,n,a,s,r[4],7,-176418897),s=Ni(s,t,n,a,r[5],12,1200080426),a=Ni(a,s,t,n,r[6],17,-1473231341),n=Ni(n,a,s,t,r[7],22,-45705983),t=Ni(t,n,a,s,r[8],7,1770035416),s=Ni(s,t,n,a,r[9],12,-1958414417),a=Ni(a,s,t,n,r[10],17,-42063),n=Ni(n,a,s,t,r[11],22,-1990404162),t=Ni(t,n,a,s,r[12],7,1804603682),s=Ni(s,t,n,a,r[13],12,-40341101),a=Ni(a,s,t,n,r[14],17,-1502002290),t=Si(t,n=Ni(n,a,s,t,r[15],22,1236535329),a,s,r[1],5,-165796510),s=Si(s,t,n,a,r[6],9,-1069501632),a=Si(a,s,t,n,r[11],14,643717713),n=Si(n,a,s,t,r[0],20,-373897302),t=Si(t,n,a,s,r[5],5,-701558691),s=Si(s,t,n,a,r[10],9,38016083),a=Si(a,s,t,n,r[15],14,-660478335),n=Si(n,a,s,t,r[4],20,-405537848),t=Si(t,n,a,s,r[9],5,568446438),s=Si(s,t,n,a,r[14],9,-1019803690),a=Si(a,s,t,n,r[3],14,-187363961),n=Si(n,a,s,t,r[8],20,1163531501),t=Si(t,n,a,s,r[13],5,-1444681467),s=Si(s,t,n,a,r[2],9,-51403784),a=Si(a,s,t,n,r[7],14,1735328473),t=_i(t,n=Si(n,a,s,t,r[12],20,-1926607734),a,s,r[5],4,-378558),s=_i(s,t,n,a,r[8],11,-2022574463),a=_i(a,s,t,n,r[11],16,1839030562),n=_i(n,a,s,t,r[14],23,-35309556),t=_i(t,n,a,s,r[1],4,-1530992060),s=_i(s,t,n,a,r[4],11,1272893353),a=_i(a,s,t,n,r[7],16,-155497632),n=_i(n,a,s,t,r[10],23,-1094730640),t=_i(t,n,a,s,r[13],4,681279174),s=_i(s,t,n,a,r[0],11,-358537222),a=_i(a,s,t,n,r[3],16,-722521979),n=_i(n,a,s,t,r[6],23,76029189),t=_i(t,n,a,s,r[9],4,-640364487),s=_i(s,t,n,a,r[12],11,-421815835),a=_i(a,s,t,n,r[15],16,530742520),t=Ti(t,n=_i(n,a,s,t,r[2],23,-995338651),a,s,r[0],6,-198630844),s=Ti(s,t,n,a,r[7],10,1126891415),a=Ti(a,s,t,n,r[14],15,-1416354905),n=Ti(n,a,s,t,r[5],21,-57434055),t=Ti(t,n,a,s,r[12],6,1700485571),s=Ti(s,t,n,a,r[3],10,-1894986606),a=Ti(a,s,t,n,r[10],15,-1051523),n=Ti(n,a,s,t,r[1],21,-2054922799),t=Ti(t,n,a,s,r[8],6,1873313359),s=Ti(s,t,n,a,r[15],10,-30611744),a=Ti(a,s,t,n,r[6],15,-1560198380),n=Ti(n,a,s,t,r[13],21,1309151649),t=Ti(t,n,a,s,r[4],6,-145523070),s=Ti(s,t,n,a,r[11],10,-1120210379),a=Ti(a,s,t,n,r[2],15,718787259),n=Ti(n,a,s,t,r[9],21,-343485551),e[0]=vd(t,e[0]),e[1]=vd(n,e[1]),e[2]=vd(a,e[2]),e[3]=vd(s,e[3])}function Vx(e,r,t,n,a,s){return r=vd(vd(r,e),vd(n,s)),vd(r<<a|r>>>32-a,t)}function Ni(e,r,t,n,a,s,l){return Vx(r&t|~r&n,e,r,a,s,l)}function Si(e,r,t,n,a,s,l){return Vx(r&n|t&~n,e,r,a,s,l)}function _i(e,r,t,n,a,s,l){return Vx(r^t^n,e,r,a,s,l)}function Ti(e,r,t,n,a,s,l){return Vx(t^(r|~n),e,r,a,s,l)}function Yk(e){var r,t=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=e.length;r+=64)tv(n,LI(e.substring(r-64,r)));e=e.substring(r-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(r=0;r<e.length;r++)a[r>>2]|=e.charCodeAt(r)<<(r%4<<3);if(a[r>>2]|=128<<(r%4<<3),r>55)for(tv(n,a),r=0;r<16;r++)a[r]=0;return a[14]=8*t,tv(n,a),n}function LI(e){var r,t=[];for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}Pp=Gr.atob.bind(Gr),Gv=Gr.btoa.bind(Gr);var dN="0123456789abcdef".split("");function RI(e){for(var r="",t=0;t<4;t++)r+=dN[e>>8*t+4&15]+dN[e>>8*t&15];return r}function MI(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Xv(e){return Yk(e).map(MI).join("")}var FI=function(e){for(var r=0;r<e.length;r++)e[r]=RI(e[r]);return e.join("")}(Yk("hello"))!="5d41402abc4b2a76b9719d911017c592";function vd(e,r){if(FI){var t=(65535&e)+(65535&r);return(e>>16)+(r>>16)+(t>>16)<<16|65535&t}return e+r&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Kv(e,r){var t,n,a,s;if(e!==t){for(var l=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),u=[],d=0;d<256;d++)u[d]=d;var f=0;for(d=0;d<256;d++){var p=u[d];f=(f+p+l.charCodeAt(d))%256,u[d]=u[f],u[f]=p}t=e,n=u}else u=n;var x=r.length,y=0,m=0,w="";for(d=0;d<x;d++)m=(m+(p=u[y=(y+1)%256]))%256,u[y]=u[m],u[m]=p,l=u[(u[y]+u[m])%256],w+=String.fromCharCode(r.charCodeAt(d)^l);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var fN={print:4,modify:8,copy:16,"annot-forms":32};function Lh(e,r,t,n){this.v=1,this.r=2;var a=192;e.forEach(function(u){if(fN.perm!==void 0)throw new Error("Invalid permission: "+u);a+=fN[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(r+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^a)),this.encryptionKey=Xv(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Kv(this.encryptionKey,this.padding)}function Rh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var r="",t=e.length,n=0;n<t;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?r+="#"+("0"+a.toString(16)).slice(-2):r+=e[n]}return r}function hN(e){if(aa(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var r={};this.subscribe=function(t,n,a){if(a=a||!1,typeof t!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");r.hasOwnProperty(t)||(r[t]={});var s=Math.random().toString(35);return r[t][s]=[n,!!a],s},this.unsubscribe=function(t){for(var n in r)if(r[n][t])return delete r[n][t],Object.keys(r[n]).length===0&&delete r[n],!0;return!1},this.publish=function(t){if(r.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in r[t]){var l=r[t][s];try{l[0].apply(e,n)}catch(u){Gr.console&&wa.error("jsPDF PubSub Error",u.message,u)}l[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return r}}function tm(e){if(!(this instanceof tm))return new tm(e);var r="opacity,stroke-opacity".split(",");for(var t in e)e.hasOwnProperty(t)&&r.indexOf(t)>=0&&(this[t]=e[t]);this.id="",this.objectNumber=-1}function Gk(e,r){this.gState=e,this.matrix=r,this.id="",this.objectNumber=-1}function gd(e,r,t,n,a){if(!(this instanceof gd))return new gd(e,r,t,n,a);this.type=e==="axial"?2:3,this.coords=r,this.colors=t,Gk.call(this,n,a)}function ff(e,r,t,n,a){if(!(this instanceof ff))return new ff(e,r,t,n,a);this.boundingBox=e,this.xStep=r,this.yStep=t,this.stream="",this.cloneIndex=0,Gk.call(this,n,a)}function zr(e){var r,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],l=[],u=1,d=16,f="S",p=null;aa(e=e||{})==="object"&&(t=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(r=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),f=e.defaultPathOperation||"S"),l=e.filters||(s===!0?["FlateEncode"]:l),n=n||"mm",t=(""+(t||"P")).toLowerCase();var x=e.putOnlyUsedFonts||!1,y={},m={internal:{},__private__:{}};m.__private__.PubSub=hN;var w="1.3",v=m.__private__.getPdfVersion=function(){return w};m.__private__.setPdfVersion=function(F){w=F};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return N};var S=m.__private__.getPageFormat=function(F){return N[F]};a=a||"a4";var k={COMPAT:"compat",ADVANCED:"advanced"},_=k.COMPAT;function A(){this.saveGraphicsState(),xe(new ht($t,0,0,-$t,0,ws()*$t).toString()+" cm"),this.setFontSize(this.getFontSize()/$t),f="n",_=k.ADVANCED}function R(){this.restoreGraphicsState(),f="S",_=k.COMPAT}var V=m.__private__.combineFontStyleAndFontWeight=function(F,ie){if(F=="bold"&&ie=="normal"||F=="bold"&&ie==400||F=="normal"&&ie=="italic"||F=="bold"&&ie=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ie&&(F=ie==400||ie==="normal"?F==="italic"?"italic":"normal":ie!=700&&ie!=="bold"||F!=="normal"?(ie==700?"bold":ie)+""+F:"bold"),F};m.advancedAPI=function(F){var ie=_===k.COMPAT;return ie&&A.call(this),typeof F!="function"||(F(this),ie&&R.call(this)),this},m.compatAPI=function(F){var ie=_===k.ADVANCED;return ie&&R.call(this),typeof F!="function"||(F(this),ie&&A.call(this)),this},m.isAdvancedAPI=function(){return _===k.ADVANCED};var P,I=function(F){if(_!==k.ADVANCED)throw new Error(F+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=m.roundToPrecision=m.__private__.roundToPrecision=function(F,ie){var je=r||ie;if(isNaN(F)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(je).replace(/0+$/,"")};P=m.hpf=m.__private__.hpf=typeof d=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return B(F,d)}:d==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return B(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return B(F,16)};var O=m.f2=m.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return B(F,2)},L=m.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return B(F,3)},C=m.scale=m.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return _===k.COMPAT?F*$t:_===k.ADVANCED?F:void 0},Y=function(F){return _===k.COMPAT?ws()-F:_===k.ADVANCED?F:void 0},Q=function(F){return C(Y(F))};m.__private__.setPrecision=m.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(r=parseInt(F,10))};var ce,W="00000000000000000000000000000000",J=m.__private__.getFileId=function(){return W},re=m.__private__.setFileId=function(F){return W=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(on=new Lh(p.userPermissions,p.userPassword,p.ownerPassword,W)),W};m.setFileId=function(F){return re(F),this},m.getFileId=function(){return J()};var ee=m.__private__.convertDateToPDFDate=function(F){var ie=F.getTimezoneOffset(),je=ie<0?"+":"-",Ie=Math.floor(Math.abs(ie/60)),tt=Math.abs(ie%60),Nt=[je,q(Ie),"'",q(tt),"'"].join("");return["D:",F.getFullYear(),q(F.getMonth()+1),q(F.getDate()),q(F.getHours()),q(F.getMinutes()),q(F.getSeconds()),Nt].join("")},H=m.__private__.convertPDFDateToDate=function(F){var ie=parseInt(F.substr(2,4),10),je=parseInt(F.substr(6,2),10)-1,Ie=parseInt(F.substr(8,2),10),tt=parseInt(F.substr(10,2),10),Nt=parseInt(F.substr(12,2),10),qt=parseInt(F.substr(14,2),10);return new Date(ie,je,Ie,tt,Nt,qt,0)},ne=m.__private__.setCreationDate=function(F){var ie;if(F===void 0&&(F=new Date),F instanceof Date)ie=ee(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ie=F}return ce=ie},D=m.__private__.getCreationDate=function(F){var ie=ce;return F==="jsDate"&&(ie=H(ce)),ie};m.setCreationDate=function(F){return ne(F),this},m.getCreationDate=function(F){return D(F)};var z,q=m.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},X=m.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},se=0,Se=[],fe=[],G=0,be=[],Fe=[],De=!1,lt=fe,ft=function(){se=0,G=0,fe=[],Se=[],be=[],te=Ir(),de=Ir()};m.__private__.setCustomOutputDestination=function(F){De=!0,lt=F};var Pe=function(F){De||(lt=F)};m.__private__.resetCustomOutputDestination=function(){De=!1,lt=fe};var xe=m.__private__.out=function(F){return F=F.toString(),G+=F.length+1,lt.push(F),lt},Qe=m.__private__.write=function(F){return xe(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},at=m.__private__.getArrayBuffer=function(F){for(var ie=F.length,je=new ArrayBuffer(ie),Ie=new Uint8Array(je);ie--;)Ie[ie]=F.charCodeAt(ie);return je},pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return pt};var Ze=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(F){return Ze=_===k.ADVANCED?F/$t:F,this};var ze,Ae=m.__private__.getFontSize=m.getFontSize=function(){return _===k.COMPAT?Ze:Ze*$t},vt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(F){return vt=F,this},m.__private__.getR2L=m.getR2L=function(){return vt};var gt,rr=m.__private__.setZoomMode=function(F){var ie=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(F))ze=F;else if(isNaN(F)){if(ie.indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');ze=F}else ze=parseInt(F,10)};m.__private__.getZoomMode=function(){return ze};var Wt,Qt=m.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');gt=F};m.__private__.getPageMode=function(){return gt};var cr=m.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');Wt=F};m.__private__.getLayoutMode=function(){return Wt},m.__private__.setDisplayMode=m.setDisplayMode=function(F,ie,je){return rr(F),cr(ie),Qt(je),this};var Zt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(F){if(Object.keys(Zt).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Zt[F]},m.__private__.getDocumentProperties=function(){return Zt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(F){for(var ie in Zt)Zt.hasOwnProperty(ie)&&F[ie]&&(Zt[ie]=F[ie]);return this},m.__private__.setDocumentProperty=function(F,ie){if(Object.keys(Zt).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Zt[F]=ie};var hr,$t,Mr,xr,Qr,Er={},Fr={},tn=[],et={},_e={},Be={},ve={},Ce=null,Le=0,qe=[],Tt=new hN(m),Dt=e.hotfixes||[],er={},ar={},St=[],ht=function F(ie,je,Ie,tt,Nt,qt){if(!(this instanceof F))return new F(ie,je,Ie,tt,Nt,qt);isNaN(ie)&&(ie=1),isNaN(je)&&(je=0),isNaN(Ie)&&(Ie=0),isNaN(tt)&&(tt=1),isNaN(Nt)&&(Nt=0),isNaN(qt)&&(qt=0),this._matrix=[ie,je,Ie,tt,Nt,qt]};Object.defineProperty(ht.prototype,"sx",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(ht.prototype,"shy",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(ht.prototype,"shx",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(ht.prototype,"sy",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(ht.prototype,"tx",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(ht.prototype,"ty",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(ht.prototype,"a",{get:function(){return this._matrix[0]},set:function(F){this._matrix[0]=F}}),Object.defineProperty(ht.prototype,"b",{get:function(){return this._matrix[1]},set:function(F){this._matrix[1]=F}}),Object.defineProperty(ht.prototype,"c",{get:function(){return this._matrix[2]},set:function(F){this._matrix[2]=F}}),Object.defineProperty(ht.prototype,"d",{get:function(){return this._matrix[3]},set:function(F){this._matrix[3]=F}}),Object.defineProperty(ht.prototype,"e",{get:function(){return this._matrix[4]},set:function(F){this._matrix[4]=F}}),Object.defineProperty(ht.prototype,"f",{get:function(){return this._matrix[5]},set:function(F){this._matrix[5]=F}}),Object.defineProperty(ht.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ht.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ht.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ht.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ht.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(P).join(F)},ht.prototype.multiply=function(F){var ie=F.sx*this.sx+F.shy*this.shx,je=F.sx*this.shy+F.shy*this.sy,Ie=F.shx*this.sx+F.sy*this.shx,tt=F.shx*this.shy+F.sy*this.sy,Nt=F.tx*this.sx+F.ty*this.shx+this.tx,qt=F.tx*this.shy+F.ty*this.sy+this.ty;return new ht(ie,je,Ie,tt,Nt,qt)},ht.prototype.decompose=function(){var F=this.sx,ie=this.shy,je=this.shx,Ie=this.sy,tt=this.tx,Nt=this.ty,qt=Math.sqrt(F*F+ie*ie),dr=(F/=qt)*je+(ie/=qt)*Ie;je-=F*dr,Ie-=ie*dr;var br=Math.sqrt(je*je+Ie*Ie);return dr/=br,F*(Ie/=br)<ie*(je/=br)&&(F=-F,ie=-ie,dr=-dr,qt=-qt),{scale:new ht(qt,0,0,br,0,0),translate:new ht(1,0,0,1,tt,Nt),rotate:new ht(F,ie,-ie,F,0,0),skew:new ht(1,0,dr,1,0,0)}},ht.prototype.toString=function(F){return this.join(" ")},ht.prototype.inversed=function(){var F=this.sx,ie=this.shy,je=this.shx,Ie=this.sy,tt=this.tx,Nt=this.ty,qt=1/(F*Ie-ie*je),dr=Ie*qt,br=-ie*qt,ue=-je*qt,Oe=F*qt;return new ht(dr,br,ue,Oe,-dr*tt-ue*Nt,-br*tt-Oe*Nt)},ht.prototype.applyToPoint=function(F){var ie=F.x*this.sx+F.y*this.shx+this.tx,je=F.x*this.shy+F.y*this.sy+this.ty;return new Fo(ie,je)},ht.prototype.applyToRectangle=function(F){var ie=this.applyToPoint(F),je=this.applyToPoint(new Fo(F.x+F.w,F.y+F.h));return new Kl(ie.x,ie.y,je.x-ie.x,je.y-ie.y)},ht.prototype.clone=function(){var F=this.sx,ie=this.shy,je=this.shx,Ie=this.sy,tt=this.tx,Nt=this.ty;return new ht(F,ie,je,Ie,tt,Nt)},m.Matrix=ht;var Bt=m.matrixMult=function(F,ie){return ie.multiply(F)},Kt=new ht(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Kt;var Ot=function(F,ie){if(!_e[F]){var je=(ie instanceof gd?"Sh":"P")+(Object.keys(et).length+1).toString(10);ie.id=je,_e[F]=je,et[je]=ie,Tt.publish("addPattern",ie)}};m.ShadingPattern=gd,m.TilingPattern=ff,m.addShadingPattern=function(F,ie){return I("addShadingPattern()"),Ot(F,ie),this},m.beginTilingPattern=function(F){I("beginTilingPattern()"),Ql(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},m.endTilingPattern=function(F,ie){I("endTilingPattern()"),ie.stream=Fe[z].join(`
`),Ot(F,ie),Tt.publish("endTilingPattern",ie),St.pop().restore()};var Ur=m.__private__.newObject=function(){var F=Ir();return le(F,!0),F},Ir=m.__private__.newObjectDeferred=function(){return se++,Se[se]=function(){return G},se},le=function(F,ie){return ie=typeof ie=="boolean"&&ie,Se[F]=G,ie&&xe(F+" 0 obj"),F},Te=m.__private__.newAdditionalObject=function(){var F={objId:Ir(),content:""};return be.push(F),F},te=Ir(),de=Ir(),ye=m.__private__.decodeColorString=function(F){var ie=F.split(" ");if(ie.length!==2||ie[1]!=="g"&&ie[1]!=="G")ie.length===5&&(ie[4]==="k"||ie[4]==="K")&&(ie=[(1-ie[0])*(1-ie[3]),(1-ie[1])*(1-ie[3]),(1-ie[2])*(1-ie[3]),"r"]);else{var je=parseFloat(ie[0]);ie=[je,je,je,"r"]}for(var Ie="#",tt=0;tt<3;tt++)Ie+=("0"+Math.floor(255*parseFloat(ie[tt])).toString(16)).slice(-2);return Ie},Ne=m.__private__.encodeColorString=function(F){var ie;typeof F=="string"&&(F={ch1:F});var je=F.ch1,Ie=F.ch2,tt=F.ch3,Nt=F.ch4,qt=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var dr=new qk(je);if(dr.ok)je=dr.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var br=parseInt(je.substr(1),16);je=br>>16&255,Ie=br>>8&255,tt=255&br}if(Ie===void 0||Nt===void 0&&je===Ie&&Ie===tt)if(typeof je=="string")ie=je+" "+qt[0];else switch(F.precision){case 2:ie=O(je/255)+" "+qt[0];break;case 3:default:ie=L(je/255)+" "+qt[0]}else if(Nt===void 0||aa(Nt)==="object"){if(Nt&&!isNaN(Nt.a)&&Nt.a===0)return ie=["1.","1.","1.",qt[1]].join(" ");if(typeof je=="string")ie=[je,Ie,tt,qt[1]].join(" ");else switch(F.precision){case 2:ie=[O(je/255),O(Ie/255),O(tt/255),qt[1]].join(" ");break;default:case 3:ie=[L(je/255),L(Ie/255),L(tt/255),qt[1]].join(" ")}}else if(typeof je=="string")ie=[je,Ie,tt,Nt,qt[2]].join(" ");else switch(F.precision){case 2:ie=[O(je),O(Ie),O(tt),O(Nt),qt[2]].join(" ");break;case 3:default:ie=[L(je),L(Ie),L(tt),L(Nt),qt[2]].join(" ")}return ie},Ge=m.__private__.getFilters=function(){return l},ut=m.__private__.putStream=function(F){var ie=(F=F||{}).data||"",je=F.filters||Ge(),Ie=F.alreadyAppliedFilters||[],tt=F.addLength1||!1,Nt=ie.length,qt=F.objectId,dr=function(Tr){return Tr};if(p!==null&&qt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(dr=on.encryptor(qt,0));var br={};je===!0&&(je=["FlateEncode"]);var ue=F.additionalKeyValues||[],Oe=(br=zr.API.processDataByFilters!==void 0?zr.API.processDataByFilters(ie,je):{data:ie,reverseChain:[]}).reverseChain+(Array.isArray(Ie)?Ie.join(" "):Ie.toString());if(br.data.length!==0&&(ue.push({key:"Length",value:br.data.length}),tt===!0&&ue.push({key:"Length1",value:Nt})),Oe.length!=0)if(Oe.split("/").length-1==1)ue.push({key:"Filter",value:Oe});else{ue.push({key:"Filter",value:"["+Oe+"]"});for(var Z=0;Z<ue.length;Z+=1)if(ue[Z].key==="DecodeParms"){for(var Pt=[],Me=0;Me<br.reverseChain.split("/").length-1;Me+=1)Pt.push("null");Pt.push(ue[Z].value),ue[Z].value="["+Pt.join(" ")+"]"}}xe("<<");for(var Ut=0;Ut<ue.length;Ut++)xe("/"+ue[Ut].key+" "+ue[Ut].value);xe(">>"),br.data.length!==0&&(xe("stream"),xe(dr(br.data)),xe("endstream"))},We=m.__private__.putPage=function(F){var ie=F.number,je=F.data,Ie=F.objId,tt=F.contentsObjId;le(Ie,!0),xe("<</Type /Page"),xe("/Parent "+F.rootDictionaryObjId+" 0 R"),xe("/Resources "+F.resourceDictionaryObjId+" 0 R"),xe("/MediaBox ["+parseFloat(P(F.mediaBox.bottomLeftX))+" "+parseFloat(P(F.mediaBox.bottomLeftY))+" "+P(F.mediaBox.topRightX)+" "+P(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&xe("/CropBox ["+P(F.cropBox.bottomLeftX)+" "+P(F.cropBox.bottomLeftY)+" "+P(F.cropBox.topRightX)+" "+P(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&xe("/BleedBox ["+P(F.bleedBox.bottomLeftX)+" "+P(F.bleedBox.bottomLeftY)+" "+P(F.bleedBox.topRightX)+" "+P(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&xe("/TrimBox ["+P(F.trimBox.bottomLeftX)+" "+P(F.trimBox.bottomLeftY)+" "+P(F.trimBox.topRightX)+" "+P(F.trimBox.topRightY)+"]"),F.artBox!==null&&xe("/ArtBox ["+P(F.artBox.bottomLeftX)+" "+P(F.artBox.bottomLeftY)+" "+P(F.artBox.topRightX)+" "+P(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&xe("/UserUnit "+F.userUnit),Tt.publish("putPage",{objId:Ie,pageContext:qe[ie],pageNumber:ie,page:je}),xe("/Contents "+tt+" 0 R"),xe(">>"),xe("endobj");var Nt=je.join(`
`);return _===k.ADVANCED&&(Nt+=`
Q`),le(tt,!0),ut({data:Nt,filters:Ge(),objectId:tt}),xe("endobj"),Ie},nt=m.__private__.putPages=function(){var F,ie,je=[];for(F=1;F<=Le;F++)qe[F].objId=Ir(),qe[F].contentsObjId=Ir();for(F=1;F<=Le;F++)je.push(We({number:F,data:Fe[F],objId:qe[F].objId,contentsObjId:qe[F].contentsObjId,mediaBox:qe[F].mediaBox,cropBox:qe[F].cropBox,bleedBox:qe[F].bleedBox,trimBox:qe[F].trimBox,artBox:qe[F].artBox,userUnit:qe[F].userUnit,rootDictionaryObjId:te,resourceDictionaryObjId:de}));le(te,!0),xe("<</Type /Pages");var Ie="/Kids [";for(ie=0;ie<Le;ie++)Ie+=je[ie]+" 0 R ";xe(Ie+"]"),xe("/Count "+Le),xe(">>"),xe("endobj"),Tt.publish("postPutPages")},st=function(F){Tt.publish("putFont",{font:F,out:xe,newObject:Ur,putStream:ut}),F.isAlreadyPutted!==!0&&(F.objectNumber=Ur(),xe("<<"),xe("/Type /Font"),xe("/BaseFont /"+Rh(F.postScriptName)),xe("/Subtype /Type1"),typeof F.encoding=="string"&&xe("/Encoding /"+F.encoding),xe("/FirstChar 32"),xe("/LastChar 255"),xe(">>"),xe("endobj"))},rt=function(){for(var F in Er)Er.hasOwnProperty(F)&&(x===!1||x===!0&&y.hasOwnProperty(F))&&st(Er[F])},Gt=function(F){F.objectNumber=Ur();var ie=[];ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Form"}),ie.push({key:"BBox",value:"["+[P(F.x),P(F.y),P(F.x+F.width),P(F.y+F.height)].join(" ")+"]"}),ie.push({key:"Matrix",value:"["+F.matrix.toString()+"]"});var je=F.pages[1].join(`
`);ut({data:je,additionalKeyValues:ie,objectId:F.objectNumber}),xe("endobj")},nr=function(){for(var F in er)er.hasOwnProperty(F)&&Gt(er[F])},zt=function(F,ie){var je,Ie=[],tt=1/(ie-1);for(je=0;je<1;je+=tt)Ie.push(je);if(Ie.push(1),F[0].offset!=0){var Nt={offset:0,color:F[0].color};F.unshift(Nt)}if(F[F.length-1].offset!=1){var qt={offset:1,color:F[F.length-1].color};F.push(qt)}for(var dr="",br=0,ue=0;ue<Ie.length;ue++){for(je=Ie[ue];je>F[br+1].offset;)br++;var Oe=F[br].offset,Z=(je-Oe)/(F[br+1].offset-Oe),Pt=F[br].color,Me=F[br+1].color;dr+=X(Math.round((1-Z)*Pt[0]+Z*Me[0]).toString(16))+X(Math.round((1-Z)*Pt[1]+Z*Me[1]).toString(16))+X(Math.round((1-Z)*Pt[2]+Z*Me[2]).toString(16))}return dr.trim()},tr=function(F,ie){ie||(ie=21);var je=Ur(),Ie=zt(F.colors,ie),tt=[];tt.push({key:"FunctionType",value:"0"}),tt.push({key:"Domain",value:"[0.0 1.0]"}),tt.push({key:"Size",value:"["+ie+"]"}),tt.push({key:"BitsPerSample",value:"8"}),tt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),tt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ut({data:Ie,additionalKeyValues:tt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),xe("endobj"),F.objectNumber=Ur(),xe("<< /ShadingType "+F.type),xe("/ColorSpace /DeviceRGB");var Nt="/Coords ["+P(parseFloat(F.coords[0]))+" "+P(parseFloat(F.coords[1]))+" ";F.type===2?Nt+=P(parseFloat(F.coords[2]))+" "+P(parseFloat(F.coords[3])):Nt+=P(parseFloat(F.coords[2]))+" "+P(parseFloat(F.coords[3]))+" "+P(parseFloat(F.coords[4]))+" "+P(parseFloat(F.coords[5])),xe(Nt+="]"),F.matrix&&xe("/Matrix ["+F.matrix.toString()+"]"),xe("/Function "+je+" 0 R"),xe("/Extend [true true]"),xe(">>"),xe("endobj")},Ar=function(F,ie){var je=Ir(),Ie=Ur();ie.push({resourcesOid:je,objectOid:Ie}),F.objectNumber=Ie;var tt=[];tt.push({key:"Type",value:"/Pattern"}),tt.push({key:"PatternType",value:"1"}),tt.push({key:"PaintType",value:"1"}),tt.push({key:"TilingType",value:"1"}),tt.push({key:"BBox",value:"["+F.boundingBox.map(P).join(" ")+"]"}),tt.push({key:"XStep",value:P(F.xStep)}),tt.push({key:"YStep",value:P(F.yStep)}),tt.push({key:"Resources",value:je+" 0 R"}),F.matrix&&tt.push({key:"Matrix",value:"["+F.matrix.toString()+"]"}),ut({data:F.stream,additionalKeyValues:tt,objectId:F.objectNumber}),xe("endobj")},Zr=function(F){var ie;for(ie in et)et.hasOwnProperty(ie)&&(et[ie]instanceof gd?tr(et[ie]):et[ie]instanceof ff&&Ar(et[ie],F))},wn=function(F){for(var ie in F.objectNumber=Ur(),xe("<<"),F)switch(ie){case"opacity":xe("/ca "+O(F[ie]));break;case"stroke-opacity":xe("/CA "+O(F[ie]))}xe(">>"),xe("endobj")},cn=function(){var F;for(F in Be)Be.hasOwnProperty(F)&&wn(Be[F])},Ca=function(){for(var F in xe("/XObject <<"),er)er.hasOwnProperty(F)&&er[F].objectNumber>=0&&xe("/"+F+" "+er[F].objectNumber+" 0 R");Tt.publish("putXobjectDict"),xe(">>")},Va=function(){on.oid=Ur(),xe("<<"),xe("/Filter /Standard"),xe("/V "+on.v),xe("/R "+on.r),xe("/U <"+on.toHexString(on.U)+">"),xe("/O <"+on.toHexString(on.O)+">"),xe("/P "+on.P),xe(">>"),xe("endobj")},Je=function(){for(var F in xe("/Font <<"),Er)Er.hasOwnProperty(F)&&(x===!1||x===!0&&y.hasOwnProperty(F))&&xe("/"+F+" "+Er[F].objectNumber+" 0 R");xe(">>")},At=function(){if(Object.keys(et).length>0){for(var F in xe("/Shading <<"),et)et.hasOwnProperty(F)&&et[F]instanceof gd&&et[F].objectNumber>=0&&xe("/"+F+" "+et[F].objectNumber+" 0 R");Tt.publish("putShadingPatternDict"),xe(">>")}},Xt=function(F){if(Object.keys(et).length>0){for(var ie in xe("/Pattern <<"),et)et.hasOwnProperty(ie)&&et[ie]instanceof m.TilingPattern&&et[ie].objectNumber>=0&&et[ie].objectNumber<F&&xe("/"+ie+" "+et[ie].objectNumber+" 0 R");Tt.publish("putTilingPatternDict"),xe(">>")}},Jt=function(){if(Object.keys(Be).length>0){var F;for(F in xe("/ExtGState <<"),Be)Be.hasOwnProperty(F)&&Be[F].objectNumber>=0&&xe("/"+F+" "+Be[F].objectNumber+" 0 R");Tt.publish("putGStateDict"),xe(">>")}},fr=function(F){le(F.resourcesOid,!0),xe("<<"),xe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Je(),At(),Xt(F.objectOid),Jt(),Ca(),xe(">>"),xe("endobj")},Pr=function(){var F=[];rt(),cn(),nr(),Zr(F),Tt.publish("putResources"),F.forEach(fr),fr({resourcesOid:de,objectOid:Number.MAX_SAFE_INTEGER}),Tt.publish("postPutResources")},oa=function(){Tt.publish("putAdditionalObjects");for(var F=0;F<be.length;F++){var ie=be[F];le(ie.objId,!0),xe(ie.content),xe("endobj")}Tt.publish("postPutAdditionalObjects")},ur=function(F){Fr[F.fontName]=Fr[F.fontName]||{},Fr[F.fontName][F.fontStyle]=F.id},nn=function(F,ie,je,Ie,tt){var Nt={id:"F"+(Object.keys(Er).length+1).toString(10),postScriptName:F,fontName:ie,fontStyle:je,encoding:Ie,isStandardFont:tt||!1,metadata:{}};return Tt.publish("addFont",{font:Nt,instance:this}),Er[Nt.id]=Nt,ur(Nt),Nt.id},jn=function(F){for(var ie=0,je=pt.length;ie<je;ie++){var Ie=nn.call(this,F[ie][0],F[ie][1],F[ie][2],pt[ie][3],!0);x===!1&&(y[Ie]=!0);var tt=F[ie][0].split("-");ur({id:Ie,fontName:tt[0],fontStyle:tt[1]||""})}Tt.publish("addFonts",{fonts:Er,dictionary:Fr})},wr=function(F){return F.foo=function(){try{return F.apply(this,arguments)}catch(Ie){var ie=Ie.stack||"";~ie.indexOf(" at ")&&(ie=ie.split(" at ")[1]);var je="Error in function "+ie.split(`
`)[0].split("<")[0]+": "+Ie.message;if(!Gr.console)throw new Error(je);Gr.console.error(je,Ie),Gr.alert&&alert(je)}},F.foo.bar=F,F.foo},Nr=function(F,ie){var je,Ie,tt,Nt,qt,dr,br,ue,Oe;if(tt=(ie=ie||{}).sourceEncoding||"Unicode",qt=ie.outputEncoding,(ie.autoencode||qt)&&Er[hr].metadata&&Er[hr].metadata[tt]&&Er[hr].metadata[tt].encoding&&(Nt=Er[hr].metadata[tt].encoding,!qt&&Er[hr].encoding&&(qt=Er[hr].encoding),!qt&&Nt.codePages&&(qt=Nt.codePages[0]),typeof qt=="string"&&(qt=Nt[qt]),qt)){for(br=!1,dr=[],je=0,Ie=F.length;je<Ie;je++)(ue=qt[F.charCodeAt(je)])?dr.push(String.fromCharCode(ue)):dr.push(F[je]),dr[je].charCodeAt(0)>>8&&(br=!0);F=dr.join("")}for(je=F.length;br===void 0&&je!==0;)F.charCodeAt(je-1)>>8&&(br=!0),je--;if(!br)return F;for(dr=ie.noBOM?[]:[254,255],je=0,Ie=F.length;je<Ie;je++){if((Oe=(ue=F.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+F+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");dr.push(Oe),dr.push(ue-(Oe<<8))}return String.fromCharCode.apply(void 0,dr)},Nn=m.__private__.pdfEscape=m.pdfEscape=function(F,ie){return Nr(F,ie).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Js=m.__private__.beginPage=function(F){Fe[++Le]=[],qe[Le]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},qa(Le),Pe(Fe[z])},rn=function(F,ie){var je,Ie,tt;switch(t=ie||t,typeof F=="string"&&(je=S(F.toLowerCase()),Array.isArray(je)&&(Ie=je[0],tt=je[1])),Array.isArray(F)&&(Ie=F[0]*$t,tt=F[1]*$t),isNaN(Ie)&&(Ie=a[0],tt=a[1]),(Ie>14400||tt>14400)&&(wa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ie=Math.min(14400,Ie),tt=Math.min(14400,tt)),a=[Ie,tt],t.substr(0,1)){case"l":tt>Ie&&(a=[tt,Ie]);break;case"p":Ie>tt&&(a=[tt,Ie])}Js(a),Vc(mo),xe($s),qc!==0&&xe(qc+" J"),Xl!==0&&xe(Xl+" j"),Tt.publish("addPage",{pageNumber:Le})},Da=function(F){F>0&&F<=Le&&(Fe.splice(F,1),qe.splice(F,1),Le--,z>Le&&(z=Le),this.setPage(z))},qa=function(F){F>0&&F<=Le&&(z=F)},ho=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Fe.length-1},Qs=function(F,ie,je){var Ie,tt=void 0;return je=je||{},F=F!==void 0?F:Er[hr].fontName,ie=ie!==void 0?ie:Er[hr].fontStyle,Ie=F.toLowerCase(),Fr[Ie]!==void 0&&Fr[Ie][ie]!==void 0?tt=Fr[Ie][ie]:Fr[F]!==void 0&&Fr[F][ie]!==void 0?tt=Fr[F][ie]:je.disableWarning===!1&&wa.warn("Unable to look up font label for font '"+F+"', '"+ie+"'. Refer to getFontList() for available fonts."),tt||je.noFallback||(tt=Fr.times[ie])==null&&(tt=Fr.times.normal),tt},hi=m.__private__.putInfo=function(){var F=Ur(),ie=function(Ie){return Ie};for(var je in p!==null&&(ie=on.encryptor(F,0)),xe("<<"),xe("/Producer ("+Nn(ie("jsPDF "+zr.version))+")"),Zt)Zt.hasOwnProperty(je)&&Zt[je]&&xe("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+Nn(ie(Zt[je]))+")");xe("/CreationDate ("+Nn(ie(ce))+")"),xe(">>"),xe("endobj")},pa=m.__private__.putCatalog=function(F){var ie=(F=F||{}).rootDictionaryObjId||te;switch(Ur(),xe("<<"),xe("/Type /Catalog"),xe("/Pages "+ie+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":xe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":xe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":xe("/OpenAction [3 0 R /Fit]");break;case"original":xe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+ze;je.substr(je.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&xe("/OpenAction [3 0 R /XYZ null null "+O(ze)+"]")}switch(Wt||(Wt="continuous"),Wt){case"continuous":xe("/PageLayout /OneColumn");break;case"single":xe("/PageLayout /SinglePage");break;case"two":case"twoleft":xe("/PageLayout /TwoColumnLeft");break;case"tworight":xe("/PageLayout /TwoColumnRight")}gt&&xe("/PageMode /"+gt),Tt.publish("putCatalog"),xe(">>"),xe("endobj")},Na=m.__private__.putTrailer=function(){xe("trailer"),xe("<<"),xe("/Size "+(se+1)),xe("/Root "+se+" 0 R"),xe("/Info "+(se-1)+" 0 R"),p!==null&&xe("/Encrypt "+on.oid+" 0 R"),xe("/ID [ <"+W+"> <"+W+"> ]"),xe(">>")},Bs=m.__private__.putHeader=function(){xe("%PDF-"+w),xe("%ºß¬à")},Yi=m.__private__.putXRef=function(){var F="0000000000";xe("xref"),xe("0 "+(se+1)),xe("0000000000 65535 f ");for(var ie=1;ie<=se;ie++)typeof Se[ie]=="function"?xe((F+Se[ie]()).slice(-10)+" 00000 n "):Se[ie]!==void 0?xe((F+Se[ie]).slice(-10)+" 00000 n "):xe("0000000000 00000 n ")},pi=m.__private__.buildDocument=function(){ft(),Pe(fe),Tt.publish("buildDocument"),Bs(),nt(),oa(),Pr(),p!==null&&Va(),hi(),pa();var F=G;return Yi(),Na(),xe("startxref"),xe(""+F),xe("%%EOF"),Pe(Fe[z]),fe.join(`
`)},Ds=m.__private__.getBlob=function(F){return new Blob([at(F)],{type:"application/pdf"})},Gi=m.output=m.__private__.output=wr(function(F,ie){switch(typeof(ie=ie||{})=="string"?ie={filename:ie}:ie.filename=ie.filename||"generated.pdf",F){case void 0:return pi();case"save":m.save(ie.filename);break;case"arraybuffer":return at(pi());case"blob":return Ds(pi());case"bloburi":case"bloburl":if(Gr.URL!==void 0&&typeof Gr.URL.createObjectURL=="function")return Gr.URL&&Gr.URL.createObjectURL(Ds(pi()))||void 0;wa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",Ie=pi();try{je=Gv(Ie)}catch{je=Gv(unescape(encodeURIComponent(Ie)))}return"data:application/pdf;filename="+ie.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var tt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ie.pdfObjectUrl&&(tt=ie.pdfObjectUrl,Nt="");var qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+tt+'"'+Nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ie)+");<\/script></body></html>",dr=Gr.open();return dr!==null&&dr.document.write(qt),dr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gr)==="[object Window]"){var br='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ie.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ie.filename+'" width="500px" height="400px" /></body></html>',ue=Gr.open();if(ue!==null){ue.document.write(br);var Oe=this;ue.document.documentElement.querySelector("#pdfViewer").onload=function(){ue.document.title=ie.filename,ue.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Oe.output("bloburl"))}}return ue}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Z='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ie)+'"></iframe></body></html>',Pt=Gr.open();if(Pt!==null&&(Pt.document.write(Z),Pt.document.title=ie.filename),Pt||typeof safari>"u")return Pt;break;case"datauri":case"dataurl":return Gr.document.location.href=this.output("datauristring",ie);default:return null}}),Hc=function(F){return Array.isArray(Dt)===!0&&Dt.indexOf(F)>-1};switch(n){case"pt":$t=1;break;case"mm":$t=72/25.4;break;case"cm":$t=72/2.54;break;case"in":$t=72;break;case"px":$t=Hc("px_scaling")==1?.75:96/72;break;case"pc":case"em":$t=12;break;case"ex":$t=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);$t=n}var on=null;ne(),re();var ss=function(F){return p!==null?on.encryptor(F,0):function(ie){return ie}},Xi=m.__private__.getPageInfo=m.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:qe[F].objId,pageNumber:F,pageContext:qe[F]}},Wr=m.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ie in qe)if(qe[ie].objId===F)break;return Xi(ie)},ql=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:qe[z].objId,pageNumber:z,pageContext:qe[z]}};m.addPage=function(){return rn.apply(this,arguments),this},m.setPage=function(){return qa.apply(this,arguments),Pe.call(this,Fe[z]),this},m.insertPage=function(F){return this.addPage(),this.movePage(z,F),this},m.movePage=function(F,ie){var je,Ie;if(F>ie){je=Fe[F],Ie=qe[F];for(var tt=F;tt>ie;tt--)Fe[tt]=Fe[tt-1],qe[tt]=qe[tt-1];Fe[ie]=je,qe[ie]=Ie,this.setPage(ie)}else if(F<ie){je=Fe[F],Ie=qe[F];for(var Nt=F;Nt<ie;Nt++)Fe[Nt]=Fe[Nt+1],qe[Nt]=qe[Nt+1];Fe[ie]=je,qe[ie]=Ie,this.setPage(ie)}return this},m.deletePage=function(){return Da.apply(this,arguments),this},m.__private__.text=m.text=function(F,ie,je,Ie,tt){var Nt,qt,dr,br,ue,Oe,Z,Pt,Me,Ut=(Ie=Ie||{}).scope||this;if(typeof F=="number"&&typeof ie=="number"&&(typeof je=="string"||Array.isArray(je))){var Tr=je;je=ie,ie=F,F=Tr}if(arguments[3]instanceof ht?(I("The transform parameter of text() with a Matrix value"),Me=tt):(dr=arguments[4],br=arguments[5],aa(Z=arguments[3])==="object"&&Z!==null||(typeof dr=="string"&&(br=dr,dr=null),typeof Z=="string"&&(br=Z,Z=null),typeof Z=="number"&&(dr=Z,Z=null),Ie={flags:Z,angle:dr,align:br})),isNaN(ie)||isNaN(je)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return Ut;var Xr="",Hr=!1,Jr=typeof Ie.lineHeightFactor=="number"?Ie.lineHeightFactor:Is,Un=Ut.internal.scaleFactor;function Mi(xn){return xn=xn.split("	").join(Array(Ie.TabLen||9).join(" ")),Nn(xn,Z)}function Os(xn){for(var yn,la=xn.concat(),$a=[],Zi=la.length;Zi--;)typeof(yn=la.shift())=="string"?$a.push(yn):Array.isArray(xn)&&(yn.length===1||yn[1]===void 0&&yn[2]===void 0)?$a.push(yn[0]):$a.push([yn[0],yn[1],yn[2]]);return $a}function Ls(xn,yn){var la;if(typeof xn=="string")la=yn(xn)[0];else if(Array.isArray(xn)){for(var $a,Zi,ac=xn.concat(),sc=[],hl=ac.length;hl--;)typeof($a=ac.shift())=="string"?sc.push(yn($a)[0]):Array.isArray($a)&&typeof $a[0]=="string"&&(Zi=yn($a[0],$a[1],$a[2]),sc.push([Zi[0],Zi[1],Zi[2]]));la=sc}return la}var Ia=!1,Ns=!0;if(typeof F=="string")Ia=!0;else if(Array.isArray(F)){var Ji=F.concat();qt=[];for(var Fi,ga=Ji.length;ga--;)(typeof(Fi=Ji.shift())!="string"||Array.isArray(Fi)&&typeof Fi[0]!="string")&&(Ns=!1);Ia=Ns}if(Ia===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var Rs=Ze/Ut.internal.scaleFactor,xi=Rs*(Jr-1);switch(Ie.baseline){case"bottom":je-=xi;break;case"top":je+=Rs-xi;break;case"hanging":je+=Rs-2*xi;break;case"middle":je+=Rs/2-xi}if((Oe=Ie.maxWidth||0)>0&&(typeof F=="string"?F=Ut.splitTextToSize(F,Oe):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(xn,yn){return xn.concat(Ut.splitTextToSize(yn,Oe))},[]))),Nt={text:F,x:ie,y:je,options:Ie,mutex:{pdfEscape:Nn,activeFontKey:hr,fonts:Er,activeFontSize:Ze}},Tt.publish("preProcessText",Nt),F=Nt.text,dr=(Ie=Nt.options).angle,!(Me instanceof ht)&&dr&&typeof dr=="number"){dr*=Math.PI/180,Ie.rotationDirection===0&&(dr=-dr),_===k.ADVANCED&&(dr=-dr);var Us=Math.cos(dr),Qi=Math.sin(dr);Me=new ht(Us,Qi,-Qi,Us,0,0)}else dr&&dr instanceof ht&&(Me=dr);_!==k.ADVANCED||Me||(Me=Kt),(ue=Ie.charSpace||ul)!==void 0&&(Xr+=P(C(ue))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pt=Ie.horizontalScale)!==void 0&&(Xr+=P(100*Pt)+` Tz
`),Ie.lang;var os=-1,Pi=Ie.renderingMode!==void 0?Ie.renderingMode:Ie.stroke,Ht=Ut.internal.getCurrentPageInfo().pageContext;switch(Pi){case 0:case!1:case"fill":os=0;break;case 1:case!0:case"stroke":os=1;break;case 2:case"fillThenStroke":os=2;break;case 3:case"invisible":os=3;break;case 4:case"fillAndAddForClipping":os=4;break;case 5:case"strokeAndAddPathForClipping":os=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":os=6;break;case 7:case"addToPathForClipping":os=7}var yr=Ht.usedRenderingMode!==void 0?Ht.usedRenderingMode:-1;os!==-1?Xr+=os+` Tr
`:yr!==-1&&(Xr+=`0 Tr
`),os!==-1&&(Ht.usedRenderingMode=os),br=Ie.align||"left";var bt,Yt=Ze*Jr,vr=Ut.internal.pageSize.getWidth(),$r=Er[hr];ue=Ie.charSpace||ul,Oe=Ie.maxWidth||0,Z=Object.assign({autoencode:!0,noBOM:!0},Ie.flags);var Or=[],xa=function(xn){return Ut.getStringUnitWidth(xn,{font:$r,charSpace:ue,fontSize:Ze,doKerning:!1})*Ze/Un};if(Object.prototype.toString.call(F)==="[object Array]"){var hn;qt=Os(F),br!=="left"&&(bt=qt.map(xa));var Sr,En=0;if(br==="right"){ie-=bt[0],F=[],ga=qt.length;for(var Cr=0;Cr<ga;Cr++)Cr===0?(Sr=is(ie),hn=ei(je)):(Sr=C(En-bt[Cr]),hn=-Yt),F.push([qt[Cr],Sr,hn]),En=bt[Cr]}else if(br==="center"){ie-=bt[0]/2,F=[],ga=qt.length;for(var un=0;un<ga;un++)un===0?(Sr=is(ie),hn=ei(je)):(Sr=C((En-bt[un])/2),hn=-Yt),F.push([qt[un],Sr,hn]),En=bt[un]}else if(br==="left"){F=[],ga=qt.length;for(var Sa=0;Sa<ga;Sa++)F.push(qt[Sa])}else if(br==="justify"&&$r.encoding==="Identity-H"){F=[],ga=qt.length,Oe=Oe!==0?Oe:vr;for(var ls=0,Yn=0;Yn<ga;Yn++)if(hn=Yn===0?ei(je):-Yt,Sr=Yn===0?is(ie):ls,Yn<ga-1){var Bi=C((Oe-bt[Yn])/(qt[Yn].split(" ").length-1)),Xa=qt[Yn].split(" ");F.push([Xa[0]+" ",Sr,hn]),ls=0;for(var yi=1;yi<Xa.length;yi++){var Gc=(xa(Xa[yi-1]+" "+Xa[yi])-xa(Xa[yi]))*Un+Bi;yi==Xa.length-1?F.push([Xa[yi],Gc,0]):F.push([Xa[yi]+" ",Gc,0]),ls-=Gc}}else F.push([qt[Yn],Sr,hn]);F.push(["",ls,0])}else{if(br!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(F=[],ga=qt.length,Oe=Oe!==0?Oe:vr,Yn=0;Yn<ga;Yn++)hn=Yn===0?ei(je):-Yt,Sr=Yn===0?is(ie):0,Yn<ga-1?Or.push(P(C((Oe-bt[Yn])/(qt[Yn].split(" ").length-1)))):Or.push(0),F.push([qt[Yn],Sr,hn])}}var Po=typeof Ie.R2L=="boolean"?Ie.R2L:vt;Po===!0&&(F=Ls(F,function(xn,yn,la){return[xn.split("").reverse().join(""),yn,la]})),Nt={text:F,x:ie,y:je,options:Ie,mutex:{pdfEscape:Nn,activeFontKey:hr,fonts:Er,activeFontSize:Ze}},Tt.publish("postProcessText",Nt),F=Nt.text,Hr=Nt.mutex.isHex||!1;var Pu=Er[hr].encoding;Pu!=="WinAnsiEncoding"&&Pu!=="StandardEncoding"||(F=Ls(F,function(xn,yn,la){return[Mi(xn),yn,la]})),qt=Os(F),F=[];for(var ec,tc,rc,Xc=0,Bu=1,nc=Array.isArray(qt[0])?Bu:Xc,fl="",Kc=function(xn,yn,la){var $a="";return la instanceof ht?(la=typeof Ie.angle=="number"?Bt(la,new ht(1,0,0,1,xn,yn)):Bt(new ht(1,0,0,1,xn,yn),la),_===k.ADVANCED&&(la=Bt(new ht(1,0,0,-1,0,0),la)),$a=la.join(" ")+` Tm
`):$a=P(xn)+" "+P(yn)+` Td
`,$a},La=0;La<qt.length;La++){switch(fl="",nc){case Bu:rc=(Hr?"<":"(")+qt[La][0]+(Hr?">":")"),ec=parseFloat(qt[La][1]),tc=parseFloat(qt[La][2]);break;case Xc:rc=(Hr?"<":"(")+qt[La]+(Hr?">":")"),ec=is(ie),tc=ei(je)}Or!==void 0&&Or[La]!==void 0&&(fl=Or[La]+` Tw
`),La===0?F.push(fl+Kc(ec,tc,Me)+rc):nc===Xc?F.push(fl+rc):nc===Bu&&F.push(fl+Kc(ec,tc,Me)+rc)}F=nc===Xc?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var Ii=`BT
/`;return Ii+=hr+" "+Ze+` Tf
`,Ii+=P(Ze*Jr)+` TL
`,Ii+=Mo+`
`,Ii+=Xr,Ii+=F,xe(Ii+="ET"),y[hr]=!0,Ut};var Wc=m.__private__.clip=m.clip=function(F){return xe(F==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Wc("evenodd")},m.__private__.discardPath=m.discardPath=function(){return xe("n"),this};var ma=m.__private__.isValidStyle=function(F){var ie=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(ie=!0),ie};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(F){return ma(F)&&(f=F),this};var Oa=m.__private__.getStyle=m.getStyle=function(F){var ie=f;switch(F){case"D":case"S":ie="S";break;case"F":ie="f";break;case"FD":case"DF":ie="B";break;case"f":case"f*":case"B":case"B*":ie=F}return ie},Yl=m.close=function(){return xe("h"),this};m.stroke=function(){return xe("S"),this},m.fill=function(F){return Oi("f",F),this},m.fillEvenOdd=function(F){return Oi("f*",F),this},m.fillStroke=function(F){return Oi("B",F),this},m.fillStrokeEvenOdd=function(F){return Oi("B*",F),this};var Oi=function(F,ie){aa(ie)==="object"?Li(ie,F):xe(F)},mi=function(F){F===null||_===k.ADVANCED&&F===void 0||(F=Oa(F),xe(F))};function Gl(F,ie,je,Ie,tt){var Nt=new ff(ie||this.boundingBox,je||this.xStep,Ie||this.yStep,this.gState,tt||this.matrix);Nt.stream=this.stream;var qt=F+"$$"+this.cloneIndex+++"$$";return Ot(qt,Nt),Nt}var Li=function(F,ie){var je=_e[F.key],Ie=et[je];if(Ie instanceof gd)xe("q"),xe(po(ie)),Ie.gState&&m.setGState(Ie.gState),xe(F.matrix.toString()+" cm"),xe("/"+je+" sh"),xe("Q");else if(Ie instanceof ff){var tt=new ht(1,0,0,-1,0,ws());F.matrix&&(tt=tt.multiply(F.matrix||Kt),je=Gl.call(Ie,F.key,F.boundingBox,F.xStep,F.yStep,tt).id),xe("q"),xe("/Pattern cs"),xe("/"+je+" scn"),Ie.gState&&m.setGState(Ie.gState),xe(ie),xe("Q")}},po=function(F){switch(F){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ya=m.moveTo=function(F,ie){return xe(P(C(F))+" "+P(Q(ie))+" m"),this},Zs=m.lineTo=function(F,ie){return xe(P(C(F))+" "+P(Q(ie))+" l"),this},gi=m.curveTo=function(F,ie,je,Ie,tt,Nt){return xe([P(C(F)),P(Q(ie)),P(C(je)),P(Q(Ie)),P(C(tt)),P(Q(Nt)),"c"].join(" ")),this};m.__private__.line=m.line=function(F,ie,je,Ie,tt){if(isNaN(F)||isNaN(ie)||isNaN(je)||isNaN(Ie)||!ma(tt))throw new Error("Invalid arguments passed to jsPDF.line");return _===k.COMPAT?this.lines([[je-F,Ie-ie]],F,ie,[1,1],tt||"S"):this.lines([[je-F,Ie-ie]],F,ie,[1,1]).stroke()},m.__private__.lines=m.lines=function(F,ie,je,Ie,tt,Nt){var qt,dr,br,ue,Oe,Z,Pt,Me,Ut,Tr,Xr,Hr;if(typeof F=="number"&&(Hr=je,je=ie,ie=F,F=Hr),Ie=Ie||[1,1],Nt=Nt||!1,isNaN(ie)||isNaN(je)||!Array.isArray(F)||!Array.isArray(Ie)||!ma(tt)||typeof Nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ya(ie,je),qt=Ie[0],dr=Ie[1],ue=F.length,Tr=ie,Xr=je,br=0;br<ue;br++)(Oe=F[br]).length===2?(Tr=Oe[0]*qt+Tr,Xr=Oe[1]*dr+Xr,Zs(Tr,Xr)):(Z=Oe[0]*qt+Tr,Pt=Oe[1]*dr+Xr,Me=Oe[2]*qt+Tr,Ut=Oe[3]*dr+Xr,Tr=Oe[4]*qt+Tr,Xr=Oe[5]*dr+Xr,gi(Z,Pt,Me,Ut,Tr,Xr));return Nt&&Yl(),mi(tt),this},m.path=function(F){for(var ie=0;ie<F.length;ie++){var je=F[ie],Ie=je.c;switch(je.op){case"m":Ya(Ie[0],Ie[1]);break;case"l":Zs(Ie[0],Ie[1]);break;case"c":gi.apply(this,Ie);break;case"h":Yl()}}return this},m.__private__.rect=m.rect=function(F,ie,je,Ie,tt){if(isNaN(F)||isNaN(ie)||isNaN(je)||isNaN(Ie)||!ma(tt))throw new Error("Invalid arguments passed to jsPDF.rect");return _===k.COMPAT&&(Ie=-Ie),xe([P(C(F)),P(Q(ie)),P(C(je)),P(C(Ie)),"re"].join(" ")),mi(tt),this},m.__private__.triangle=m.triangle=function(F,ie,je,Ie,tt,Nt,qt){if(isNaN(F)||isNaN(ie)||isNaN(je)||isNaN(Ie)||isNaN(tt)||isNaN(Nt)||!ma(qt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-F,Ie-ie],[tt-je,Nt-Ie],[F-tt,ie-Nt]],F,ie,[1,1],qt,!0),this},m.__private__.roundedRect=m.roundedRect=function(F,ie,je,Ie,tt,Nt,qt){if(isNaN(F)||isNaN(ie)||isNaN(je)||isNaN(Ie)||isNaN(tt)||isNaN(Nt)||!ma(qt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var dr=4/3*(Math.SQRT2-1);return tt=Math.min(tt,.5*je),Nt=Math.min(Nt,.5*Ie),this.lines([[je-2*tt,0],[tt*dr,0,tt,Nt-Nt*dr,tt,Nt],[0,Ie-2*Nt],[0,Nt*dr,-tt*dr,Nt,-tt,Nt],[2*tt-je,0],[-tt*dr,0,-tt,-Nt*dr,-tt,-Nt],[0,2*Nt-Ie],[0,-Nt*dr,tt*dr,-Nt,tt,-Nt]],F+tt,ie,[1,1],qt,!0),this},m.__private__.ellipse=m.ellipse=function(F,ie,je,Ie,tt){if(isNaN(F)||isNaN(ie)||isNaN(je)||isNaN(Ie)||!ma(tt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nt=4/3*(Math.SQRT2-1)*je,qt=4/3*(Math.SQRT2-1)*Ie;return Ya(F+je,ie),gi(F+je,ie-qt,F+Nt,ie-Ie,F,ie-Ie),gi(F-Nt,ie-Ie,F-je,ie-qt,F-je,ie),gi(F-je,ie+qt,F-Nt,ie+Ie,F,ie+Ie),gi(F+Nt,ie+Ie,F+je,ie+qt,F+je,ie),mi(tt),this},m.__private__.circle=m.circle=function(F,ie,je,Ie){if(isNaN(F)||isNaN(ie)||isNaN(je)||!ma(Ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,ie,je,je,Ie)},m.setFont=function(F,ie,je){return je&&(ie=V(ie,je)),hr=Qs(F,ie,{disableWarning:!1}),this};var ka=m.__private__.getFont=m.getFont=function(){return Er[Qs.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var F,ie,je={};for(F in Fr)if(Fr.hasOwnProperty(F))for(ie in je[F]=[],Fr[F])Fr[F].hasOwnProperty(ie)&&je[F].push(ie);return je},m.addFont=function(F,ie,je,Ie,tt){var Nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Nt.indexOf(arguments[3])!==-1?tt=arguments[3]:arguments[3]&&Nt.indexOf(arguments[3])==-1&&(je=V(je,Ie)),tt=tt||"Identity-H",nn.call(this,F,ie,je,tt)};var Is,mo=e.lineWidth||.200025,Ri=m.__private__.getLineWidth=m.getLineWidth=function(){return mo},Vc=m.__private__.setLineWidth=m.setLineWidth=function(F){return mo=F,xe(P(C(F))+" w"),this};m.__private__.setLineDash=zr.API.setLineDash=zr.API.setLineDashPattern=function(F,ie){if(F=F||[],ie=ie||0,isNaN(ie)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(je){return P(C(je))}).join(" "),ie=P(C(ie)),xe("["+F+"] "+ie+" d"),this};var ll=m.__private__.getLineHeight=m.getLineHeight=function(){return Ze*Is};m.__private__.getLineHeight=m.getLineHeight=function(){return Ze*Is};var cl=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(Is=F),this},go=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Is};cl(e.lineHeight);var is=m.__private__.getHorizontalCoordinate=function(F){return C(F)},ei=m.__private__.getVerticalCoordinate=function(F){return _===k.ADVANCED?F:qe[z].mediaBox.topRightY-qe[z].mediaBox.bottomLeftY-C(F)},Fd=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(F){return P(is(F))},xo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(F){return P(ei(F))},$s=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ye($s)},m.__private__.setStrokeColor=m.setDrawColor=function(F,ie,je,Ie){return $s=Ne({ch1:F,ch2:ie,ch3:je,ch4:Ie,pdfColorType:"draw",precision:2}),xe($s),this};var Ki=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ye(Ki)},m.__private__.setFillColor=m.setFillColor=function(F,ie,je,Ie){return Ki=Ne({ch1:F,ch2:ie,ch3:je,ch4:Ie,pdfColorType:"fill",precision:2}),xe(Ki),this};var Mo=e.textColor||"0 g",Mu=m.__private__.getTextColor=m.getTextColor=function(){return ye(Mo)};m.__private__.setTextColor=m.setTextColor=function(F,ie,je,Ie){return Mo=Ne({ch1:F,ch2:ie,ch3:je,ch4:Ie,pdfColorType:"text",precision:3}),this};var ul=e.charSpace,Fu=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ul||0)};m.__private__.setCharSpace=m.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ul=F,this};var qc=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(F){var ie=m.CapJoinStyles[F];if(ie===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qc=ie,xe(ie+" J"),this};var Xl=0;m.__private__.setLineJoin=m.setLineJoin=function(F){var ie=m.CapJoinStyles[F];if(ie===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xl=ie,xe(ie+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return xe(P(C(F))+" M"),this},m.GState=tm,m.setGState=function(F){(F=typeof F=="string"?Be[ve[F]]:Yc(null,F)).equals(Ce)||(xe("/"+F.id+" gs"),Ce=F)};var Yc=function(F,ie){if(!F||!ve[F]){var je=!1;for(var Ie in Be)if(Be.hasOwnProperty(Ie)&&Be[Ie].equals(ie)){je=!0;break}if(je)ie=Be[Ie];else{var tt="GS"+(Object.keys(Be).length+1).toString(10);Be[tt]=ie,ie.id=tt}return F&&(ve[F]=ie.id),Tt.publish("addGState",ie),ie}};m.addGState=function(F,ie){return Yc(F,ie),this},m.saveGraphicsState=function(){return xe("q"),tn.push({key:hr,size:Ze,color:Mo}),this},m.restoreGraphicsState=function(){xe("Q");var F=tn.pop();return hr=F.key,Ze=F.size,Mo=F.color,Ce=null,this},m.setCurrentTransformationMatrix=function(F){return xe(F.toString()+" cm"),this},m.comment=function(F){return xe("#"+F),this};var Fo=function(F,ie){var je=F||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(Nt){isNaN(Nt)||(je=parseFloat(Nt))}});var Ie=ie||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ie},set:function(Nt){isNaN(Nt)||(Ie=parseFloat(Nt))}});var tt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return tt},set:function(Nt){tt=Nt.toString()}}),this},Kl=function(F,ie,je,Ie){Fo.call(this,F,ie),this.type="rect";var tt=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return tt},set:function(qt){isNaN(qt)||(tt=parseFloat(qt))}});var Nt=Ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nt},set:function(qt){isNaN(qt)||(Nt=parseFloat(qt))}}),this},Jl=function(){this.page=Le,this.currentPage=z,this.pages=Fe.slice(0),this.pagesContext=qe.slice(0),this.x=Mr,this.y=xr,this.matrix=Qr,this.width=dl(z),this.height=ws(z),this.outputDestination=lt,this.id="",this.objectNumber=-1};Jl.prototype.restore=function(){Le=this.page,z=this.currentPage,qe=this.pagesContext,Fe=this.pages,Mr=this.x,xr=this.y,Qr=this.matrix,Ga(z,this.width),zs(z,this.height),lt=this.outputDestination};var Ql=function(F,ie,je,Ie,tt){St.push(new Jl),Le=z=0,Fe=[],Mr=F,xr=ie,Qr=tt,Js([je,Ie])},Pd=function(F){if(ar[F])St.pop().restore();else{var ie=new Jl,je="Xo"+(Object.keys(er).length+1).toString(10);ie.id=je,ar[F]=je,er[je]=ie,Tt.publish("addFormObject",ie),St.pop().restore()}};for(var Zl in m.beginFormObject=function(F,ie,je,Ie,tt){return Ql(F,ie,je,Ie,tt),this},m.endFormObject=function(F){return Pd(F),this},m.doFormObject=function(F,ie){var je=er[ar[F]];return xe("q"),xe(ie.toString()+" cm"),xe("/"+je.id+" Do"),xe("Q"),this},m.getFormObject=function(F){var ie=er[ar[F]];return{x:ie.x,y:ie.y,width:ie.width,height:ie.height,matrix:ie.matrix}},m.save=function(F,ie){return F=F||"generated.pdf",(ie=ie||{}).returnPromise=ie.returnPromise||!1,ie.returnPromise===!1?(sf(Ds(pi()),F),typeof sf.unload=="function"&&Gr.setTimeout&&setTimeout(sf.unload,911),this):new Promise(function(je,Ie){try{var tt=sf(Ds(pi()),F);typeof sf.unload=="function"&&Gr.setTimeout&&setTimeout(sf.unload,911),je(tt)}catch(Nt){Ie(Nt.message)}})},zr.API)zr.API.hasOwnProperty(Zl)&&(Zl==="events"&&zr.API.events.length?function(F,ie){var je,Ie,tt;for(tt=ie.length-1;tt!==-1;tt--)je=ie[tt][0],Ie=ie[tt][1],F.subscribe.apply(F,[je].concat(typeof Ie=="function"?[Ie]:Ie))}(Tt,zr.API.events):m[Zl]=zr.API[Zl]);var dl=m.getPageWidth=function(F){return(qe[F=F||z].mediaBox.topRightX-qe[F].mediaBox.bottomLeftX)/$t},Ga=m.setPageWidth=function(F,ie){qe[F].mediaBox.topRightX=ie*$t+qe[F].mediaBox.bottomLeftX},ws=m.getPageHeight=function(F){return(qe[F=F||z].mediaBox.topRightY-qe[F].mediaBox.bottomLeftY)/$t},zs=m.setPageHeight=function(F,ie){qe[F].mediaBox.topRightY=ie*$t+qe[F].mediaBox.bottomLeftY};return m.internal={pdfEscape:Nn,getStyle:Oa,getFont:ka,getFontSize:Ae,getCharSpace:Fu,getTextColor:Mu,getLineHeight:ll,getLineHeightFactor:go,getLineWidth:Ri,write:Qe,getHorizontalCoordinate:is,getVerticalCoordinate:ei,getCoordinateString:Fd,getVerticalCoordinateString:xo,collections:{},newObject:Ur,newAdditionalObject:Te,newObjectDeferred:Ir,newObjectDeferredBegin:le,getFilters:Ge,putStream:ut,events:Tt,scaleFactor:$t,pageSize:{getWidth:function(){return dl(z)},setWidth:function(F){Ga(z,F)},getHeight:function(){return ws(z)},setHeight:function(F){zs(z,F)}},encryptionOptions:p,encryption:on,getEncryptor:ss,output:Gi,getNumberOfPages:ho,pages:Fe,out:xe,f2:O,f3:L,getPageInfo:Xi,getPageInfoByObjId:Wr,getCurrentPageInfo:ql,getPDFVersion:v,Point:Fo,Rectangle:Kl,Matrix:ht,hasHotfix:Hc},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return dl(z)},set:function(F){Ga(z,F)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return ws(z)},set:function(F){zs(z,F)},enumerable:!0,configurable:!0}),jn.call(m,pt),hr="F1",rn(a,t),Tt.publish("initialized"),m}Lh.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Lh.prototype.toHexString=function(e){return e.split("").map(function(r){return("0"+(255&r.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Lh.prototype.hexToBytes=function(e){for(var r=[],t=0;t<e.length;t+=2)r.push(String.fromCharCode(parseInt(e.substr(t,2),16)));return r.join("")},Lh.prototype.processOwnerPassword=function(e,r){return Kv(Xv(r).substr(0,5),e)},Lh.prototype.encryptor=function(e,r){var t=Xv(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&r,r>>8&255)).substr(0,10);return function(n){return Kv(t,n)}},tm.prototype.equals=function(e){var r,t="id,objectNumber,equals";if(!e||aa(e)!==aa(this))return!1;var n=0;for(r in this)if(!(t.indexOf(r)>=0)){if(this.hasOwnProperty(r)&&!e.hasOwnProperty(r)||this[r]!==e[r])return!1;n++}for(r in e)e.hasOwnProperty(r)&&t.indexOf(r)<0&&n--;return n===0},zr.API={events:[]},zr.version="2.5.2";var ts=zr.API,ow=1,Uf=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},an=function(e){return e.toFixed(2)},hd=function(e){return e.toFixed(5)};ts.__acroform__={};var fo=function(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e},pN=function(e){return e*ow},Sc=function(e){var r=new Kk,t=_r.internal.getHeight(e)||0,n=_r.internal.getWidth(e)||0;return r.BBox=[0,0,Number(an(n)),Number(an(t))],r},PI=ts.__acroform__.setBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<r},BI=ts.__acroform__.clearBit=function(e,r){if(e=e||0,r=r||0,isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<r)},II=ts.__acroform__.getBit=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<r)==0?0:1},ps=ts.__acroform__.getBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return II(e,r-1)},ms=ts.__acroform__.setBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return PI(e,r-1)},gs=ts.__acroform__.clearBitForPdf=function(e,r){if(isNaN(e)||isNaN(r))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return BI(e,r-1)},$I=ts.__acroform__.calculateCoordinates=function(e,r){var t=r.internal.getHorizontalCoordinate,n=r.internal.getVerticalCoordinate,a=e[0],s=e[1],l=e[2],u=e[3],d={};return d.lowerLeft_X=t(a)||0,d.lowerLeft_Y=n(s+u)||0,d.upperRight_X=t(a+l)||0,d.upperRight_Y=n(s)||0,[Number(an(d.lowerLeft_X)),Number(an(d.lowerLeft_Y)),Number(an(d.upperRight_X)),Number(an(d.upperRight_Y))]},zI=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var r=[],t=e._V||e.DV,n=Jv(e,t),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;r.push("/Tx BMC"),r.push("q"),r.push("BT"),r.push(e.scope.__private__.encodeColorString(e.color)),r.push("/"+a+" "+an(n.fontSize)+" Tf"),r.push("1 0 0 1 0 0 Tm"),r.push(n.text),r.push("ET"),r.push("Q"),r.push("EMC");var s=Sc(e);return s.scope=e.scope,s.stream=r.join(`
`),s}},Jv=function(e,r){var t=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(r=(r=r.substr(0,1)=="("?r.substr(1):r).substr(r.length-1)==")"?r.substr(0,r.length-1):r).split(" ");a=e.multiline?a.map(function(L){return L.split(`
`)}):a.map(function(L){return[L]});var s=t,l=_r.internal.getHeight(e)||0;l=l<0?-l:l;var u=_r.internal.getWidth(e)||0;u=u<0?-u:u;var d=function(L,C,Y){if(L+1<a.length){var Q=C+" "+a[L+1][0];return Kg(Q,e,Y).width<=u-4}return!1};s++;e:for(;s>0;){r="",s--;var f,p,x=Kg("3",e,s).height,y=e.multiline?l-s:(l-x)/2,m=y+=2,w=0,v=0,N=0;if(s<=0){r=`(...) Tj
`,r+="% Width of Text: "+Kg(r,e,s=12).width+", FieldWidth:"+u+`
`;break}for(var S="",k=0,_=0;_<a.length;_++)if(a.hasOwnProperty(_)){var A=!1;if(a[_].length!==1&&N!==a[_].length-1){if((x+2)*(k+2)+2>l)continue e;S+=a[_][N],A=!0,v=_,_--}else{S=(S+=a[_][N]+" ").substr(S.length-1)==" "?S.substr(0,S.length-1):S;var R=parseInt(_),V=d(R,S,s),P=_>=a.length-1;if(V&&!P){S+=" ",N=0;continue}if(V||P){if(P)v=R;else if(e.multiline&&(x+2)*(k+2)+2>l)continue e}else{if(!e.multiline||(x+2)*(k+2)+2>l)continue e;v=R}}for(var I="",B=w;B<=v;B++){var O=a[B];if(e.multiline){if(B===v){I+=O[N]+" ",N=(N+1)%O.length;continue}if(B===w){I+=O[O.length-1]+" ";continue}}I+=O[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,p=Kg(I,e,s).width,e.textAlign){case"right":f=u-p-2;break;case"center":f=(u-p)/2;break;case"left":default:f=2}r+=an(f)+" "+an(m)+` Td
`,r+="("+Uf(I)+`) Tj
`,r+=-an(f)+` 0 Td
`,m=-(s+2),p=0,w=A?v:v+1,k++,S=""}break}return n.text=r,n.fontSize=s,n},Kg=function(e,r,t){var n=r.scope.internal.getFont(r.fontName,r.fontStyle),a=r.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:r.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:a}},UI={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},HI=function(e,r){var t={type:"reference",object:e};r.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&r.internal.getPageInfo(e.page).pageContext.annotations.push(t)},WI=function(e,r){for(var t in e)if(e.hasOwnProperty(t)){var n=t,a=e[t];r.internal.newObjectDeferredBegin(a.objId,!0),aa(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},VI=function(e,r){if(r.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Ul.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(UI)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ow=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Jk,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&HI(s,t)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(t){(function(n,a){var s=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var u=n[l],d=[],f=u.Rect;if(u.Rect&&(u.Rect=$I(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=_r.createDefaultAppearanceStream(u),aa(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var p=zI(u);d.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(u.appearanceStreamContent){var x="";for(var y in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(y)){var m=u.appearanceStreamContent[y];if(x+="/"+y+" ",x+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var l in m)if(m.hasOwnProperty(l)){var w=m[l];typeof w=="function"&&(w=w.call(a,u)),x+="/"+l+" "+w+" ",a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w)}}else typeof(w=m)=="function"&&(w=w.call(a,u)),x+="/"+l+" "+w,a.internal.acroformPlugin.xForms.indexOf(w)>=0||a.internal.acroformPlugin.xForms.push(w);x+=">>"}d.push({key:"AP",value:`<<
`+x+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:u.objId}),a.internal.out("endobj")}s&&WI(a.internal.acroformPlugin.xForms,a)})(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},Xk=ts.__acroform__.arrayToPdfArray=function(e,r,t){var n=function(l){return l};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),aa(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(r!==void 0&&t&&(n=t.internal.getEncryptor(r)),a+="("+Uf(n(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rv=function(e,r,t){var n=function(a){return a};return r!==void 0&&t&&(n=t.internal.getEncryptor(r)),(e=e||"").toString(),e="("+Uf(n(e))+")"},Dc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Dc.prototype.toString=function(){return this.objId+" 0 R"},Dc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Dc.prototype.getKeyValueListForStream=function(){var e=[],r=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in r)if(Object.getOwnPropertyDescriptor(this,r[t]).configurable===!1){var n=r[t],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Xk(a,this.objId,this.scope)}):a instanceof Dc?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Kk=function(){Dc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,r=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};fo(Kk,Dc);var Jk=function(){Dc.call(this);var e,r=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return r.length>0?r:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return r}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Uf(t(e))+")"}},set:function(t){e=t}})};fo(Jk,Dc);var Ul=function e(){Dc.call(this);var r=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return r},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute F supplied.');r=S}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ps(r,3)},set:function(S){S?this.F=ms(r,3):this.F=gs(r,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(S){if(isNaN(S))throw new Error('Invalid value "'+S+'" for attribute Ff supplied.');t=S}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(S){n=S!==void 0?S:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(S){n[0]=S}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(S){n[1]=S}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(S){n[2]=S}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(S){n[3]=S}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(S){switch(S){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=S;break;default:throw new Error('Invalid value "'+S+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ox)return;s="FieldObject"+e.FieldNum++}var S=function(k){return k};return this.scope&&(S=this.scope.internal.getEncryptor(this.objId)),"("+Uf(S(s))+")"},set:function(S){s=S.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(S){s=S}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(S){l=S}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(S){u=S}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(S){d=S}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/ow:f},set:function(S){f=S}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(S){p=S}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof ox||this instanceof Nd))return rv(x,this.objId,this.scope)},set:function(S){S=S.toString(),x=S}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ps?y:rv(y,this.objId,this.scope)},set:function(S){S=S.toString(),y=this instanceof Ps?S:S.substr(0,1)==="("?Sh(S.substr(1,S.length-2)):Sh(S)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ps?Sh(y.substr(1,y.length-1)):y},set:function(S){S=S.toString(),y=this instanceof Ps?"/"+S:S}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(S){this.V=S}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ps?m:rv(m,this.objId,this.scope)},set:function(S){S=S.toString(),m=this instanceof Ps?S:S.substr(0,1)==="("?Sh(S.substr(1,S.length-2)):Sh(S)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ps?Sh(m.substr(1,m.length-1)):m},set:function(S){S=S.toString(),m=this instanceof Ps?"/"+S:S}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(S){S=!!S,v=S}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(S){w=S}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,1)},set:function(S){S?this.Ff=ms(this.Ff,1):this.Ff=gs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,2)},set:function(S){S?this.Ff=ms(this.Ff,2):this.Ff=gs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,3)},set:function(S){S?this.Ff=ms(this.Ff,3):this.Ff=gs(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(S){if([0,1,2].indexOf(S)===-1)throw new Error('Invalid value "'+S+'" for attribute Q supplied.');N=S}}),Object.defineProperty(this,"textAlign",{get:function(){var S;switch(N){case 0:default:S="left";break;case 1:S="center";break;case 2:S="right"}return S},configurable:!0,enumerable:!0,set:function(S){switch(S){case"right":case 2:N=2;break;case"center":case 1:N=1;break;case"left":case 0:default:N=0}}})};fo(Ul,Dc);var yf=function(){Ul.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var r=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Xk(r,this.objId,this.scope)},set:function(t){var n,a;a=[],typeof(n=t)=="string"&&(a=function(s,l,u){u||(u=1);for(var d,f=[];d=l.exec(s);)f.push(d[u]);return f}(n,/\((.*?)\)/g)),r=a}}),this.getOptions=function(){return r},this.setOptions=function(t){r=t,this.sort&&r.sort()},this.addOption=function(t){t=(t=t||"").toString(),r.push(t),this.sort&&r.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();r.indexOf(t)!==-1&&(r.splice(r.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,18)},set:function(t){t?this.Ff=ms(this.Ff,18):this.Ff=gs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=ms(this.Ff,19):this.Ff=gs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,20)},set:function(t){t?(this.Ff=ms(this.Ff,20),r.sort()):this.Ff=gs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,22)},set:function(t){t?this.Ff=ms(this.Ff,22):this.Ff=gs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,23)},set:function(t){t?this.Ff=ms(this.Ff,23):this.Ff=gs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,27)},set:function(t){t?this.Ff=ms(this.Ff,27):this.Ff=gs(this.Ff,27)}}),this.hasAppearanceStream=!1};fo(yf,Ul);var vf=function(){yf.call(this),this.fontName="helvetica",this.combo=!1};fo(vf,yf);var bf=function(){vf.call(this),this.combo=!0};fo(bf,vf);var Bp=function(){bf.call(this),this.edit=!0};fo(Bp,bf);var Ps=function(){Ul.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,15)},set:function(t){t?this.Ff=ms(this.Ff,15):this.Ff=gs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,16)},set:function(t){t?this.Ff=ms(this.Ff,16):this.Ff=gs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,17)},set:function(t){t?this.Ff=ms(this.Ff,17):this.Ff=gs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,26)},set:function(t){t?this.Ff=ms(this.Ff,26):this.Ff=gs(this.Ff,26)}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(r).length!==0){var n,a=[];for(n in a.push("<<"),r)a.push("/"+n+" ("+Uf(t(r[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(t){aa(t)==="object"&&(r=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(t){typeof t=="string"&&(r.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};fo(Ps,Ul);var Ip=function(){Ps.call(this),this.pushButton=!0};fo(Ip,Ps);var wf=function(){Ps.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r!==void 0?r:[]}})};fo(wf,Ps);var ox=function(){var e,r;Ul.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return r},set:function(a){r=a}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),n)l.push("/"+s+" ("+Uf(a(n[s]))+")");return l.push(">>"),l.join(`
`)},set:function(a){aa(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(a){t="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_r.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fo(ox,Ul),wf.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var r in this.Kids)if(this.Kids.hasOwnProperty(r)){var t=this.Kids[r];t.appearanceStreamContent=e.createAppearanceStream(t.optionName),t.caption=e.getCA()}},wf.prototype.createOption=function(e){var r=new ox;return r.Parent=this,r.optionName=e,this.Kids.push(r),qI.call(this.scope,r),r};var $p=function(){Ps.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_r.CheckBox.createAppearanceStream()};fo($p,Ps);var Nd=function(){Ul.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,13)},set:function(r){r?this.Ff=ms(this.Ff,13):this.Ff=gs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,21)},set:function(r){r?this.Ff=ms(this.Ff,21):this.Ff=gs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,23)},set:function(r){r?this.Ff=ms(this.Ff,23):this.Ff=gs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,24)},set:function(r){r?this.Ff=ms(this.Ff,24):this.Ff=gs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,25)},set:function(r){r?this.Ff=ms(this.Ff,25):this.Ff=gs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,26)},set:function(r){r?this.Ff=ms(this.Ff,26):this.Ff=gs(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){Number.isInteger(r)&&(e=r)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fo(Nd,Ul);var zp=function(){Nd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ps(this.Ff,14)},set:function(e){e?this.Ff=ms(this.Ff,14):this.Ff=gs(this.Ff,14)}}),this.password=!0};fo(zp,Nd);var _r={CheckBox:{createAppearanceStream:function(){return{N:{On:_r.CheckBox.YesNormal},D:{On:_r.CheckBox.YesPushDown,Off:_r.CheckBox.OffPushDown}}},YesPushDown:function(e){var r=Sc(e);r.scope=e.scope;var t=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=Jv(e,e.caption);return t.push("0.749023 g"),t.push("0 0 "+an(_r.internal.getWidth(e))+" "+an(_r.internal.getHeight(e))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+an(s.fontSize)+" Tf "+a),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),r.stream=t.join(`
`),r},YesNormal:function(e){var r=Sc(e);r.scope=e.scope;var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=_r.internal.getHeight(e),l=_r.internal.getWidth(e),u=Jv(e,e.caption);return a.push("1 g"),a.push("0 0 "+an(l)+" "+an(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+an(l-1)+" "+an(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+t+" "+an(u.fontSize)+" Tf "+n),a.push(u.text),a.push("ET"),a.push("Q"),r.stream=a.join(`
`),r},OffPushDown:function(e){var r=Sc(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(_r.internal.getWidth(e))+" "+an(_r.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}},RadioButton:{Circle:{createAppearanceStream:function(e){var r={D:{Off:_r.RadioButton.Circle.OffPushDown},N:{}};return r.N[e]=_r.RadioButton.Circle.YesNormal,r.D[e]=_r.RadioButton.Circle.YesPushDown,r},getCA:function(){return"l"},YesNormal:function(e){var r=Sc(e);r.scope=e.scope;var t=[],n=_r.internal.getWidth(e)<=_r.internal.getHeight(e)?_r.internal.getWidth(e)/4:_r.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=_r.internal.Bezier_C,s=Number((n*a).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+hd(_r.internal.getWidth(e)/2)+" "+hd(_r.internal.getHeight(e)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=Sc(e);r.scope=e.scope;var t=[],n=_r.internal.getWidth(e)<=_r.internal.getHeight(e)?_r.internal.getWidth(e)/4:_r.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*_r.internal.Bezier_C).toFixed(5)),l=Number((n*_r.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+hd(_r.internal.getWidth(e)/2)+" "+hd(_r.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+hd(_r.internal.getWidth(e)/2)+" "+hd(_r.internal.getHeight(e)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),t.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),t.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),t.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r},OffPushDown:function(e){var r=Sc(e);r.scope=e.scope;var t=[],n=_r.internal.getWidth(e)<=_r.internal.getHeight(e)?_r.internal.getWidth(e)/4:_r.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*_r.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+hd(_r.internal.getWidth(e)/2)+" "+hd(_r.internal.getHeight(e)/2)+" cm"),t.push(a+" 0 m"),t.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),t.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),t.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),t.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),t.push("f"),t.push("Q"),r.stream=t.join(`
`),r}},Cross:{createAppearanceStream:function(e){var r={D:{Off:_r.RadioButton.Cross.OffPushDown},N:{}};return r.N[e]=_r.RadioButton.Cross.YesNormal,r.D[e]=_r.RadioButton.Cross.YesPushDown,r},getCA:function(){return"8"},YesNormal:function(e){var r=Sc(e);r.scope=e.scope;var t=[],n=_r.internal.calculateCross(e);return t.push("q"),t.push("1 1 "+an(_r.internal.getWidth(e)-2)+" "+an(_r.internal.getHeight(e)-2)+" re"),t.push("W"),t.push("n"),t.push(an(n.x1.x)+" "+an(n.x1.y)+" m"),t.push(an(n.x2.x)+" "+an(n.x2.y)+" l"),t.push(an(n.x4.x)+" "+an(n.x4.y)+" m"),t.push(an(n.x3.x)+" "+an(n.x3.y)+" l"),t.push("s"),t.push("Q"),r.stream=t.join(`
`),r},YesPushDown:function(e){var r=Sc(e);r.scope=e.scope;var t=_r.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+an(_r.internal.getWidth(e))+" "+an(_r.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+an(_r.internal.getWidth(e)-2)+" "+an(_r.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(an(t.x1.x)+" "+an(t.x1.y)+" m"),n.push(an(t.x2.x)+" "+an(t.x2.y)+" l"),n.push(an(t.x4.x)+" "+an(t.x4.y)+" m"),n.push(an(t.x3.x)+" "+an(t.x3.y)+" l"),n.push("s"),n.push("Q"),r.stream=n.join(`
`),r},OffPushDown:function(e){var r=Sc(e);r.scope=e.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+an(_r.internal.getWidth(e))+" "+an(_r.internal.getHeight(e))+" re"),t.push("f"),r.stream=t.join(`
`),r}}},createDefaultAppearanceStream:function(e){var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,t=e.scope.__private__.encodeColorString(e.color);return"/"+r+" "+e.fontSize+" Tf "+t}};_r.internal={Bezier_C:.551915024494,calculateCross:function(e){var r=_r.internal.getWidth(e),t=_r.internal.getHeight(e),n=Math.min(r,t);return{x1:{x:(r-n)/2,y:(t-n)/2+n},x2:{x:(r-n)/2+n,y:(t-n)/2},x3:{x:(r-n)/2,y:(t-n)/2},x4:{x:(r-n)/2+n,y:(t-n)/2+n}}}},_r.internal.getWidth=function(e){var r=0;return aa(e)==="object"&&(r=pN(e.Rect[2])),r},_r.internal.getHeight=function(e){var r=0;return aa(e)==="object"&&(r=pN(e.Rect[3])),r};var qI=ts.addField=function(e){if(VI(this,e),!(e instanceof Ul))throw new Error("Invalid argument passed to jsPDF.addField.");var r;return(r=e).scope.internal.acroformPlugin.printedOut&&(r.scope.internal.acroformPlugin.printedOut=!1,r.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),r.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(r),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ts.AcroFormChoiceField=yf,ts.AcroFormListBox=vf,ts.AcroFormComboBox=bf,ts.AcroFormEditBox=Bp,ts.AcroFormButton=Ps,ts.AcroFormPushButton=Ip,ts.AcroFormRadioButton=wf,ts.AcroFormCheckBox=$p,ts.AcroFormTextField=Nd,ts.AcroFormPasswordField=zp,ts.AcroFormAppearance=_r,ts.AcroForm={ChoiceField:yf,ListBox:vf,ComboBox:bf,EditBox:Bp,Button:Ps,PushButton:Ip,RadioButton:wf,CheckBox:$p,TextField:Nd,PasswordField:zp,Appearance:_r},zr.AcroForm={ChoiceField:yf,ListBox:vf,ComboBox:bf,EditBox:Bp,Button:Ps,PushButton:Ip,RadioButton:wf,CheckBox:$p,TextField:Nd,PasswordField:zp,Appearance:_r};var YI=zr.AcroForm;function Qk(e){return e.reduce(function(r,t,n){return r[t]=n,r},{})}(function(e){e.__addimage__={};var r="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(L,C){var Y,Q,ce,W,J,re=r;if((C=C||r)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(V(L))for(J in t)for(ce=t[J],Y=0;Y<ce.length;Y+=1){for(W=!0,Q=0;Q<ce[Y].length;Q+=1)if(ce[Y][Q]!==void 0&&ce[Y][Q]!==L[Q]){W=!1;break}if(W===!0){re=J;break}}else for(J in t)for(ce=t[J],Y=0;Y<ce.length;Y+=1){for(W=!0,Q=0;Q<ce[Y].length;Q+=1)if(ce[Y][Q]!==void 0&&ce[Y][Q]!==L.charCodeAt(Q)){W=!1;break}if(W===!0){re=J;break}}return re===r&&C!==r&&(re=C),re},a=function L(C){for(var Y=this.internal.write,Q=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:C.width}),W.push({key:"Height",value:C.height}),C.colorSpace===N.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===N.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var J="",re=0,ee=C.transparency.length;re<ee;re++)J+=C.transparency[re]+" "+C.transparency[re]+" ";W.push({key:"Mask",value:"["+J+"]"})}C.sMask!==void 0&&W.push({key:"SMask",value:C.objectId+1+" 0 R"});var H=C.filter!==void 0?["/"+C.filter]:void 0;if(Q({data:C.data,additionalKeyValues:W,alreadyAppliedFilters:H,objectId:C.objectId}),Y("endobj"),"sMask"in C&&C.sMask!==void 0){var ne="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,D={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:ne,data:C.sMask};"filter"in C&&(D.filter=C.filter),L.call(this,D)}if(C.colorSpace===N.INDEXED){var z=this.internal.newObject();Q({data:I(new Uint8Array(C.palette)),objectId:z}),Y("endobj")}},s=function(){var L=this.internal.collections.addImage_images;for(var C in L)a.call(this,L[C])},l=function(){var L,C=this.internal.collections.addImage_images,Y=this.internal.write;for(var Q in C)Y("/I"+(L=C[Q]).index,L.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var L=this.internal.collections.addImage_images;return u.call(this),L},f=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(L){return typeof e["process"+L.toUpperCase()]=="function"},x=function(L){return aa(L)==="object"&&L.nodeType===1},y=function(L,C){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var Y=""+L.getAttribute("src");if(Y.indexOf("data:image/")===0)return Pp(unescape(Y).split("base64,").pop());var Q=e.loadFile(Y,!0);if(Q!==void 0)return Q}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var ce;switch(C){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return Pp(L.toDataURL(ce,1).split("base64,").pop())}},m=function(L){var C=this.internal.collections.addImage_images;if(C){for(var Y in C)if(L===C[Y].alias)return C[Y]}},w=function(L,C,Y){return L||C||(L=-96,C=-96),L<0&&(L=-1*Y.width*72/L/this.internal.scaleFactor),C<0&&(C=-1*Y.height*72/C/this.internal.scaleFactor),L===0&&(L=C*Y.width/Y.height),C===0&&(C=L*Y.height/Y.width),[L,C]},v=function(L,C,Y,Q,ce,W){var J=w.call(this,Y,Q,ce),re=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,H=d.call(this);if(Y=J[0],Q=J[1],H[ce.index]=ce,W){W*=Math.PI/180;var ne=Math.cos(W),D=Math.sin(W),z=function(X){return X.toFixed(4)},q=[z(ne),z(D),z(-1*D),z(ne),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,re(L),ee(C+Q),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([re(Y),"0","0",re(Q),"0","0","cm"].join(" "))):this.internal.write([re(Y),"0","0",re(Q),re(L),ee(C+Q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},N=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var S=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},k=e.__addimage__.sHashCode=function(L){var C,Y,Q=0;if(typeof L=="string")for(Y=L.length,C=0;C<Y;C++)Q=(Q<<5)-Q+L.charCodeAt(C),Q|=0;else if(V(L))for(Y=L.byteLength/2,C=0;C<Y;C++)Q=(Q<<5)-Q+L[C],Q|=0;return Q},_=e.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var C=!0;return L.length===0&&(C=!1),L.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(C=!1),C},A=e.__addimage__.extractImageFromDataUrl=function(L){var C=(L=L||"").split("base64,"),Y=null;if(C.length===2){var Q=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(C[0]);Array.isArray(Q)&&(Y={mimeType:Q[1],charset:Q[2],data:C[1]})}return Y},R=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(L){return R()&&L instanceof ArrayBuffer};var V=e.__addimage__.isArrayBufferView=function(L){return R()&&typeof Uint32Array<"u"&&(L instanceof Int8Array||L instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array)},P=e.__addimage__.binaryStringToUint8Array=function(L){for(var C=L.length,Y=new Uint8Array(C),Q=0;Q<C;Q++)Y[Q]=L.charCodeAt(Q);return Y},I=e.__addimage__.arrayBufferToBinaryString=function(L){for(var C="",Y=V(L)?L:new Uint8Array(L),Q=0;Q<Y.length;Q+=8192)C+=String.fromCharCode.apply(null,Y.subarray(Q,Q+8192));return C};e.addImage=function(){var L,C,Y,Q,ce,W,J,re,ee;if(typeof arguments[1]=="number"?(C=r,Y=arguments[1],Q=arguments[2],ce=arguments[3],W=arguments[4],J=arguments[5],re=arguments[6],ee=arguments[7]):(C=arguments[1],Y=arguments[2],Q=arguments[3],ce=arguments[4],W=arguments[5],J=arguments[6],re=arguments[7],ee=arguments[8]),aa(L=arguments[0])==="object"&&!x(L)&&"imageData"in L){var H=L;L=H.imageData,C=H.format||C||r,Y=H.x||Y||0,Q=H.y||Q||0,ce=H.w||H.width||ce,W=H.h||H.height||W,J=H.alias||J,re=H.compression||re,ee=H.rotation||H.angle||ee}var ne=this.internal.getFilters();if(re===void 0&&ne.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(Y)||isNaN(Q))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var D=B.call(this,L,C,J,re);return v.call(this,Y,Q,ce,W,D,ee),this};var B=function(L,C,Y,Q){var ce,W,J;if(typeof L=="string"&&n(L)===r){L=unescape(L);var re=O(L,!1);(re!==""||(re=e.loadFile(L,!0))!==void 0)&&(L=re)}if(x(L)&&(L=y(L,C)),C=n(L,C),!p(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((J=Y)==null||J.length===0)&&(Y=function(ee){return typeof ee=="string"||V(ee)?k(ee):V(ee.data)?k(ee.data):null}(L)),(ce=m.call(this,Y))||(R()&&(L instanceof Uint8Array||C==="RGBA"||(W=L,L=P(L))),ce=this["process"+C.toUpperCase()](L,f.call(this),Y,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in e.image_compression?ee:S.NONE}(Q),W)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},O=e.__addimage__.convertBase64ToBinaryString=function(L,C){var Y;C=typeof C!="boolean"||C;var Q,ce="";if(typeof L=="string"){Q=(Y=A(L))!==null?Y.data:L;try{ce=Pp(Q)}catch(W){if(C)throw _(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};e.getImageProperties=function(L){var C,Y,Q="";if(x(L)&&(L=y(L)),typeof L=="string"&&n(L)===r&&((Q=O(L,!1))===""&&(Q=e.loadFile(L)||""),L=Q),Y=n(L),!p(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(!R()||L instanceof Uint8Array||(L=P(L)),!(C=this["process"+Y.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=Y,C}})(zr.API),function(e){var r=function(t){if(t!==void 0&&t!="")return!0};zr.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(t){for(var n,a,s,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,p=!1,x=0;x<f.length&&!p;x++)switch((n=f[x]).type){case"link":(r(n.options.url)||r(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){n=f[y];var m=this.internal.pdfEscape,w=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),S=this.internal.getEncryptor(v.objId),k=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+m(S(n.contents))+")",s+=" /Popup "+N.objId+" 0 R",s+=" /P "+d.objId+" 0 R",s+=" /T ("+m(S(k))+") >>",v.content=s;var _=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(s+=" /Open true"),s+=" >>",N.content=s,this.internal.write(v.objId,"0 R",N.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+u(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(w(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var R=this.annotations._nameMap[n.options.name];n.options.pageNumber=R.page,n.options.top=R.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var V=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+V+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},e.link=function(t,n,a,s,l){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(t),y:f(n),w:d(t+a),h:f(n+s)},options:l,type:"link"})},e.textWithLink=function(t,n,a,s){var l,u,d=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var p=this.splitTextToSize(t,u).length;l=Math.ceil(f*p)}else u=d,l=f;return this.text(t,n,a,s),a+=.2*f,s.align==="center"&&(n-=d/2),s.align==="right"&&(n-=d),this.link(n,a-f,u,l,s),d},e.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(zr.API),function(e){var r={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(v){return r[v.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},u=e.__arabicParser__.isArabicEndLetter=function(v){return l(v)&&s(v)&&r[v.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(v){return l(v)&&a.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return l(v)&&s(v)&&r[v.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return l(v)&&s(v)&&r[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return l(v)&&s(v)&&r[v.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return l(v)&&s(v)&&r[v.charCodeAt(0)].length==4},x=e.__arabicParser__.resolveLigatures=function(v){var N=0,S=t,k="",_=0;for(N=0;N<v.length;N+=1)S[v.charCodeAt(N)]!==void 0?(_++,typeof(S=S[v.charCodeAt(N)])=="number"&&(k+=String.fromCharCode(S),S=t,_=0),N===v.length-1&&(S=t,k+=v.charAt(N-(_-1)),N-=_-1,_=0)):(S=t,k+=v.charAt(N-_),N-=_,_=0);return k};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var y=e.__arabicParser__.getCorrectForm=function(v,N,S){return l(v)?s(v)===!1?-1:!f(v)||!l(N)&&!l(S)||!l(S)&&u(N)||u(v)&&!l(N)||u(v)&&d(N)||u(v)&&u(N)?0:p(v)&&l(N)&&!u(N)&&l(S)&&f(S)?3:u(v)||!l(S)?1:2:-1},m=function(v){var N=0,S=0,k=0,_="",A="",R="",V=(v=v||"").split("\\s+"),P=[];for(N=0;N<V.length;N+=1){for(P.push(""),S=0;S<V[N].length;S+=1)_=V[N][S],A=V[N][S-1],R=V[N][S+1],l(_)?(k=y(_,A,R),P[N]+=k!==-1?String.fromCharCode(r[_.charCodeAt(0)][k]):_):P[N]+=_;P[N]=x(P[N])}return P.join(" ")},w=e.__arabicParser__.processArabic=e.processArabic=function(){var v,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,S=[];if(Array.isArray(N)){var k=0;for(S=[],k=0;k<N.length;k+=1)Array.isArray(N[k])?S.push([m(N[k][0]),N[k][1],N[k][2]]):S.push([m(N[k])]);v=S}else v=m(N);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",w])}(zr.API),zr.API.autoPrint=function(e){var r;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+r+" 0 R")})}return this},function(e){var r=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};r.prototype.getContext=function(t,n){var a;if((t=t||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},r.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new r,this.canvas.pdf=this}])}(zr.API),function(e){var r={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},r),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(v){y=v}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(v){w=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,f){n.call(this);var p=(f=f||{}).fontSize||this.getFontSize(),x=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,m=0,w=0,v=0,N=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var S=f.maxWidth;S>0?typeof d=="string"?d=this.splitTextToSize(d,S):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(_,A){return _.concat(N.splitTextToSize(A,S))},[])):d=Array.isArray(d)?d:[d];for(var k=0;k<d.length;k++)m<(v=this.getStringUnitWidth(d[k],{font:x})*p)&&(m=v);return m!==0&&(w=d.length),{w:m/=y,h:Math.max((w*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||r;return this.internal.__cell__.lastCell=new s(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var d;d=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var f=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,x=this.internal.__cell__.margins||r,y=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=x.top,m&&y&&(this.printHeaderRow(d.lineNumber,!0),d.y+=y[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};e.table=function(d,f,p,x,y){if(n.call(this),!p)throw new Error("No data for PDF table.");var m,w,v,N,S=[],k=[],_=[],A={},R={},V=[],P=[],I=(y=y||{}).autoSize||!1,B=y.printHeaders!==!1,O=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,L=y.margins||Object.assign({width:this.getPageWidth()},r),C=typeof y.padding=="number"?y.padding:3,Y=y.headerBackgroundColor||"#c8c8c8",Q=y.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=B,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=Q,this.setFontSize(O),x==null)k=S=Object.keys(p[0]),_=S.map(function(){return"left"});else if(Array.isArray(x)&&aa(x[0])==="object")for(S=x.map(function(H){return H.name}),k=x.map(function(H){return H.prompt||H.name||""}),_=x.map(function(H){return H.align||"left"}),m=0;m<x.length;m+=1)R[x[m].name]=x[m].width*(19.049976/25.4);else Array.isArray(x)&&typeof x[0]=="string"&&(k=S=x,_=S.map(function(){return"left"}));if(I||Array.isArray(x)&&typeof x[0]=="string")for(m=0;m<S.length;m+=1){for(A[N=S[m]]=p.map(function(H){return H[N]}),this.setFont(void 0,"bold"),V.push(this.getTextDimensions(k[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=A[N],this.setFont(void 0,"normal"),v=0;v<w.length;v+=1)V.push(this.getTextDimensions(w[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[N]=Math.max.apply(null,V)+C+C,V=[]}if(B){var ce={};for(m=0;m<S.length;m+=1)ce[S[m]]={},ce[S[m]].text=k[m],ce[S[m]].align=_[m];var W=u.call(this,ce,R);P=S.map(function(H){return new s(d,f,R[H],W,ce[H].text,void 0,ce[H].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var J=x.reduce(function(H,ne){return H[ne.name]=ne.align,H},{});for(m=0;m<p.length;m+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:m,data:p[m]},this);var re=u.call(this,p[m],R);for(v=0;v<S.length;v+=1){var ee=p[m][S[v]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:m,col:v,data:ee},this),l.call(this,new s(d,f,R[S[v]],re,ee,m+2,J[S[v]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var u=function(d,f){var p=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(d).map(function(m){var w=d[m];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,f[m]-p-p)},this).map(function(m){return this.getLineHeightFactor()*m.length*x/y+p+p},this).reduce(function(m,w){return Math.max(m,w)},0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){p=this.internal.__cell__.tableHeaderRow[m].clone(),f&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=d;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(w)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),t=!1}}(zr.API);var Zk={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},e6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Qv=Qk(e6),t6=[100,200,300,400,500,600,700,800,900],GI=Qk(t6);function Zv(e){var r=e.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return Zk[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(s){return typeof Qv[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:r,style:t,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:r,style:[a,t,n].join(" ")}}}function mN(e,r,t,n){var a;for(a=t;a>=0&&a<r.length;a+=n)if(e[r[a]])return e[r[a]];for(a=t;a>=0&&a<r.length;a-=n)if(e[r[a]])return e[r[a]]}var XI={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gN={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function xN(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function KI(e,r,t){for(var n=(t=t||{}).defaultFontFamily||"times",a=Object.assign({},XI,t.genericFontFamilies||{}),s=null,l=null,u=0;u<r.length;++u)if(a[(s=Zv(r[u])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){l=e[s.family];break}if(!(l=l||e[n]))throw new Error("Could not find a font-family for the rule '"+xN(s)+"' and default family '"+n+"'.");if(l=function(d,f){if(f[d])return f[d];var p=Qv[d],x=p<=Qv.normal?-1:1,y=mN(f,e6,p,x);if(!y)throw new Error("Could not find a matching font-stretch value for "+d);return y}(s.stretch,l),l=function(d,f){if(f[d])return f[d];for(var p=Zk[d],x=0;x<p.length;++x)if(f[p[x]])return f[p[x]];throw new Error("Could not find a matching font-style for "+d)}(s.style,l),!(l=function(d,f){if(f[d])return f[d];if(d===400&&f[500])return f[500];if(d===500&&f[400])return f[400];var p=GI[d],x=mN(f,t6,p,d<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+d);return x}(s.weight,l)))throw new Error("Failed to resolve a font for the rule '"+xN(s)+"'.");return l}function yN(e){return e.trimLeft()}function JI(e,r){for(var t=0;t<e.length;){if(e.charAt(t)===r)return[e.substring(0,t),e.substring(t+1)];t+=1}return null}function QI(e){var r=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return r===null?null:[r[0],e.substring(r[0].length)]}var Jg,vN,bN,nv=["times"];(function(e){var r,t,n,a,s,l,u,d,f,p=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new d,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new l,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new l,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new x(this),r=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,f=new p}]);var x=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=D;Object.defineProperty(this,"pdf",{get:function(){return z}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Pe){q=!!Pe}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(Pe){X=!!Pe}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Pe){isNaN(Pe)||(se=Pe)}});var Se=0;Object.defineProperty(this,"posY",{get:function(){return Se},set:function(Pe){isNaN(Pe)||(Se=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Pe){var xe;typeof Pe=="number"?xe=[Pe,Pe,Pe,Pe]:((xe=new Array(4))[0]=Pe[0],xe[1]=Pe.length>=2?Pe[1]:xe[0],xe[2]=Pe.length>=3?Pe[2]:xe[0],xe[3]=Pe.length>=4?Pe[3]:xe[1]),f.margin=xe}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(Pe){fe=Pe}});var G=0;Object.defineProperty(this,"lastBreak",{get:function(){return G},set:function(Pe){G=Pe}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(Pe){be=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Pe){Pe instanceof p&&(f=Pe)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Pe){f.path=Pe}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(Pe){Fe=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var xe;xe=y(Pe),this.ctx.fillStyle=xe.style,this.ctx.isFillTransparent=xe.a===0,this.ctx.fillOpacity=xe.a,this.pdf.setFillColor(xe.r,xe.g,xe.b,{a:xe.a}),this.pdf.setTextColor(xe.r,xe.g,xe.b,{a:xe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var xe=y(Pe);this.ctx.strokeStyle=xe.style,this.ctx.isStrokeTransparent=xe.a===0,this.ctx.strokeOpacity=xe.a,xe.a===0?this.pdf.setDrawColor(255,255,255):(xe.a,this.pdf.setDrawColor(xe.r,xe.g,xe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var De=null;function lt(Pe,xe){if(De===null){var Qe=function(at){var pt=[];return Object.keys(at).forEach(function(Ze){at[Ze].forEach(function(ze){var Ae=null;switch(ze){case"bold":Ae={family:Ze,weight:"bold"};break;case"italic":Ae={family:Ze,style:"italic"};break;case"bolditalic":Ae={family:Ze,weight:"bold",style:"italic"};break;case"":case"normal":Ae={family:Ze}}Ae!==null&&(Ae.ref={name:Ze,style:ze},pt.push(Ae))})}),pt}(Pe.getFontList());De=function(at){for(var pt={},Ze=0;Ze<at.length;++Ze){var ze=Zv(at[Ze]),Ae=ze.family,vt=ze.stretch,gt=ze.style,rr=ze.weight;pt[Ae]=pt[Ae]||{},pt[Ae][vt]=pt[Ae][vt]||{},pt[Ae][vt][gt]=pt[Ae][vt][gt]||{},pt[Ae][vt][gt][rr]=ze}return pt}(Qe.concat(xe))}return De}var ft=null;Object.defineProperty(this,"fontFaces",{get:function(){return ft},set:function(Pe){De=null,ft=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var xe;if(this.ctx.font=Pe,(xe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var Qe=xe[1],at=(xe[2],xe[3]),pt=xe[4],Ze=(xe[5],xe[6]),ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pt)[2];pt=Math.floor(ze==="px"?parseFloat(pt)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(pt)*this.pdf.getFontSize():parseFloat(pt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pt);var Ae=function(Zt){var hr,$t,Mr=[],xr=Zt.trim();if(xr==="")return nv;if(xr in gN)return[gN[xr]];for(;xr!=="";){switch($t=null,hr=(xr=yN(xr)).charAt(0)){case'"':case"'":$t=JI(xr.substring(1),hr);break;default:$t=QI(xr)}if($t===null||(Mr.push($t[0]),(xr=yN($t[1]))!==""&&xr.charAt(0)!==","))return nv;xr=xr.replace(/^,/,"")}return Mr}(Ze);if(this.fontFaces){var vt=KI(lt(this.pdf,this.fontFaces),Ae.map(function(Zt){return{family:Zt,stretch:"normal",weight:at,style:Qe}}));this.pdf.setFont(vt.ref.name,vt.ref.style)}else{var gt="";(at==="bold"||parseInt(at,10)>=700||Qe==="bold")&&(gt="bold"),Qe==="italic"&&(gt+="italic"),gt.length===0&&(gt="normal");for(var rr="",Wt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Qt=0;Qt<Ae.length;Qt++){if(this.pdf.internal.getFont(Ae[Qt],gt,{noFallback:!0,disableWarning:!0})!==void 0){rr=Ae[Qt];break}if(gt==="bolditalic"&&this.pdf.internal.getFont(Ae[Qt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)rr=Ae[Qt],gt="bold";else if(this.pdf.internal.getFont(Ae[Qt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){rr=Ae[Qt],gt="normal";break}}if(rr===""){for(var cr=0;cr<Ae.length;cr++)if(Wt[Ae[cr]]){rr=Wt[Ae[cr]];break}}rr=rr===""?"Times":rr,this.pdf.setFont(rr,gt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};x.prototype.setLineDash=function(D){this.lineDash=D},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){A.call(this,"fill",!1)},x.prototype.stroke=function(){A.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(D,z){if(isNaN(D)||isNaN(z))throw wa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new l(D,z));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(D,z)},x.prototype.closePath=function(){var D=new l(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&aa(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){D=new l(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(D.x,D.y)},x.prototype.lineTo=function(D,z){if(isNaN(D)||isNaN(z))throw wa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new l(D,z));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new l(q.x,q.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},x.prototype.quadraticCurveTo=function(D,z,q,X){if(isNaN(q)||isNaN(X)||isNaN(D)||isNaN(z))throw wa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new l(q,X)),Se=this.ctx.transform.applyToPoint(new l(D,z));this.path.push({type:"qct",x1:Se.x,y1:Se.y,x:se.x,y:se.y}),this.ctx.lastPoint=new l(se.x,se.y)},x.prototype.bezierCurveTo=function(D,z,q,X,se,Se){if(isNaN(se)||isNaN(Se)||isNaN(D)||isNaN(z)||isNaN(q)||isNaN(X))throw wa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new l(se,Se)),G=this.ctx.transform.applyToPoint(new l(D,z)),be=this.ctx.transform.applyToPoint(new l(q,X));this.path.push({type:"bct",x1:G.x,y1:G.y,x2:be.x,y2:be.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new l(fe.x,fe.y)},x.prototype.arc=function(D,z,q,X,se,Se){if(isNaN(D)||isNaN(z)||isNaN(q)||isNaN(X)||isNaN(se))throw wa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Se=!!Se,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new l(D,z));D=fe.x,z=fe.y;var G=this.ctx.transform.applyToPoint(new l(0,q)),be=this.ctx.transform.applyToPoint(new l(0,0));q=Math.sqrt(Math.pow(G.x-be.x,2)+Math.pow(G.y-be.y,2))}Math.abs(se-X)>=2*Math.PI&&(X=0,se=2*Math.PI),this.path.push({type:"arc",x:D,y:z,radius:q,startAngle:X,endAngle:se,counterclockwise:Se})},x.prototype.arcTo=function(D,z,q,X,se){throw new Error("arcTo not implemented.")},x.prototype.rect=function(D,z,q,X){if(isNaN(D)||isNaN(z)||isNaN(q)||isNaN(X))throw wa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,z),this.lineTo(D+q,z),this.lineTo(D+q,z+X),this.lineTo(D,z+X),this.lineTo(D,z),this.lineTo(D+q,z),this.lineTo(D,z)},x.prototype.fillRect=function(D,z,q,X){if(isNaN(D)||isNaN(z)||isNaN(q)||isNaN(X))throw wa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,z,q,X),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},x.prototype.strokeRect=function(D,z,q,X){if(isNaN(D)||isNaN(z)||isNaN(q)||isNaN(X))throw wa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(D,z,q,X),this.stroke())},x.prototype.clearRect=function(D,z,q,X){if(isNaN(D)||isNaN(z)||isNaN(q)||isNaN(X))throw wa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,z,q,X))},x.prototype.save=function(D){D=typeof D!="boolean"||D;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},x.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(D){var z,q,X,se;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))z=0,q=0,X=0,se=0;else{var Se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(Se!==null)z=parseInt(Se[1]),q=parseInt(Se[2]),X=parseInt(Se[3]),se=1;else if((Se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)z=parseInt(Se[1]),q=parseInt(Se[2]),X=parseInt(Se[3]),se=parseFloat(Se[4]);else{if(se=1,typeof D=="string"&&D.charAt(0)!=="#"){var fe=new qk(D);D=fe.ok?fe.toHex():"#000000"}D.length===4?(z=D.substring(1,2),z+=z,q=D.substring(2,3),q+=q,X=D.substring(3,4),X+=X):(z=D.substring(1,3),q=D.substring(3,5),X=D.substring(5,7)),z=parseInt(z,16),q=parseInt(q,16),X=parseInt(X,16)}}return{r:z,g:q,b:X,a:se,style:D}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(D,z,q,X){if(isNaN(z)||isNaN(q)||typeof D!="string")throw wa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!m.call(this)){var se=re(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;C.call(this,{text:D,x:z,y:q,scale:Se,angle:se,align:this.textAlign,maxWidth:X})}},x.prototype.strokeText=function(D,z,q,X){if(isNaN(z)||isNaN(q)||typeof D!="string")throw wa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){X=isNaN(X)?void 0:X;var se=re(this.ctx.transform.rotation),Se=this.ctx.transform.scaleX;C.call(this,{text:D,x:z,y:q,scale:Se,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:X})}},x.prototype.measureText=function(D){if(typeof D!="string")throw wa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,q=this.pdf.internal.scaleFactor,X=z.internal.getFontSize(),se=z.getStringUnitWidth(D)*X/z.internal.scaleFactor,Se=function(fe){var G=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return G}}),this};return new Se({width:se*=Math.round(96*q/72*1e4)/1e4})},x.prototype.scale=function(D,z){if(isNaN(D)||isNaN(z))throw wa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new d(D,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},x.prototype.rotate=function(D){if(isNaN(D))throw wa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new d(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},x.prototype.translate=function(D,z){if(isNaN(D)||isNaN(z))throw wa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new d(1,0,0,1,D,z);this.ctx.transform=this.ctx.transform.multiply(q)},x.prototype.transform=function(D,z,q,X,se,Se){if(isNaN(D)||isNaN(z)||isNaN(q)||isNaN(X)||isNaN(se)||isNaN(Se))throw wa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new d(D,z,q,X,se,Se);this.ctx.transform=this.ctx.transform.multiply(fe)},x.prototype.setTransform=function(D,z,q,X,se,Se){D=isNaN(D)?1:D,z=isNaN(z)?0:z,q=isNaN(q)?0:q,X=isNaN(X)?1:X,se=isNaN(se)?0:se,Se=isNaN(Se)?0:Se,this.ctx.transform=new d(D,z,q,X,se,Se)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(D,z,q,X,se,Se,fe,G,be){var Fe=this.pdf.getImageProperties(D),De=1,lt=1,ft=1,Pe=1;X!==void 0&&G!==void 0&&(ft=G/X,Pe=be/se,De=Fe.width/X*G/X,lt=Fe.height/se*be/se),Se===void 0&&(Se=z,fe=q,z=0,q=0),X!==void 0&&G===void 0&&(G=X,be=se),X===void 0&&G===void 0&&(G=Fe.width,be=Fe.height);for(var xe,Qe=this.ctx.transform.decompose(),at=re(Qe.rotate.shx),pt=new d,Ze=(pt=(pt=(pt=pt.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new u(Se-z*ft,fe-q*Pe,X*De,se*lt)),ze=N.call(this,Ze),Ae=[],vt=0;vt<ze.length;vt+=1)Ae.indexOf(ze[vt])===-1&&Ae.push(ze[vt]);if(_(Ae),this.autoPaging)for(var gt=Ae[0],rr=Ae[Ae.length-1],Wt=gt;Wt<rr+1;Wt++){this.pdf.setPage(Wt);var Qt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],cr=Wt===1?this.posY+this.margin[0]:this.margin[0],Zt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],hr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$t=Wt===1?0:Zt+(Wt-2)*hr;if(this.ctx.clip_path.length!==0){var Mr=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(xe,this.posX+this.margin[3],-$t+cr+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=Mr}var xr=JSON.parse(JSON.stringify(Ze));xr=k([xr],this.posX+this.margin[3],-$t+cr+this.ctx.prevPageLastElemOffset)[0];var Qr=(Wt>gt||Wt<rr)&&v.call(this);Qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qt,hr,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",xr.x,xr.y,xr.w,xr.h,null,null,at),Qr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(D,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,at)};var N=function(D,z,q){var X=[];z=z||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":X.push(Math.floor((D.y+se)/q)+1);break;case"arc":X.push(Math.floor((D.y+se-D.radius)/q)+1),X.push(Math.floor((D.y+se+D.radius)/q)+1);break;case"qct":var Se=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);X.push(Math.floor((Se.y+se)/q)+1),X.push(Math.floor((Se.y+Se.h+se)/q)+1);break;case"bct":var fe=H(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);X.push(Math.floor((fe.y+se)/q)+1),X.push(Math.floor((fe.y+fe.h+se)/q)+1);break;case"rect":X.push(Math.floor((D.y+se)/q)+1),X.push(Math.floor((D.y+D.h+se)/q)+1)}for(var G=0;G<X.length;G+=1)for(;this.pdf.internal.getNumberOfPages()<X[G];)S.call(this);return X},S=function(){var D=this.fillStyle,z=this.strokeStyle,q=this.font,X=this.lineCap,se=this.lineWidth,Se=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=z,this.font=q,this.lineCap=X,this.lineWidth=se,this.lineJoin=Se},k=function(D,z,q){for(var X=0;X<D.length;X++)switch(D[X].type){case"bct":D[X].x2+=z,D[X].y2+=q;case"qct":D[X].x1+=z,D[X].y1+=q;case"mt":case"lt":case"arc":default:D[X].x+=z,D[X].y+=q}return D},_=function(D){return D.sort(function(z,q){return z-q})},A=function(D,z){for(var q,X,se=this.fillStyle,Se=this.strokeStyle,fe=this.lineCap,G=this.lineWidth,be=Math.abs(G*this.ctx.transform.scaleX),Fe=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),ft=[],Pe=0;Pe<lt.length;Pe++)if(lt[Pe].x!==void 0)for(var xe=N.call(this,lt[Pe]),Qe=0;Qe<xe.length;Qe+=1)ft.indexOf(xe[Qe])===-1&&ft.push(xe[Qe]);for(var at=0;at<ft.length;at++)for(;this.pdf.internal.getNumberOfPages()<ft[at];)S.call(this);if(_(ft),this.autoPaging)for(var pt=ft[0],Ze=ft[ft.length-1],ze=pt;ze<Ze+1;ze++){this.pdf.setPage(ze),this.fillStyle=se,this.strokeStyle=Se,this.lineCap=fe,this.lineWidth=be,this.lineJoin=Fe;var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],vt=ze===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Wt=ze===1?0:gt+(ze-2)*rr;if(this.ctx.clip_path.length!==0){var Qt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(q,this.posX+this.margin[3],-Wt+vt+this.ctx.prevPageLastElemOffset),R.call(this,D,!0),this.path=Qt}if(X=JSON.parse(JSON.stringify(De)),this.path=k(X,this.posX+this.margin[3],-Wt+vt+this.ctx.prevPageLastElemOffset),z===!1||ze===0){var cr=(ze>pt||ze<Ze)&&v.call(this);cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,rr,null).clip().discardPath()),R.call(this,D,z),cr&&this.pdf.restoreGraphicsState()}this.lineWidth=G}else this.lineWidth=be,R.call(this,D,z),this.lineWidth=G;this.path=De},R=function(D,z){if((D!=="stroke"||z||!w.call(this))&&(D==="stroke"||z||!m.call(this))){for(var q,X,se=[],Se=this.path,fe=0;fe<Se.length;fe++){var G=Se[fe];switch(G.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:G,deltas:[],abs:[]});break;case"lt":var be=se.length;if(Se[fe-1]&&!isNaN(Se[fe-1].x)&&(q=[G.x-Se[fe-1].x,G.y-Se[fe-1].y],be>0)){for(;be>=0;be--)if(se[be-1].close!==!0&&se[be-1].begin!==!0){se[be-1].deltas.push(q),se[be-1].abs.push(G);break}}break;case"bct":q=[G.x1-Se[fe-1].x,G.y1-Se[fe-1].y,G.x2-Se[fe-1].x,G.y2-Se[fe-1].y,G.x-Se[fe-1].x,G.y-Se[fe-1].y],se[se.length-1].deltas.push(q);break;case"qct":var Fe=Se[fe-1].x+2/3*(G.x1-Se[fe-1].x),De=Se[fe-1].y+2/3*(G.y1-Se[fe-1].y),lt=G.x+2/3*(G.x1-G.x),ft=G.y+2/3*(G.y1-G.y),Pe=G.x,xe=G.y;q=[Fe-Se[fe-1].x,De-Se[fe-1].y,lt-Se[fe-1].x,ft-Se[fe-1].y,Pe-Se[fe-1].x,xe-Se[fe-1].y],se[se.length-1].deltas.push(q);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(G)}}X=z?null:D==="stroke"?"stroke":"fill";for(var Qe=!1,at=0;at<se.length;at++)if(se[at].arc)for(var pt=se[at].abs,Ze=0;Ze<pt.length;Ze++){var ze=pt[Ze];ze.type==="arc"?I.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,z,!Qe):Y.call(this,ze.x,ze.y),Qe=!0}else if(se[at].close===!0)this.pdf.internal.out("h"),Qe=!1;else if(se[at].begin!==!0){var Ae=se[at].start.x,vt=se[at].start.y;Q.call(this,se[at].deltas,Ae,vt),Qe=!0}X&&B.call(this,X),z&&O.call(this)}},V=function(D){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-q;case"top":return D+z-q;case"hanging":return D+z-2*q;case"middle":return D+z/2-q;case"ideographic":return D;case"alphabetic":default:return D}},P=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(z,q){this.colorStops.push([z,q])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(D,z,q,X,se,Se,fe,G,be){for(var Fe=W.call(this,q,X,se,Se),De=0;De<Fe.length;De++){var lt=Fe[De];De===0&&(be?L.call(this,lt.x1+D,lt.y1+z):Y.call(this,lt.x1+D,lt.y1+z)),ce.call(this,D,z,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}G?O.call(this):B.call(this,fe)},B=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(D,z){this.pdf.internal.out(t(D)+" "+n(z)+" m")},C=function(D){var z;switch(D.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var q=this.pdf.getTextDimensions(D.text),X=V.call(this,D.y),se=P.call(this,X)-q.h,Se=this.ctx.transform.applyToPoint(new l(D.x,X)),fe=this.ctx.transform.decompose(),G=new d;G=(G=(G=G.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var be,Fe,De,lt=this.ctx.transform.applyToRectangle(new u(D.x,X,q.w,q.h)),ft=G.applyToRectangle(new u(D.x,se,q.w,q.h)),Pe=N.call(this,ft),xe=[],Qe=0;Qe<Pe.length;Qe+=1)xe.indexOf(Pe[Qe])===-1&&xe.push(Pe[Qe]);if(_(xe),this.autoPaging)for(var at=xe[0],pt=xe[xe.length-1],Ze=at;Ze<pt+1;Ze++){this.pdf.setPage(Ze);var ze=Ze===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[2],gt=vt-this.margin[0],rr=this.pdf.internal.pageSize.width-this.margin[1],Wt=rr-this.margin[3],Qt=Ze===1?0:Ae+(Ze-2)*gt;if(this.ctx.clip_path.length!==0){var cr=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(be,this.posX+this.margin[3],-1*Qt+ze),R.call(this,"fill",!0),this.path=cr}var Zt=k([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-Qt+ze+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*D.scale),De=this.lineWidth,this.lineWidth=De*D.scale);var hr=this.autoPaging!=="text";if(hr||Zt.y+Zt.h<=vt){if(hr||Zt.y>=ze&&Zt.x<=rr){var $t=hr?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||rr-Zt.x)[0],Mr=k([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-Qt+ze+this.ctx.prevPageLastElemOffset)[0],xr=hr&&(Ze>at||Ze<pt)&&v.call(this);xr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wt,gt,null).clip().discardPath()),this.pdf.text($t,Mr.x,Mr.y,{angle:D.angle,align:z,renderingMode:D.renderingMode}),xr&&this.pdf.restoreGraphicsState()}}else Zt.y<vt&&(this.ctx.prevPageLastElemOffset+=vt-Zt.y);D.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=De)}else D.scale>=.01&&(Fe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Fe*D.scale),De=this.lineWidth,this.lineWidth=De*D.scale),this.pdf.text(D.text,Se.x+this.posX,Se.y+this.posY,{angle:D.angle,align:z,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(Fe),this.lineWidth=De)},Y=function(D,z,q,X){q=q||0,X=X||0,this.pdf.internal.out(t(D+q)+" "+n(z+X)+" l")},Q=function(D,z,q){return this.pdf.lines(D,z,q,null,null)},ce=function(D,z,q,X,se,Se,fe,G){this.pdf.internal.out([r(a(q+D)),r(s(X+z)),r(a(se+D)),r(s(Se+z)),r(a(fe+D)),r(s(G+z)),"c"].join(" "))},W=function(D,z,q,X){for(var se=2*Math.PI,Se=Math.PI/2;z>q;)z-=se;var fe=Math.abs(q-z);fe<se&&X&&(fe=se-fe);for(var G=[],be=X?-1:1,Fe=z;fe>1e-5;){var De=Fe+be*Math.min(fe,Se);G.push(J.call(this,D,Fe,De)),fe-=Math.abs(De-Fe),Fe=De}return G},J=function(D,z,q){var X=(q-z)/2,se=D*Math.cos(X),Se=D*Math.sin(X),fe=se,G=-Se,be=fe*fe+G*G,Fe=be+fe*se+G*Se,De=4/3*(Math.sqrt(2*be*Fe)-Fe)/(fe*Se-G*se),lt=fe-De*G,ft=G+De*fe,Pe=lt,xe=-ft,Qe=X+z,at=Math.cos(Qe),pt=Math.sin(Qe);return{x1:D*Math.cos(z),y1:D*Math.sin(z),x2:lt*at-ft*pt,y2:lt*pt+ft*at,x3:Pe*at-xe*pt,y3:Pe*pt+xe*at,x4:D*Math.cos(q),y4:D*Math.sin(q)}},re=function(D){return 180*D/Math.PI},ee=function(D,z,q,X,se,Se){var fe=D+.5*(q-D),G=z+.5*(X-z),be=se+.5*(q-se),Fe=Se+.5*(X-Se),De=Math.min(D,se,fe,be),lt=Math.max(D,se,fe,be),ft=Math.min(z,Se,G,Fe),Pe=Math.max(z,Se,G,Fe);return new u(De,ft,lt-De,Pe-ft)},H=function(D,z,q,X,se,Se,fe,G){var be,Fe,De,lt,ft,Pe,xe,Qe,at,pt,Ze,ze,Ae,vt,gt=q-D,rr=X-z,Wt=se-q,Qt=Se-X,cr=fe-se,Zt=G-Se;for(Fe=0;Fe<41;Fe++)at=(xe=(De=D+(be=Fe/40)*gt)+be*((ft=q+be*Wt)-De))+be*(ft+be*(se+be*cr-ft)-xe),pt=(Qe=(lt=z+be*rr)+be*((Pe=X+be*Qt)-lt))+be*(Pe+be*(Se+be*Zt-Pe)-Qe),Fe==0?(Ze=at,ze=pt,Ae=at,vt=pt):(Ze=Math.min(Ze,at),ze=Math.min(ze,pt),Ae=Math.max(Ae,at),vt=Math.max(vt,pt));return new u(Math.round(Ze),Math.round(ze),Math.round(Ae-Ze),Math.round(vt-ze))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,z,q=(D=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:z}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(zr.API),function(e){var r=function(s){var l,u,d,f,p,x,y,m,w,v;for(u=[],d=0,f=(s+=l="\0\0\0\0".slice(s.length%4||4)).length;f>d;d+=4)(p=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))!==0?(x=(p=((p=((p=((p=(p-(v=p%85))/85)-(w=p%85))/85)-(m=p%85))/85)-(y=p%85))/85)%85,u.push(x+33,y+33,m+33,w+33,v+33)):u.push(122);return function(N,S){for(var k=S;k>0;k--)N.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(s){var l,u,d,f,p,x=String,y="length",m=255,w="charCodeAt",v="slice",N="replace";for(s[v](-2),s=s[v](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),d=[],f=0,p=(s+=l="uuuuu"[v](s[y]%5||5))[y];p>f;f+=5)u=52200625*(s[w](f)-33)+614125*(s[w](f+1)-33)+7225*(s[w](f+2)-33)+85*(s[w](f+3)-33)+(s[w](f+4)-33),d.push(m&u>>24,m&u>>16,m&u>>8,m&u);return function(S,k){for(var _=k;_>0;_--)S.pop()}(d,l[y]),x.fromCharCode.apply(x,d)},n=function(s){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),l.test(s)===!1)return"";for(var u="",d=0;d<s.length;d+=2)u+=String.fromCharCode("0x"+(s[d]+s[d+1]));return u},a=function(s){for(var l=new Uint8Array(s.length),u=s.length;u--;)l[u]=s.charCodeAt(u);return s=(l=Yv(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(s,l){var u=0,d=s||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=r(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=n(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=a(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}}(zr.API),function(e){e.loadFile=function(r,t,n){return function(a,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=function(d,f,p){var x=new XMLHttpRequest,y=0,m=function(w){var v=w.length,N=[],S=String.fromCharCode;for(y=0;y<v;y+=1)N.push(S(255&w.charCodeAt(y)));return N.join("")};if(x.open("GET",d,!f),x.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(x.onload=function(){x.status===200?p(m(this.responseText)):p(void 0)}),x.send(null),f&&x.status===200)return m(x.responseText)}(a,s,l)}catch{}return u}(r,t,n)},e.loadImageFile=e.loadFile}(zr.API),function(e){function r(){return(Gr.html2canvas?Promise.resolve(Gr.html2canvas):Uv(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Gr.DOMPurify?Promise.resolve(Gr.DOMPurify):Uv(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var u=aa(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(l,u){var d=document.createElement(l);for(var f in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[f]=u.style[f];return d},s=function l(u){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return f=(f=f.setProgress(1,l,1,[l])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(l,u){return l.__proto__=u||s.prototype,l},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(t).then(function(d){return this.set({src:a("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},s.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function d(f,p){for(var x=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),y=f.firstChild;y;y=y.nextSibling)p!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||x.appendChild(d(y,p));return f.nodeType===1&&(f.nodeName==="CANVAS"?(x.width=f.width,x.height=f.height,x.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(x.value=f.value),x.addEventListener("load",function(){x.scrollTop=f.scrollTop,x.scrollLeft=f.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(r).then(function(u){var d=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var y=0;y<f.length;++y){var m=f[y],w=m.src.find(function(v){return v.format==="truetype"});w&&d.addFont(w.url,m.ref.name,m.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(l,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},s.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},s.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},s.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(l){if(n(l)!=="object")return this;var u=Object.keys(l||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(l,u){return this.then(function(){var d=l in s.template.prop?this.prop[l]:this.opt[l];return u?u(d):d})},s.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},s.prototype.setPageSize=function(l){function u(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||zr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},s.prototype.setProgress=function(l,u,d,f){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(l,u,d,f){return this.setProgress(l?this.progress.val+l:null,u||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(l,u){var d=this;return this.thenCore(l,u,function(f,p){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,f),x}).then(f,p).then(function(x){return d.updateProgress(1),x})})},s.prototype.thenCore=function(l,u,d){d=d||Promise.prototype.then,l&&(l=l.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=d.call(f,l,u);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},s.prototype.thenList=function(l){var u=this;return l.forEach(function(d){u=u.thenCore(d)}),u},s.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return s.convert(u,this)},s.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},s.prototype.error=function(l){return this.then(function(){throw new Error(l)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,zr.getPageSize=function(l,u,d){if(aa(l)==="object"){var f=l;l=f.orientation,u=f.unit||u,d=f.format||d}u=u||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var p,x=(""+d).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+u}var m,w=0,v=0;if(y.hasOwnProperty(x))w=y[x][1]/p,v=y[x][0]/p;else try{w=d[1],v=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",v>w&&(m=v,v=w,w=m);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",w>v&&(m=v,v=w,w=m)}return{width:v,height:w,unit:u,k:p,orientation:l}},e.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Zv):null;var d=new s(u);return u.worker?d:d.from(l).doCallback()}}(zr.API),zr.API.addJS=function(e){return bN=e,this.internal.events.subscribe("postPutResources",function(){Jg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Jg+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),vN=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+bN+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Jg!==void 0&&vN!==void 0&&this.internal.out("/Names <</JavaScript "+Jg+" 0 R>>")}),this},function(e){var r;e.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=t.outline.render().split(/\r\n/),s=0;s<a.length;s++){var l=a[s],u=n.exec(l);if(u!=null){var d=u[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,p=[];for(s=0;s<f;s++){var x=t.internal.newObject();p.push(x);var y=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var m=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<p.length;s++)t.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");t.internal.write(" ] >>","endobj"),r=t.internal.newObject(),t.internal.write("<< /Dests "+m+" 0 R"),t.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+r+" 0 R"))}]),e.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,a,s){var l={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var l=n.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var d=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(zr.API),function(e){var r=[192,193,194,195,196,197,198,199];e.processJPEG=function(t,n,a,s,l,u){var d,f=this.decode.DCT_DECODE,p=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(d=function(x){for(var y,m=256*x.charCodeAt(4)+x.charCodeAt(5),w=x.length,v={width:0,height:0,numcomponents:1},N=4;N<w;N+=2){if(N+=m,r.indexOf(x.charCodeAt(N+1))!==-1){y=256*x.charCodeAt(N+5)+x.charCodeAt(N+6),v={width:256*x.charCodeAt(N+7)+x.charCodeAt(N+8),height:y,numcomponents:x.charCodeAt(N+9)};break}m=256*x.charCodeAt(N+2)+x.charCodeAt(N+3)}return v}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}p={data:t,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:f,index:n,alias:a}}return p}}(zr.API);var _h,Qg,wN,NN,SN,ZI=function(){var e,r,t;function n(s){var l,u,d,f,p,x,y,m,w,v,N,S,k,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(l=this.readUInt32(),w=(function(){var A,R;for(R=[],A=0;A<4;++A)R.push(String.fromCharCode(this.data[this.pos++]));return R}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),f=this.readUInt16()||100,x.delay=1e3*p/f,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,l-=4),s=(x!=null?x.data:void 0)||this.imgData,S=0;0<=l?S<l:S>l;0<=l?++S:--S)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((v=d-this.transparency.indexed.length)>0)for(k=0;0<=v?k<v:k>v;0<=v?++k:--k)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":y=(N=this.read(l)).indexOf(0),m=String.fromCharCode.apply(String,N.slice(0,y)),this.text[m]=String.fromCharCode.apply(String,N.slice(y+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var l,u;for(u=[],l=0;0<=s?l<s:l>s;0<=s?++l:--l)u.push(this.data[this.pos++]);return u},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var l=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*l),d=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(x,y,m,w){var v,N,S,k,_,A,R,V,P,I,B,O,L,C,Y,Q,ce,W,J,re,ee,H=Math.ceil((f.width-x)/m),ne=Math.ceil((f.height-y)/w),D=f.width==H&&f.height==ne;for(C=l*H,O=D?u:new Uint8Array(C*ne),A=s.length,L=0,N=0;L<ne&&d<A;){switch(s[d++]){case 0:for(k=ce=0;ce<C;k=ce+=1)O[N++]=s[d++];break;case 1:for(k=W=0;W<C;k=W+=1)v=s[d++],_=k<l?0:O[N-l],O[N++]=(v+_)%256;break;case 2:for(k=J=0;J<C;k=J+=1)v=s[d++],S=(k-k%l)/l,Y=L&&O[(L-1)*C+S*l+k%l],O[N++]=(Y+v)%256;break;case 3:for(k=re=0;re<C;k=re+=1)v=s[d++],S=(k-k%l)/l,_=k<l?0:O[N-l],Y=L&&O[(L-1)*C+S*l+k%l],O[N++]=(v+Math.floor((_+Y)/2))%256;break;case 4:for(k=ee=0;ee<C;k=ee+=1)v=s[d++],S=(k-k%l)/l,_=k<l?0:O[N-l],L===0?Y=Q=0:(Y=O[(L-1)*C+S*l+k%l],Q=S&&O[(L-1)*C+(S-1)*l+k%l]),R=_+Y-Q,V=Math.abs(R-_),I=Math.abs(R-Y),B=Math.abs(R-Q),P=V<=I&&V<=B?_:I<=B?Y:Q,O[N++]=(v+P)%256;break;default:throw new Error("Invalid filter algorithm: "+s[d-1])}if(!D){var z=((y+L*w)*f.width+x)*l,q=L*C;for(k=0;k<H;k+=1){for(var X=0;X<l;X+=1)u[z++]=O[q++];z+=(m-1)*l}}L++}}return s=CI(s),f.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),u},n.prototype.decodePalette=function(){var s,l,u,d,f,p,x,y,m;for(u=this.palette,p=this.transparency.indexed||[],f=new Uint8Array((p.length||0)+u.length),d=0,s=0,l=x=0,y=u.length;x<y;l=x+=3)f[d++]=u[l],f[d++]=u[l+1],f[d++]=u[l+2],f[d++]=(m=p[s++])!=null?m:255;return f},n.prototype.copyToImageData=function(s,l){var u,d,f,p,x,y,m,w,v,N,S;if(d=this.colors,v=null,u=this.hasAlphaChannel,this.palette.length&&(v=(S=this._decodedPalette)!=null?S:this._decodedPalette=this.decodePalette(),d=4,u=!0),w=(f=s.data||s).length,x=v||l,p=y=0,d===1)for(;p<w;)m=v?4*l[p/4]:y,N=x[m++],f[p++]=N,f[p++]=N,f[p++]=N,f[p++]=u?x[m++]:255,y=m;else for(;p<w;)m=v?4*l[p/4]:y,f[p++]=x[m++],f[p++]=x[m++],f[p++]=x[m++],f[p++]=u?x[m++]:255,y=m},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(Gr)==="[object Window]"){try{r=Gr.document.createElement("canvas"),t=r.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var l;if(a()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(l=new Image).src=r.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var l,u,d,f,p,x,y,m;if(this.animation){for(m=[],u=p=0,x=(y=this.animation.frames).length;p<x;u=++p)l=y[u],d=s.createImageData(l.width,l.height),f=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(d,f),l.imageData=d,m.push(l.image=e(d));return m}},n.prototype.renderFrame=function(s,l){var u,d,f;return u=(d=this.animation.frames)[l],f=d[l-1],l===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},n.prototype.animate=function(s){var l,u,d,f,p,x,y=this;return u=0,x=this.animation,f=x.numFrames,d=x.frames,p=x.numPlays,(l=function(){var m,w;if(m=u++%f,w=d[m],y.renderFrame(s,m),f>1&&u/f<p)return y.animation._timeout=setTimeout(l,w.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var l,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,l=s.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(u=l.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),l.putImageData(u,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function e$(e){var r=0;if(e[r++]!==71||e[r++]!==73||e[r++]!==70||e[r++]!==56||(e[r++]+1&253)!=56||e[r++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=e[r++]|e[r++]<<8,n=e[r++]|e[r++]<<8,a=e[r++],s=a>>7,l=1<<(7&a)+1;e[r++],e[r++];var u=null,d=null;s&&(u=r,d=l,r+=3*l);var f=!0,p=[],x=0,y=null,m=0,w=null;for(this.width=t,this.height=n;f&&r<e.length;)switch(e[r++]){case 33:switch(e[r++]){case 255:if(e[r]!==11||e[r+1]==78&&e[r+2]==69&&e[r+3]==84&&e[r+4]==83&&e[r+5]==67&&e[r+6]==65&&e[r+7]==80&&e[r+8]==69&&e[r+9]==50&&e[r+10]==46&&e[r+11]==48&&e[r+12]==3&&e[r+13]==1&&e[r+16]==0)r+=14,w=e[r++]|e[r++]<<8,r++;else for(r+=12;;){if(!((L=e[r++])>=0))throw Error("Invalid block size");if(L===0)break;r+=L}break;case 249:if(e[r++]!==4||e[r+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[r++];x=e[r++]|e[r++]<<8,y=e[r++],(1&v)==0&&(y=null),m=v>>2&7,r++;break;case 254:for(;;){if(!((L=e[r++])>=0))throw Error("Invalid block size");if(L===0)break;r+=L}break;default:throw new Error("Unknown graphic control label: 0x"+e[r-1].toString(16))}break;case 44:var N=e[r++]|e[r++]<<8,S=e[r++]|e[r++]<<8,k=e[r++]|e[r++]<<8,_=e[r++]|e[r++]<<8,A=e[r++],R=A>>6&1,V=1<<(7&A)+1,P=u,I=d,B=!1;A>>7&&(B=!0,P=r,I=V,r+=3*V);var O=r;for(r++;;){var L;if(!((L=e[r++])>=0))throw Error("Invalid block size");if(L===0)break;r+=L}p.push({x:N,y:S,width:k,height:_,has_local_palette:B,palette_offset:P,palette_size:I,data_offset:O,data_length:r-O,transparent_index:y,interlaced:!!R,delay:x,disposal:m});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[r-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return w},this.frameInfo=function(C){if(C<0||C>=p.length)throw new Error("Frame index out of range.");return p[C]},this.decodeAndBlitFrameBGRA=function(C,Y){var Q=this.frameInfo(C),ce=Q.width*Q.height,W=new Uint8Array(ce);_N(e,Q.data_offset,W,ce);var J=Q.palette_offset,re=Q.transparent_index;re===null&&(re=256);var ee=Q.width,H=t-ee,ne=ee,D=4*(Q.y*t+Q.x),z=4*((Q.y+Q.height)*t+Q.x),q=D,X=4*H;Q.interlaced===!0&&(X+=4*t*7);for(var se=8,Se=0,fe=W.length;Se<fe;++Se){var G=W[Se];if(ne===0&&(ne=ee,(q+=X)>=z&&(X=4*H+4*t*(se-1),q=D+(ee+H)*(se<<1),se>>=1)),G===re)q+=4;else{var be=e[J+3*G],Fe=e[J+3*G+1],De=e[J+3*G+2];Y[q++]=De,Y[q++]=Fe,Y[q++]=be,Y[q++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(C,Y){var Q=this.frameInfo(C),ce=Q.width*Q.height,W=new Uint8Array(ce);_N(e,Q.data_offset,W,ce);var J=Q.palette_offset,re=Q.transparent_index;re===null&&(re=256);var ee=Q.width,H=t-ee,ne=ee,D=4*(Q.y*t+Q.x),z=4*((Q.y+Q.height)*t+Q.x),q=D,X=4*H;Q.interlaced===!0&&(X+=4*t*7);for(var se=8,Se=0,fe=W.length;Se<fe;++Se){var G=W[Se];if(ne===0&&(ne=ee,(q+=X)>=z&&(X=4*H+4*t*(se-1),q=D+(ee+H)*(se<<1),se>>=1)),G===re)q+=4;else{var be=e[J+3*G],Fe=e[J+3*G+1],De=e[J+3*G+2];Y[q++]=be,Y[q++]=Fe,Y[q++]=De,Y[q++]=255}--ne}}}function _N(e,r,t,n){for(var a=e[r++],s=1<<a,l=s+1,u=l+1,d=a+1,f=(1<<d)-1,p=0,x=0,y=0,m=e[r++],w=new Int32Array(4096),v=null;;){for(;p<16&&m!==0;)x|=e[r++]<<p,p+=8,m===1?m=e[r++]:--m;if(p<d)break;var N=x&f;if(x>>=d,p-=d,N!==s){if(N===l)break;for(var S=N<u?N:v,k=0,_=S;_>s;)_=w[_]>>8,++k;var A=_;if(y+k+(S!==N?1:0)>n)return void wa.log("Warning, gif stream longer than expected.");t[y++]=A;var R=y+=k;for(S!==N&&(t[y++]=A),_=S;k--;)_=w[_],t[--R]=255&_,_>>=8;v!==null&&u<4096&&(w[u++]=v<<8|A,u>=f+1&&d<12&&(++d,f=f<<1|1)),v=N}else u=l+1,f=(1<<(d=a+1))-1,v=null}return y!==n&&wa.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function av(e){var r,t,n,a,s,l=Math.floor,u=new Array(64),d=new Array(64),f=new Array(64),p=new Array(64),x=new Array(65535),y=new Array(65535),m=new Array(64),w=new Array(64),v=[],N=0,S=7,k=new Array(64),_=new Array(64),A=new Array(64),R=new Array(256),V=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],Q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(D,z){for(var q=0,X=0,se=new Array,Se=1;Se<=16;Se++){for(var fe=1;fe<=D[Se];fe++)se[z[X]]=[],se[z[X]][0]=q,se[z[X]][1]=Se,X++,q++;q*=2}return se}function J(D){for(var z=D[0],q=D[1]-1;q>=0;)z&1<<q&&(N|=1<<S),q--,--S<0&&(N==255?(re(255),re(0)):re(N),S=7,N=0)}function re(D){v.push(D)}function ee(D){re(D>>8&255),re(255&D)}function H(D,z,q,X,se){for(var Se,fe=se[0],G=se[240],be=function(pt,Ze){var ze,Ae,vt,gt,rr,Wt,Qt,cr,Zt,hr,$t=0;for(Zt=0;Zt<8;++Zt){ze=pt[$t],Ae=pt[$t+1],vt=pt[$t+2],gt=pt[$t+3],rr=pt[$t+4],Wt=pt[$t+5],Qt=pt[$t+6];var Mr=ze+(cr=pt[$t+7]),xr=ze-cr,Qr=Ae+Qt,Er=Ae-Qt,Fr=vt+Wt,tn=vt-Wt,et=gt+rr,_e=gt-rr,Be=Mr+et,ve=Mr-et,Ce=Qr+Fr,Le=Qr-Fr;pt[$t]=Be+Ce,pt[$t+4]=Be-Ce;var qe=.707106781*(Le+ve);pt[$t+2]=ve+qe,pt[$t+6]=ve-qe;var Tt=.382683433*((Be=_e+tn)-(Le=Er+xr)),Dt=.5411961*Be+Tt,er=1.306562965*Le+Tt,ar=.707106781*(Ce=tn+Er),St=xr+ar,ht=xr-ar;pt[$t+5]=ht+Dt,pt[$t+3]=ht-Dt,pt[$t+1]=St+er,pt[$t+7]=St-er,$t+=8}for($t=0,Zt=0;Zt<8;++Zt){ze=pt[$t],Ae=pt[$t+8],vt=pt[$t+16],gt=pt[$t+24],rr=pt[$t+32],Wt=pt[$t+40],Qt=pt[$t+48];var Bt=ze+(cr=pt[$t+56]),Kt=ze-cr,Ot=Ae+Qt,Ur=Ae-Qt,Ir=vt+Wt,le=vt-Wt,Te=gt+rr,te=gt-rr,de=Bt+Te,ye=Bt-Te,Ne=Ot+Ir,Ge=Ot-Ir;pt[$t]=de+Ne,pt[$t+32]=de-Ne;var ut=.707106781*(Ge+ye);pt[$t+16]=ye+ut,pt[$t+48]=ye-ut;var We=.382683433*((de=te+le)-(Ge=Ur+Kt)),nt=.5411961*de+We,st=1.306562965*Ge+We,rt=.707106781*(Ne=le+Ur),Gt=Kt+rt,nr=Kt-rt;pt[$t+40]=nr+nt,pt[$t+24]=nr-nt,pt[$t+8]=Gt+st,pt[$t+56]=Gt-st,$t++}for(Zt=0;Zt<64;++Zt)hr=pt[Zt]*Ze[Zt],m[Zt]=hr>0?hr+.5|0:hr-.5|0;return m}(D,z),Fe=0;Fe<64;++Fe)w[P[Fe]]=be[Fe];var De=w[0]-q;q=w[0],De==0?J(X[0]):(J(X[y[Se=32767+De]]),J(x[Se]));for(var lt=63;lt>0&&w[lt]==0;)lt--;if(lt==0)return J(fe),q;for(var ft,Pe=1;Pe<=lt;){for(var xe=Pe;w[Pe]==0&&Pe<=lt;)++Pe;var Qe=Pe-xe;if(Qe>=16){ft=Qe>>4;for(var at=1;at<=ft;++at)J(G);Qe&=15}Se=32767+w[Pe],J(se[(Qe<<4)+y[Se]]),J(x[Se]),Pe++}return lt!=63&&J(fe),q}function ne(D){D=Math.min(Math.max(D,1),100),s!=D&&(function(z){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var se=l((q[X]*z+50)/100);se=Math.min(Math.max(se,1),255),u[P[X]]=se}for(var Se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var G=l((Se[fe]*z+50)/100);G=Math.min(Math.max(G,1),255),d[P[fe]]=G}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,De=0;De<8;De++)for(var lt=0;lt<8;lt++)f[Fe]=1/(u[P[Fe]]*be[De]*be[lt]*8),p[Fe]=1/(d[P[Fe]]*be[De]*be[lt]*8),Fe++}(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),s=D)}this.encode=function(D,z){z&&ne(z),v=new Array,N=0,S=7,ee(65496),ee(65504),ee(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ee(1),ee(1),re(0),re(0),function(){ee(65499),ee(132),re(0);for(var Ae=0;Ae<64;Ae++)re(u[Ae]);re(1);for(var vt=0;vt<64;vt++)re(d[vt])}(),function(Ae,vt){ee(65472),ee(17),re(8),ee(vt),ee(Ae),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(D.width,D.height),function(){ee(65476),ee(418),re(0);for(var Ae=0;Ae<16;Ae++)re(I[Ae+1]);for(var vt=0;vt<=11;vt++)re(B[vt]);re(16);for(var gt=0;gt<16;gt++)re(O[gt+1]);for(var rr=0;rr<=161;rr++)re(L[rr]);re(1);for(var Wt=0;Wt<16;Wt++)re(C[Wt+1]);for(var Qt=0;Qt<=11;Qt++)re(Y[Qt]);re(17);for(var cr=0;cr<16;cr++)re(Q[cr+1]);for(var Zt=0;Zt<=161;Zt++)re(ce[Zt])}(),ee(65498),ee(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var q=0,X=0,se=0;N=0,S=7,this.encode.displayName="_encode_";for(var Se,fe,G,be,Fe,De,lt,ft,Pe,xe=D.data,Qe=D.width,at=D.height,pt=4*Qe,Ze=0;Ze<at;){for(Se=0;Se<pt;){for(Fe=pt*Ze+Se,lt=-1,ft=0,Pe=0;Pe<64;Pe++)De=Fe+(ft=Pe>>3)*pt+(lt=4*(7&Pe)),Ze+ft>=at&&(De-=pt*(Ze+1+ft-at)),Se+lt>=pt&&(De-=Se+lt-pt+4),fe=xe[De++],G=xe[De++],be=xe[De++],k[Pe]=(V[fe]+V[G+256>>0]+V[be+512>>0]>>16)-128,_[Pe]=(V[fe+768>>0]+V[G+1024>>0]+V[be+1280>>0]>>16)-128,A[Pe]=(V[fe+1280>>0]+V[G+1536>>0]+V[be+1792>>0]>>16)-128;q=H(k,f,q,r,n),X=H(_,p,X,t,a),se=H(A,p,se,t,a),Se+=32}Ze+=8}if(S>=0){var ze=[];ze[1]=S+1,ze[0]=(1<<S+1)-1,J(ze)}return ee(65497),new Uint8Array(v)},e=e||50,function(){for(var D=String.fromCharCode,z=0;z<256;z++)R[z]=D(z)}(),r=W(I,B),t=W(C,Y),n=W(O,L),a=W(Q,ce),function(){for(var D=1,z=2,q=1;q<=15;q++){for(var X=D;X<z;X++)y[32767+X]=q,x[32767+X]=[],x[32767+X][1]=q,x[32767+X][0]=X;for(var se=-(z-1);se<=-D;se++)y[32767+se]=q,x[32767+se]=[],x[32767+se][1]=q,x[32767+se][0]=z-1+se;D<<=1,z<<=1}}(),function(){for(var D=0;D<256;D++)V[D]=19595*D,V[D+256>>0]=38470*D,V[D+512>>0]=7471*D+32768,V[D+768>>0]=-11059*D,V[D+1024>>0]=-21709*D,V[D+1280>>0]=32768*D+8421375,V[D+1536>>0]=-27439*D,V[D+1792>>0]=-5329*D}(),ne(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Cl(e,r){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!r,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function TN(e){function r(I){if(!I)throw Error("assert :P")}function t(I,B,O){for(var L=0;4>L;L++)if(I[B+L]!=O.charCodeAt(L))return!0;return!1}function n(I,B,O,L,C){for(var Y=0;Y<C;Y++)I[B+Y]=O[L+Y]}function a(I,B,O,L){for(var C=0;C<L;C++)I[B+C]=O}function s(I){return new Int32Array(I)}function l(I,B){for(var O=[],L=0;L<I;L++)O.push(new B);return O}function u(I,B){var O=[];return function L(C,Y,Q){for(var ce=Q[Y],W=0;W<ce&&(C.push(Q.length>Y+1?[]:new B),!(Q.length<Y+1));W++)L(C[W],Y+1,Q)}(O,0,I),O}var d=function(){var I=this;function B(b,E){for(var U=1<<E-1>>>0;b&U;)U>>>=1;return U?(b&U-1)+U:b}function O(b,E,U,K,oe){r(!(K%U));do b[E+(K-=U)]=oe;while(0<K)}function L(b,E,U,K,oe){if(r(2328>=oe),512>=oe)var he=s(512);else if((he=s(oe))==null)return 0;return function(pe,me,we,ke,Ue,ct){var it,Xe,Mt=me,yt=1<<we,He=s(16),Ye=s(16);for(r(Ue!=0),r(ke!=null),r(pe!=null),r(0<we),Xe=0;Xe<Ue;++Xe){if(15<ke[Xe])return 0;++He[ke[Xe]]}if(He[0]==Ue)return 0;for(Ye[1]=0,it=1;15>it;++it){if(He[it]>1<<it)return 0;Ye[it+1]=Ye[it]+He[it]}for(Xe=0;Xe<Ue;++Xe)it=ke[Xe],0<ke[Xe]&&(ct[Ye[it]++]=Xe);if(Ye[15]==1)return(ke=new C).g=0,ke.value=ct[0],O(pe,Mt,1,yt,ke),yt;var Et,Ft=-1,Lt=yt-1,pr=0,or=1,Lr=1,lr=1<<we;for(Xe=0,it=1,Ue=2;it<=we;++it,Ue<<=1){if(or+=Lr<<=1,0>(Lr-=He[it]))return 0;for(;0<He[it];--He[it])(ke=new C).g=it,ke.value=ct[Xe++],O(pe,Mt+pr,Ue,lr,ke),pr=B(pr,it)}for(it=we+1,Ue=2;15>=it;++it,Ue<<=1){if(or+=Lr<<=1,0>(Lr-=He[it]))return 0;for(;0<He[it];--He[it]){if(ke=new C,(pr&Lt)!=Ft){for(Mt+=lr,Et=1<<(Ft=it)-we;15>Ft&&!(0>=(Et-=He[Ft]));)++Ft,Et<<=1;yt+=lr=1<<(Et=Ft-we),pe[me+(Ft=pr&Lt)].g=Et+we,pe[me+Ft].value=Mt-me-Ft}ke.g=it-we,ke.value=ct[Xe++],O(pe,Mt+(pr>>we),Ue,lr,ke),pr=B(pr,it)}}return or!=2*Ye[15]-1?0:yt}(b,E,U,K,oe,he)}function C(){this.value=this.g=0}function Y(){this.value=this.g=0}function Q(){this.G=l(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(ga,Y)}function ce(b,E,U,K){r(b!=null),r(E!=null),r(2147483648>K),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=E,b.pa=U,b.Jd=E,b.Yc=U+K,b.Zc=4<=K?U+K-4+1:U,Se(b)}function W(b,E){for(var U=0;0<E--;)U|=G(b,128)<<E;return U}function J(b,E){var U=W(b,E);return fe(b)?-U:U}function re(b,E,U,K){var oe,he=0;for(r(b!=null),r(E!=null),r(4294967288>K),b.Sb=K,b.Ra=0,b.u=0,b.h=0,4<K&&(K=4),oe=0;oe<K;++oe)he+=E[U+oe]<<8*oe;b.Ra=he,b.bb=K,b.oa=E,b.pa=U}function ee(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<Us-8>>>0,++b.bb,b.u-=8;q(b)&&(b.h=1,b.u=0)}function H(b,E){if(r(0<=E),!b.h&&E<=xi){var U=z(b)&Rs[E];return b.u+=E,ee(b),U}return b.h=1,b.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function D(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(b){return b.Ra>>>(b.u&Us-1)>>>0}function q(b){return r(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>Us}function X(b,E){b.u=E,b.h=q(b)}function se(b){b.u>=Qi&&(r(b.u>=Qi),ee(b))}function Se(b){r(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(r(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function fe(b){return W(b,1)}function G(b,E){var U=b.Ca;0>b.b&&Se(b);var K=b.b,oe=U*E>>>8,he=(b.I>>>K>oe)+0;for(he?(U-=oe,b.I-=oe+1<<K>>>0):U=oe+1,K=U,oe=0;256<=K;)oe+=8,K>>=8;return K=7^oe+os[K],b.b-=K,b.Ca=(U<<K)-1,he}function be(b,E,U){b[E+0]=U>>24&255,b[E+1]=U>>16&255,b[E+2]=U>>8&255,b[E+3]=U>>0&255}function Fe(b,E){return b[E+0]<<0|b[E+1]<<8}function De(b,E){return Fe(b,E)|b[E+2]<<16}function lt(b,E){return Fe(b,E)|Fe(b,E+2)<<16}function ft(b,E){var U=1<<E;return r(b!=null),r(0<E),b.X=s(U),b.X==null?0:(b.Mb=32-E,b.Xa=E,1)}function Pe(b,E){r(b!=null),r(E!=null),r(b.Xa==E.Xa),n(E.X,0,b.X,0,1<<E.Xa)}function xe(){this.X=[],this.Xa=this.Mb=0}function Qe(b,E,U,K){r(U!=null),r(K!=null);var oe=U[0],he=K[0];return oe==0&&(oe=(b*he+E/2)/E),he==0&&(he=(E*oe+b/2)/b),0>=oe||0>=he?0:(U[0]=oe,K[0]=he,1)}function at(b,E){return b+(1<<E)-1>>>E}function pt(b,E){return((4278255360&b)+(4278255360&E)>>>0&4278255360)+((16711935&b)+(16711935&E)>>>0&16711935)>>>0}function Ze(b,E){I[E]=function(U,K,oe,he,pe,me,we){var ke;for(ke=0;ke<pe;++ke){var Ue=I[b](me[we+ke-1],oe,he+ke);me[we+ke]=pt(U[K+ke],Ue)}}}function ze(){this.ud=this.hd=this.jd=0}function Ae(b,E){return((4278124286&(b^E))>>>1)+(b&E)>>>0}function vt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function gt(b,E){return vt(b+(b-E+.5>>1))}function rr(b,E,U){return Math.abs(E-U)-Math.abs(b-U)}function Wt(b,E,U,K,oe,he,pe){for(K=he[pe-1],U=0;U<oe;++U)he[pe+U]=K=pt(b[E+U],K)}function Qt(b,E,U,K,oe){var he;for(he=0;he<U;++he){var pe=b[E+he],me=pe>>8&255,we=16711935&(we=(we=16711935&pe)+((me<<16)+me));K[oe+he]=(4278255360&pe)+we>>>0}}function cr(b,E){E.jd=b>>0&255,E.hd=b>>8&255,E.ud=b>>16&255}function Zt(b,E,U,K,oe,he){var pe;for(pe=0;pe<K;++pe){var me=E[U+pe],we=me>>>8,ke=me,Ue=255&(Ue=(Ue=me>>>16)+((b.jd<<24>>24)*(we<<24>>24)>>>5));ke=255&(ke=(ke=ke+((b.hd<<24>>24)*(we<<24>>24)>>>5))+((b.ud<<24>>24)*(Ue<<24>>24)>>>5)),oe[he+pe]=(4278255360&me)+(Ue<<16)+ke}}function hr(b,E,U,K,oe){I[E]=function(he,pe,me,we,ke,Ue,ct,it,Xe){for(we=ct;we<it;++we)for(ct=0;ct<Xe;++ct)ke[Ue++]=oe(me[K(he[pe++])])},I[b]=function(he,pe,me,we,ke,Ue,ct){var it=8>>he.b,Xe=he.Ea,Mt=he.K[0],yt=he.w;if(8>it)for(he=(1<<he.b)-1,yt=(1<<it)-1;pe<me;++pe){var He,Ye=0;for(He=0;He<Xe;++He)He&he||(Ye=K(we[ke++])),Ue[ct++]=oe(Mt[Ye&yt]),Ye>>=it}else I["VP8LMapColor"+U](we,ke,Mt,yt,Ue,ct,pe,me,Xe)}}function $t(b,E,U,K,oe){for(U=E+U;E<U;){var he=b[E++];K[oe++]=he>>16&255,K[oe++]=he>>8&255,K[oe++]=he>>0&255}}function Mr(b,E,U,K,oe){for(U=E+U;E<U;){var he=b[E++];K[oe++]=he>>16&255,K[oe++]=he>>8&255,K[oe++]=he>>0&255,K[oe++]=he>>24&255}}function xr(b,E,U,K,oe){for(U=E+U;E<U;){var he=(pe=b[E++])>>16&240|pe>>12&15,pe=pe>>0&240|pe>>28&15;K[oe++]=he,K[oe++]=pe}}function Qr(b,E,U,K,oe){for(U=E+U;E<U;){var he=(pe=b[E++])>>16&248|pe>>13&7,pe=pe>>5&224|pe>>3&31;K[oe++]=he,K[oe++]=pe}}function Er(b,E,U,K,oe){for(U=E+U;E<U;){var he=b[E++];K[oe++]=he>>0&255,K[oe++]=he>>8&255,K[oe++]=he>>16&255}}function Fr(b,E,U,K,oe,he){if(he==0)for(U=E+U;E<U;)be(K,((he=b[E++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),oe+=32;else n(K,oe,b,E,U)}function tn(b,E){I[E][0]=I[b+"0"],I[E][1]=I[b+"1"],I[E][2]=I[b+"2"],I[E][3]=I[b+"3"],I[E][4]=I[b+"4"],I[E][5]=I[b+"5"],I[E][6]=I[b+"6"],I[E][7]=I[b+"7"],I[E][8]=I[b+"8"],I[E][9]=I[b+"9"],I[E][10]=I[b+"10"],I[E][11]=I[b+"11"],I[E][12]=I[b+"12"],I[E][13]=I[b+"13"],I[E][14]=I[b+"0"],I[E][15]=I[b+"0"]}function et(b){return b==Id||b==ic||b==ml||b==$u}function _e(){this.eb=[],this.size=this.A=this.fb=0}function Be(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ve(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _e,this.f.kb=new Be,this.sd=null}function Ce(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function qe(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Tt(b,E){var U=b.T,K=E.ba.f.RGBA,oe=K.eb,he=K.fb+b.ka*K.A,pe=_s[E.ba.S],me=b.y,we=b.O,ke=b.f,Ue=b.N,ct=b.ea,it=b.W,Xe=E.cc,Mt=E.dc,yt=E.Mc,He=E.Nc,Ye=b.ka,Et=b.ka+b.T,Ft=b.U,Lt=Ft+1>>1;for(Ye==0?pe(me,we,null,null,ke,Ue,ct,it,ke,Ue,ct,it,oe,he,null,null,Ft):(pe(E.ec,E.fc,me,we,Xe,Mt,yt,He,ke,Ue,ct,it,oe,he-K.A,oe,he,Ft),++U);Ye+2<Et;Ye+=2)Xe=ke,Mt=Ue,yt=ct,He=it,Ue+=b.Rc,it+=b.Rc,he+=2*K.A,pe(me,(we+=2*b.fa)-b.fa,me,we,Xe,Mt,yt,He,ke,Ue,ct,it,oe,he-K.A,oe,he,Ft);return we+=b.fa,b.j+Et<b.o?(n(E.ec,E.fc,me,we,Ft),n(E.cc,E.dc,ke,Ue,Lt),n(E.Mc,E.Nc,ct,it,Lt),U--):1&Et||pe(me,we,null,null,ke,Ue,ct,it,ke,Ue,ct,it,oe,he+K.A,null,null,Ft),U}function Dt(b,E,U){var K=b.F,oe=[b.J];if(K!=null){var he=b.U,pe=E.ba.S,me=pe==Qc||pe==ml;E=E.ba.f.RGBA;var we=[0],ke=b.ka;we[0]=b.T,b.Kb&&(ke==0?--we[0]:(--ke,oe[0]-=b.width),b.j+b.ka+b.T==b.o&&(we[0]=b.o-b.j-ke));var Ue=E.eb;ke=E.fb+ke*E.A,b=yn(K,oe[0],b.width,he,we,Ue,ke+(me?0:3),E.A),r(U==we),b&&et(pe)&&Ii(Ue,ke,me,he,we,E.A)}return 0}function er(b){var E=b.ma,U=E.ba.S,K=11>U,oe=U==Iu||U==Bd||U==Qc||U==pl||U==12||et(U);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Ns(E.Oa,b,oe?11:12))return 0;if(oe&&et(U)&&qt(),b.da)alert("todo:use_scaling");else{if(K){if(E.Ib=qe,b.Kb){if(U=b.U+1>>1,E.memory=s(b.U+2*U),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+b.U,E.Mc=E.cc,E.Nc=E.dc+U,E.Ib=Tt,qt()}}else alert("todo:EmitYUV");oe&&(E.Jb=Dt,K&&tt())}if(K&&!Pm){for(b=0;256>b;++b)_2[b]=89858*(b-128)+us>>Uo,Ud[b]=-22014*(b-128)+us,v0[b]=-45773*(b-128),ds[b]=113618*(b-128)+us>>Uo;for(b=cc;b<Jf;++b)E=76283*(b-16)+us>>Uo,Hd[b-cc]=Jr(E,255),b0[b-cc]=Jr(E+8>>4,15);Pm=1}return 1}function ar(b){var E=b.ma,U=b.U,K=b.T;return r(!(1&b.ka)),0>=U||0>=K?0:(U=E.Ib(b,E),E.Jb!=null&&E.Jb(b,E,U),E.Dc+=U,1)}function St(b){b.ma.memory=null}function ht(b,E,U,K){return H(b,8)!=47?0:(E[0]=H(b,14)+1,U[0]=H(b,14)+1,K[0]=H(b,1),H(b,3)!=0?0:!b.h)}function Bt(b,E){if(4>b)return b+1;var U=b-2>>1;return(2+(1&b)<<U)+H(E,U)+1}function Kt(b,E){return 120<E?E-120:1<=(U=((U=xl[E-1])>>4)*b+(8-(15&U)))?U:1;var U}function Ot(b,E,U){var K=z(U),oe=b[E+=255&K].g-8;return 0<oe&&(X(U,U.u+8),K=z(U),E+=b[E].value,E+=K&(1<<oe)-1),X(U,U.u+b[E].g),b[E].value}function Ur(b,E,U){return U.g+=b.g,U.value+=b.value<<E>>>0,r(8>=U.g),b.g}function Ir(b,E,U){var K=b.xc;return r((E=K==0?0:b.vc[b.md*(U>>K)+(E>>K)])<b.Wb),b.Ya[E]}function le(b,E,U,K){var oe=b.ab,he=b.c*E,pe=b.C;E=pe+E;var me=U,we=K;for(K=b.Ta,U=b.Ua;0<oe--;){var ke=b.gc[oe],Ue=pe,ct=E,it=me,Xe=we,Mt=(we=K,me=U,ke.Ea);switch(r(Ue<ct),r(ct<=ke.nc),ke.hc){case 2:yr(it,Xe,(ct-Ue)*Mt,we,me);break;case 0:var yt=Ue,He=ct,Ye=we,Et=me,Ft=(lr=ke).Ea;yt==0&&(Pi(it,Xe,null,null,1,Ye,Et),Wt(it,Xe+1,0,0,Ft-1,Ye,Et+1),Xe+=Ft,Et+=Ft,++yt);for(var Lt=1<<lr.b,pr=Lt-1,or=at(Ft,lr.b),Lr=lr.K,lr=lr.w+(yt>>lr.b)*or;yt<He;){var Dn=Lr,Pn=lr,pn=1;for(Ht(it,Xe,Ye,Et-Ft,1,Ye,Et);pn<Ft;){var dn=(pn&~pr)+Lt;dn>Ft&&(dn=Ft),(0,Or[Dn[Pn++]>>8&15])(it,Xe+ +pn,Ye,Et+pn-Ft,dn-pn,Ye,Et+pn),pn=dn}Xe+=Ft,Et+=Ft,++yt&pr||(lr+=or)}ct!=ke.nc&&n(we,me-Mt,we,me+(ct-Ue-1)*Mt,Mt);break;case 1:for(Mt=it,He=Xe,Ft=(it=ke.Ea)-(Et=it&~(Ye=(Xe=1<<ke.b)-1)),yt=at(it,ke.b),Lt=ke.K,ke=ke.w+(Ue>>ke.b)*yt;Ue<ct;){for(pr=Lt,or=ke,Lr=new ze,lr=He+Et,Dn=He+it;He<lr;)cr(pr[or++],Lr),xa(Lr,Mt,He,Xe,we,me),He+=Xe,me+=Xe;He<Dn&&(cr(pr[or++],Lr),xa(Lr,Mt,He,Ft,we,me),He+=Ft,me+=Ft),++Ue&Ye||(ke+=yt)}break;case 3:if(it==we&&Xe==me&&0<ke.b){for(He=we,it=Mt=me+(ct-Ue)*Mt-(Et=(ct-Ue)*at(ke.Ea,ke.b)),Xe=we,Ye=me,yt=[],Et=(Ft=Et)-1;0<=Et;--Et)yt[Et]=Xe[Ye+Et];for(Et=Ft-1;0<=Et;--Et)He[it+Et]=yt[Et];bt(ke,Ue,ct,we,Mt,we,me)}else bt(ke,Ue,ct,it,Xe,we,me)}me=K,we=U}we!=U&&n(K,U,me,we,he)}function Te(b,E){var U=b.V,K=b.Ba+b.c*b.C,oe=E-b.C;if(r(E<=b.l.o),r(16>=oe),0<oe){var he=b.l,pe=b.Ta,me=b.Ua,we=he.width;if(le(b,oe,U,K),oe=me=[me],r((U=b.C)<(K=E)),r(he.v<he.va),K>he.o&&(K=he.o),U<he.j){var ke=he.j-U;U=he.j,oe[0]+=ke*we}if(U>=K?U=0:(oe[0]+=4*he.v,he.ka=U-he.j,he.U=he.va-he.v,he.T=K-U,U=1),U){if(me=me[0],11>(U=b.ca).S){var Ue=U.f.RGBA,ct=(K=U.S,oe=he.U,he=he.T,ke=Ue.eb,Ue.A),it=he;for(Ue=Ue.fb+b.Ma*Ue.A;0<it--;){var Xe=pe,Mt=me,yt=oe,He=ke,Ye=Ue;switch(K){case Hs:hn(Xe,Mt,yt,He,Ye);break;case Iu:Sr(Xe,Mt,yt,He,Ye);break;case Id:Sr(Xe,Mt,yt,He,Ye),Ii(He,Ye,0,yt,1,0);break;case Bo:un(Xe,Mt,yt,He,Ye);break;case Bd:Fr(Xe,Mt,yt,He,Ye,1);break;case ic:Fr(Xe,Mt,yt,He,Ye,1),Ii(He,Ye,0,yt,1,0);break;case Qc:Fr(Xe,Mt,yt,He,Ye,0);break;case ml:Fr(Xe,Mt,yt,He,Ye,0),Ii(He,Ye,1,yt,1,0);break;case pl:En(Xe,Mt,yt,He,Ye);break;case $u:En(Xe,Mt,yt,He,Ye),xn(He,Ye,yt,1,0);break;case qf:Cr(Xe,Mt,yt,He,Ye);break;default:r(0)}me+=we,Ue+=ct}b.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");r(b.Ma<=U.height)}}b.C=E,r(b.C<=b.i)}function te(b){var E;if(0<b.ua)return 0;for(E=0;E<b.Wb;++E){var U=b.Ya[E].G,K=b.Ya[E].H;if(0<U[1][K[1]+0].g||0<U[2][K[2]+0].g||0<U[3][K[3]+0].g)return 0}return 1}function de(b,E,U,K,oe,he){if(b.Z!=0){var pe=b.qd,me=b.rd;for(r($o[b.Z]!=null);E<U;++E)$o[b.Z](pe,me,K,oe,K,oe,he),pe=K,me=oe,oe+=he;b.qd=pe,b.rd=me}}function ye(b,E){var U=b.l.ma,K=U.Z==0||U.Z==1?b.l.j:b.C;if(K=b.C<K?K:b.C,r(E<=b.l.o),E>K){var oe=b.l.width,he=U.ca,pe=U.tb+oe*K,me=b.V,we=b.Ba+b.c*K,ke=b.gc;r(b.ab==1),r(ke[0].hc==3),vr(ke[0],K,E,me,we,he,pe),de(U,K,E,he,pe,oe)}b.C=b.Ma=E}function Ne(b,E,U,K,oe,he,pe){var me=b.$/K,we=b.$%K,ke=b.m,Ue=b.s,ct=U+b.$,it=ct;oe=U+K*oe;var Xe=U+K*he,Mt=280+Ue.ua,yt=b.Pb?me:16777216,He=0<Ue.ua?Ue.Wa:null,Ye=Ue.wc,Et=ct<Xe?Ir(Ue,we,me):null;r(b.C<he),r(Xe<=oe);var Ft=!1;e:for(;;){for(;Ft||ct<Xe;){var Lt=0;if(me>=yt){var pr=ct-U;r((yt=b).Pb),yt.wd=yt.m,yt.xd=pr,0<yt.s.ua&&Pe(yt.s.Wa,yt.s.vb),yt=me+Rm}if(we&Ye||(Et=Ir(Ue,we,me)),r(Et!=null),Et.Qb&&(E[ct]=Et.qb,Ft=!0),!Ft)if(se(ke),Et.jc){Lt=ke,pr=E;var or=ct,Lr=Et.pd[z(Lt)&ga-1];r(Et.jc),256>Lr.g?(X(Lt,Lt.u+Lr.g),pr[or]=Lr.value,Lt=0):(X(Lt,Lt.u+Lr.g-256),r(256<=Lr.value),Lt=Lr.value),Lt==0&&(Ft=!0)}else Lt=Ot(Et.G[0],Et.H[0],ke);if(ke.h)break;if(Ft||256>Lt){if(!Ft)if(Et.nd)E[ct]=(Et.qb|Lt<<8)>>>0;else{if(se(ke),Ft=Ot(Et.G[1],Et.H[1],ke),se(ke),pr=Ot(Et.G[2],Et.H[2],ke),or=Ot(Et.G[3],Et.H[3],ke),ke.h)break;E[ct]=(or<<24|Ft<<16|Lt<<8|pr)>>>0}if(Ft=!1,++ct,++we>=K&&(we=0,++me,pe!=null&&me<=he&&!(me%16)&&pe(b,me),He!=null))for(;it<ct;)Lt=E[it++],He.X[(506832829*Lt&4294967295)>>>He.Mb]=Lt}else if(280>Lt){if(Lt=Bt(Lt-256,ke),pr=Ot(Et.G[4],Et.H[4],ke),se(ke),pr=Kt(K,pr=Bt(pr,ke)),ke.h)break;if(ct-U<pr||oe-ct<Lt)break e;for(or=0;or<Lt;++or)E[ct+or]=E[ct+or-pr];for(ct+=Lt,we+=Lt;we>=K;)we-=K,++me,pe!=null&&me<=he&&!(me%16)&&pe(b,me);if(r(ct<=oe),we&Ye&&(Et=Ir(Ue,we,me)),He!=null)for(;it<ct;)Lt=E[it++],He.X[(506832829*Lt&4294967295)>>>He.Mb]=Lt}else{if(!(Lt<Mt))break e;for(Ft=Lt-280,r(He!=null);it<ct;)Lt=E[it++],He.X[(506832829*Lt&4294967295)>>>He.Mb]=Lt;Lt=ct,r(!(Ft>>>(pr=He).Xa)),E[Lt]=pr.X[Ft],Ft=!0}Ft||r(ke.h==q(ke))}if(b.Pb&&ke.h&&ct<oe)r(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Pe(b.s.vb,b.s.Wa);else{if(ke.h)break e;pe!=null&&pe(b,me>he?he:me),b.a=0,b.$=ct-U}return 1}return b.a=3,0}function Ge(b){r(b!=null),b.vc=null,b.yc=null,b.Ya=null;var E=b.Wa;E!=null&&(E.X=null),b.vb=null,r(b!=null)}function ut(){var b=new Pd;return b==null?null:(b.a=0,b.xb=zu,tn("Predictor","VP8LPredictors"),tn("Predictor","VP8LPredictors_C"),tn("PredictorAdd","VP8LPredictorsAdd"),tn("PredictorAdd","VP8LPredictorsAdd_C"),yr=Qt,xa=Zt,hn=$t,Sr=Mr,En=xr,Cr=Qr,un=Er,I.VP8LMapColor32b=Yt,I.VP8LMapColor8b=$r,b)}function We(b,E,U,K,oe){var he=1,pe=[b],me=[E],we=K.m,ke=K.s,Ue=null,ct=0;e:for(;;){if(U)for(;he&&H(we,1);){var it=pe,Xe=me,Mt=K,yt=1,He=Mt.m,Ye=Mt.gc[Mt.ab],Et=H(He,2);if(Mt.Oc&1<<Et)he=0;else{switch(Mt.Oc|=1<<Et,Ye.hc=Et,Ye.Ea=it[0],Ye.nc=Xe[0],Ye.K=[null],++Mt.ab,r(4>=Mt.ab),Et){case 0:case 1:Ye.b=H(He,3)+2,yt=We(at(Ye.Ea,Ye.b),at(Ye.nc,Ye.b),0,Mt,Ye.K),Ye.K=Ye.K[0];break;case 3:var Ft,Lt=H(He,8)+1,pr=16<Lt?0:4<Lt?1:2<Lt?2:3;if(it[0]=at(Ye.Ea,pr),Ye.b=pr,Ft=yt=We(Lt,1,0,Mt,Ye.K)){var or,Lr=Lt,lr=Ye,Dn=1<<(8>>lr.b),Pn=s(Dn);if(Pn==null)Ft=0;else{var pn=lr.K[0],dn=lr.w;for(Pn[0]=lr.K[0][0],or=1;or<1*Lr;++or)Pn[or]=pt(pn[dn+or],Pn[or-1]);for(;or<4*Dn;++or)Pn[or]=0;lr.K[0]=null,lr.K[0]=Pn,Ft=1}}yt=Ft;break;case 2:break;default:r(0)}he=yt}}if(pe=pe[0],me=me[0],he&&H(we,1)&&!(he=1<=(ct=H(we,4))&&11>=ct)){K.a=3;break e}var Gn;if(Gn=he)t:{var Bn,en,Jn,Br=K,Yr=pe,An=me,On=ct,Ts=U,fs=Br.m,za=Br.s,Ua=[null],Ka=1,ro=0,In=eu[On];r:for(;;){if(Ts&&H(fs,1)){var Ja=H(fs,3)+2,yo=at(Yr,Ja),uc=at(An,Ja),nu=yo*uc;if(!We(yo,uc,0,Br,Ua))break r;for(Ua=Ua[0],za.xc=Ja,Bn=0;Bn<nu;++Bn){var dc=Ua[Bn]>>8&65535;Ua[Bn]=dc,dc>=Ka&&(Ka=dc+1)}}if(fs.h)break r;for(en=0;5>en;++en){var _a=$i[en];!en&&0<On&&(_a+=1<<On),ro<_a&&(ro=_a)}var Wd=l(Ka*In,C),Qf=Ka,ri=l(Qf,Q);if(ri==null)var ja=null;else r(65536>=Qf),ja=ri;var au=s(ro);if(ja==null||au==null||Wd==null){Br.a=1;break r}var fc=Wd;for(Bn=Jn=0;Bn<Ka;++Bn){var vi=ja[Bn],hc=vi.G,bi=vi.H,Vd=0,Hu=1,Zf=0;for(en=0;5>en;++en){_a=$i[en],hc[en]=fc,bi[en]=Jn,!en&&0<On&&(_a+=1<<On);a:{var qd,eh=_a,Yd=Br,Wu=au,$m=fc,zm=Jn,Gd=0,wl=Yd.m,k2=H(wl,1);if(a(Wu,0,0,eh),k2){var Um=H(wl,1)+1,Hm=H(wl,1),w0=H(wl,Hm==0?1:8);Wu[w0]=1,Um==2&&(Wu[w0=H(wl,8)]=1);var Vu=1}else{var N0=s(19),S0=H(wl,4)+4;if(19<S0){Yd.a=3;var Xd=0;break a}for(qd=0;qd<S0;++qd)N0[gl[qd]]=H(wl,3);var th=void 0,qu=void 0,Wm=Yd,Vm=N0,Nl=eh,Kd=Wu,rh=0,vo=Wm.m,Yu=8,_0=l(128,C);n:for(;L(_0,0,7,Vm,19);){if(H(vo,1)){var qm=2+2*H(vo,3);if((th=2+H(vo,qm))>Nl)break n}else th=Nl;for(qu=0;qu<Nl&&th--;){se(vo);var T0=_0[0+(127&z(vo))];X(vo,vo.u+T0.g);var su=T0.value;if(16>su)Kd[qu++]=su,su!=0&&(Yu=su);else{var Ym=su==16,k0=su-16,j0=to[k0],E0=H(vo,Yf[k0])+j0;if(qu+E0>Nl)break n;for(var Gm=Ym?Yu:0;0<E0--;)Kd[qu++]=Gm}}rh=1;break n}rh||(Wm.a=3),Vu=rh}(Vu=Vu&&!wl.h)&&(Gd=L($m,zm,8,Wu,eh)),Vu&&Gd!=0?Xd=Gd:(Yd.a=3,Xd=0)}if(Xd==0)break r;if(Hu&&Zc[en]==1&&(Hu=fc[Jn].g==0),Vd+=fc[Jn].g,Jn+=Xd,3>=en){var iu,nh=au[0];for(iu=1;iu<_a;++iu)au[iu]>nh&&(nh=au[iu]);Zf+=nh}}if(vi.nd=Hu,vi.Qb=0,Hu&&(vi.qb=(hc[3][bi[3]+0].value<<24|hc[1][bi[1]+0].value<<16|hc[2][bi[2]+0].value)>>>0,Vd==0&&256>hc[0][bi[0]+0].value&&(vi.Qb=1,vi.qb+=hc[0][bi[0]+0].value<<8)),vi.jc=!vi.Qb&&6>Zf,vi.jc){var Jd,Sl=vi;for(Jd=0;Jd<ga;++Jd){var Ho=Jd,_l=Sl.pd[Ho],Qd=Sl.G[0][Sl.H[0]+Ho];256<=Qd.value?(_l.g=Qd.g+256,_l.value=Qd.value):(_l.g=0,_l.value=0,Ho>>=Ur(Qd,8,_l),Ho>>=Ur(Sl.G[1][Sl.H[1]+Ho],16,_l),Ho>>=Ur(Sl.G[2][Sl.H[2]+Ho],0,_l),Ur(Sl.G[3][Sl.H[3]+Ho],24,_l))}}}za.vc=Ua,za.Wb=Ka,za.Ya=ja,za.yc=Wd,Gn=1;break t}Gn=0}if(!(he=Gn)){K.a=3;break e}if(0<ct){if(ke.ua=1<<ct,!ft(ke.Wa,ct)){K.a=1,he=0;break e}}else ke.ua=0;var Zd=K,A0=pe,Xm=me,C0=Zd.s,D0=C0.xc;if(Zd.c=A0,Zd.i=Xm,C0.md=at(A0,D0),C0.wc=D0==0?-1:(1<<D0)-1,U){K.xb=Fm;break e}if((Ue=s(pe*me))==null){K.a=1,he=0;break e}he=(he=Ne(K,Ue,0,pe,me,me,null))&&!we.h;break e}return he?(oe!=null?oe[0]=Ue:(r(Ue==null),r(U)),K.$=0,U||Ge(ke)):Ge(ke),he}function nt(b,E){var U=b.c*b.i,K=U+E+16*E;return r(b.c<=E),b.V=s(K),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+U+E,1)}function st(b,E){var U=b.C,K=E-U,oe=b.V,he=b.Ba+b.c*U;for(r(E<=b.l.o);0<K;){var pe=16<K?16:K,me=b.l.ma,we=b.l.width,ke=we*pe,Ue=me.ca,ct=me.tb+we*U,it=b.Ta,Xe=b.Ua;le(b,pe,oe,he),la(it,Xe,Ue,ct,ke),de(me,U,U+pe,Ue,ct,we),K-=pe,oe+=pe*b.c,U+=pe}r(U==E),b.C=b.Ma=E}function rt(){this.ub=this.yd=this.td=this.Rb=0}function Gt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function nr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function zt(){this.Yb=function(){var b=[];return function E(U,K,oe){for(var he=oe[K],pe=0;pe<he&&(U.push(oe.length>K+1?[]:0),!(oe.length<K+1));pe++)E(U[pe],K+1,oe)}(b,0,[3,11]),b}()}function tr(){this.jb=s(3),this.Wc=u([4,8],zt),this.Xc=u([4,17],zt)}function Ar(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Zr(){this.ld=this.La=this.dd=this.tc=0}function wn(){this.Na=this.la=0}function cn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ca(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Va(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zr),this.Y=0,this.ya=Array(new Ca),this.aa=0,this.l=new Xt}function Je(){this.y=s(16),this.f=s(8),this.ea=s(8)}function At(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new rt,this.Kc=new Gt,this.ed=new Ar,this.Qa=new nr,this.Ic=this.$c=this.Aa=0,this.D=new Va,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,ne),this.ia=0,this.pb=l(4,cn),this.Pa=new tr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Je),this.Hd=0,this.rb=Array(new wn),this.sb=0,this.wa=Array(new Zr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ca),this.L=this.aa=0,this.gd=u([4,2],Zr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Xt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jt(){var b=new At;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,cs||(cs=ur)),b}function fr(b,E,U){return b.a==0&&(b.a=E,b.sc=U,b.cb=0),0}function Pr(b,E,U){return 3<=U&&b[E+0]==157&&b[E+1]==1&&b[E+2]==42}function oa(b,E){if(b==null)return 0;if(b.a=0,b.sc="OK",E==null)return fr(b,2,"null VP8Io passed to VP8GetHeaders()");var U=E.data,K=E.w,oe=E.ha;if(4>oe)return fr(b,7,"Truncated header.");var he=U[K+0]|U[K+1]<<8|U[K+2]<<16,pe=b.Od;if(pe.Rb=!(1&he),pe.td=he>>1&7,pe.yd=he>>4&1,pe.ub=he>>5,3<pe.td)return fr(b,3,"Incorrect keyframe parameters.");if(!pe.yd)return fr(b,4,"Frame not displayable.");K+=3,oe-=3;var me=b.Kc;if(pe.Rb){if(7>oe)return fr(b,7,"cannot parse picture header");if(!Pr(U,K,oe))return fr(b,3,"Bad code word");me.c=16383&(U[K+4]<<8|U[K+3]),me.Td=U[K+4]>>6,me.i=16383&(U[K+6]<<8|U[K+5]),me.Ud=U[K+6]>>6,K+=7,oe-=7,b.za=me.c+15>>4,b.Ub=me.i+15>>4,E.width=me.c,E.height=me.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,a((he=b.Pa).jb,0,255,he.jb.length),r((he=b.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,a(he.Zb,0,0,he.Zb.length),a(he.Lb,0,0,he.Lb)}if(pe.ub>oe)return fr(b,7,"bad partition length");ce(he=b.m,U,K,pe.ub),K+=pe.ub,oe-=pe.ub,pe.Rb&&(me.Ld=fe(he),me.Kd=fe(he)),me=b.Qa;var we,ke=b.Pa;if(r(he!=null),r(me!=null),me.Cb=fe(he),me.Cb){if(me.Bb=fe(he),fe(he)){for(me.Fb=fe(he),we=0;4>we;++we)me.Zb[we]=fe(he)?J(he,7):0;for(we=0;4>we;++we)me.Lb[we]=fe(he)?J(he,6):0}if(me.Bb)for(we=0;3>we;++we)ke.jb[we]=fe(he)?W(he,8):255}else me.Bb=0;if(he.Ka)return fr(b,3,"cannot parse segment header");if((me=b.ed).zd=fe(he),me.Tb=W(he,6),me.wb=W(he,3),me.Pc=fe(he),me.Pc&&fe(he)){for(ke=0;4>ke;++ke)fe(he)&&(me.vd[ke]=J(he,6));for(ke=0;4>ke;++ke)fe(he)&&(me.od[ke]=J(he,6))}if(b.L=me.Tb==0?0:me.zd?1:2,he.Ka)return fr(b,3,"cannot parse filter header");var Ue=oe;if(oe=we=K,K=we+Ue,me=Ue,b.Xb=(1<<W(b.m,2))-1,Ue<3*(ke=b.Xb))U=7;else{for(we+=3*ke,me-=3*ke,Ue=0;Ue<ke;++Ue){var ct=U[oe+0]|U[oe+1]<<8|U[oe+2]<<16;ct>me&&(ct=me),ce(b.Jc[+Ue],U,we,ct),we+=ct,me-=ct,oe+=3}ce(b.Jc[+ke],U,we,me),U=we<K?0:5}if(U!=0)return fr(b,U,"cannot parse partitions");for(U=W(we=b.m,7),oe=fe(we)?J(we,4):0,K=fe(we)?J(we,4):0,me=fe(we)?J(we,4):0,ke=fe(we)?J(we,4):0,we=fe(we)?J(we,4):0,Ue=b.Qa,ct=0;4>ct;++ct){if(Ue.Cb){var it=Ue.Zb[ct];Ue.Fb||(it+=U)}else{if(0<ct){b.pb[ct]=b.pb[0];continue}it=U}var Xe=b.pb[ct];Xe.Sc[0]=$d[Jr(it+oe,127)],Xe.Sc[1]=zd[Jr(it+0,127)],Xe.Eb[0]=2*$d[Jr(it+K,127)],Xe.Eb[1]=101581*zd[Jr(it+me,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=$d[Jr(it+ke,117)],Xe.Qc[1]=zd[Jr(it+we,127)],Xe.lc=it+we}if(!pe.Rb)return fr(b,4,"Not a key frame.");for(fe(he),pe=b.Pa,U=0;4>U;++U){for(oe=0;8>oe;++oe)for(K=0;3>K;++K)for(me=0;11>me;++me)ke=G(he,tu[U][oe][K][me])?W(he,8):Io[U][oe][K][me],pe.Wc[U][oe].Yb[K][me]=ke;for(oe=0;17>oe;++oe)pe.Xc[U][oe]=pe.Wc[U][Mm[oe]]}return b.kc=fe(he),b.kc&&(b.Bd=W(he,8)),b.cb=1}function ur(b,E,U,K,oe,he,pe){var me=E[oe].Yb[U];for(U=0;16>oe;++oe){if(!G(b,me[U+0]))return oe;for(;!G(b,me[U+1]);)if(me=E[++oe].Yb[0],U=0,oe==16)return 16;var we=E[oe+1].Yb;if(G(b,me[U+2])){var ke=b,Ue=0;if(G(ke,(it=me)[(ct=U)+3]))if(G(ke,it[ct+6])){for(me=0,ct=2*(Ue=G(ke,it[ct+8]))+(it=G(ke,it[ct+9+Ue])),Ue=0,it=Ra[ct];it[me];++me)Ue+=Ue+G(ke,it[me]);Ue+=3+(8<<ct)}else G(ke,it[ct+7])?(Ue=7+2*G(ke,165),Ue+=G(ke,145)):Ue=5+G(ke,159);else Ue=G(ke,it[ct+4])?3+G(ke,it[ct+5]):2;me=we[2]}else Ue=1,me=we[1];we=pe+Rn[oe],0>(ke=b).b&&Se(ke);var ct,it=ke.b,Xe=(ct=ke.Ca>>1)-(ke.I>>it)>>31;--ke.b,ke.Ca+=Xe,ke.Ca|=1,ke.I-=(ct+1&Xe)<<it,he[we]=((Ue^Xe)-Xe)*K[(0<oe)+0]}return 16}function nn(b){var E=b.rb[b.sb-1];E.la=0,E.Na=0,a(b.zc,0,0,b.zc.length),b.ja=0}function jn(b,E){if(b==null)return 0;if(E==null)return fr(b,2,"NULL VP8Io parameter in VP8Decode().");if(!b.cb&&!oa(b,E))return 0;if(r(b.cb),E.ac==null||E.ac(E)){E.ob&&(b.L=0);var U=bl[b.L];if(b.L==2?(b.yb=0,b.zb=0):(b.yb=E.v-U>>4,b.zb=E.j-U>>4,0>b.yb&&(b.yb=0),0>b.zb&&(b.zb=0)),b.Va=E.o+15+U>>4,b.Hb=E.va+15+U>>4,b.Hb>b.za&&(b.Hb=b.za),b.Va>b.Ub&&(b.Va=b.Ub),0<b.L){var K=b.ed;for(U=0;4>U;++U){var oe;if(b.Qa.Cb){var he=b.Qa.Lb[U];b.Qa.Fb||(he+=K.Tb)}else he=K.Tb;for(oe=0;1>=oe;++oe){var pe=b.gd[U][oe],me=he;if(K.Pc&&(me+=K.vd[0],oe&&(me+=K.od[0])),0<(me=0>me?0:63<me?63:me)){var we=me;0<K.wb&&(we=4<K.wb?we>>2:we>>1)>9-K.wb&&(we=9-K.wb),1>we&&(we=1),pe.dd=we,pe.tc=2*me+we,pe.ld=40<=me?2:15<=me?1:0}else pe.tc=0;pe.La=oe}}}U=0}else fr(b,6,"Frame setup failed"),U=b.a;if(U=U==0){if(U){b.$c=0,0<b.Aa||(b.Ic=Bm);e:{U=b.Ic,K=4*(we=b.za);var ke=32*we,Ue=we+1,ct=0<b.L?we*(0<b.Aa?2:1):0,it=(b.Aa==2?2:1)*we;if((pe=K+832+(oe=3*(16*U+bl[b.L])/2*ke)+(he=b.Fa!=null&&0<b.Fa.length?b.Kc.c*b.Kc.i:0))!=pe)U=0;else{if(pe>b.Vb){if(b.Vb=0,b.Ec=s(pe),b.Fc=0,b.Ec==null){U=fr(b,1,"no memory during frame initialization.");break e}b.Vb=pe}pe=b.Ec,me=b.Fc,b.Ac=pe,b.Bc=me,me+=K,b.Gd=l(ke,Je),b.Hd=0,b.rb=l(Ue+1,wn),b.sb=1,b.wa=ct?l(ct,Zr):null,b.Y=0,b.D.Nb=0,b.D.wa=b.wa,b.D.Y=b.Y,0<b.Aa&&(b.D.Y+=we),r(!0),b.oc=pe,b.pc=me,me+=832,b.ya=l(it,Ca),b.aa=0,b.D.ya=b.ya,b.D.aa=b.aa,b.Aa==2&&(b.D.aa+=we),b.R=16*we,b.B=8*we,we=(ke=bl[b.L])*b.R,ke=ke/2*b.B,b.sa=pe,b.ta=me+we,b.qa=b.sa,b.ra=b.ta+16*U*b.R+ke,b.Ha=b.qa,b.Ia=b.ra+8*U*b.B+ke,b.$c=0,me+=oe,b.mb=he?pe:null,b.nb=he?me:null,r(me+he<=b.Fc+b.Vb),nn(b),a(b.Ac,b.Bc,0,K),U=1}}if(U){if(E.ka=0,E.y=b.sa,E.O=b.ta,E.f=b.qa,E.N=b.ra,E.ea=b.Ha,E.Vd=b.Ia,E.fa=b.R,E.Rc=b.B,E.F=null,E.J=0,!hl){for(U=-255;255>=U;++U)$a[255+U]=0>U?-U:U;for(U=-1020;1020>=U;++U)Zi[1020+U]=-128>U?-128:127<U?127:U;for(U=-112;112>=U;++U)ac[112+U]=-16>U?-16:15<U?15:U;for(U=-255;510>=U;++U)sc[255+U]=0>U?0:255<U?255:U;hl=1}Sa=hi,ls=Da,Bi=qa,Xa=ho,yi=Qs,Yn=rn,Gc=Ki,Po=Mo,Pu=Fu,ec=qc,tc=Mu,rc=ul,Xc=Xl,Bu=Yc,nc=go,fl=is,Kc=ei,La=Fd,ti[0]=ma,ti[1]=Na,ti[2]=ql,ti[3]=Wc,ti[4]=Oa,ti[5]=Oi,ti[6]=Yl,ti[7]=mi,ti[8]=Li,ti[9]=Gl,yl[0]=Hc,yl[1]=Yi,yl[2]=pi,yl[3]=Ds,yl[4]=on,yl[5]=ss,yl[6]=Xi,zi[0]=gi,zi[1]=Bs,zi[2]=po,zi[3]=Ya,zi[4]=Is,zi[5]=ka,zi[6]=mo,U=1}else U=0}U&&(U=function(Xe,Mt){for(Xe.M=0;Xe.M<Xe.Va;++Xe.M){var yt,He=Xe.Jc[Xe.M&Xe.Xb],Ye=Xe.m,Et=Xe;for(yt=0;yt<Et.za;++yt){var Ft=Ye,Lt=Et,pr=Lt.Ac,or=Lt.Bc+4*yt,Lr=Lt.zc,lr=Lt.ya[Lt.aa+yt];if(Lt.Qa.Bb?lr.$b=G(Ft,Lt.Pa.jb[0])?2+G(Ft,Lt.Pa.jb[2]):G(Ft,Lt.Pa.jb[1]):lr.$b=0,Lt.kc&&(lr.Ad=G(Ft,Lt.Bd)),lr.Za=!G(Ft,145)+0,lr.Za){var Dn=lr.Ob,Pn=0;for(Lt=0;4>Lt;++Lt){var pn,dn=Lr[0+Lt];for(pn=0;4>pn;++pn){dn=y0[pr[or+pn]][dn];for(var Gn=oc[G(Ft,dn[0])];0<Gn;)Gn=oc[2*Gn+G(Ft,dn[Gn])];dn=-Gn,pr[or+pn]=dn}n(Dn,Pn,pr,or,4),Pn+=4,Lr[0+Lt]=dn}}else dn=G(Ft,156)?G(Ft,128)?1:3:G(Ft,163)?2:0,lr.Ob[0]=dn,a(pr,or,dn,4),a(Lr,0,dn,4);lr.Dd=G(Ft,142)?G(Ft,114)?G(Ft,183)?1:3:2:0}if(Et.m.Ka)return fr(Xe,7,"Premature end-of-partition0 encountered.");for(;Xe.ja<Xe.za;++Xe.ja){if(Et=He,Ft=(Ye=Xe).rb[Ye.sb-1],pr=Ye.rb[Ye.sb+Ye.ja],yt=Ye.ya[Ye.aa+Ye.ja],or=Ye.kc?yt.Ad:0)Ft.la=pr.la=0,yt.Za||(Ft.Na=pr.Na=0),yt.Hc=0,yt.Gc=0,yt.ia=0;else{var Bn,en;if(Ft=pr,pr=Et,or=Ye.Pa.Xc,Lr=Ye.ya[Ye.aa+Ye.ja],lr=Ye.pb[Lr.$b],Lt=Lr.ad,Dn=0,Pn=Ye.rb[Ye.sb-1],dn=pn=0,a(Lt,Dn,0,384),Lr.Za)var Jn=0,Br=or[3];else{Gn=s(16);var Yr=Ft.Na+Pn.Na;if(Yr=cs(pr,or[1],Yr,lr.Eb,0,Gn,0),Ft.Na=Pn.Na=(0<Yr)+0,1<Yr)Sa(Gn,0,Lt,Dn);else{var An=Gn[0]+3>>3;for(Gn=0;256>Gn;Gn+=16)Lt[Dn+Gn]=An}Jn=1,Br=or[0]}var On=15&Ft.la,Ts=15&Pn.la;for(Gn=0;4>Gn;++Gn){var fs=1&Ts;for(An=en=0;4>An;++An)On=On>>1|(fs=(Yr=cs(pr,Br,Yr=fs+(1&On),lr.Sc,Jn,Lt,Dn))>Jn)<<7,en=en<<2|(3<Yr?3:1<Yr?2:Lt[Dn+0]!=0),Dn+=16;On>>=4,Ts=Ts>>1|fs<<7,pn=(pn<<8|en)>>>0}for(Br=On,Jn=Ts>>4,Bn=0;4>Bn;Bn+=2){for(en=0,On=Ft.la>>4+Bn,Ts=Pn.la>>4+Bn,Gn=0;2>Gn;++Gn){for(fs=1&Ts,An=0;2>An;++An)Yr=fs+(1&On),On=On>>1|(fs=0<(Yr=cs(pr,or[2],Yr,lr.Qc,0,Lt,Dn)))<<3,en=en<<2|(3<Yr?3:1<Yr?2:Lt[Dn+0]!=0),Dn+=16;On>>=2,Ts=Ts>>1|fs<<5}dn|=en<<4*Bn,Br|=On<<4<<Bn,Jn|=(240&Ts)<<Bn}Ft.la=Br,Pn.la=Jn,Lr.Hc=pn,Lr.Gc=dn,Lr.ia=43690&dn?0:lr.ia,or=!(pn|dn)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[yt.$b][yt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!or),Et.Ka)return fr(Xe,7,"Premature end-of-file encountered.")}if(nn(Xe),Ye=Mt,Et=1,yt=(He=Xe).D,Ft=0<He.L&&He.M>=He.zb&&He.M<=He.Va,He.Aa==0)e:{if(yt.M=He.M,yt.uc=Ft,Ls(He,yt),Et=1,yt=(en=He.D).Nb,Ft=(dn=bl[He.L])*He.R,pr=dn/2*He.B,Gn=16*yt*He.R,An=8*yt*He.B,or=He.sa,Lr=He.ta-Ft+Gn,lr=He.qa,Lt=He.ra-pr+An,Dn=He.Ha,Pn=He.Ia-pr+An,Ts=(On=en.M)==0,pn=On>=He.Va-1,He.Aa==2&&Ls(He,en),en.uc)for(fs=(Yr=He).D.M,r(Yr.D.uc),en=Yr.yb;en<Yr.Hb;++en){Jn=en,Br=fs;var za=(Ua=(_a=Yr).D).Nb;Bn=_a.R;var Ua=Ua.wa[Ua.Y+Jn],Ka=_a.sa,ro=_a.ta+16*za*Bn+16*Jn,In=Ua.dd,Ja=Ua.tc;if(Ja!=0)if(r(3<=Ja),_a.L==1)0<Jn&&fl(Ka,ro,Bn,Ja+4),Ua.La&&La(Ka,ro,Bn,Ja),0<Br&&nc(Ka,ro,Bn,Ja+4),Ua.La&&Kc(Ka,ro,Bn,Ja);else{var yo=_a.B,uc=_a.qa,nu=_a.ra+8*za*yo+8*Jn,dc=_a.Ha,_a=_a.Ia+8*za*yo+8*Jn;za=Ua.ld,0<Jn&&(Po(Ka,ro,Bn,Ja+4,In,za),ec(uc,nu,dc,_a,yo,Ja+4,In,za)),Ua.La&&(rc(Ka,ro,Bn,Ja,In,za),Bu(uc,nu,dc,_a,yo,Ja,In,za)),0<Br&&(Gc(Ka,ro,Bn,Ja+4,In,za),Pu(uc,nu,dc,_a,yo,Ja+4,In,za)),Ua.La&&(tc(Ka,ro,Bn,Ja,In,za),Xc(uc,nu,dc,_a,yo,Ja,In,za))}}if(He.ia&&alert("todo:DitherRow"),Ye.put!=null){if(en=16*On,On=16*(On+1),Ts?(Ye.y=He.sa,Ye.O=He.ta+Gn,Ye.f=He.qa,Ye.N=He.ra+An,Ye.ea=He.Ha,Ye.W=He.Ia+An):(en-=dn,Ye.y=or,Ye.O=Lr,Ye.f=lr,Ye.N=Lt,Ye.ea=Dn,Ye.W=Pn),pn||(On-=dn),On>Ye.o&&(On=Ye.o),Ye.F=null,Ye.J=null,He.Fa!=null&&0<He.Fa.length&&en<On&&(Ye.J=zs(He,Ye,en,On-en),Ye.F=He.mb,Ye.F==null&&Ye.F.length==0)){Et=fr(He,3,"Could not decode alpha data.");break e}en<Ye.j&&(dn=Ye.j-en,en=Ye.j,r(!(1&dn)),Ye.O+=He.R*dn,Ye.N+=He.B*(dn>>1),Ye.W+=He.B*(dn>>1),Ye.F!=null&&(Ye.J+=Ye.width*dn)),en<On&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=en-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=On-en,Et=Ye.put(Ye))}yt+1!=He.Ic||pn||(n(He.sa,He.ta-Ft,or,Lr+16*He.R,Ft),n(He.qa,He.ra-pr,lr,Lt+8*He.B,pr),n(He.Ha,He.Ia-pr,Dn,Pn+8*He.B,pr))}if(!Et)return fr(Xe,6,"Output aborted.")}return 1}(b,E)),E.bc!=null&&E.bc(E),U&=1}return U?(b.cb=0,U):0}function wr(b,E,U,K,oe){oe=b[E+U+32*K]+(oe>>3),b[E+U+32*K]=-256&oe?0>oe?0:255:oe}function Nr(b,E,U,K,oe,he){wr(b,E,0,U,K+oe),wr(b,E,1,U,K+he),wr(b,E,2,U,K-he),wr(b,E,3,U,K-oe)}function Nn(b){return(20091*b>>16)+b}function Js(b,E,U,K){var oe,he=0,pe=s(16);for(oe=0;4>oe;++oe){var me=b[E+0]+b[E+8],we=b[E+0]-b[E+8],ke=(35468*b[E+4]>>16)-Nn(b[E+12]),Ue=Nn(b[E+4])+(35468*b[E+12]>>16);pe[he+0]=me+Ue,pe[he+1]=we+ke,pe[he+2]=we-ke,pe[he+3]=me-Ue,he+=4,E++}for(oe=he=0;4>oe;++oe)me=(b=pe[he+0]+4)+pe[he+8],we=b-pe[he+8],ke=(35468*pe[he+4]>>16)-Nn(pe[he+12]),wr(U,K,0,0,me+(Ue=Nn(pe[he+4])+(35468*pe[he+12]>>16))),wr(U,K,1,0,we+ke),wr(U,K,2,0,we-ke),wr(U,K,3,0,me-Ue),he++,K+=32}function rn(b,E,U,K){var oe=b[E+0]+4,he=35468*b[E+4]>>16,pe=Nn(b[E+4]),me=35468*b[E+1]>>16;Nr(U,K,0,oe+pe,b=Nn(b[E+1]),me),Nr(U,K,1,oe+he,b,me),Nr(U,K,2,oe-he,b,me),Nr(U,K,3,oe-pe,b,me)}function Da(b,E,U,K,oe){Js(b,E,U,K),oe&&Js(b,E+16,U,K+4)}function qa(b,E,U,K){ls(b,E+0,U,K,1),ls(b,E+32,U,K+128,1)}function ho(b,E,U,K){var oe;for(b=b[E+0]+4,oe=0;4>oe;++oe)for(E=0;4>E;++E)wr(U,K,E,oe,b)}function Qs(b,E,U,K){b[E+0]&&Xa(b,E+0,U,K),b[E+16]&&Xa(b,E+16,U,K+4),b[E+32]&&Xa(b,E+32,U,K+128),b[E+48]&&Xa(b,E+48,U,K+128+4)}function hi(b,E,U,K){var oe,he=s(16);for(oe=0;4>oe;++oe){var pe=b[E+0+oe]+b[E+12+oe],me=b[E+4+oe]+b[E+8+oe],we=b[E+4+oe]-b[E+8+oe],ke=b[E+0+oe]-b[E+12+oe];he[0+oe]=pe+me,he[8+oe]=pe-me,he[4+oe]=ke+we,he[12+oe]=ke-we}for(oe=0;4>oe;++oe)pe=(b=he[0+4*oe]+3)+he[3+4*oe],me=he[1+4*oe]+he[2+4*oe],we=he[1+4*oe]-he[2+4*oe],ke=b-he[3+4*oe],U[K+0]=pe+me>>3,U[K+16]=ke+we>>3,U[K+32]=pe-me>>3,U[K+48]=ke-we>>3,K+=64}function pa(b,E,U){var K,oe=E-32,he=Ss,pe=255-b[oe-1];for(K=0;K<U;++K){var me,we=he,ke=pe+b[E-1];for(me=0;me<U;++me)b[E+me]=we[ke+b[oe+me]];E+=32}}function Na(b,E){pa(b,E,4)}function Bs(b,E){pa(b,E,8)}function Yi(b,E){pa(b,E,16)}function pi(b,E){var U;for(U=0;16>U;++U)n(b,E+32*U,b,E-32,16)}function Ds(b,E){var U;for(U=16;0<U;--U)a(b,E,b[E-1],16),E+=32}function Gi(b,E,U){var K;for(K=0;16>K;++K)a(E,U+32*K,b,16)}function Hc(b,E){var U,K=16;for(U=0;16>U;++U)K+=b[E-1+32*U]+b[E+U-32];Gi(K>>5,b,E)}function on(b,E){var U,K=8;for(U=0;16>U;++U)K+=b[E-1+32*U];Gi(K>>4,b,E)}function ss(b,E){var U,K=8;for(U=0;16>U;++U)K+=b[E+U-32];Gi(K>>4,b,E)}function Xi(b,E){Gi(128,b,E)}function Wr(b,E,U){return b+2*E+U+2>>2}function ql(b,E){var U,K=E-32;for(K=new Uint8Array([Wr(b[K-1],b[K+0],b[K+1]),Wr(b[K+0],b[K+1],b[K+2]),Wr(b[K+1],b[K+2],b[K+3]),Wr(b[K+2],b[K+3],b[K+4])]),U=0;4>U;++U)n(b,E+32*U,K,0,K.length)}function Wc(b,E){var U=b[E-1],K=b[E-1+32],oe=b[E-1+64],he=b[E-1+96];be(b,E+0,16843009*Wr(b[E-1-32],U,K)),be(b,E+32,16843009*Wr(U,K,oe)),be(b,E+64,16843009*Wr(K,oe,he)),be(b,E+96,16843009*Wr(oe,he,he))}function ma(b,E){var U,K=4;for(U=0;4>U;++U)K+=b[E+U-32]+b[E-1+32*U];for(K>>=3,U=0;4>U;++U)a(b,E+32*U,K,4)}function Oa(b,E){var U=b[E-1+0],K=b[E-1+32],oe=b[E-1+64],he=b[E-1-32],pe=b[E+0-32],me=b[E+1-32],we=b[E+2-32],ke=b[E+3-32];b[E+0+96]=Wr(K,oe,b[E-1+96]),b[E+1+96]=b[E+0+64]=Wr(U,K,oe),b[E+2+96]=b[E+1+64]=b[E+0+32]=Wr(he,U,K),b[E+3+96]=b[E+2+64]=b[E+1+32]=b[E+0+0]=Wr(pe,he,U),b[E+3+64]=b[E+2+32]=b[E+1+0]=Wr(me,pe,he),b[E+3+32]=b[E+2+0]=Wr(we,me,pe),b[E+3+0]=Wr(ke,we,me)}function Yl(b,E){var U=b[E+1-32],K=b[E+2-32],oe=b[E+3-32],he=b[E+4-32],pe=b[E+5-32],me=b[E+6-32],we=b[E+7-32];b[E+0+0]=Wr(b[E+0-32],U,K),b[E+1+0]=b[E+0+32]=Wr(U,K,oe),b[E+2+0]=b[E+1+32]=b[E+0+64]=Wr(K,oe,he),b[E+3+0]=b[E+2+32]=b[E+1+64]=b[E+0+96]=Wr(oe,he,pe),b[E+3+32]=b[E+2+64]=b[E+1+96]=Wr(he,pe,me),b[E+3+64]=b[E+2+96]=Wr(pe,me,we),b[E+3+96]=Wr(me,we,we)}function Oi(b,E){var U=b[E-1+0],K=b[E-1+32],oe=b[E-1+64],he=b[E-1-32],pe=b[E+0-32],me=b[E+1-32],we=b[E+2-32],ke=b[E+3-32];b[E+0+0]=b[E+1+64]=he+pe+1>>1,b[E+1+0]=b[E+2+64]=pe+me+1>>1,b[E+2+0]=b[E+3+64]=me+we+1>>1,b[E+3+0]=we+ke+1>>1,b[E+0+96]=Wr(oe,K,U),b[E+0+64]=Wr(K,U,he),b[E+0+32]=b[E+1+96]=Wr(U,he,pe),b[E+1+32]=b[E+2+96]=Wr(he,pe,me),b[E+2+32]=b[E+3+96]=Wr(pe,me,we),b[E+3+32]=Wr(me,we,ke)}function mi(b,E){var U=b[E+0-32],K=b[E+1-32],oe=b[E+2-32],he=b[E+3-32],pe=b[E+4-32],me=b[E+5-32],we=b[E+6-32],ke=b[E+7-32];b[E+0+0]=U+K+1>>1,b[E+1+0]=b[E+0+64]=K+oe+1>>1,b[E+2+0]=b[E+1+64]=oe+he+1>>1,b[E+3+0]=b[E+2+64]=he+pe+1>>1,b[E+0+32]=Wr(U,K,oe),b[E+1+32]=b[E+0+96]=Wr(K,oe,he),b[E+2+32]=b[E+1+96]=Wr(oe,he,pe),b[E+3+32]=b[E+2+96]=Wr(he,pe,me),b[E+3+64]=Wr(pe,me,we),b[E+3+96]=Wr(me,we,ke)}function Gl(b,E){var U=b[E-1+0],K=b[E-1+32],oe=b[E-1+64],he=b[E-1+96];b[E+0+0]=U+K+1>>1,b[E+2+0]=b[E+0+32]=K+oe+1>>1,b[E+2+32]=b[E+0+64]=oe+he+1>>1,b[E+1+0]=Wr(U,K,oe),b[E+3+0]=b[E+1+32]=Wr(K,oe,he),b[E+3+32]=b[E+1+64]=Wr(oe,he,he),b[E+3+64]=b[E+2+64]=b[E+0+96]=b[E+1+96]=b[E+2+96]=b[E+3+96]=he}function Li(b,E){var U=b[E-1+0],K=b[E-1+32],oe=b[E-1+64],he=b[E-1+96],pe=b[E-1-32],me=b[E+0-32],we=b[E+1-32],ke=b[E+2-32];b[E+0+0]=b[E+2+32]=U+pe+1>>1,b[E+0+32]=b[E+2+64]=K+U+1>>1,b[E+0+64]=b[E+2+96]=oe+K+1>>1,b[E+0+96]=he+oe+1>>1,b[E+3+0]=Wr(me,we,ke),b[E+2+0]=Wr(pe,me,we),b[E+1+0]=b[E+3+32]=Wr(U,pe,me),b[E+1+32]=b[E+3+64]=Wr(K,U,pe),b[E+1+64]=b[E+3+96]=Wr(oe,K,U),b[E+1+96]=Wr(he,oe,K)}function po(b,E){var U;for(U=0;8>U;++U)n(b,E+32*U,b,E-32,8)}function Ya(b,E){var U;for(U=0;8>U;++U)a(b,E,b[E-1],8),E+=32}function Zs(b,E,U){var K;for(K=0;8>K;++K)a(E,U+32*K,b,8)}function gi(b,E){var U,K=8;for(U=0;8>U;++U)K+=b[E+U-32]+b[E-1+32*U];Zs(K>>4,b,E)}function ka(b,E){var U,K=4;for(U=0;8>U;++U)K+=b[E+U-32];Zs(K>>3,b,E)}function Is(b,E){var U,K=4;for(U=0;8>U;++U)K+=b[E-1+32*U];Zs(K>>3,b,E)}function mo(b,E){Zs(128,b,E)}function Ri(b,E,U){var K=b[E-U],oe=b[E+0],he=3*(oe-K)+Vf[1020+b[E-2*U]-b[E+U]],pe=Jc[112+(he+4>>3)];b[E-U]=Ss[255+K+Jc[112+(he+3>>3)]],b[E+0]=Ss[255+oe-pe]}function Vc(b,E,U,K){var oe=b[E+0],he=b[E+U];return eo[255+b[E-2*U]-b[E-U]]>K||eo[255+he-oe]>K}function ll(b,E,U,K){return 4*eo[255+b[E-U]-b[E+0]]+eo[255+b[E-2*U]-b[E+U]]<=K}function cl(b,E,U,K,oe){var he=b[E-3*U],pe=b[E-2*U],me=b[E-U],we=b[E+0],ke=b[E+U],Ue=b[E+2*U],ct=b[E+3*U];return 4*eo[255+me-we]+eo[255+pe-ke]>K?0:eo[255+b[E-4*U]-he]<=oe&&eo[255+he-pe]<=oe&&eo[255+pe-me]<=oe&&eo[255+ct-Ue]<=oe&&eo[255+Ue-ke]<=oe&&eo[255+ke-we]<=oe}function go(b,E,U,K){var oe=2*K+1;for(K=0;16>K;++K)ll(b,E+K,U,oe)&&Ri(b,E+K,U)}function is(b,E,U,K){var oe=2*K+1;for(K=0;16>K;++K)ll(b,E+K*U,1,oe)&&Ri(b,E+K*U,1)}function ei(b,E,U,K){var oe;for(oe=3;0<oe;--oe)go(b,E+=4*U,U,K)}function Fd(b,E,U,K){var oe;for(oe=3;0<oe;--oe)is(b,E+=4,U,K)}function xo(b,E,U,K,oe,he,pe,me){for(he=2*he+1;0<oe--;){if(cl(b,E,U,he,pe))if(Vc(b,E,U,me))Ri(b,E,U);else{var we=b,ke=E,Ue=U,ct=we[ke-2*Ue],it=we[ke-Ue],Xe=we[ke+0],Mt=we[ke+Ue],yt=we[ke+2*Ue],He=27*(Et=Vf[1020+3*(Xe-it)+Vf[1020+ct-Mt]])+63>>7,Ye=18*Et+63>>7,Et=9*Et+63>>7;we[ke-3*Ue]=Ss[255+we[ke-3*Ue]+Et],we[ke-2*Ue]=Ss[255+ct+Ye],we[ke-Ue]=Ss[255+it+He],we[ke+0]=Ss[255+Xe-He],we[ke+Ue]=Ss[255+Mt-Ye],we[ke+2*Ue]=Ss[255+yt-Et]}E+=K}}function $s(b,E,U,K,oe,he,pe,me){for(he=2*he+1;0<oe--;){if(cl(b,E,U,he,pe))if(Vc(b,E,U,me))Ri(b,E,U);else{var we=b,ke=E,Ue=U,ct=we[ke-Ue],it=we[ke+0],Xe=we[ke+Ue],Mt=Jc[112+((yt=3*(it-ct))+4>>3)],yt=Jc[112+(yt+3>>3)],He=Mt+1>>1;we[ke-2*Ue]=Ss[255+we[ke-2*Ue]+He],we[ke-Ue]=Ss[255+ct+yt],we[ke+0]=Ss[255+it-Mt],we[ke+Ue]=Ss[255+Xe-He]}E+=K}}function Ki(b,E,U,K,oe,he){xo(b,E,U,1,16,K,oe,he)}function Mo(b,E,U,K,oe,he){xo(b,E,1,U,16,K,oe,he)}function Mu(b,E,U,K,oe,he){var pe;for(pe=3;0<pe;--pe)$s(b,E+=4*U,U,1,16,K,oe,he)}function ul(b,E,U,K,oe,he){var pe;for(pe=3;0<pe;--pe)$s(b,E+=4,1,U,16,K,oe,he)}function Fu(b,E,U,K,oe,he,pe,me){xo(b,E,oe,1,8,he,pe,me),xo(U,K,oe,1,8,he,pe,me)}function qc(b,E,U,K,oe,he,pe,me){xo(b,E,1,oe,8,he,pe,me),xo(U,K,1,oe,8,he,pe,me)}function Xl(b,E,U,K,oe,he,pe,me){$s(b,E+4*oe,oe,1,8,he,pe,me),$s(U,K+4*oe,oe,1,8,he,pe,me)}function Yc(b,E,U,K,oe,he,pe,me){$s(b,E+4,1,oe,8,he,pe,me),$s(U,K+4,1,oe,8,he,pe,me)}function Fo(){this.ba=new ve,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Kl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Jl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ql(){this.ua=0,this.Wa=new xe,this.vb=new xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new C}function Pd(){this.xb=this.a=0,this.l=new Xt,this.ca=new ve,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new D,this.Pb=0,this.wd=new D,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ql,this.ab=0,this.gc=l(4,Jl),this.Oc=0}function Zl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Xt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dl(b,E,U,K,oe,he,pe){for(b=b==null?0:b[E+0],E=0;E<pe;++E)oe[he+E]=b+U[K+E]&255,b=oe[he+E]}function Ga(b,E,U,K,oe,he,pe){var me;if(b==null)dl(null,null,U,K,oe,he,pe);else for(me=0;me<pe;++me)oe[he+me]=b[E+me]+U[K+me]&255}function ws(b,E,U,K,oe,he,pe){if(b==null)dl(null,null,U,K,oe,he,pe);else{var me,we=b[E+0],ke=we,Ue=we;for(me=0;me<pe;++me)ke=Ue+(we=b[E+me])-ke,Ue=U[K+me]+(-256&ke?0>ke?0:255:ke)&255,ke=we,oe[he+me]=Ue}}function zs(b,E,U,K){var oe=E.width,he=E.o;if(r(b!=null&&E!=null),0>U||0>=K||U+K>he)return null;if(!b.Cc){if(b.ga==null){var pe;if(b.ga=new Zl,(pe=b.ga==null)||(pe=E.width*E.o,r(b.Gb.length==0),b.Gb=s(pe),b.Uc=0,b.Gb==null?pe=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,pe=1),pe=!pe),!pe){pe=b.ga;var me=b.Fa,we=b.P,ke=b.qc,Ue=b.mb,ct=b.nb,it=we+1,Xe=ke-1,Mt=pe.l;if(r(me!=null&&Ue!=null&&E!=null),$o[0]=null,$o[1]=dl,$o[2]=Ga,$o[3]=ws,pe.ca=Ue,pe.tb=ct,pe.c=E.width,pe.i=E.height,r(0<pe.c&&0<pe.i),1>=ke)E=0;else if(pe.$a=me[we+0]>>0&3,pe.Z=me[we+0]>>2&3,pe.Lc=me[we+0]>>4&3,we=me[we+0]>>6&3,0>pe.$a||1<pe.$a||4<=pe.Z||1<pe.Lc||we)E=0;else if(Mt.put=ar,Mt.ac=er,Mt.bc=St,Mt.ma=pe,Mt.width=E.width,Mt.height=E.height,Mt.Da=E.Da,Mt.v=E.v,Mt.va=E.va,Mt.j=E.j,Mt.o=E.o,pe.$a)e:{r(pe.$a==1),E=ut();t:for(;;){if(E==null){E=0;break e}if(r(pe!=null),pe.mc=E,E.c=pe.c,E.i=pe.i,E.l=pe.l,E.l.ma=pe,E.l.width=pe.c,E.l.height=pe.i,E.a=0,re(E.m,me,it,Xe),!We(pe.c,pe.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&te(E.s)?(pe.ic=1,me=E.c*E.i,E.Ta=null,E.Ua=0,E.V=s(me),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(pe.ic=0,E=nt(E,pe.c)),!E))break t;E=1;break e}pe.mc=null,E=0}else E=Xe>=pe.c*pe.i;pe=!E}if(pe)return null;b.ga.Lc!=1?b.Ga=0:K=he-U}r(b.ga!=null),r(U+K<=he);e:{if(E=(me=b.ga).c,he=me.l.o,me.$a==0){if(it=b.rc,Xe=b.Vc,Mt=b.Fa,we=b.P+1+U*E,ke=b.mb,Ue=b.nb+U*E,r(we<=b.P+b.qc),me.Z!=0)for(r($o[me.Z]!=null),pe=0;pe<K;++pe)$o[me.Z](it,Xe,Mt,we,ke,Ue,E),it=ke,Xe=Ue,Ue+=E,we+=E;else for(pe=0;pe<K;++pe)n(ke,Ue,Mt,we,E),it=ke,Xe=Ue,Ue+=E,we+=E;b.rc=it,b.Vc=Xe}else{if(r(me.mc!=null),E=U+K,r((pe=me.mc)!=null),r(E<=pe.i),pe.C>=E)E=1;else if(me.ic||tt(),me.ic){me=pe.V,it=pe.Ba,Xe=pe.c;var yt=pe.i,He=(Mt=1,we=pe.$/Xe,ke=pe.$%Xe,Ue=pe.m,ct=pe.s,pe.$),Ye=Xe*yt,Et=Xe*E,Ft=ct.wc,Lt=He<Et?Ir(ct,ke,we):null;r(He<=Ye),r(E<=yt),r(te(ct));t:for(;;){for(;!Ue.h&&He<Et;){if(ke&Ft||(Lt=Ir(ct,ke,we)),r(Lt!=null),se(Ue),256>(yt=Ot(Lt.G[0],Lt.H[0],Ue)))me[it+He]=yt,++He,++ke>=Xe&&(ke=0,++we<=E&&!(we%16)&&ye(pe,we));else{if(!(280>yt)){Mt=0;break t}yt=Bt(yt-256,Ue);var pr,or=Ot(Lt.G[4],Lt.H[4],Ue);if(se(Ue),!(He>=(or=Kt(Xe,or=Bt(or,Ue)))&&Ye-He>=yt)){Mt=0;break t}for(pr=0;pr<yt;++pr)me[it+He+pr]=me[it+He+pr-or];for(He+=yt,ke+=yt;ke>=Xe;)ke-=Xe,++we<=E&&!(we%16)&&ye(pe,we);He<Et&&ke&Ft&&(Lt=Ir(ct,ke,we))}r(Ue.h==q(Ue))}ye(pe,we>E?E:we);break t}!Mt||Ue.h&&He<Ye?(Mt=0,pe.a=Ue.h?5:3):pe.$=He,E=Mt}else E=Ne(pe,pe.V,pe.Ba,pe.c,pe.i,E,st);if(!E){K=0;break e}}U+K>=he&&(b.Cc=1),K=1}if(!K)return null;if(b.Cc&&((K=b.ga)!=null&&(K.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+U*oe}function F(b,E,U,K,oe,he){for(;0<oe--;){var pe,me=b,we=E+(U?1:0),ke=b,Ue=E+(U?0:3);for(pe=0;pe<K;++pe){var ct=ke[Ue+4*pe];ct!=255&&(ct*=32897,me[we+4*pe+0]=me[we+4*pe+0]*ct>>23,me[we+4*pe+1]=me[we+4*pe+1]*ct>>23,me[we+4*pe+2]=me[we+4*pe+2]*ct>>23)}E+=he}}function ie(b,E,U,K,oe){for(;0<K--;){var he;for(he=0;he<U;++he){var pe=b[E+2*he+0],me=15&(ke=b[E+2*he+1]),we=4369*me,ke=(240&ke|ke>>4)*we>>16;b[E+2*he+0]=(240&pe|pe>>4)*we>>16&240|(15&pe|pe<<4)*we>>16>>4&15,b[E+2*he+1]=240&ke|me}E+=oe}}function je(b,E,U,K,oe,he,pe,me){var we,ke,Ue=255;for(ke=0;ke<oe;++ke){for(we=0;we<K;++we){var ct=b[E+we];he[pe+4*we]=ct,Ue&=ct}E+=U,pe+=me}return Ue!=255}function Ie(b,E,U,K,oe){var he;for(he=0;he<oe;++he)U[K+he]=b[E+he]>>8}function tt(){Ii=F,xn=ie,yn=je,la=Ie}function Nt(b,E,U){I[b]=function(K,oe,he,pe,me,we,ke,Ue,ct,it,Xe,Mt,yt,He,Ye,Et,Ft){var Lt,pr=Ft-1>>1,or=me[we+0]|ke[Ue+0]<<16,Lr=ct[it+0]|Xe[Mt+0]<<16;r(K!=null);var lr=3*or+Lr+131074>>2;for(E(K[oe+0],255&lr,lr>>16,yt,He),he!=null&&(lr=3*Lr+or+131074>>2,E(he[pe+0],255&lr,lr>>16,Ye,Et)),Lt=1;Lt<=pr;++Lt){var Dn=me[we+Lt]|ke[Ue+Lt]<<16,Pn=ct[it+Lt]|Xe[Mt+Lt]<<16,pn=or+Dn+Lr+Pn+524296,dn=pn+2*(Dn+Lr)>>3;lr=dn+or>>1,or=(pn=pn+2*(or+Pn)>>3)+Dn>>1,E(K[oe+2*Lt-1],255&lr,lr>>16,yt,He+(2*Lt-1)*U),E(K[oe+2*Lt-0],255&or,or>>16,yt,He+(2*Lt-0)*U),he!=null&&(lr=pn+Lr>>1,or=dn+Pn>>1,E(he[pe+2*Lt-1],255&lr,lr>>16,Ye,Et+(2*Lt-1)*U),E(he[pe+2*Lt+0],255&or,or>>16,Ye,Et+(2*Lt+0)*U)),or=Dn,Lr=Pn}1&Ft||(lr=3*or+Lr+131074>>2,E(K[oe+Ft-1],255&lr,lr>>16,yt,He+(Ft-1)*U),he!=null&&(lr=3*Lr+or+131074>>2,E(he[pe+Ft-1],255&lr,lr>>16,Ye,Et+(Ft-1)*U)))}}function qt(){_s[Hs]=vl,_s[Iu]=zo,_s[Bo]=lc,_s[Bd]=Gf,_s[Qc]=Xf,_s[pl]=Uu,_s[qf]=Kf,_s[Id]=zo,_s[ic]=Gf,_s[ml]=Xf,_s[$u]=Uu}function dr(b){return b&-16384?0>b?0:255:b>>S2}function br(b,E){return dr((19077*b>>8)+(26149*E>>8)-14234)}function ue(b,E,U){return dr((19077*b>>8)-(6419*E>>8)-(13320*U>>8)+8708)}function Oe(b,E){return dr((19077*b>>8)+(33050*E>>8)-17685)}function Z(b,E,U,K,oe){K[oe+0]=br(b,U),K[oe+1]=ue(b,E,U),K[oe+2]=Oe(b,E)}function Pt(b,E,U,K,oe){K[oe+0]=Oe(b,E),K[oe+1]=ue(b,E,U),K[oe+2]=br(b,U)}function Me(b,E,U,K,oe){var he=ue(b,E,U);E=he<<3&224|Oe(b,E)>>3,K[oe+0]=248&br(b,U)|he>>5,K[oe+1]=E}function Ut(b,E,U,K,oe){var he=240&Oe(b,E)|15;K[oe+0]=240&br(b,U)|ue(b,E,U)>>4,K[oe+1]=he}function Tr(b,E,U,K,oe){K[oe+0]=255,Z(b,E,U,K,oe+1)}function Xr(b,E,U,K,oe){Pt(b,E,U,K,oe),K[oe+3]=255}function Hr(b,E,U,K,oe){Z(b,E,U,K,oe),K[oe+3]=255}function Jr(b,E){return 0>b?0:b>E?E:b}function Un(b,E,U){I[b]=function(K,oe,he,pe,me,we,ke,Ue,ct){for(var it=Ue+(-2&ct)*U;Ue!=it;)E(K[oe+0],he[pe+0],me[we+0],ke,Ue),E(K[oe+1],he[pe+0],me[we+0],ke,Ue+U),oe+=2,++pe,++we,Ue+=2*U;1&ct&&E(K[oe+0],he[pe+0],me[we+0],ke,Ue)}}function Mi(b,E,U){return U==0?b==0?E==0?6:5:E==0?4:0:U}function Os(b,E,U,K,oe){switch(b>>>30){case 3:ls(E,U,K,oe,0);break;case 2:Yn(E,U,K,oe);break;case 1:Xa(E,U,K,oe)}}function Ls(b,E){var U,K,oe=E.M,he=E.Nb,pe=b.oc,me=b.pc+40,we=b.oc,ke=b.pc+584,Ue=b.oc,ct=b.pc+600;for(U=0;16>U;++U)pe[me+32*U-1]=129;for(U=0;8>U;++U)we[ke+32*U-1]=129,Ue[ct+32*U-1]=129;for(0<oe?pe[me-1-32]=we[ke-1-32]=Ue[ct-1-32]=129:(a(pe,me-32-1,127,21),a(we,ke-32-1,127,9),a(Ue,ct-32-1,127,9)),K=0;K<b.za;++K){var it=E.ya[E.aa+K];if(0<K){for(U=-1;16>U;++U)n(pe,me+32*U-4,pe,me+32*U+12,4);for(U=-1;8>U;++U)n(we,ke+32*U-4,we,ke+32*U+4,4),n(Ue,ct+32*U-4,Ue,ct+32*U+4,4)}var Xe=b.Gd,Mt=b.Hd+K,yt=it.ad,He=it.Hc;if(0<oe&&(n(pe,me-32,Xe[Mt].y,0,16),n(we,ke-32,Xe[Mt].f,0,8),n(Ue,ct-32,Xe[Mt].ea,0,8)),it.Za){var Ye=pe,Et=me-32+16;for(0<oe&&(K>=b.za-1?a(Ye,Et,Xe[Mt].y[15],4):n(Ye,Et,Xe[Mt+1].y,0,4)),U=0;4>U;U++)Ye[Et+128+U]=Ye[Et+256+U]=Ye[Et+384+U]=Ye[Et+0+U];for(U=0;16>U;++U,He<<=2)Ye=pe,Et=me+ru[U],ti[it.Ob[U]](Ye,Et),Os(He,yt,16*+U,Ye,Et)}else if(Ye=Mi(K,oe,it.Ob[0]),yl[Ye](pe,me),He!=0)for(U=0;16>U;++U,He<<=2)Os(He,yt,16*+U,pe,me+ru[U]);for(U=it.Gc,Ye=Mi(K,oe,it.Dd),zi[Ye](we,ke),zi[Ye](Ue,ct),He=yt,Ye=we,Et=ke,255&(it=U>>0)&&(170&it?Bi(He,256,Ye,Et):yi(He,256,Ye,Et)),it=Ue,He=ct,255&(U>>=8)&&(170&U?Bi(yt,320,it,He):yi(yt,320,it,He)),oe<b.Ub-1&&(n(Xe[Mt].y,0,pe,me+480,16),n(Xe[Mt].f,0,we,ke+224,8),n(Xe[Mt].ea,0,Ue,ct+224,8)),U=8*he*b.B,Xe=b.sa,Mt=b.ta+16*K+16*he*b.R,yt=b.qa,it=b.ra+8*K+U,He=b.Ha,Ye=b.Ia+8*K+U,U=0;16>U;++U)n(Xe,Mt+U*b.R,pe,me+32*U,16);for(U=0;8>U;++U)n(yt,it+U*b.B,we,ke+32*U,8),n(He,Ye+U*b.B,Ue,ct+32*U,8)}}function Ia(b,E,U,K,oe,he,pe,me,we){var ke=[0],Ue=[0],ct=0,it=we!=null?we.kd:0,Xe=we??new Kl;if(b==null||12>U)return 7;Xe.data=b,Xe.w=E,Xe.ha=U,E=[E],U=[U],Xe.gb=[Xe.gb];e:{var Mt=E,yt=U,He=Xe.gb;if(r(b!=null),r(yt!=null),r(He!=null),He[0]=0,12<=yt[0]&&!t(b,Mt[0],"RIFF")){if(t(b,Mt[0]+8,"WEBP")){He=3;break e}var Ye=lt(b,Mt[0]+4);if(12>Ye||4294967286<Ye){He=3;break e}if(it&&Ye>yt[0]-8){He=7;break e}He[0]=Ye,Mt[0]+=12,yt[0]-=12}He=0}if(He!=0)return He;for(Ye=0<Xe.gb[0],U=U[0];;){e:{var Et=b;yt=E,He=U;var Ft=ke,Lt=Ue,pr=Mt=[0];if((lr=ct=[ct])[0]=0,8>He[0])He=7;else{if(!t(Et,yt[0],"VP8X")){if(lt(Et,yt[0]+4)!=10){He=3;break e}if(18>He[0]){He=7;break e}var or=lt(Et,yt[0]+8),Lr=1+De(Et,yt[0]+12);if(2147483648<=Lr*(Et=1+De(Et,yt[0]+15))){He=3;break e}pr!=null&&(pr[0]=or),Ft!=null&&(Ft[0]=Lr),Lt!=null&&(Lt[0]=Et),yt[0]+=18,He[0]-=18,lr[0]=1}He=0}}if(ct=ct[0],Mt=Mt[0],He!=0)return He;if(yt=!!(2&Mt),!Ye&&ct)return 3;if(he!=null&&(he[0]=!!(16&Mt)),pe!=null&&(pe[0]=yt),me!=null&&(me[0]=0),pe=ke[0],Mt=Ue[0],ct&&yt&&we==null){He=0;break}if(4>U){He=7;break}if(Ye&&ct||!Ye&&!ct&&!t(b,E[0],"ALPH")){U=[U],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{or=b,He=E,Ye=U;var lr=Xe.gb;Ft=Xe.na,Lt=Xe.P,pr=Xe.Sa,Lr=22,r(or!=null),r(Ye!=null),Et=He[0];var Dn=Ye[0];for(r(Ft!=null),r(pr!=null),Ft[0]=null,Lt[0]=null,pr[0]=0;;){if(He[0]=Et,Ye[0]=Dn,8>Dn){He=7;break e}var Pn=lt(or,Et+4);if(4294967286<Pn){He=3;break e}var pn=8+Pn+1&-2;if(Lr+=pn,0<lr&&Lr>lr){He=3;break e}if(!t(or,Et,"VP8 ")||!t(or,Et,"VP8L")){He=0;break e}if(Dn[0]<pn){He=7;break e}t(or,Et,"ALPH")||(Ft[0]=or,Lt[0]=Et+8,pr[0]=Pn),Et+=pn,Dn-=pn}}if(U=U[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],He!=0)break}U=[U],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(lr=b,He=E,Ye=U,Ft=Xe.gb[0],Lt=Xe.Ja,pr=Xe.xa,or=He[0],Et=!t(lr,or,"VP8 "),Lr=!t(lr,or,"VP8L"),r(lr!=null),r(Ye!=null),r(Lt!=null),r(pr!=null),8>Ye[0])He=7;else{if(Et||Lr){if(lr=lt(lr,or+4),12<=Ft&&lr>Ft-12){He=3;break e}if(it&&lr>Ye[0]-8){He=7;break e}Lt[0]=lr,He[0]+=8,Ye[0]-=8,pr[0]=Lr}else pr[0]=5<=Ye[0]&&lr[or+0]==47&&!(lr[or+4]>>5),Lt[0]=Ye[0];He=0}if(U=U[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],E=E[0],He!=0)break;if(4294967286<Xe.Ja)return 3;if(me==null||yt||(me[0]=Xe.xa?2:1),pe=[pe],Mt=[Mt],Xe.xa){if(5>U){He=7;break}me=pe,it=Mt,yt=he,b==null||5>U?b=0:5<=U&&b[E+0]==47&&!(b[E+4]>>5)?(Ye=[0],lr=[0],Ft=[0],re(Lt=new D,b,E,U),ht(Lt,Ye,lr,Ft)?(me!=null&&(me[0]=Ye[0]),it!=null&&(it[0]=lr[0]),yt!=null&&(yt[0]=Ft[0]),b=1):b=0):b=0}else{if(10>U){He=7;break}me=Mt,b==null||10>U||!Pr(b,E+3,U-3)?b=0:(it=b[E+0]|b[E+1]<<8|b[E+2]<<16,yt=16383&(b[E+7]<<8|b[E+6]),b=16383&(b[E+9]<<8|b[E+8]),1&it||3<(it>>1&7)||!(it>>4&1)||it>>5>=Xe.Ja||!yt||!b?b=0:(pe&&(pe[0]=yt),me&&(me[0]=b),b=1))}if(!b||(pe=pe[0],Mt=Mt[0],ct&&(ke[0]!=pe||Ue[0]!=Mt)))return 3;we!=null&&(we[0]=Xe,we.offset=E-we.w,r(4294967286>E-we.w),r(we.offset==we.ha-U));break}return He==0||He==7&&ct&&we==null?(he!=null&&(he[0]|=Xe.na!=null&&0<Xe.na.length),K!=null&&(K[0]=pe),oe!=null&&(oe[0]=Mt),0):He}function Ns(b,E,U){var K=E.width,oe=E.height,he=0,pe=0,me=K,we=oe;if(E.Da=b!=null&&0<b.Da,E.Da&&(me=b.cd,we=b.bd,he=b.v,pe=b.j,11>U||(he&=-2,pe&=-2),0>he||0>pe||0>=me||0>=we||he+me>K||pe+we>oe))return 0;if(E.v=he,E.j=pe,E.va=he+me,E.o=pe+we,E.U=me,E.T=we,E.da=b!=null&&0<b.da,E.da){if(!Qe(me,we,U=[b.ib],he=[b.hb]))return 0;E.ib=U[0],E.hb=he[0]}return E.ob=b!=null&&b.ob,E.Kb=b==null||!b.Sd,E.da&&(E.ob=E.ib<3*K/4&&E.hb<3*oe/4,E.Kb=0),1}function Ji(b){if(b==null)return 2;if(11>b.S){var E=b.f.RGBA;E.fb+=(b.height-1)*E.A,E.A=-E.A}else E=b.f.kb,b=b.height,E.O+=(b-1)*E.fa,E.fa=-E.fa,E.N+=(b-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(b-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(b-1)*E.lb,E.lb=-E.lb);return 0}function Fi(b,E,U,K){if(K==null||0>=b||0>=E)return 2;if(U!=null){if(U.Da){var oe=U.cd,he=U.bd,pe=-2&U.v,me=-2&U.j;if(0>pe||0>me||0>=oe||0>=he||pe+oe>b||me+he>E)return 2;b=oe,E=he}if(U.da){if(!Qe(b,E,oe=[U.ib],he=[U.hb]))return 2;b=oe[0],E=he[0]}}K.width=b,K.height=E;e:{var we=K.width,ke=K.height;if(b=K.S,0>=we||0>=ke||!(b>=Hs&&13>b))b=2;else{if(0>=K.Rd&&K.sd==null){pe=he=oe=E=0;var Ue=(me=we*Im[b])*ke;if(11>b||(he=(ke+1)/2*(E=(we+1)/2),b==12&&(pe=(oe=we)*ke)),(ke=s(Ue+2*he+pe))==null){b=1;break e}K.sd=ke,11>b?((we=K.f.RGBA).eb=ke,we.fb=0,we.A=me,we.size=Ue):((we=K.f.kb).y=ke,we.O=0,we.fa=me,we.Fd=Ue,we.f=ke,we.N=0+Ue,we.Ab=E,we.Cd=he,we.ea=ke,we.W=0+Ue+he,we.Db=E,we.Ed=he,b==12&&(we.F=ke,we.J=0+Ue+2*he),we.Tc=pe,we.lb=oe)}if(E=1,oe=K.S,he=K.width,pe=K.height,oe>=Hs&&13>oe)if(11>oe)b=K.f.RGBA,E&=(me=Math.abs(b.A))*(pe-1)+he<=b.size,E&=me>=he*Im[oe],E&=b.eb!=null;else{b=K.f.kb,me=(he+1)/2,Ue=(pe+1)/2,we=Math.abs(b.fa),ke=Math.abs(b.Ab);var ct=Math.abs(b.Db),it=Math.abs(b.lb),Xe=it*(pe-1)+he;E&=we*(pe-1)+he<=b.Fd,E&=ke*(Ue-1)+me<=b.Cd,E=(E&=ct*(Ue-1)+me<=b.Ed)&we>=he&ke>=me&ct>=me,E&=b.y!=null,E&=b.f!=null,E&=b.ea!=null,oe==12&&(E&=it>=he,E&=Xe<=b.Tc,E&=b.F!=null)}else E=0;b=E?0:2}}return b!=0||U!=null&&U.fd&&(b=Ji(K)),b}var ga=64,Rs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],xi=24,Us=32,Qi=8,os=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(b){return b},I.Predictor2=function(b,E,U){return E[U+0]},I.Predictor3=function(b,E,U){return E[U+1]},I.Predictor4=function(b,E,U){return E[U-1]},I.Predictor5=function(b,E,U){return Ae(Ae(b,E[U+1]),E[U+0])},I.Predictor6=function(b,E,U){return Ae(b,E[U-1])},I.Predictor7=function(b,E,U){return Ae(b,E[U+0])},I.Predictor8=function(b,E,U){return Ae(E[U-1],E[U+0])},I.Predictor9=function(b,E,U){return Ae(E[U+0],E[U+1])},I.Predictor10=function(b,E,U){return Ae(Ae(b,E[U-1]),Ae(E[U+0],E[U+1]))},I.Predictor11=function(b,E,U){var K=E[U+0];return 0>=rr(K>>24&255,b>>24&255,(E=E[U-1])>>24&255)+rr(K>>16&255,b>>16&255,E>>16&255)+rr(K>>8&255,b>>8&255,E>>8&255)+rr(255&K,255&b,255&E)?K:b},I.Predictor12=function(b,E,U){var K=E[U+0];return(vt((b>>24&255)+(K>>24&255)-((E=E[U-1])>>24&255))<<24|vt((b>>16&255)+(K>>16&255)-(E>>16&255))<<16|vt((b>>8&255)+(K>>8&255)-(E>>8&255))<<8|vt((255&b)+(255&K)-(255&E)))>>>0},I.Predictor13=function(b,E,U){var K=E[U-1];return(gt((b=Ae(b,E[U+0]))>>24&255,K>>24&255)<<24|gt(b>>16&255,K>>16&255)<<16|gt(b>>8&255,K>>8&255)<<8|gt(b>>0&255,K>>0&255))>>>0};var Pi=I.PredictorAdd0;I.PredictorAdd1=Wt,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var Ht=I.PredictorAdd2;hr("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),hr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var yr,bt=I.ColorIndexInverseTransform,Yt=I.MapARGB,vr=I.VP8LColorIndexInverseTransformAlpha,$r=I.MapAlpha,Or=I.VP8LPredictorsAdd=[];Or.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var xa,hn,Sr,En,Cr,un,Sa,ls,Yn,Bi,Xa,yi,Gc,Po,Pu,ec,tc,rc,Xc,Bu,nc,fl,Kc,La,Ii,xn,yn,la,$a=s(511),Zi=s(2041),ac=s(225),sc=s(767),hl=0,Vf=Zi,Jc=ac,Ss=sc,eo=$a,Hs=0,Iu=1,Bo=2,Bd=3,Qc=4,pl=5,qf=6,Id=7,ic=8,ml=9,$u=10,Yf=[2,3,7],to=[3,3,11],$i=[280,256,256,256,40],Zc=[0,1,1,1,0],gl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xl=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],eu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Rm=8,$d=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],zd=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],cs=null,Ra=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Rn=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],oc=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Io=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],y0=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],tu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Mm=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yl=[],ti=[],zi=[],Fm=1,zu=2,$o=[],_s=[];Nt("UpsampleRgbLinePair",Z,3),Nt("UpsampleBgrLinePair",Pt,3),Nt("UpsampleRgbaLinePair",Hr,4),Nt("UpsampleBgraLinePair",Xr,4),Nt("UpsampleArgbLinePair",Tr,4),Nt("UpsampleRgba4444LinePair",Ut,2),Nt("UpsampleRgb565LinePair",Me,2);var vl=I.UpsampleRgbLinePair,lc=I.UpsampleBgrLinePair,zo=I.UpsampleRgbaLinePair,Gf=I.UpsampleBgraLinePair,Xf=I.UpsampleArgbLinePair,Uu=I.UpsampleRgba4444LinePair,Kf=I.UpsampleRgb565LinePair,Uo=16,us=1<<Uo-1,cc=-227,Jf=482,S2=6,Pm=0,_2=s(256),ds=s(256),v0=s(256),Ud=s(256),Hd=s(Jf-cc),b0=s(Jf-cc);Un("YuvToRgbRow",Z,3),Un("YuvToBgrRow",Pt,3),Un("YuvToRgbaRow",Hr,4),Un("YuvToBgraRow",Xr,4),Un("YuvToArgbRow",Tr,4),Un("YuvToRgba4444Row",Ut,2),Un("YuvToRgb565Row",Me,2);var ru=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],bl=[0,2,8],T2=[8,7,6,4,4,2,2,2,1,1,1,1],Bm=1;this.WebPDecodeRGBA=function(b,E,U,K,oe){var he=Iu,pe=new Fo,me=new ve;pe.ba=me,me.S=he,me.width=[me.width],me.height=[me.height];var we=me.width,ke=me.height,Ue=new Ce;if(Ue==null||b==null)var ct=2;else r(Ue!=null),ct=Ia(b,E,U,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(ct!=0?we=0:(we!=null&&(we[0]=Ue.width[0]),ke!=null&&(ke[0]=Ue.height[0]),we=1),we){me.width=me.width[0],me.height=me.height[0],K!=null&&(K[0]=me.width),oe!=null&&(oe[0]=me.height);e:{if(K=new Xt,(oe=new Kl).data=b,oe.w=E,oe.ha=U,oe.kd=1,E=[0],r(oe!=null),((b=Ia(oe.data,oe.w,oe.ha,null,null,null,E,null,oe))==0||b==7)&&E[0]&&(b=4),(E=b)==0){if(r(pe!=null),K.data=oe.data,K.w=oe.w+oe.offset,K.ha=oe.ha-oe.offset,K.put=ar,K.ac=er,K.bc=St,K.ma=pe,oe.xa){if((b=ut())==null){pe=1;break e}if(function(it,Xe){var Mt=[0],yt=[0],He=[0];t:for(;;){if(it==null)return 0;if(Xe==null)return it.a=2,0;if(it.l=Xe,it.a=0,re(it.m,Xe.data,Xe.w,Xe.ha),!ht(it.m,Mt,yt,He)){it.a=3;break t}if(it.xb=zu,Xe.width=Mt[0],Xe.height=yt[0],!We(Mt[0],yt[0],1,it,null))break t;return 1}return r(it.a!=0),0}(b,K)){if(K=(E=Fi(K.width,K.height,pe.Oa,pe.ba))==0){t:{K=b;r:for(;;){if(K==null){K=0;break t}if(r(K.s.yc!=null),r(K.s.Ya!=null),r(0<K.s.Wb),r((U=K.l)!=null),r((oe=U.ma)!=null),K.xb!=0){if(K.ca=oe.ba,K.tb=oe.tb,r(K.ca!=null),!Ns(oe.Oa,U,Bd)){K.a=2;break r}if(!nt(K,U.width)||U.da)break r;if((U.da||et(K.ca.S))&&tt(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&tt()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!ft(K.s.vb,K.s.Wa.Xa)){K.a=1;break r}K.xb=0}if(!Ne(K,K.V,K.Ba,K.c,K.i,U.o,Te))break r;oe.Dc=K.Ma,K=1;break t}r(K.a!=0),K=0}K=!K}K&&(E=b.a)}else E=b.a}else{if((b=new Jt)==null){pe=1;break e}if(b.Fa=oe.na,b.P=oe.P,b.qc=oe.Sa,oa(b,K)){if((E=Fi(K.width,K.height,pe.Oa,pe.ba))==0){if(b.Aa=0,U=pe.Oa,r((oe=b)!=null),U!=null){if(0<(we=0>(we=U.Md)?0:100<we?255:255*we/100)){for(ke=Ue=0;4>ke;++ke)12>(ct=oe.pb[ke]).lc&&(ct.ia=we*T2[0>ct.lc?0:ct.lc]>>3),Ue|=ct.ia;Ue&&(alert("todo:VP8InitRandom"),oe.ia=1)}oe.Ga=U.Id,100<oe.Ga?oe.Ga=100:0>oe.Ga&&(oe.Ga=0)}jn(b,K)||(E=b.a)}}else E=b.a}E==0&&pe.Oa!=null&&pe.Oa.fd&&(E=Ji(pe.ba))}pe=E}he=pe!=0?null:11>he?me.f.RGBA.eb:me.f.kb.y}else he=null;return he};var Im=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(I,B){for(var O="",L=0;L<4;L++)O+=String.fromCharCode(I[B++]);return O}function p(I,B){return(I[B+0]<<0|I[B+1]<<8|I[B+2]<<16)>>>0}function x(I,B){return(I[B+0]<<0|I[B+1]<<8|I[B+2]<<16|I[B+3]<<24)>>>0}new d;var y=[0],m=[0],w=[],v=new d,N=e,S=function(I,B){var O={},L=0,C=!1,Y=0,Q=0;if(O.frames=[],!function(z,q,X,se){for(var Se=0;Se<se;Se++)if(z[q+Se]!=X.charCodeAt(Se))return!0;return!1}(I,B,"RIFF",4)){var ce,W;for(x(I,B+=4),B+=8;B<I.length;){var J=f(I,B),re=x(I,B+=4);B+=4;var ee=re+(1&re);switch(J){case"VP8 ":case"VP8L":O.frames[L]===void 0&&(O.frames[L]={}),(D=O.frames[L]).src_off=C?Q:B-8,D.src_size=Y+re+8,L++,C&&(C=!1,Y=0,Q=0);break;case"VP8X":(D=O.header={}).feature_flags=I[B];var H=B+4;D.canvas_width=1+p(I,H),H+=3,D.canvas_height=1+p(I,H),H+=3;break;case"ALPH":C=!0,Y=ee+8,Q=B-8;break;case"ANIM":(D=O.header).bgcolor=x(I,B),H=B+4,D.loop_count=(ce=I)[(W=H)+0]<<0|ce[W+1]<<8,H+=2;break;case"ANMF":var ne,D;(D=O.frames[L]={}).offset_x=2*p(I,B),B+=3,D.offset_y=2*p(I,B),B+=3,D.width=1+p(I,B),B+=3,D.height=1+p(I,B),B+=3,D.duration=p(I,B),B+=3,ne=I[B++],D.dispose=1&ne,D.blend=ne>>1&1}J!="ANMF"&&(B+=ee)}return O}}(N,0);S.response=N,S.rgbaoutput=!0,S.dataurl=!1;var k=S.header?S.header:null,_=S.frames?S.frames:null;if(k){k.loop_counter=k.loop_count,y=[k.canvas_height],m=[k.canvas_width];for(var A=0;A<_.length&&_[A].blend!=0;A++);}var R=_[0],V=v.WebPDecodeRGBA(N,R.src_off,R.src_size,m,y);R.rgba=V,R.imgwidth=m[0],R.imgheight=y[0];for(var P=0;P<m[0]*y[0]*4;P++)w[P]=V[P];return this.width=m,this.height=y,this.data=w,this}(function(e){var r=function(){return typeof Yv=="function"},t=function(y,m,w,v){var N=4,S=l;switch(v){case e.image_compression.FAST:N=1,S=s;break;case e.image_compression.MEDIUM:N=6,S=u;break;case e.image_compression.SLOW:N=9,S=d}y=n(y,m,w,S);var k=Yv(y,{level:N});return e.__addimage__.arrayBufferToBinaryString(k)},n=function(y,m,w,v){for(var N,S,k,_=y.length/m,A=new Uint8Array(y.length+_),R=p(),V=0;V<_;V+=1){if(k=V*m,N=y.subarray(k,k+m),v)A.set(v(N,w,S),k+V);else{for(var P,I=R.length,B=[];P<I;P+=1)B[P]=R[P](N,w,S);var O=x(B.concat());A.set(B[O],k+V)}S=N}return A},a=function(y){var m=Array.apply([],y);return m.unshift(0),m},s=function(y,m){var w,v=[],N=y.length;v[0]=1;for(var S=0;S<N;S+=1)w=y[S-m]||0,v[S+1]=y[S]-w+256&255;return v},l=function(y,m,w){var v,N=[],S=y.length;N[0]=2;for(var k=0;k<S;k+=1)v=w&&w[k]||0,N[k+1]=y[k]-v+256&255;return N},u=function(y,m,w){var v,N,S=[],k=y.length;S[0]=3;for(var _=0;_<k;_+=1)v=y[_-m]||0,N=w&&w[_]||0,S[_+1]=y[_]+256-(v+N>>>1)&255;return S},d=function(y,m,w){var v,N,S,k,_=[],A=y.length;_[0]=4;for(var R=0;R<A;R+=1)v=y[R-m]||0,N=w&&w[R]||0,S=w&&w[R-m]||0,k=f(v,N,S),_[R+1]=y[R]-k+256&255;return _},f=function(y,m,w){if(y===m&&m===w)return y;var v=Math.abs(m-w),N=Math.abs(y-w),S=Math.abs(y+m-w-w);return v<=N&&v<=S?y:N<=S?m:w},p=function(){return[a,s,l,u,d]},x=function(y){var m=y.map(function(w){return w.reduce(function(v,N){return v+Math.abs(N)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(y,m,w,v){var N,S,k,_,A,R,V,P,I,B,O,L,C,Y,Q,ce=this.decode.FLATE_DECODE,W="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(k=new ZI(y)).imgData,S=k.bits,N=k.colorSpace,A=k.colors,[4,6].indexOf(k.colorType)!==-1){if(k.bits===8){I=(P=k.pixelBitlength==32?new Uint32Array(k.decodePixels().buffer):k.pixelBitlength==16?new Uint16Array(k.decodePixels().buffer):new Uint8Array(k.decodePixels().buffer)).length,O=new Uint8Array(I*k.colors),B=new Uint8Array(I);var J,re=k.pixelBitlength-k.bits;for(Y=0,Q=0;Y<I;Y++){for(C=P[Y],J=0;J<re;)O[Q++]=C>>>J&255,J+=k.bits;B[Y]=C>>>J&255}}if(k.bits===16){I=(P=new Uint32Array(k.decodePixels().buffer)).length,O=new Uint8Array(I*(32/k.pixelBitlength)*k.colors),B=new Uint8Array(I*(32/k.pixelBitlength)),L=k.colors>1,Y=0,Q=0;for(var ee=0;Y<I;)C=P[Y++],O[Q++]=C>>>0&255,L&&(O[Q++]=C>>>16&255,C=P[Y++],O[Q++]=C>>>0&255),B[ee++]=C>>>16&255;S=8}v!==e.image_compression.NONE&&r()?(y=t(O,k.width*k.colors,k.colors,v),V=t(B,k.width,1,v)):(y=O,V=B,ce=void 0)}if(k.colorType===3&&(N=this.color_spaces.INDEXED,R=k.palette,k.transparency.indexed)){var H=k.transparency.indexed,ne=0;for(Y=0,I=H.length;Y<I;++Y)ne+=H[Y];if((ne/=255)===I-1&&H.indexOf(0)!==-1)_=[H.indexOf(0)];else if(ne!==I){for(P=k.decodePixels(),B=new Uint8Array(P.length),Y=0,I=P.length;Y<I;Y++)B[Y]=H[P[Y]];V=t(B,k.width,1)}}var D=function(z){var q;switch(z){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(v);return ce===this.decode.FLATE_DECODE&&(W="/Predictor "+D+" "),W+="/Colors "+A+" /BitsPerComponent "+S+" /Columns "+k.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(V&&this.__addimage__.isArrayBuffer(V)||this.__addimage__.isArrayBufferView(V))&&(V=this.__addimage__.arrayBufferToBinaryString(V)),{alias:w,data:y,index:m,filter:ce,decodeParameters:W,transparency:_,palette:R,sMask:V,predictor:D,width:k.width,height:k.height,bitsPerComponent:S,colorSpace:N}}}})(zr.API),function(e){e.processGIF89A=function(r,t,n,a){var s=new e$(r),l=s.width,u=s.height,d=[];s.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:l,height:u},p=new av(100).encode(f,100);return e.processJPEG.call(this,p,t,n,a)},e.processGIF87A=e.processGIF89A}(zr.API),Cl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var r=0;r<e;r++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[r]={red:a,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Cl.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,r=this.width*this.height*4;this.data=new Uint8Array(r),this[e]()}catch(t){wa.log("bit decode error:"+t)}},Cl.prototype.bit1=function(){var e,r=Math.ceil(this.width/8),t=r%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<r;a++)for(var s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var d=this.palette[s>>7-u&1];this.data[l+4*u]=d.blue,this.data[l+4*u+1]=d.green,this.data[l+4*u+2]=d.red,this.data[l+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Cl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),r=e%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,u=s>>4,d=15&s,f=this.palette[u];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*a+1>=this.width)break;f=this.palette[d],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}r!==0&&(this.pos+=4-r)}},Cl.prototype.bit8=function(){for(var e=this.width%4,r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Cl.prototype.bit15=function(){for(var e=this.width%3,r=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&r)/r*255|0,u=(s>>5&r)/r*255|0,d=(s>>10&r)/r*255|0,f=s>>15?255:0,p=n*this.width*4+4*a;this.data[p]=d,this.data[p+1]=u,this.data[p+2]=l,this.data[p+3]=f}this.pos+=e}},Cl.prototype.bit16=function(){for(var e=this.width%3,r=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&r)/r*255|0,d=(l>>5&t)/t*255|0,f=(l>>11)/r*255|0,p=a*this.width*4+4*s;this.data[p]=f,this.data[p+1]=d,this.data[p+2]=u,this.data[p+3]=255}this.pos+=e}},Cl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+4*t;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},Cl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var r=this.bottom_up?e:this.height-1-e,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+4*t;this.data[u]=s,this.data[u+1]=a,this.data[u+2]=n,this.data[u+3]=l}},Cl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(r,t,n,a){var s=new Cl(r,!1),l=s.width,u=s.height,d={data:s.getData(),width:l,height:u},f=new av(100).encode(d,100);return e.processJPEG.call(this,f,t,n,a)}}(zr.API),TN.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(r,t,n,a){var s=new TN(r),l=s.width,u=s.height,d={data:s.getData(),width:l,height:u},f=new av(100).encode(d,100);return e.processJPEG.call(this,f,t,n,a)}}(zr.API),zr.API.processRGBA=function(e,r,t){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),l=new Uint8Array(a/4),u=0,d=0,f=0;f<a;f+=4){var p=n[f],x=n[f+1],y=n[f+2],m=n[f+3];s[u++]=p,s[u++]=x,s[u++]=y,l[d++]=m}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:w,index:r,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},zr.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_h=zr.API,Qg=_h.getCharWidthsArray=function(e,r){var t,n,a=(r=r||{}).font||this.internal.getFont(),s=r.fontSize||this.internal.getFontSize(),l=r.charSpace||this.internal.getCharSpace(),u=r.widths?r.widths:a.metadata.Unicode.widths,d=u.fof?u.fof:1,f=r.kerning?r.kerning:a.metadata.Unicode.kerning,p=f.fof?f.fof:1,x=r.doKerning!==!1,y=0,m=e.length,w=0,v=u[0]||d,N=[];for(t=0;t<m;t++)n=e.charCodeAt(t),typeof a.metadata.widthOfString=="function"?N.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/s)||0)/1e3):(y=x&&aa(f[n])==="object"&&!isNaN(parseInt(f[n][w],10))?f[n][w]/p:0,N.push((u[n]||v)/d+y)),w=n;return N},wN=_h.getStringUnitWidth=function(e,r){var t=(r=r||{}).fontSize||this.internal.getFontSize(),n=r.font||this.internal.getFont(),a=r.charSpace||this.internal.getCharSpace();return _h.processArabic&&(e=_h.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,t,a)/t:Qg.apply(this,arguments).reduce(function(s,l){return s+l},0)},NN=function(e,r,t,n){for(var a=[],s=0,l=e.length,u=0;s!==l&&u+r[s]<t;)u+=r[s],s++;a.push(e.slice(0,s));var d=s;for(u=0;s!==l;)u+r[s]>n&&(a.push(e.slice(d,s)),u=0,d=s),u+=r[s],s++;return d!==s&&a.push(e.slice(d,s)),a},SN=function(e,r,t){t||(t={});var n,a,s,l,u,d,f,p=[],x=[p],y=t.textIndent||0,m=0,w=0,v=e.split(" "),N=Qg.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?v[0].length+2:t.lineIndent||0){var S=Array(d).join(" "),k=[];v.map(function(A){(A=A.split(/\s*\n/)).length>1?k=k.concat(A.map(function(R,V){return(V&&R.length?`
`:"")+R})):k.push(A[0])}),v=k,d=wN.apply(this,[S,t])}for(s=0,l=v.length;s<l;s++){var _=0;if(n=v[s],d&&n[0]==`
`&&(n=n.substr(1),_=1),y+m+(w=(a=Qg.apply(this,[n,t])).reduce(function(A,R){return A+R},0))>r||_){if(w>r){for(u=NN.apply(this,[n,a,r-(y+m),r]),p.push(u.shift()),p=[u.pop()];u.length;)x.push([u.shift()]);w=a.slice(n.length-(p[0]?p[0].length:0)).reduce(function(A,R){return A+R},0)}else p=[n];x.push(p),y=w+d,m=N}else p.push(n),y+=m+w,m=N}return f=d?function(A,R){return(R?S:"")+A.join(" ")}:function(A){return A.join(" ")},x.map(f)},_h.splitTextToSize=function(e,r,t){var n,a=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var x=this.internal.getFont(p.fontName,p.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*r/a;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=t.lineIndent;var u,d,f=[];for(u=0,d=n.length;u<d;u++)f=f.concat(SN.apply(this,[n[u],l,s]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var r="klmnopqrstuvwxyz",t={},n={},a=0;a<r.length;a++)t[r[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=r[a];var s=function(x){return"0x"+parseInt(x,10).toString(16)},l=e.__fontmetrics__.compress=function(x){var y,m,w,v,N=["{"];for(var S in x){if(y=x[S],isNaN(parseInt(S,10))?m="'"+S+"'":(S=parseInt(S,10),m=(m=s(S).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof y=="number")y<0?(w=s(y).slice(3),v="-"):(w=s(y).slice(2),v=""),w=v+w.slice(0,-1)+n[w.slice(-1)];else{if(aa(y)!=="object")throw new Error("Don't know what to do with value type "+aa(y)+".");w=l(y)}N.push(m+w)}return N.push("}"),N.join("")},u=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,m,w,v,N={},S=1,k=N,_=[],A="",R="",V=x.length-1,P=1;P<V;P+=1)(v=x[P])=="'"?y?(w=y.join(""),y=void 0):y=[]:y?y.push(v):v=="{"?(_.push([k,w]),k={},w=void 0):v=="}"?((m=_.pop())[0][m[1]]=k,w=void 0,k=m[0]):v=="-"?S=-1:w===void 0?t.hasOwnProperty(v)?(A+=t[v],w=parseInt(A,16)*S,S=1,A=""):A+=v:t.hasOwnProperty(v)?(R+=t[v],k[w]=parseInt(R,16)*S,S=1,w=void 0,R=""):R+=v;return N},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},p={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var y=x.font,m=p.Unicode[y.postScriptName];m&&(y.metadata.Unicode={},y.metadata.Unicode.widths=m.widths,y.metadata.Unicode.kerning=m.kerning);var w=f.Unicode[y.postScriptName];w&&(y.metadata.Unicode.encoding=w,y.encoding=w.codePages[0])}])}(zr.API),function(e){var r=function(t){for(var n=t.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=t.charCodeAt(s);return a};e.API.events.push(["addFont",function(t){var n=void 0,a=t.font,s=t.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?r(u):r(Pp(u)),l.metadata=e.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])}(zr),function(e){function r(){return(Gr.canvg?Promise.resolve(Gr.canvg):Uv(()=>import("./index.es-BRQV7K_E.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}zr.API.addSvgAsImage=function(t,n,a,s,l,u,d,f){if(isNaN(n)||isNaN(a))throw wa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(l))throw wa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=l;var x=p.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,p.width,p.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return r().then(function(w){return w.fromString(x,t,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(y)}).then(function(){m.addImage(p.toDataURL("image/jpeg",1),n,a,s,l,d,f)})}}(),zr.API.putTotalPages=function(e){var r,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(r=new RegExp(e,"g"),t=this.internal.getNumberOfPages()):(r=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(r,t);return this},zr.API.viewerPreferences=function(e,r){var t;e=e||{},r=r||!1;var n,a,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),d=[],f=0,p=0,x=0;function y(w,v){var N,S=!1;for(N=0;N<w.length;N+=1)w[N]===v&&(S=!0);return S}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,e==="reset"||r===!0){var m=u.length;for(x=0;x<m;x+=1)t[u[x]].value=t[u[x]].defaultValue,t[u[x]].explicitSet=!1}if(aa(e)==="object"){for(a in e)if(s=e[a],y(u,a)&&s!==void 0){if(t[a].type==="boolean"&&typeof s=="boolean")t[a].value=s;else if(t[a].type==="name"&&y(t[a].valueSet,s))t[a].value=s;else if(t[a].type==="integer"&&Number.isInteger(s))t[a].value=s;else if(t[a].type==="array"){for(f=0;f<s.length;f+=1)if(n=!0,s[f].length===1&&typeof s[f][0]=="number")d.push(String(s[f]-1));else if(s[f].length>1){for(p=0;p<s[f].length;p+=1)typeof s[f][p]!="number"&&(n=!1);n===!0&&d.push([s[f][0]-1,s[f][1]-1].join(" "))}t[a].value="["+d.join(" ")+"]"}else t[a].value=t[a].defaultValue;t[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,v=[];for(w in t)t[w].explicitSet===!0&&(t[w].type==="name"?v.push("/"+w+" /"+t[w].value):v.push("/"+w+" "+t[w].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(e){var r=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+l.length+u.length+a.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+s+l+u+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",r)),this}}(zr.API),function(e){var r=e.API,t=r.pdfEscape16=function(s,l){for(var u,d=l.metadata.Unicode.widths,f=["","0","00","000","0000"],p=[""],x=0,y=s.length;x<y;++x){if(u=l.metadata.characterToGlyph(s.charCodeAt(x)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=s.charCodeAt(x),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return p.join("");u=u.toString(16),p.push(f[4-u.length],u)}return p.join("")},n=function(s){var l,u,d,f,p,x,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],x=0,y=(u=Object.keys(s).sort(function(m,w){return m-w})).length;x<y;x++)l=u[x],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(f=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+f+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};r.events.push(["putFont",function(s){(function(l){var u=l.font,d=l.out,f=l.newObject,p=l.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var x=u.metadata.Unicode.widths,y=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),m="",w=0;w<y.length;w++)m+=String.fromCharCode(y[w]);var v=f();p({data:m,addLength1:!0,objectId:v}),d("endobj");var N=f();p({data:n(u.metadata.toUnicode),addLength1:!0,objectId:N}),d("endobj");var S=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Rh(u.fontName)),d("/FontFile2 "+v+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var k=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+Rh(u.fontName)),d("/FontDescriptor "+S+" 0 R"),d("/W "+e.API.PDFObject.convert(x)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+N+" 0 R"),d("/BaseFont /"+Rh(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+k+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(s)}]),r.events.push(["putFont",function(s){(function(l){var u=l.font,d=l.out,f=l.newObject,p=l.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var x=u.metadata.rawData,y="",m=0;m<x.length;m++)y+=String.fromCharCode(x[m]);var w=f();p({data:y,addLength1:!0,objectId:w}),d("endobj");var v=f();p({data:n(u.metadata.toUnicode),addLength1:!0,objectId:v}),d("endobj");var N=f();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+w+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+Rh(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=f();for(var S=0;S<u.metadata.hmtx.widths.length;S++)u.metadata.hmtx.widths[S]=parseInt(u.metadata.hmtx.widths[S]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Rh(u.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(s)}]);var a=function(s){var l,u=s.text||"",d=s.x,f=s.y,p=s.options||{},x=s.mutex||{},y=x.pdfEscape,m=x.activeFontKey,w=x.fonts,v=m,N="",S=0,k="",_=w[v].encoding;if(w[v].encoding!=="Identity-H")return{text:u,x:d,y:f,options:p,mutex:x};for(k=u,v=m,Array.isArray(u)&&(k=u[0]),S=0;S<k.length;S+=1)w[v].metadata.hasOwnProperty("cmap")&&(l=w[v].metadata.cmap.unicode.codeMap[k[S].charCodeAt(0)]),l||k[S].charCodeAt(0)<256&&w[v].metadata.hasOwnProperty("Unicode")?N+=k[S]:N+="";var A="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?A=y(N,v).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(A=t(N,w[v])),x.isHex=!0,{text:A,x:d,y:f,options:p,mutex:x}};r.events.push(["postProcessText",function(s){var l=s.text||"",u=[],d={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?u.push([a(Object.assign({},d,{text:l[f][0]})).text,l[f][1],l[f][2]]):u.push(a(Object.assign({},d,{text:l[f]})).text);s.text=u}else s.text=a(Object.assign({},d,{text:l})).text}])}(zr),function(e){var r=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0},e.addFileToVFS=function(t,n){return r.call(this),this.internal.vFS[t]=n,this},e.getFileFromVFS=function(t){return r.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(zr.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,l,u,d,f,p,x=r,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],S=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,_=0;this.__bidiEngine__={};var A=function(L){var C=L.charCodeAt(),Y=C>>8,Q=v[Y];return Q!==void 0?x[256*Q+(255&C)]:Y===252||Y===253?"AL":S.test(Y)?"L":Y===8?"R":"N"},R=function(L){for(var C,Y=0;Y<L.length;Y++){if((C=A(L.charAt(Y)))==="L")return!1;if(C==="R")return!0}return!1},V=function(L,C,Y,Q){var ce,W,J,re,ee=C[Q];switch(ee){case"L":case"R":k=!1;break;case"N":case"AN":break;case"EN":k&&(ee="AN");break;case"AL":k=!0,ee="R";break;case"WS":ee="N";break;case"CS":Q<1||Q+1>=C.length||(ce=Y[Q-1])!=="EN"&&ce!=="AN"||(W=C[Q+1])!=="EN"&&W!=="AN"?ee="N":k&&(W="AN"),ee=W===ce?W:"N";break;case"ES":ee=(ce=Q>0?Y[Q-1]:"B")==="EN"&&Q+1<C.length&&C[Q+1]==="EN"?"EN":"N";break;case"ET":if(Q>0&&Y[Q-1]==="EN"){ee="EN";break}if(k){ee="N";break}for(J=Q+1,re=C.length;J<re&&C[J]==="ET";)J++;ee=J<re&&C[J]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(re=C.length,J=Q+1;J<re&&C[J]==="NSM";)J++;if(J<re){var H=L[Q],ne=H>=1425&&H<=2303||H===64286;if(ce=C[J],ne&&(ce==="R"||ce==="AL")){ee="R";break}}}ee=Q<1||(ce=C[Q-1])==="B"?"N":Y[Q-1];break;case"B":k=!1,a=!0,ee=_;break;case"S":s=!0,ee="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"BN":ee="N"}return ee},P=function(L,C,Y){var Q=L.split("");return Y&&I(Q,Y,{hiLevel:_}),Q.reverse(),C&&C.reverse(),Q.join("")},I=function(L,C,Y){var Q,ce,W,J,re,ee=-1,H=L.length,ne=0,D=[],z=_?m:y,q=[];for(k=!1,a=!1,s=!1,ce=0;ce<H;ce++)q[ce]=A(L[ce]);for(W=0;W<H;W++){if(re=ne,D[W]=V(L,q,D,W),Q=240&(ne=z[re][w[D[W]]]),ne&=15,C[W]=J=z[ne][5],Q>0)if(Q===16){for(ce=ee;ce<W;ce++)C[ce]=1;ee=-1}else ee=-1;if(z[ne][6])ee===-1&&(ee=W);else if(ee>-1){for(ce=ee;ce<W;ce++)C[ce]=J;ee=-1}q[W]==="B"&&(C[W]=0),Y.hiLevel|=J}s&&function(X,se,Se){for(var fe=0;fe<Se;fe++)if(X[fe]==="S"){se[fe]=_;for(var G=fe-1;G>=0&&X[G]==="WS";G--)se[G]=_}}(q,C,H)},B=function(L,C,Y,Q,ce){if(!(ce.hiLevel<L)){if(L===1&&_===1&&!a)return C.reverse(),void(Y&&Y.reverse());for(var W,J,re,ee,H=C.length,ne=0;ne<H;){if(Q[ne]>=L){for(re=ne+1;re<H&&Q[re]>=L;)re++;for(ee=ne,J=re-1;ee<J;ee++,J--)W=C[ee],C[ee]=C[J],C[J]=W,Y&&(W=Y[ee],Y[ee]=Y[J],Y[J]=W);ne=re}ne++}}},O=function(L,C,Y){var Q=L.split(""),ce={hiLevel:_};return Y||(Y=[]),I(Q,Y,ce),function(W,J,re){if(re.hiLevel!==0&&p)for(var ee,H=0;H<W.length;H++)J[H]===1&&(ee=N.indexOf(W[H]))>=0&&(W[H]=N[ee+1])}(Q,Y,ce),B(2,Q,C,Y,ce),B(1,Q,C,Y,ce),Q.join("")};return this.__bidiEngine__.doBidiReorder=function(L,C,Y){if(function(ce,W){if(W)for(var J=0;J<ce.length;J++)W[J]=J;u===void 0&&(u=R(ce)),f===void 0&&(f=R(ce))}(L,C),l||!d||f)if(l&&d&&u^f)_=u?1:0,L=P(L,C,Y);else if(!l&&d&&f)_=u?1:0,L=O(L,C,Y),L=P(L,C);else if(!l||u||d||f){if(l&&!d&&u^f)L=P(L,C),u?(_=0,L=O(L,C,Y)):(_=1,L=O(L,C,Y),L=P(L,C));else if(l&&u&&!d&&f)_=1,L=O(L,C,Y),L=P(L,C);else if(!l&&!d&&u^f){var Q=p;u?(_=1,L=O(L,C,Y),_=0,p=!1,L=O(L,C,Y),p=Q):(_=0,L=O(L,C,Y),L=P(L,C),_=1,p=!1,L=O(L,C,Y),p=Q,L=P(L,C))}}else _=0,L=O(L,C,Y);else _=u?1:0,L=O(L,C,Y);return L},this.__bidiEngine__.setOptions=function(L){L&&(l=L.isInputVisual,d=L.isOutputVisual,u=L.isInputRtl,f=L.isOutputRtl,p=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var r=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,s=(n.x,n.y,n.options||{}),l=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(l=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?l.push([t.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):l.push([t.doBidiReorder(a[u])]);n.text=l}else n.text=t.doBidiReorder(a);t.setOptions({isInputVisual:!0})}])}(zr),zr.API.TTFFont=function(){function e(r){var t;if(this.rawData=r,t=this.contents=new Ad(r),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new m$(this),this.registerTTF()}return e.open=function(r){return new e(r)},e.prototype.parse=function(){return this.directory=new t$(this.contents),this.head=new n$(this),this.name=new l$(this),this.cmap=new r6(this),this.toUnicode={},this.hhea=new a$(this),this.maxp=new c$(this),this.hmtx=new u$(this),this.post=new i$(this),this.os2=new s$(this),this.loca=new p$(this),this.glyf=new d$(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var r,t,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,d,f;for(f=[],l=0,u=(d=this.bbox).length;l<u;l++)r=d[l],f.push(Math.round(r*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(t=a>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(r){var t;return((t=this.cmap.unicode)!=null?t.codeMap[r]:void 0)||0},e.prototype.widthOfGlyph=function(r){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(r).advance*t},e.prototype.widthOfString=function(r,t,n){var a,s,l,u;for(l=0,s=0,u=(r=""+r).length;0<=u?s<u:s>u;s=0<=u?++s:--s)a=r.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/t)||0;return l*(t/1e3)},e.prototype.lineHeight=function(r,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*r},e}();var Hl,Ad=function(){function e(r){this.data=r??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(r){return this.data[this.pos++]=r},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(r){return this.writeByte(r>>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt32=function(){var r;return(r=this.readUInt32())>=2147483648?r-4294967296:r},e.prototype.writeInt32=function(r){return r<0&&(r+=4294967296),this.writeUInt32(r)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(r){return this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt16=function(){var r;return(r=this.readUInt16())>=32768?r-65536:r},e.prototype.writeInt16=function(r){return r<0&&(r+=65536),this.writeUInt16(r)},e.prototype.readString=function(r){var t,n;for(n=[],t=0;0<=r?t<r:t>r;t=0<=r?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(r){var t,n,a;for(a=[],t=0,n=r.length;0<=n?t<n:t>n;t=0<=n?++t:--t)a.push(this.writeByte(r.charCodeAt(t)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(r){return this.writeInt16(r)},e.prototype.readLongLong=function(){var r,t,n,a,s,l,u,d;return r=this.readByte(),t=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),l=this.readByte(),u=this.readByte(),d=this.readByte(),128&r?-1*(72057594037927940*(255^r)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^l)+256*(255^u)+(255^d)+1):72057594037927940*r+281474976710656*t+1099511627776*n+4294967296*a+16777216*s+65536*l+256*u+d},e.prototype.writeLongLong=function(r){var t,n;return t=Math.floor(r/4294967296),n=4294967295&r,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(r){return this.writeInt32(r)},e.prototype.read=function(r){var t,n;for(t=[],n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(r){var t,n,a,s;for(s=[],n=0,a=r.length;n<a;n++)t=r[n],s.push(this.writeByte(t));return s},e}(),t$=function(){var e;function r(t){var n,a,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return r.prototype.encode=function(t){var n,a,s,l,u,d,f,p,x,y,m,w,v;for(v in m=Object.keys(t).length,d=Math.log(2),x=16*Math.floor(Math.log(m)/d),l=Math.floor(x/d),p=16*m-x,(a=new Ad).writeInt(this.scalarType),a.writeShort(m),a.writeShort(x),a.writeShort(l),a.writeShort(p),s=16*m,f=a.pos+s,u=null,w=[],t)for(y=t[v],a.writeString(v),a.writeInt(e(y)),a.writeInt(f),a.writeInt(y.length),w=w.concat(y),v==="head"&&(u=f),f+=y.length;f%4;)w.push(0),f++;return a.write(w),n=2981146554-e(a.data),a.pos=u+8,a.writeUInt32(n),a.data},e=function(t){var n,a,s,l;for(t=n6.call(t);t.length%4;)t.push(0);for(s=new Ad(t),a=0,n=0,l=t.length;n<l;n=n+=4)a+=s.readUInt32();return 4294967295&a},r}(),r$={}.hasOwnProperty,zc=function(e,r){for(var t in r)r$.call(r,t)&&(e[t]=r[t]);function n(){this.constructor=e}return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};Hl=function(){function e(r){var t;this.file=r,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var n$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return zc(r,Hl),r.prototype.tag="head",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},r.prototype.encode=function(t){var n;return(n=new Ad).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},r}(),kN=function(){function e(r,t){var n,a,s,l,u,d,f,p,x,y,m,w,v,N,S,k,_;switch(this.platformID=r.readUInt16(),this.encodingID=r.readShort(),this.offset=t+r.readInt(),x=r.pos,r.pos=this.offset,this.format=r.readUInt16(),this.length=r.readUInt16(),this.language=r.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=r.readByte();break;case 4:for(m=r.readUInt16(),y=m/2,r.pos+=6,s=function(){var A,R;for(R=[],d=A=0;0<=y?A<y:A>y;d=0<=y?++A:--A)R.push(r.readUInt16());return R}(),r.pos+=2,v=function(){var A,R;for(R=[],d=A=0;0<=y?A<y:A>y;d=0<=y?++A:--A)R.push(r.readUInt16());return R}(),f=function(){var A,R;for(R=[],d=A=0;0<=y?A<y:A>y;d=0<=y?++A:--A)R.push(r.readUInt16());return R}(),p=function(){var A,R;for(R=[],d=A=0;0<=y?A<y:A>y;d=0<=y?++A:--A)R.push(r.readUInt16());return R}(),a=(this.length-r.pos+this.offset)/2,u=function(){var A,R;for(R=[],d=A=0;0<=a?A<a:A>a;d=0<=a?++A:--A)R.push(r.readUInt16());return R}(),d=S=0,_=s.length;S<_;d=++S)for(N=s[d],n=k=w=v[d];w<=N?k<=N:k>=N;n=w<=N?++k:--k)p[d]===0?l=n+f[d]:(l=u[p[d]/2+(n-w)-(y-d)]||0)!==0&&(l+=f[d]),this.codeMap[n]=65535&l}r.pos=x}return e.encode=function(r,t){var n,a,s,l,u,d,f,p,x,y,m,w,v,N,S,k,_,A,R,V,P,I,B,O,L,C,Y,Q,ce,W,J,re,ee,H,ne,D,z,q,X,se,Se,fe,G,be,Fe,De;switch(Q=new Ad,l=Object.keys(r).sort(function(lt,ft){return lt-ft}),t){case"macroman":for(v=0,N=function(){var lt=[];for(w=0;w<256;++w)lt.push(0);return lt}(),k={0:0},s={},ce=0,ee=l.length;ce<ee;ce++)k[G=r[a=l[ce]]]==null&&(k[G]=++v),s[a]={old:r[a],new:k[r[a]]},N[a]=k[r[a]];return Q.writeUInt16(1),Q.writeUInt16(0),Q.writeUInt32(12),Q.writeUInt16(0),Q.writeUInt16(262),Q.writeUInt16(0),Q.write(N),{charMap:s,subtable:Q.data,maxGlyphID:v+1};case"unicode":for(C=[],x=[],_=0,k={},n={},S=f=null,W=0,H=l.length;W<H;W++)k[R=r[a=l[W]]]==null&&(k[R]=++_),n[a]={old:R,new:k[R]},u=k[R]-a,S!=null&&u===f||(S&&x.push(S),C.push(a),f=u),S=a;for(S&&x.push(S),x.push(65535),C.push(65535),O=2*(B=C.length),I=2*Math.pow(Math.log(B)/Math.LN2,2),y=Math.log(I/2)/Math.LN2,P=2*B-I,d=[],V=[],m=[],w=J=0,ne=C.length;J<ne;w=++J){if(L=C[w],p=x[w],L===65535){d.push(0),V.push(0);break}if(L-(Y=n[L].new)>=32768)for(d.push(0),V.push(2*(m.length+B-w)),a=re=L;L<=p?re<=p:re>=p;a=L<=p?++re:--re)m.push(n[a].new);else d.push(Y-L),V.push(0)}for(Q.writeUInt16(3),Q.writeUInt16(1),Q.writeUInt32(12),Q.writeUInt16(4),Q.writeUInt16(16+8*B+2*m.length),Q.writeUInt16(0),Q.writeUInt16(O),Q.writeUInt16(I),Q.writeUInt16(y),Q.writeUInt16(P),Se=0,D=x.length;Se<D;Se++)a=x[Se],Q.writeUInt16(a);for(Q.writeUInt16(0),fe=0,z=C.length;fe<z;fe++)a=C[fe],Q.writeUInt16(a);for(be=0,q=d.length;be<q;be++)u=d[be],Q.writeUInt16(u);for(Fe=0,X=V.length;Fe<X;Fe++)A=V[Fe],Q.writeUInt16(A);for(De=0,se=m.length;De<se;De++)v=m[De],Q.writeUInt16(v);return{charMap:n,subtable:Q.data,maxGlyphID:_+1}}},e}(),r6=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return zc(r,Hl),r.prototype.tag="cmap",r.prototype.parse=function(t){var n,a,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new kN(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},r.encode=function(t,n){var a,s;return n==null&&(n="macroman"),a=kN.encode(t,n),(s=new Ad).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},r}(),a$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return zc(r,Hl),r.prototype.tag="hhea",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},r}(),s$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return zc(r,Hl),r.prototype.tag="OS/2",r.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(t.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(t.readInt());return a}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(t.readInt());return a}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},r}(),i$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return zc(r,Hl),r.prototype.tag="post",r.prototype.parse=function(t){var n,a,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(a=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=a?l<a:l>a;l=0<=a?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return a=t.readUInt16(),this.offsets=t.read(a);case 196608:break;case 262144:return this.map=(function(){var u,d,f;for(f=[],l=u=0,d=this.file.maxp.numGlyphs;0<=d?u<d:u>d;l=0<=d?++u:--u)f.push(t.readUInt32());return f}).call(this)}},r}(),o$=function(e,r){this.raw=e,this.length=e.length,this.platformID=r.platformID,this.encodingID=r.encodingID,this.languageID=r.languageID},l$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return zc(r,Hl),r.prototype.tag="name",r.prototype.parse=function(t){var n,a,s,l,u,d,f,p,x,y,m;for(t.pos=this.offset,t.readShort(),n=t.readShort(),d=t.readShort(),a=[],l=0;0<=n?l<n:l>n;l=0<=n?++l:--l)a.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+d+t.readShort()});for(f={},l=x=0,y=a.length;x<y;l=++x)s=a[l],t.pos=s.offset,p=t.readString(s.length),u=new o$(p,s),f[m=s.nameID]==null&&(f[m]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},r}(),c$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return zc(r,Hl),r.prototype.tag="maxp",r.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},r}(),u$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return zc(r,Hl),r.prototype.tag="hmtx",r.prototype.parse=function(t){var n,a,s,l,u,d,f;for(t.pos=this.offset,this.metrics=[],n=0,d=this.file.hhea.numberOfMetrics;0<=d?n<d:n>d;n=0<=d?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,x;for(x=[],n=p=0;0<=s?p<s:p>s;n=0<=s?++p:--p)x.push(t.readInt16());return x}(),this.widths=(function(){var p,x,y,m;for(m=[],p=0,x=(y=this.metrics).length;p<x;p++)l=y[p],m.push(l.advance);return m}).call(this),a=this.widths[this.widths.length-1],f=[],n=u=0;0<=s?u<s:u>s;n=0<=s?++u:--u)f.push(this.widths.push(a));return f},r.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},r}(),n6=[].slice,d$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return zc(r,Hl),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(t){var n,a,s,l,u,d,f,p,x,y;return t in this.cache?this.cache[t]:(l=this.file.loca,n=this.file.contents,a=l.indexOf(t),(s=l.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+a,u=(d=new Ad(n.read(s))).readShort(),p=d.readShort(),y=d.readShort(),f=d.readShort(),x=d.readShort(),this.cache[t]=u===-1?new h$(d,p,y,f,x):new f$(d,u,p,y,f,x),this.cache[t]))},r.prototype.encode=function(t,n,a){var s,l,u,d,f;for(u=[],l=[],d=0,f=n.length;d<f;d++)s=t[n[d]],l.push(u.length),s&&(u=u.concat(s.encode(a)));return l.push(u.length),{table:u,offsets:l}},r}(),f$=function(){function e(r,t,n,a,s,l){this.raw=r,this.numberOfContours=t,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),h$=function(){function e(r,t,n,a,s){var l,u;for(this.raw=r,this.xMin=t,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return e.prototype.encode=function(){var r,t,n;for(t=new Ad(n6.call(this.raw.data)),r=0,n=this.glyphIDs.length;r<n;++r)t.pos=this.glyphOffsets[r];return t.data},e}(),p$=function(e){function r(){return r.__super__.constructor.apply(this,arguments)}return zc(r,Hl),r.prototype.tag="loca",r.prototype.parse=function(t){var n,a;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,l;for(l=[],a=0,s=this.length;a<s;a+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var s,l;for(l=[],a=0,s=this.length;a<s;a+=4)l.push(t.readUInt32());return l}).call(this)},r.prototype.indexOf=function(t){return this.offsets[t]},r.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},r.prototype.encode=function(t,n){for(var a=new Uint32Array(this.offsets.length),s=0,l=0,u=0;u<a.length;++u)if(a[u]=s,l<n.length&&n[l]==u){++l,a[u]=s;var d=this.offsets[u],f=this.offsets[u+1]-d;f>0&&(s+=f)}for(var p=new Array(4*a.length),x=0;x<a.length;++x)p[4*x+3]=255&a[x],p[4*x+2]=(65280&a[x])>>8,p[4*x+1]=(16711680&a[x])>>16,p[4*x]=(4278190080&a[x])>>24;return p},r}(),m$=function(){function e(r){this.font=r,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var r,t,n,a,s;for(t in a=this.font.cmap.tables[0].codeMap,r={},s=this.subset)n=s[t],r[t]=a[n];return r},e.prototype.glyphsFor=function(r){var t,n,a,s,l,u,d;for(a={},l=0,u=r.length;l<u;l++)a[s=r[l]]=this.font.glyf.glyphFor(s);for(s in t=[],a)(n=a[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in d=this.glyphsFor(t))n=d[s],a[s]=n;return a},e.prototype.encode=function(r,t){var n,a,s,l,u,d,f,p,x,y,m,w,v,N,S;for(a in n=r6.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(r),m={0:0},S=n.charMap)m[(d=S[a]).old]=d.new;for(w in y=n.maxGlyphID,l)w in m||(m[w]=y++);return p=function(k){var _,A;for(_ in A={},k)A[k[_]]=_;return A}(m),x=Object.keys(p).sort(function(k,_){return k-_}),v=function(){var k,_,A;for(A=[],k=0,_=x.length;k<_;k++)u=x[k],A.push(p[u]);return A}(),s=this.font.glyf.encode(l,v,m),f=this.font.loca.encode(s.offsets,v),N={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();zr.API.PDFObject=function(){var e;function r(){}return e=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},r.convert=function(t){var n,a,s,l;if(Array.isArray(t))return"["+function(){var u,d,f;for(f=[],u=0,d=t.length;u<d;u++)n=t[u],f.push(r.convert(n));return f}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+e(t.getUTCFullYear(),4)+e(t.getUTCMonth(),2)+e(t.getUTCDate(),2)+e(t.getUTCHours(),2)+e(t.getUTCMinutes(),2)+e(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(a in s=["<<"],t)l=t[a],s.push("/"+a+" "+r.convert(l));return s.push(">>"),s.join(`
`)}return""+t},r}();const g$=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:YI,AcroFormAppearance:_r,AcroFormButton:Ps,AcroFormCheckBox:$p,AcroFormChoiceField:yf,AcroFormComboBox:bf,AcroFormEditBox:Bp,AcroFormListBox:vf,AcroFormPasswordField:zp,AcroFormPushButton:Ip,AcroFormRadioButton:wf,AcroFormTextField:Nd,GState:tm,ShadingPattern:gd,TilingPattern:ff,default:zr,jsPDF:zr},Symbol.toStringTag,{value:"Module"}));var k1={exports:{}};const x$=uA(g$);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var jN=k1.exports,EN;function y$(){return EN||(EN=1,function(e,r){(function(n,a){e.exports=a(function(){try{return x$}catch{}}())})(typeof globalThis<"u"?globalThis:typeof jN<"u"?jN:typeof window<"u"?window:typeof self<"u"?self:cA,function(t){return function(){var n={172:function(u,d){var f=this&&this.__extends||function(){var y=function(m,w){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,N){v.__proto__=N}||function(v,N){for(var S in N)Object.prototype.hasOwnProperty.call(N,S)&&(v[S]=N[S])},y(m,w)};return function(m,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");y(m,w);function v(){this.constructor=m}m.prototype=w===null?Object.create(w):(v.prototype=w.prototype,new v)}}();Object.defineProperty(d,"__esModule",{value:!0}),d.CellHookData=d.HookData=void 0;var p=function(){function y(m,w,v){this.table=w,this.pageNumber=w.pageNumber,this.pageCount=this.pageNumber,this.settings=w.settings,this.cursor=v,this.doc=m.getDocument()}return y}();d.HookData=p;var x=function(y){f(m,y);function m(w,v,N,S,k,_){var A=y.call(this,w,v,_)||this;return A.cell=N,A.row=S,A.column=k,A.section=S.section,A}return m}(p);d.CellHookData=x},340:function(u,d,f){Object.defineProperty(d,"__esModule",{value:!0});var p=f(4),x=f(136),y=f(744),m=f(776),w=f(664),v=f(972);function N(S){S.API.autoTable=function(){for(var k=[],_=0;_<arguments.length;_++)k[_]=arguments[_];var A;k.length===1?A=k[0]:(console.error("Use of deprecated autoTable initiation"),A=k[2]||{},A.columns=k[0],A.body=k[1]);var R=(0,m.parseInput)(this,A),V=(0,v.createTable)(this,R);return(0,w.drawTable)(this,V),this},S.API.lastAutoTable=!1,S.API.previousAutoTable=!1,S.API.autoTable.previous=!1,S.API.autoTableText=function(k,_,A,R){(0,x.default)(k,_,A,R,this)},S.API.autoTableSetDefaults=function(k){return y.DocHandler.setDefaults(k,this),this},S.autoTableSetDefaults=function(k,_){y.DocHandler.setDefaults(k,_)},S.API.autoTableHtmlToJson=function(k,_){var A;if(_===void 0&&(_=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var R=new y.DocHandler(this),V=(0,p.parseHtml)(R,k,window,_,!1),P=V.head,I=V.body,B=((A=P[0])===null||A===void 0?void 0:A.map(function(O){return O.content}))||[];return{columns:B,rows:I,data:I}},S.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var k=this.lastAutoTable;return k&&k.finalY?k.finalY:0},S.API.autoTableAddPageContent=function(k){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),S.API.autoTable.globalDefaults||(S.API.autoTable.globalDefaults={}),S.API.autoTable.globalDefaults.addPageContent=k,this},S.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}d.default=N},136:function(u,d){Object.defineProperty(d,"__esModule",{value:!0});function f(p,x,y,m,w){m=m||{};var v=1.15,N=w.internal.scaleFactor,S=w.internal.getFontSize()/N,k=w.getLineHeightFactor?w.getLineHeightFactor():v,_=S*k,A=/\r\n|\r|\n/g,R="",V=1;if((m.valign==="middle"||m.valign==="bottom"||m.halign==="center"||m.halign==="right")&&(R=typeof p=="string"?p.split(A):p,V=R.length||1),y+=S*(2-v),m.valign==="middle"?y-=V/2*_:m.valign==="bottom"&&(y-=V*_),m.halign==="center"||m.halign==="right"){var P=S;if(m.halign==="center"&&(P*=.5),R&&V>=1){for(var I=0;I<R.length;I++)w.text(R[I],x-w.getStringUnitWidth(R[I])*P,y),y+=_;return w}x-=w.getStringUnitWidth(p)*P}return m.halign==="justify"?w.text(p,x,y,{maxWidth:m.maxWidth||100,align:"justify"}):w.text(p,x,y),w}d.default=f},420:function(u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.getPageAvailableWidth=d.parseSpacing=d.getFillStyle=d.addTableBorder=d.getStringWidth=void 0;function f(w,v,N){N.applyStyles(v,!0);var S=Array.isArray(w)?w:[w],k=S.map(function(_){return N.getTextWidth(_)}).reduce(function(_,A){return Math.max(_,A)},0);return k}d.getStringWidth=f;function p(w,v,N,S){var k=v.settings.tableLineWidth,_=v.settings.tableLineColor;w.applyStyles({lineWidth:k,lineColor:_});var A=x(k,!1);A&&w.rect(N.x,N.y,v.getWidth(w.pageSize().width),S.y-N.y,A)}d.addTableBorder=p;function x(w,v){var N=w>0,S=v||v===0;return N&&S?"DF":N?"S":S?"F":null}d.getFillStyle=x;function y(w,v){var N,S,k,_;if(w=w||v,Array.isArray(w)){if(w.length>=4)return{top:w[0],right:w[1],bottom:w[2],left:w[3]};if(w.length===3)return{top:w[0],right:w[1],bottom:w[2],left:w[1]};if(w.length===2)return{top:w[0],right:w[1],bottom:w[0],left:w[1]};w.length===1?w=w[0]:w=v}return typeof w=="object"?(typeof w.vertical=="number"&&(w.top=w.vertical,w.bottom=w.vertical),typeof w.horizontal=="number"&&(w.right=w.horizontal,w.left=w.horizontal),{left:(N=w.left)!==null&&N!==void 0?N:v,top:(S=w.top)!==null&&S!==void 0?S:v,right:(k=w.right)!==null&&k!==void 0?k:v,bottom:(_=w.bottom)!==null&&_!==void 0?_:v}):(typeof w!="number"&&(w=v),{top:w,right:w,bottom:w,left:w})}d.parseSpacing=y;function m(w,v){var N=y(v.settings.margin,0);return w.pageSize().width-(N.left+N.right)}d.getPageAvailableWidth=m},796:function(u,d){var f=this&&this.__extends||function(){var m=function(w,v){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,S){N.__proto__=S}||function(N,S){for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&(N[k]=S[k])},m(w,v)};return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");m(w,v);function N(){this.constructor=w}w.prototype=v===null?Object.create(v):(N.prototype=v.prototype,new N)}}();Object.defineProperty(d,"__esModule",{value:!0}),d.getTheme=d.defaultStyles=d.HtmlRowInput=void 0;var p=function(m){f(w,m);function w(v){var N=m.call(this)||this;return N._element=v,N}return w}(Array);d.HtmlRowInput=p;function x(m){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/m,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}d.defaultStyles=x;function y(m){var w={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return w[m]}d.getTheme=y},903:function(u,d,f){Object.defineProperty(d,"__esModule",{value:!0}),d.parseCss=void 0;var p=f(420);function x(N,S,k,_,A){var R={},V=1.3333333333333333,P=m(S,function(ee){return A.getComputedStyle(ee).backgroundColor});P!=null&&(R.fillColor=P);var I=m(S,function(ee){return A.getComputedStyle(ee).color});I!=null&&(R.textColor=I);var B=v(_,k);B&&(R.cellPadding=B);var O="borderTopColor",L=V*k,C=_.borderTopWidth;if(_.borderBottomWidth===C&&_.borderRightWidth===C&&_.borderLeftWidth===C){var Y=(parseFloat(C)||0)/L;Y&&(R.lineWidth=Y)}else R.lineWidth={top:(parseFloat(_.borderTopWidth)||0)/L,right:(parseFloat(_.borderRightWidth)||0)/L,bottom:(parseFloat(_.borderBottomWidth)||0)/L,left:(parseFloat(_.borderLeftWidth)||0)/L},R.lineWidth.top||(R.lineWidth.right?O="borderRightColor":R.lineWidth.bottom?O="borderBottomColor":R.lineWidth.left&&(O="borderLeftColor"));var Q=m(S,function(ee){return A.getComputedStyle(ee)[O]});Q!=null&&(R.lineColor=Q);var ce=["left","right","center","justify"];ce.indexOf(_.textAlign)!==-1&&(R.halign=_.textAlign),ce=["middle","bottom","top"],ce.indexOf(_.verticalAlign)!==-1&&(R.valign=_.verticalAlign);var W=parseInt(_.fontSize||"");isNaN(W)||(R.fontSize=W/V);var J=y(_);J&&(R.fontStyle=J);var re=(_.fontFamily||"").toLowerCase();return N.indexOf(re)!==-1&&(R.font=re),R}d.parseCss=x;function y(N){var S="";return(N.fontWeight==="bold"||N.fontWeight==="bolder"||parseInt(N.fontWeight)>=700)&&(S="bold"),(N.fontStyle==="italic"||N.fontStyle==="oblique")&&(S+="italic"),S}function m(N,S){var k=w(N,S);if(!k)return null;var _=k.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!_||!Array.isArray(_))return null;var A=[parseInt(_[1]),parseInt(_[2]),parseInt(_[3])],R=parseInt(_[4]);return R===0||isNaN(A[0])||isNaN(A[1])||isNaN(A[2])?null:A}function w(N,S){var k=S(N);return k==="rgba(0, 0, 0, 0)"||k==="transparent"||k==="initial"||k==="inherit"?N.parentElement==null?null:w(N.parentElement,S):k}function v(N,S){var k=[N.paddingTop,N.paddingRight,N.paddingBottom,N.paddingLeft],_=96/(72/S),A=(parseInt(N.lineHeight)-parseInt(N.fontSize))/S/2,R=k.map(function(P){return parseInt(P||"0")/_}),V=(0,p.parseSpacing)(R,0);return A>V.top&&(V.top=A),A>V.bottom&&(V.bottom=A),V}},744:function(u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.DocHandler=void 0;var f={},p=function(){function x(y){this.jsPDFDocument=y,this.userStyles={textColor:y.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:y.internal.getFontSize(),fontStyle:y.internal.getFont().fontStyle,font:y.internal.getFont().fontName,lineWidth:y.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:y.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return x.setDefaults=function(y,m){m===void 0&&(m=null),m?m.__autoTableDocumentDefaults=y:f=y},x.unifyColor=function(y){return Array.isArray(y)?y:typeof y=="number"?[y,y,y]:typeof y=="string"?[y]:null},x.prototype.applyStyles=function(y,m){var w,v,N;m===void 0&&(m=!1),y.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(y.fontStyle);var S=this.jsPDFDocument.internal.getFont(),k=S.fontStyle,_=S.fontName;if(y.font&&(_=y.font),y.fontStyle){k=y.fontStyle;var A=this.getFontList()[_];A&&A.indexOf(k)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(A[0]),k=A[0])}if(this.jsPDFDocument.setFont(_,k),y.fontSize&&this.jsPDFDocument.setFontSize(y.fontSize),!m){var R=x.unifyColor(y.fillColor);R&&(w=this.jsPDFDocument).setFillColor.apply(w,R),R=x.unifyColor(y.textColor),R&&(v=this.jsPDFDocument).setTextColor.apply(v,R),R=x.unifyColor(y.lineColor),R&&(N=this.jsPDFDocument).setDrawColor.apply(N,R),typeof y.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(y.lineWidth)}},x.prototype.splitTextToSize=function(y,m,w){return this.jsPDFDocument.splitTextToSize(y,m,w)},x.prototype.rect=function(y,m,w,v,N){return this.jsPDFDocument.rect(y,m,w,v,N)},x.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},x.prototype.getTextWidth=function(y){return this.jsPDFDocument.getTextWidth(y)},x.prototype.getDocument=function(){return this.jsPDFDocument},x.prototype.setPage=function(y){this.jsPDFDocument.setPage(y)},x.prototype.addPage=function(){return this.jsPDFDocument.addPage()},x.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},x.prototype.getGlobalOptions=function(){return f||{}},x.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},x.prototype.pageSize=function(){var y=this.jsPDFDocument.internal.pageSize;return y.width==null&&(y={width:y.getWidth(),height:y.getHeight()}),y},x.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},x.prototype.getLineHeightFactor=function(){var y=this.jsPDFDocument;return y.getLineHeightFactor?y.getLineHeightFactor():1.15},x.prototype.getLineHeight=function(y){return y/this.scaleFactor()*this.getLineHeightFactor()},x.prototype.pageNumber=function(){var y=this.jsPDFDocument.internal.getCurrentPageInfo();return y?y.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},x}();d.DocHandler=p},4:function(u,d,f){Object.defineProperty(d,"__esModule",{value:!0}),d.parseHtml=void 0;var p=f(903),x=f(796);function y(v,N,S,k,_){var A,R;k===void 0&&(k=!1),_===void 0&&(_=!1);var V;typeof N=="string"?V=S.document.querySelector(N):V=N;var P=Object.keys(v.getFontList()),I=v.scaleFactor(),B=[],O=[],L=[];if(!V)return console.error("Html table could not be found with input: ",N),{head:B,body:O,foot:L};for(var C=0;C<V.rows.length;C++){var Y=V.rows[C],Q=(R=(A=Y==null?void 0:Y.parentElement)===null||A===void 0?void 0:A.tagName)===null||R===void 0?void 0:R.toLowerCase(),ce=m(P,I,S,Y,k,_);ce&&(Q==="thead"?B.push(ce):Q==="tfoot"?L.push(ce):O.push(ce))}return{head:B,body:O,foot:L}}d.parseHtml=y;function m(v,N,S,k,_,A){for(var R=new x.HtmlRowInput(k),V=0;V<k.cells.length;V++){var P=k.cells[V],I=S.getComputedStyle(P);if(_||I.display!=="none"){var B=void 0;A&&(B=(0,p.parseCss)(v,P,N,I,S)),R.push({rowSpan:P.rowSpan,colSpan:P.colSpan,styles:B,_element:P,content:w(P)})}}var O=S.getComputedStyle(k);if(R.length>0&&(_||O.display!=="none"))return R}function w(v){var N=v.cloneNode(!0);return N.innerHTML=N.innerHTML.replace(/\n/g,"").replace(/ +/g," "),N.innerHTML=N.innerHTML.split(/<br.*?>/).map(function(S){return S.trim()}).join(`
`),N.innerText||N.textContent||""}},776:function(u,d,f){Object.defineProperty(d,"__esModule",{value:!0}),d.parseInput=void 0;var p=f(4),x=f(356),y=f(420),m=f(744),w=f(792);function v(V,P){var I=new m.DocHandler(V),B=I.getDocumentOptions(),O=I.getGlobalOptions();(0,w.default)(I,O,B,P);var L=(0,x.assign)({},O,B,P),C;typeof window<"u"&&(C=window);var Y=N(O,B,P),Q=S(O,B,P),ce=k(I,L),W=A(I,L,C);return{id:P.tableId,content:W,hooks:Q,styles:Y,settings:ce}}d.parseInput=v;function N(V,P,I){for(var B={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},O=function(Q){if(Q==="columnStyles"){var ce=V[Q],W=P[Q],J=I[Q];B.columnStyles=(0,x.assign)({},ce,W,J)}else{var re=[V,P,I],ee=re.map(function(H){return H[Q]||{}});B[Q]=(0,x.assign)({},ee[0],ee[1],ee[2])}},L=0,C=Object.keys(B);L<C.length;L++){var Y=C[L];O(Y)}return B}function S(V,P,I){for(var B=[V,P,I],O={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},L=0,C=B;L<C.length;L++){var Y=C[L];Y.didParseCell&&O.didParseCell.push(Y.didParseCell),Y.willDrawCell&&O.willDrawCell.push(Y.willDrawCell),Y.didDrawCell&&O.didDrawCell.push(Y.didDrawCell),Y.willDrawPage&&O.willDrawPage.push(Y.willDrawPage),Y.didDrawPage&&O.didDrawPage.push(Y.didDrawPage)}return O}function k(V,P){var I,B,O,L,C,Y,Q,ce,W,J,re,ee,H=(0,y.parseSpacing)(P.margin,40/V.scaleFactor()),ne=(I=_(V,P.startY))!==null&&I!==void 0?I:H.top,D;P.showFoot===!0?D="everyPage":P.showFoot===!1?D="never":D=(B=P.showFoot)!==null&&B!==void 0?B:"everyPage";var z;P.showHead===!0?z="everyPage":P.showHead===!1?z="never":z=(O=P.showHead)!==null&&O!==void 0?O:"everyPage";var q=(L=P.useCss)!==null&&L!==void 0?L:!1,X=P.theme||(q?"plain":"striped"),se=!!P.horizontalPageBreak,Se=(C=P.horizontalPageBreakRepeat)!==null&&C!==void 0?C:null;return{includeHiddenHtml:(Y=P.includeHiddenHtml)!==null&&Y!==void 0?Y:!1,useCss:q,theme:X,startY:ne,margin:H,pageBreak:(Q=P.pageBreak)!==null&&Q!==void 0?Q:"auto",rowPageBreak:(ce=P.rowPageBreak)!==null&&ce!==void 0?ce:"auto",tableWidth:(W=P.tableWidth)!==null&&W!==void 0?W:"auto",showHead:z,showFoot:D,tableLineWidth:(J=P.tableLineWidth)!==null&&J!==void 0?J:0,tableLineColor:(re=P.tableLineColor)!==null&&re!==void 0?re:200,horizontalPageBreak:se,horizontalPageBreakRepeat:Se,horizontalPageBreakBehaviour:(ee=P.horizontalPageBreakBehaviour)!==null&&ee!==void 0?ee:"afterAllRows"}}function _(V,P){var I=V.getLastAutoTable(),B=V.scaleFactor(),O=V.pageNumber(),L=!1;if(I&&I.startPageNumber){var C=I.startPageNumber+I.pageNumber-1;L=C===O}return typeof P=="number"?P:(P==null||P===!1)&&L&&(I==null?void 0:I.finalY)!=null?I.finalY+20/B:null}function A(V,P,I){var B=P.head||[],O=P.body||[],L=P.foot||[];if(P.html){var C=P.includeHiddenHtml;if(I){var Y=(0,p.parseHtml)(V,P.html,I,C,P.useCss)||{};B=Y.head||B,O=Y.body||B,L=Y.foot||B}else console.error("Cannot parse html in non browser environment")}var Q=P.columns||R(B,O,L);return{columns:Q,head:B,body:O,foot:L}}function R(V,P,I){var B=V[0]||P[0]||I[0]||[],O=[];return Object.keys(B).filter(function(L){return L!=="_element"}).forEach(function(L){var C=1,Y;Array.isArray(B)?Y=B[parseInt(L)]:Y=B[L],typeof Y=="object"&&!Array.isArray(Y)&&(C=(Y==null?void 0:Y.colSpan)||1);for(var Q=0;Q<C;Q++){var ce=void 0;Array.isArray(B)?ce=O.length:ce=L+(Q>0?"_".concat(Q):"");var W={dataKey:ce};O.push(W)}}),O}},792:function(u,d){Object.defineProperty(d,"__esModule",{value:!0});function f(x,y,m,w){for(var v=function(_){_&&typeof _!="object"&&console.error("The options parameter should be of type object, is: "+typeof _),typeof _.extendWidth<"u"&&(_.tableWidth=_.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof _.margins<"u"&&(typeof _.margin>"u"&&(_.margin=_.margins),console.error("Use of deprecated option: margins, use margin instead.")),_.startY&&typeof _.startY!="number"&&(console.error("Invalid value for startY option",_.startY),delete _.startY),!_.didDrawPage&&(_.afterPageContent||_.beforePageContent||_.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),_.didDrawPage=function(L){x.applyStyles(x.userStyles),_.beforePageContent&&_.beforePageContent(L),x.applyStyles(x.userStyles),_.afterPageContent&&_.afterPageContent(L),x.applyStyles(x.userStyles),_.afterPageAdd&&L.pageNumber>1&&L.afterPageAdd(L),x.applyStyles(x.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(L){_[L]&&console.error('The "'.concat(L,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(L){var C=L[0],Y=L[1];_[Y]&&(console.error("Use of deprecated option ".concat(Y,". Use ").concat(C," instead")),_[C]=_[Y])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(L){var C=typeof L=="string"?L:L[0],Y=typeof L=="string"?L:L[1];typeof _[C]<"u"&&(typeof _.styles[Y]>"u"&&(_.styles[Y]=_[C]),console.error("Use of deprecated option: "+C+", use the style "+Y+" instead."))});for(var A=0,R=["styles","bodyStyles","headStyles","footStyles"];A<R.length;A++){var V=R[A];p(_[V]||{})}for(var P=_.columnStyles||{},I=0,B=Object.keys(P);I<B.length;I++){var O=B[I];p(P[O]||{})}},N=0,S=[y,m,w];N<S.length;N++){var k=S[N];v(k)}}d.default=f;function p(x){x.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),x.minCellHeight||(x.minCellHeight=x.rowHeight)):x.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),x.cellWidth||(x.cellWidth=x.columnWidth))}},260:function(u,d,f){Object.defineProperty(d,"__esModule",{value:!0}),d.Column=d.Cell=d.Row=d.Table=void 0;var p=f(796),x=f(172),y=f(420),m=function(){function S(k,_){this.pageNumber=1,this.pageCount=1,this.id=k.id,this.settings=k.settings,this.styles=k.styles,this.hooks=k.hooks,this.columns=_.columns,this.head=_.head,this.body=_.body,this.foot=_.foot}return S.prototype.getHeadHeight=function(k){return this.head.reduce(function(_,A){return _+A.getMaxCellHeight(k)},0)},S.prototype.getFootHeight=function(k){return this.foot.reduce(function(_,A){return _+A.getMaxCellHeight(k)},0)},S.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},S.prototype.callCellHooks=function(k,_,A,R,V,P){for(var I=0,B=_;I<B.length;I++){var O=B[I],L=new x.CellHookData(k,this,A,R,V,P),C=O(L)===!1;if(A.text=Array.isArray(A.text)?A.text:[A.text],C)return!1}return!0},S.prototype.callEndPageHooks=function(k,_){k.applyStyles(k.userStyles);for(var A=0,R=this.hooks.didDrawPage;A<R.length;A++){var V=R[A];V(new x.HookData(k,this,_))}},S.prototype.callWillDrawPageHooks=function(k,_){for(var A=0,R=this.hooks.willDrawPage;A<R.length;A++){var V=R[A];V(new x.HookData(k,this,_))}},S.prototype.getWidth=function(k){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var _=this.columns.reduce(function(R,V){return R+V.wrappedWidth},0);return _}else{var A=this.settings.margin;return k-A.left-A.right}},S}();d.Table=m;var w=function(){function S(k,_,A,R,V){V===void 0&&(V=!1),this.height=0,this.raw=k,k instanceof p.HtmlRowInput&&(this.raw=k._element,this.element=k._element),this.index=_,this.section=A,this.cells=R,this.spansMultiplePages=V}return S.prototype.getMaxCellHeight=function(k){var _=this;return k.reduce(function(A,R){var V;return Math.max(A,((V=_.cells[R.index])===null||V===void 0?void 0:V.height)||0)},0)},S.prototype.hasRowSpan=function(k){var _=this;return k.filter(function(A){var R=_.cells[A.index];return R?R.rowSpan>1:!1}).length>0},S.prototype.canEntireRowFit=function(k,_){return this.getMaxCellHeight(_)<=k},S.prototype.getMinimumRowHeight=function(k,_){var A=this;return k.reduce(function(R,V){var P=A.cells[V.index];if(!P)return 0;var I=_.getLineHeight(P.styles.fontSize),B=P.padding("vertical"),O=B+I;return O>R?O:R},0)},S}();d.Row=w;var v=function(){function S(k,_,A){var R,V;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=_,this.section=A,this.raw=k;var P=k;k!=null&&typeof k=="object"&&!Array.isArray(k)?(this.rowSpan=k.rowSpan||1,this.colSpan=k.colSpan||1,P=(V=(R=k.content)!==null&&R!==void 0?R:k.title)!==null&&V!==void 0?V:k,k._element&&(this.raw=k._element)):(this.rowSpan=1,this.colSpan=1);var I=P!=null?""+P:"",B=/\r\n|\r|\n/g;this.text=I.split(B)}return S.prototype.getTextPos=function(){var k;if(this.styles.valign==="top")k=this.y+this.padding("top");else if(this.styles.valign==="bottom")k=this.y+this.height-this.padding("bottom");else{var _=this.height-this.padding("vertical");k=this.y+_/2+this.padding("top")}var A;if(this.styles.halign==="right")A=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var R=this.width-this.padding("horizontal");A=this.x+R/2+this.padding("left")}else A=this.x+this.padding("left");return{x:A,y:k}},S.prototype.getContentHeight=function(k,_){_===void 0&&(_=1.15);var A=Array.isArray(this.text)?this.text.length:1,R=this.styles.fontSize/k*_,V=A*R+this.padding("vertical");return Math.max(V,this.styles.minCellHeight)},S.prototype.padding=function(k){var _=(0,y.parseSpacing)(this.styles.cellPadding,0);return k==="vertical"?_.top+_.bottom:k==="horizontal"?_.left+_.right:_[k]},S}();d.Cell=v;var N=function(){function S(k,_,A){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=k,this.raw=_,this.index=A}return S.prototype.getMaxCustomCellWidth=function(k){for(var _=0,A=0,R=k.allRows();A<R.length;A++){var V=R[A],P=V.cells[this.index];P&&typeof P.styles.cellWidth=="number"&&(_=Math.max(_,P.styles.cellWidth))}return _},S}();d.Column=N},356:function(u,d){Object.defineProperty(d,"__esModule",{value:!0}),d.assign=void 0;function f(p,x,y,m,w){if(p==null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(p),N=1;N<arguments.length;N++){var S=arguments[N];if(S!=null)for(var k in S)Object.prototype.hasOwnProperty.call(S,k)&&(v[k]=S[k])}return v}d.assign=f},972:function(u,d,f){Object.defineProperty(d,"__esModule",{value:!0}),d.createTable=void 0;var p=f(744),x=f(260),y=f(324),m=f(796),w=f(356);function v(V,P){var I=new p.DocHandler(V),B=N(P,I.scaleFactor()),O=new x.Table(P,B);return(0,y.calculateWidths)(I,O),I.applyStyles(I.userStyles),O}d.createTable=v;function N(V,P){var I=V.content,B=A(I.columns);if(I.head.length===0){var O=k(B,"head");O&&I.head.push(O)}if(I.foot.length===0){var O=k(B,"foot");O&&I.foot.push(O)}var L=V.settings.theme,C=V.styles;return{columns:B,head:S("head",I.head,B,C,L,P),body:S("body",I.body,B,C,L,P),foot:S("foot",I.foot,B,C,L,P)}}function S(V,P,I,B,O,L){var C={},Y=P.map(function(Q,ce){for(var W=0,J={},re=0,ee=0,H=0,ne=I;H<ne.length;H++){var D=ne[H];if(C[D.index]==null||C[D.index].left===0)if(ee===0){var z=void 0;Array.isArray(Q)?z=Q[D.index-re-W]:z=Q[D.dataKey];var q={};typeof z=="object"&&!Array.isArray(z)&&(q=(z==null?void 0:z.styles)||{});var X=R(V,D,ce,O,B,L,q),se=new x.Cell(z,X,V);J[D.dataKey]=se,J[D.index]=se,ee=se.colSpan-1,C[D.index]={left:se.rowSpan-1,times:ee}}else ee--,re++;else C[D.index].left--,ee=C[D.index].times,W++}return new x.Row(Q,ce,V,J)});return Y}function k(V,P){var I={};return V.forEach(function(B){if(B.raw!=null){var O=_(P,B.raw);O!=null&&(I[B.dataKey]=O)}}),Object.keys(I).length>0?I:null}function _(V,P){if(V==="head"){if(typeof P=="object")return P.header||P.title||null;if(typeof P=="string"||typeof P=="number")return P}else if(V==="foot"&&typeof P=="object")return P.footer;return null}function A(V){return V.map(function(P,I){var B,O,L;return typeof P=="object"?L=(O=(B=P.dataKey)!==null&&B!==void 0?B:P.key)!==null&&O!==void 0?O:I:L=I,new x.Column(L,P,I)})}function R(V,P,I,B,O,L,C){var Y=(0,m.getTheme)(B),Q;V==="head"?Q=O.headStyles:V==="body"?Q=O.bodyStyles:V==="foot"&&(Q=O.footStyles);var ce=(0,w.assign)({},Y.table,Y[V],O.styles,Q),W=O.columnStyles[P.dataKey]||O.columnStyles[P.index]||{},J=V==="body"?W:{},re=V==="body"&&I%2===0?(0,w.assign)({},Y.alternateRow,O.alternateRowStyles):{},ee=(0,m.defaultStyles)(L),H=(0,w.assign)({},ee,ce,re,J);return(0,w.assign)(H,C)}},664:function(u,d,f){Object.defineProperty(d,"__esModule",{value:!0}),d.addPage=d.drawTable=void 0;var p=f(420),x=f(260),y=f(744),m=f(356),w=f(136),v=f(224);function N(W,J){var re=J.settings,ee=re.startY,H=re.margin,ne={x:H.left,y:ee},D=J.getHeadHeight(J.columns)+J.getFootHeight(J.columns),z=ee+H.bottom+D;if(re.pageBreak==="avoid"){var q=J.body,X=q.reduce(function(fe,G){return fe+G.height},0);z+=X}var se=new y.DocHandler(W);(re.pageBreak==="always"||re.startY!=null&&z>se.pageSize().height)&&(ce(se),ne.y=H.top),J.callWillDrawPageHooks(se,ne);var Se=(0,m.assign)({},ne);J.startPageNumber=se.pageNumber(),re.horizontalPageBreak?S(se,J,Se,ne):(se.applyStyles(se.userStyles),(re.showHead==="firstPage"||re.showHead==="everyPage")&&J.head.forEach(function(fe){return O(se,J,fe,ne,J.columns)}),se.applyStyles(se.userStyles),J.body.forEach(function(fe,G){var be=G===J.body.length-1;B(se,J,fe,be,Se,ne,J.columns)}),se.applyStyles(se.userStyles),(re.showFoot==="lastPage"||re.showFoot==="everyPage")&&J.foot.forEach(function(fe){return O(se,J,fe,ne,J.columns)})),(0,p.addTableBorder)(se,J,Se,ne),J.callEndPageHooks(se,ne),J.finalY=ne.y,W.lastAutoTable=J,W.previousAutoTable=J,W.autoTable&&(W.autoTable.previous=J),se.applyStyles(se.userStyles)}d.drawTable=N;function S(W,J,re,ee){var H=(0,v.calculateAllColumnsCanFitInPage)(W,J),ne=J.settings;if(ne.horizontalPageBreakBehaviour==="afterAllRows")H.forEach(function(X,se){W.applyStyles(W.userStyles),se>0?Q(W,J,re,ee,X.columns,!0):k(W,J,ee,X.columns),_(W,J,re,ee,X.columns),R(W,J,ee,X.columns)});else for(var D=-1,z=H[0],q=function(){var X=D;if(z){W.applyStyles(W.userStyles);var se=z.columns;D>=0?Q(W,J,re,ee,se,!0):k(W,J,ee,se),X=A(W,J,D+1,ee,se),R(W,J,ee,se)}var Se=X-D;H.slice(1).forEach(function(fe){W.applyStyles(W.userStyles),Q(W,J,re,ee,fe.columns,!0),A(W,J,D+1,ee,fe.columns,Se),R(W,J,ee,fe.columns)}),D=X};D<J.body.length-1;)q()}function k(W,J,re,ee){var H=J.settings;W.applyStyles(W.userStyles),(H.showHead==="firstPage"||H.showHead==="everyPage")&&J.head.forEach(function(ne){return O(W,J,ne,re,ee)})}function _(W,J,re,ee,H){W.applyStyles(W.userStyles),J.body.forEach(function(ne,D){var z=D===J.body.length-1;B(W,J,ne,z,re,ee,H)})}function A(W,J,re,ee,H,ne){W.applyStyles(W.userStyles),ne=ne??J.body.length;var D=Math.min(re+ne,J.body.length),z=-1;return J.body.slice(re,D).forEach(function(q,X){var se=re+X===J.body.length-1,Se=Y(W,J,se,ee);q.canEntireRowFit(Se,H)&&(O(W,J,q,ee,H),z=re+X)}),z}function R(W,J,re,ee){var H=J.settings;W.applyStyles(W.userStyles),(H.showFoot==="lastPage"||H.showFoot==="everyPage")&&J.foot.forEach(function(ne){return O(W,J,ne,re,ee)})}function V(W,J,re){var ee=re.getLineHeight(W.styles.fontSize),H=W.padding("vertical"),ne=Math.floor((J-H)/ee);return Math.max(0,ne)}function P(W,J,re,ee){var H={};W.spansMultiplePages=!0,W.height=0;for(var ne=0,D=0,z=re.columns;D<z.length;D++){var q=z[D],X=W.cells[q.index];if(X){Array.isArray(X.text)||(X.text=[X.text]);var se=new x.Cell(X.raw,X.styles,X.section);se=(0,m.assign)(se,X),se.text=[];var Se=V(X,J,ee);X.text.length>Se&&(se.text=X.text.splice(Se,X.text.length));var fe=ee.scaleFactor(),G=ee.getLineHeightFactor();X.contentHeight=X.getContentHeight(fe,G),X.contentHeight>=J&&(X.contentHeight=J,se.styles.minCellHeight-=J),X.contentHeight>W.height&&(W.height=X.contentHeight),se.contentHeight=se.getContentHeight(fe,G),se.contentHeight>ne&&(ne=se.contentHeight),H[q.index]=se}}var be=new x.Row(W.raw,-1,W.section,H,!0);be.height=ne;for(var Fe=0,De=re.columns;Fe<De.length;Fe++){var q=De[Fe],se=be.cells[q.index];se&&(se.height=be.height);var X=W.cells[q.index];X&&(X.height=W.height)}return be}function I(W,J,re,ee){var H=W.pageSize().height,ne=ee.settings.margin,D=ne.top+ne.bottom,z=H-D;J.section==="body"&&(z-=ee.getHeadHeight(ee.columns)+ee.getFootHeight(ee.columns));var q=J.getMinimumRowHeight(ee.columns,W),X=q<re;if(q>z)return console.error("Will not be able to print row ".concat(J.index," correctly since it's minimum height is larger than page height")),!0;if(!X)return!1;var se=J.hasRowSpan(ee.columns),Se=J.getMaxCellHeight(ee.columns)>z;return Se?(se&&console.error("The content of row ".concat(J.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(se||ee.settings.rowPageBreak==="avoid")}function B(W,J,re,ee,H,ne,D){var z=Y(W,J,ee,ne);if(re.canEntireRowFit(z,D))O(W,J,re,ne,D);else if(I(W,re,z,J)){var q=P(re,z,J,W);O(W,J,re,ne,D),Q(W,J,H,ne,D),B(W,J,q,ee,H,ne,D)}else Q(W,J,H,ne,D),B(W,J,re,ee,H,ne,D)}function O(W,J,re,ee,H){ee.x=J.settings.margin.left;for(var ne=0,D=H;ne<D.length;ne++){var z=D[ne],q=re.cells[z.index];if(!q){ee.x+=z.width;continue}W.applyStyles(q.styles),q.x=ee.x,q.y=ee.y;var X=J.callCellHooks(W,J.hooks.willDrawCell,q,re,z,ee);if(X===!1){ee.x+=z.width;continue}L(W,q,ee);var se=q.getTextPos();(0,w.default)(q.text,se.x,se.y,{halign:q.styles.halign,valign:q.styles.valign,maxWidth:Math.ceil(q.width-q.padding("left")-q.padding("right"))},W.getDocument()),J.callCellHooks(W,J.hooks.didDrawCell,q,re,z,ee),ee.x+=z.width}ee.y+=re.height}function L(W,J,re){var ee=J.styles;if(W.getDocument().setFillColor(W.getDocument().getFillColor()),typeof ee.lineWidth=="number"){var H=(0,p.getFillStyle)(ee.lineWidth,ee.fillColor);H&&W.rect(J.x,re.y,J.width,J.height,H)}else typeof ee.lineWidth=="object"&&(ee.fillColor&&W.rect(J.x,re.y,J.width,J.height,"F"),C(W,J,re,ee.lineWidth))}function C(W,J,re,ee){var H,ne,D,z;ee.top&&(H=re.x,ne=re.y,D=re.x+J.width,z=re.y,ee.right&&(D+=.5*ee.right),ee.left&&(H-=.5*ee.left),q(ee.top,H,ne,D,z)),ee.bottom&&(H=re.x,ne=re.y+J.height,D=re.x+J.width,z=re.y+J.height,ee.right&&(D+=.5*ee.right),ee.left&&(H-=.5*ee.left),q(ee.bottom,H,ne,D,z)),ee.left&&(H=re.x,ne=re.y,D=re.x,z=re.y+J.height,ee.top&&(ne-=.5*ee.top),ee.bottom&&(z+=.5*ee.bottom),q(ee.left,H,ne,D,z)),ee.right&&(H=re.x+J.width,ne=re.y,D=re.x+J.width,z=re.y+J.height,ee.top&&(ne-=.5*ee.top),ee.bottom&&(z+=.5*ee.bottom),q(ee.right,H,ne,D,z));function q(X,se,Se,fe,G){W.getDocument().setLineWidth(X),W.getDocument().line(se,Se,fe,G,"S")}}function Y(W,J,re,ee){var H=J.settings.margin.bottom,ne=J.settings.showFoot;return(ne==="everyPage"||ne==="lastPage"&&re)&&(H+=J.getFootHeight(J.columns)),W.pageSize().height-ee.y-H}function Q(W,J,re,ee,H,ne){H===void 0&&(H=[]),ne===void 0&&(ne=!1),W.applyStyles(W.userStyles),J.settings.showFoot==="everyPage"&&!ne&&J.foot.forEach(function(z){return O(W,J,z,ee,H)}),J.callEndPageHooks(W,ee);var D=J.settings.margin;(0,p.addTableBorder)(W,J,re,ee),ce(W),J.pageNumber++,J.pageCount++,ee.x=D.left,ee.y=D.top,re.y=D.top,J.callWillDrawPageHooks(W,ee),J.settings.showHead==="everyPage"&&(J.head.forEach(function(z){return O(W,J,z,ee,H)}),W.applyStyles(W.userStyles))}d.addPage=Q;function ce(W){var J=W.pageNumber();W.setPage(J+1);var re=W.pageNumber();return re===J?(W.addPage(),!0):!1}},224:function(u,d,f){Object.defineProperty(d,"__esModule",{value:!0}),d.calculateAllColumnsCanFitInPage=void 0;var p=f(420);function x(m,w,v){var N;v===void 0&&(v={});var S=(0,p.getPageAvailableWidth)(m,w),k=new Map,_=[],A=[],R=[];w.settings.horizontalPageBreakRepeat,Array.isArray(w.settings.horizontalPageBreakRepeat)?R=w.settings.horizontalPageBreakRepeat:(typeof w.settings.horizontalPageBreakRepeat=="string"||typeof w.settings.horizontalPageBreakRepeat=="number")&&(R=[w.settings.horizontalPageBreakRepeat]),R.forEach(function(B){var O=w.columns.find(function(L){return L.dataKey===B||L.index===B});O&&!k.has(O.index)&&(k.set(O.index,!0),_.push(O.index),A.push(w.columns[O.index]),S-=O.wrappedWidth)});for(var V=!0,P=(N=v==null?void 0:v.start)!==null&&N!==void 0?N:0;P<w.columns.length;){if(k.has(P)){P++;continue}var I=w.columns[P].wrappedWidth;if(V||S>=I)V=!1,_.push(P),A.push(w.columns[P]),S-=I;else break;P++}return{colIndexes:_,columns:A,lastIndex:P-1}}function y(m,w){for(var v=[],N=0;N<w.columns.length;N++){var S=x(m,w,{start:N});S.columns.length&&(v.push(S),N=S.lastIndex)}return v}d.calculateAllColumnsCanFitInPage=y},324:function(u,d,f){Object.defineProperty(d,"__esModule",{value:!0}),d.ellipsize=d.resizeColumns=d.calculateWidths=void 0;var p=f(420);function x(_,A){y(_,A);var R=[],V=0;A.columns.forEach(function(I){var B=I.getMaxCustomCellWidth(A);B?I.width=B:(I.width=I.wrappedWidth,R.push(I)),V+=I.width});var P=A.getWidth(_.pageSize().width)-V;P&&(P=m(R,P,function(I){return Math.max(I.minReadableWidth,I.minWidth)})),P&&(P=m(R,P,function(I){return I.minWidth})),P=Math.abs(P),!A.settings.horizontalPageBreak&&P>.1/_.scaleFactor()&&(P=P<1?P:Math.round(P),console.warn("Of the table content, ".concat(P," units width could not fit page"))),v(A),N(A,_),w(A)}d.calculateWidths=x;function y(_,A){var R=_.scaleFactor(),V=A.settings.horizontalPageBreak,P=(0,p.getPageAvailableWidth)(_,A);A.allRows().forEach(function(I){for(var B=0,O=A.columns;B<O.length;B++){var L=O[B],C=I.cells[L.index];if(C){var Y=A.hooks.didParseCell;A.callCellHooks(_,Y,C,I,L,null);var Q=C.padding("horizontal");C.contentWidth=(0,p.getStringWidth)(C.text,C.styles,_)+Q;var ce=(0,p.getStringWidth)(C.text.join(" ").split(/[^\S\u00A0]+/),C.styles,_);if(C.minReadableWidth=ce+C.padding("horizontal"),typeof C.styles.cellWidth=="number")C.minWidth=C.styles.cellWidth,C.wrappedWidth=C.styles.cellWidth;else if(C.styles.cellWidth==="wrap"||V===!0)C.contentWidth>P?(C.minWidth=P,C.wrappedWidth=P):(C.minWidth=C.contentWidth,C.wrappedWidth=C.contentWidth);else{var W=10/R;C.minWidth=C.styles.minCellWidth||W,C.wrappedWidth=C.contentWidth,C.minWidth>C.wrappedWidth&&(C.wrappedWidth=C.minWidth)}}}}),A.allRows().forEach(function(I){for(var B=0,O=A.columns;B<O.length;B++){var L=O[B],C=I.cells[L.index];if(C&&C.colSpan===1)L.wrappedWidth=Math.max(L.wrappedWidth,C.wrappedWidth),L.minWidth=Math.max(L.minWidth,C.minWidth),L.minReadableWidth=Math.max(L.minReadableWidth,C.minReadableWidth);else{var Y=A.styles.columnStyles[L.dataKey]||A.styles.columnStyles[L.index]||{},Q=Y.cellWidth||Y.minCellWidth;Q&&typeof Q=="number"&&(L.minWidth=Q,L.wrappedWidth=Q)}C&&(C.colSpan>1&&!L.minWidth&&(L.minWidth=C.minWidth),C.colSpan>1&&!L.wrappedWidth&&(L.wrappedWidth=C.minWidth))}})}function m(_,A,R){for(var V=A,P=_.reduce(function(W,J){return W+J.wrappedWidth},0),I=0;I<_.length;I++){var B=_[I],O=B.wrappedWidth/P,L=V*O,C=B.width+L,Y=R(B),Q=C<Y?Y:C;A-=Q-B.width,B.width=Q}if(A=Math.round(A*1e10)/1e10,A){var ce=_.filter(function(W){return A<0?W.width>R(W):!0});ce.length&&(A=m(ce,A,R))}return A}d.resizeColumns=m;function w(_){for(var A={},R=1,V=_.allRows(),P=0;P<V.length;P++)for(var I=V[P],B=0,O=_.columns;B<O.length;B++){var L=O[B],C=A[L.index];if(R>1)R--,delete I.cells[L.index];else if(C)C.cell.height+=I.height,R=C.cell.colSpan,delete I.cells[L.index],C.left--,C.left<=1&&delete A[L.index];else{var Y=I.cells[L.index];if(!Y)continue;if(Y.height=I.height,Y.rowSpan>1){var Q=V.length-P,ce=Y.rowSpan>Q?Q:Y.rowSpan;A[L.index]={cell:Y,left:ce,row:I}}}}}function v(_){for(var A=_.allRows(),R=0;R<A.length;R++)for(var V=A[R],P=null,I=0,B=0,O=0;O<_.columns.length;O++){var L=_.columns[O];if(B-=1,B>1&&_.columns[O+1])I+=L.width,delete V.cells[L.index];else if(P){var C=P;delete V.cells[L.index],P=null,C.width=L.width+I}else{var C=V.cells[L.index];if(!C)continue;if(B=C.colSpan,I=0,C.colSpan>1){P=C,I+=L.width;continue}C.width=L.width+I}}}function N(_,A){for(var R={count:0,height:0},V=0,P=_.allRows();V<P.length;V++){for(var I=P[V],B=0,O=_.columns;B<O.length;B++){var L=O[B],C=I.cells[L.index];if(C){A.applyStyles(C.styles,!0);var Y=C.width-C.padding("horizontal");if(C.styles.overflow==="linebreak")C.text=A.splitTextToSize(C.text,Y+1/A.scaleFactor(),{fontSize:C.styles.fontSize});else if(C.styles.overflow==="ellipsize")C.text=S(C.text,Y,C.styles,A,"...");else if(C.styles.overflow==="hidden")C.text=S(C.text,Y,C.styles,A,"");else if(typeof C.styles.overflow=="function"){var Q=C.styles.overflow(C.text,Y);typeof Q=="string"?C.text=[Q]:C.text=Q}C.contentHeight=C.getContentHeight(A.scaleFactor(),A.getLineHeightFactor());var ce=C.contentHeight/C.rowSpan;C.rowSpan>1&&R.count*R.height<ce*C.rowSpan?R={height:ce,count:C.rowSpan}:R&&R.count>0&&R.height>ce&&(ce=R.height),ce>I.height&&(I.height=ce)}}R.count--}}function S(_,A,R,V,P){return _.map(function(I){return k(I,A,R,V,P)})}d.ellipsize=S;function k(_,A,R,V,P){var I=1e4*V.scaleFactor();if(A=Math.ceil(A*I)/I,A>=(0,p.getStringWidth)(_,R,V))return _;for(;A<(0,p.getStringWidth)(_+P,R,V)&&!(_.length<=1);)_=_.substring(0,_.length-1);return _.trim()+P}},964:function(u){if(typeof t>"u"){var d=new Error("Cannot find module 'undefined'");throw d.code="MODULE_NOT_FOUND",d}u.exports=t}},a={};function s(u){var d=a[u];if(d!==void 0)return d.exports;var f=a[u]={exports:{}};return n[u].call(f.exports,f,f.exports,s),f.exports}var l={};return function(){var u=l;Object.defineProperty(u,"__esModule",{value:!0}),u.Cell=u.Column=u.Row=u.Table=u.CellHookData=u.__drawTable=u.__createTable=u.applyPlugin=void 0;var d=s(340),f=s(776),p=s(664),x=s(972),y=s(260);Object.defineProperty(u,"Table",{enumerable:!0,get:function(){return y.Table}});var m=s(172);Object.defineProperty(u,"CellHookData",{enumerable:!0,get:function(){return m.CellHookData}});var w=s(260);Object.defineProperty(u,"Cell",{enumerable:!0,get:function(){return w.Cell}}),Object.defineProperty(u,"Column",{enumerable:!0,get:function(){return w.Column}}),Object.defineProperty(u,"Row",{enumerable:!0,get:function(){return w.Row}});function v(A){(0,d.default)(A)}u.applyPlugin=v;function N(A,R){var V=(0,f.parseInput)(A,R),P=(0,x.createTable)(A,V);(0,p.drawTable)(A,P)}function S(A,R){var V=(0,f.parseInput)(A,R);return(0,x.createTable)(A,V)}u.__createTable=S;function k(A,R){(0,p.drawTable)(A,R)}u.__drawTable=k;try{var _=s(964);_.jsPDF&&(_=_.jsPDF),v(_)}catch{}u.default=N}(),l}()})}(k1)),k1.exports}y$();function AN(e){if(!e)return"NA";const r=new Date(e);return isNaN(r)?"NA":r.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})}const uf=[{id:"title",label:"Title",defaultWidth:256},{id:"description",label:"Status",defaultWidth:180},{id:"clientName",label:"Client Name",defaultWidth:150},{id:"clientGroup",label:"Client Group",defaultWidth:150},{id:"workType",label:"Work Type",defaultWidth:150},{id:"billed",label:"Internal Works",defaultWidth:80},{id:"status",label:"Stages",defaultWidth:120},{id:"priority",label:"Priority",defaultWidth:120},{id:"selfVerification",label:"Self Verification",defaultWidth:120},{id:"inwardEntryDate",label:"Inward Entry Date",defaultWidth:150},{id:"dueDate",label:"Due Date",defaultWidth:120},{id:"targetDate",label:"Target Date",defaultWidth:120},{id:"assignedBy",label:"Assigned By",defaultWidth:150},{id:"assignedTo",label:"Assigned To",defaultWidth:150},{id:"verificationAssignedTo",label:"First Verifier",defaultWidth:150},{id:"secondVerificationAssignedTo",label:"Second Verifier",defaultWidth:150},{id:"thirdVerificationAssignedTo",label:"Third Verifier",defaultWidth:150},{id:"fourthVerificationAssignedTo",label:"Fourth Verifier",defaultWidth:150},{id:"fifthVerificationAssignedTo",label:"Fifth Verifier",defaultWidth:150},{id:"guides",label:"Guide",defaultWidth:150},{id:"files",label:"Files",defaultWidth:120},{id:"comments",label:"Comments",defaultWidth:120}],Zg=(e=[])=>{const r=uf.map(a=>a.id),t=e.map(a=>`custom_${a.name}`),n=[...r,...t];return{id:String(Date.now()),title:"Tab 1",filters:[],sortBy:"createdAt",sortOrder:"desc",searchTerm:"",visibleColumns:n,columnWidths:Object.fromEntries([...uf.map(a=>[a.id,a.defaultWidth]),...e.map(a=>[`custom_${a.name}`,150])]),columnOrder:n}},af=()=>{const{user:e}=gn(),[r,t]=T.useState([]),[n,a]=T.useState(null),[s,l]=T.useState(!1),[u,d]=T.useState([]),[f,p]=T.useState(!0),[x,y]=T.useState(null),[m,w]=T.useState(null),[v,N]=T.useState(null),[S,k]=T.useState([]),[_,A]=T.useState(!1),[R,V]=T.useState(!1),[P,I]=T.useState(!1),[B,O]=T.useState(!1),L=T.useRef(null),[C,Y]=T.useState([]),[Q,ce]=T.useState([]),[W,J]=T.useState([]),[re,ee]=T.useState([]),[H,ne]=T.useState([]),[D,z]=T.useState([]),[q,X]=T.useState(!1),se=T.useRef(null),Se=T.useRef(null),[fe,G]=T.useState(!1),[be,Fe]=T.useState(null),[De,lt]=T.useState(""),[ft,Pe]=T.useState(!1),[xe,Qe]=T.useState(null),[at,pt]=T.useState(!1),[Ze,ze]=T.useState(!1),[Ae,vt]=T.useState(!1),[gt,rr]=T.useState(null),[Wt,Qt]=T.useState([]),[cr,Zt]=T.useState(!1),[hr,$t]=T.useState(""),[Mr,xr]=T.useState(null),[Qr,Er]=T.useState(!1),[Fr,tn]=T.useState(null),[et,_e]=T.useState([]),[Be,ve]=T.useState(!1),[Ce,Le]=T.useState(!1),[qe,Tt]=T.useState(!1),[Dt,er]=T.useState(!1);T.useEffect(()=>{!gt||!(e!=null&&e.token)||(async()=>{try{const At=await(await fetch(`${$e}/api/automations/${gt._id}/tasks`,{headers:{Authorization:`Bearer ${e.token}`}})).json();Qt(Array.isArray(At)?At:[])}catch{Qt([])}})()},[gt,e,$e]);const[ar,St]=T.useState([]),[ht,Bt]=T.useState(!1),Kt=()=>{St([...Ot.filters]),O(!0)},Ot=r.find(Je=>Je.id===n)||r[0]||Zg(_?S:[]),Ir=(()=>{const Je=[...uf];if(!_||S.length===0)return Je;const At=S.map(Xt=>({id:`custom_${Xt.name}`,label:Xt.label,defaultWidth:150,isCustom:!0,customColumn:Xt}));return[...Je,...At]})(),le=async()=>{const Je=String(Date.now()),At=[...r,{...Zg(S),id:Je,title:`Tab ${r.length+1}`}];t(At),a(Je);try{await fetch(`${$e}/api/users/user-tab-state/adminDashboard`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({state:{tabs:At,activeTabId:Je}})})}catch{}},Te=Je=>{let At=r.findIndex(Jt=>Jt.id===Je);if(r.length===1)return;const Xt=r.filter(Jt=>Jt.id!==Je);t(Xt),n===Je&&a(Xt[Math.max(0,At-1)].id)},te=(Je,At)=>{t(r.map(Xt=>Xt.id===Je?{...Xt,title:At}:Xt))},de=Je=>{t(r.map(At=>{if(At.id!==n)return At;let Xt={...At,...Je};if(Je.groupBy==="priority"){const Jt=["urgent","today","lessThan3Days","thisWeek","thisMonth","regular","filed","dailyWorksOffice","monthlyWorks"];let fr=[...Jt];H.filter(Pr=>!Jt.includes(Pr.name)).forEach(Pr=>{fr.push(Pr.name)}),Xt.groupOrder=fr}if(Je.visibleColumns){const fr=(Xt.columnOrder||uf.map(Pr=>Pr.id)).filter(Pr=>Je.visibleColumns.includes(Pr));Je.visibleColumns.forEach(Pr=>{fr.includes(Pr)||fr.push(Pr)}),Xt.columnOrder=fr}return Xt}))};T.useEffect(()=>{if(!(e!=null&&e.token))return;let Je=!0;return(async()=>{try{const At=await Yh("adminDashboard",e.token);if(Je&&At&&Array.isArray(At.tabs)&&At.tabs.length>0)t(At.tabs),a(At.activeTabId);else if(Je){const Xt={...Zg(S)};t([Xt]),a(Xt.id)}}catch{if(Je){const At={...Zg(S)};t([At]),a(At.id)}}finally{Je&&l(!0)}})(),()=>{Je=!1}},[e]),T.useEffect(()=>{(async()=>{if(e!=null&&e.token)try{const At=await fetch(`${$e}/api/custom-columns`,{headers:{Authorization:`Bearer ${e.token}`}});if(At.ok){const Xt=await At.json();k(Xt)}}catch(At){console.error("Error fetching custom columns:",At),k([])}finally{A(!0)}})()},[e==null?void 0:e.token]),T.useEffect(()=>{!(e!=null&&e.token)||!s||Ox("adminDashboard",{tabs:r,activeTabId:n},e.token).catch(()=>{})},[r,n,e,s]),T.useEffect(()=>{const Je=At=>{L.current&&!L.current.contains(At.target)&&O(!1)};return document.addEventListener("mousedown",Je),()=>{document.removeEventListener("mousedown",Je)}},[]),T.useEffect(()=>{const Je=async(At,Xt)=>{try{const Jt=await fetch(`${$e}/api/${At}`,{headers:{Authorization:`Bearer ${e.token}`}});if(!Jt.ok)throw new Error(`Failed to fetch data from ${At}`);const fr=await Jt.json();Xt(fr)}catch(Jt){console.error(Jt),Ee.error(Jt.message)}};e&&e.token&&(Je("users",Y),Je("tasks/unique/client-names",ce),Je("tasks/unique/client-groups",J),Je("tasks/unique/work-types",ee),Je("priorities",ne))},[e]);const ye=async()=>{try{p(!0),y(null);let Je="";e.role==="Admin"||e.role==="Senior"||e.role==="Team Head"?Je="tasks/all":Je="tasks";const At=await fetch(`${$e}/api/${Je}`,{headers:{Authorization:`Bearer ${e.token}`}});if(!At.ok){const fr=await At.json();throw new Error(fr.message||"Failed to fetch tasks")}const Xt=await At.json();if(!Array.isArray(Xt))throw new Error("Invalid response format");let Jt=Xt;try{const fr="adminDashboard",Pr=Ot.id,oa=await fetch(`${$e}/api/users/tabstate/taskOrder?tabKey=${fr}&tabId=${Pr}`,{headers:{Authorization:`Bearer ${e.token}`}});if(oa.ok){const nn=(await oa.json()).taskOrder;if(nn&&Array.isArray(nn)){const jn=Object.fromEntries(Xt.map(wr=>[wr._id,wr]));Jt=nn.map(wr=>jn[wr]).filter(Boolean);for(const wr of Xt)Jt.includes(wr)||Jt.push(wr)}}}catch{}d(Jt)}catch(Je){console.error("Error fetching tasks:",Je),y(Je.message),Ee.error(Je.message||"Failed to fetch tasks"),d([])}finally{p(!1)}};T.useEffect(()=>{s&&n&&ye()},[s,n]),T.useEffect(()=>{_e([]),ve(!1),Le(!1)},[u.length]),T.useEffect(()=>{s&&(_e([]),ve(!1),Le(!1))},[s,n]);const Ne=()=>{const Je=!Dt;er(Je),Je||(_e([]),ve(!1),Le(!1))};T.useEffect(()=>{Dt||(_e([]),ve(!1),Le(!1))},[Dt]),T.useEffect(()=>{const Je=async()=>{try{const At=await fetch(`${$e}/api/timesheets/task-hours`,{headers:{Authorization:`Bearer ${e.token}`}});if(!At.ok)throw new Error("Failed to fetch task hours");const Xt=await At.json();z(Xt)}catch(At){console.error("Error fetching task hours:",At)}};e&&e.token&&Je()},[e]);const Ge=(Je,At)=>{if(!Array.isArray(Je))return[];const Xt=At||Ot.filters,Jt=["urgent","today","lessThan3Days","thisWeek","thisMonth","regular","filed","dailyWorksOffice","monthlyWorks"],fr={};let Pr=1;Jt.forEach(ur=>{fr[ur]=Pr++}),H.filter(ur=>!Jt.includes(ur.name)).forEach((ur,nn)=>{fr[ur.name]=100+nn});let oa=Je.filter(ur=>{var jn,wr,Nr,Nn,Js;if(ur.verificationStatus==="pending")return!1;if(Ot.searchTerm){const rn=Ot.searchTerm.toLowerCase();if(!(((jn=ur.title)==null?void 0:jn.toString().toLowerCase().includes(rn))||((wr=ur.description)==null?void 0:wr.toString().toLowerCase().includes(rn))||((Nr=ur.clientName)==null?void 0:Nr.toString().toLowerCase().includes(rn))||((Nn=ur.clientGroup)==null?void 0:Nn.toString().toLowerCase().includes(rn))||((Js=ur.workType)==null?void 0:Js.toString().toLowerCase().includes(rn))))return!1}if(!Xt.length)return!0;let nn=null;for(let rn=0;rn<Xt.length;rn++){const Da=Xt[rn],{column:qa,operator:ho,value:Qs}=Da,pa=((Bs,Yi)=>{const pi=Yi.split(".");let Ds=Bs;for(const Gi of pi){if(Ds==null)return;Ds=Ds[Gi]}return Ds})(ur,qa);let Na;if(pa==null)ho==="is_empty"?Na=!0:Na=!1;else switch(ho){case"is":qa==="assignedTo"||qa==="assignedBy"?Na=pa._id===Qs:Na=String(pa)===String(Qs);break;case"is_not":qa==="assignedTo"||qa==="assignedBy"?Na=pa._id!==Qs:Na=String(pa)!==String(Qs);break;case"contains":Na=String(pa).toLowerCase().includes(String(Qs).toLowerCase());break;case"does_not_contain":Na=!String(pa).toLowerCase().includes(String(Qs).toLowerCase());break;case"is_empty":Na=pa===""||pa===null||pa===void 0;break;case"is_not_empty":Na=pa!==""&&pa!==null&&pa!==void 0;break;default:Na=!0}rn===0?nn=Na:(Da.logic||"AND")==="AND"?nn=nn&&Na:nn=nn||Na}return nn});return Ot.sortBy?oa.sort((ur,nn)=>{let jn=ur[Ot.sortBy],wr=nn[Ot.sortBy];if(Ot.sortBy==="createdAt")jn=new Date(jn),wr=new Date(wr);else if(Ot.sortBy==="priority")return jn=fr[jn]||999,wr=fr[wr]||999,jn<wr?Ot.sortOrder==="desc"?-1:1:jn>wr?Ot.sortOrder==="desc"?1:-1:0;return jn<wr?Ot.sortOrder==="asc"?-1:1:jn>wr?Ot.sortOrder==="asc"?1:-1:0}):oa};u.length,u.filter(Je=>Je.status==="completed").length,u.filter(Je=>Je.status==="in_progress").length,u.filter(Je=>Je.status==="pending").length,u.filter(Je=>Je.status==="yet_to_start").length,u.filter(Je=>new Date(Je.dueDate).toDateString()===new Date().toDateString()).length;const ut=Je=>{Qe(Je),Pe(!0)},We=Je=>{Pe(!1),pt(!1),Qe(null),ye()},nt=(Je,At)=>{xr(Je),tn(At),Er(!0)},st=async Je=>{try{if(Fr===null||!gt)return;const At=[...gt.taskTemplate];At[Fr]={...Je,_id:Mr._id};const Xt=await fetch(`${$e}/api/automations/${gt._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({taskTemplate:At})});if(!Xt.ok)throw new Error("Failed to update template");const Jt=await Xt.json();rr(Jt),Er(!1),xr(null),tn(null),Ee.success("Task template updated successfully")}catch(At){Ee.error(At.message||"Failed to update template"),console.error("Error updating template:",At)}},rt=(Je,At)=>{_e(Xt=>{const Jt=At?[...Xt,Je]:Xt.filter(Pr=>Pr!==Je);Le(Jt.length>0&&Dt);const fr=Ge(u,Ot.filters);return ve(Jt.length===fr.length&&fr.length>0),Jt})},Gt=Je=>{const At=Ge(u,Ot.filters);Je?(_e(At.map(Xt=>Xt._id)),Le(At.length>0&&Dt)):(_e([]),Le(!1)),ve(Je)},nr=async()=>{if(et.length!==0)try{const Je=et.map(Jt=>fetch(`${$e}/api/tasks/${Jt}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.token}`}})),Xt=(await Promise.all(Je)).filter(Jt=>!Jt.ok);Xt.length>0?Ee.error(`Failed to delete ${Xt.length} task${Xt.length>1?"s":""}`):Ee.success(`Successfully deleted ${et.length} task${et.length>1?"s":""}`),_e([]),ve(!1),Le(!1),Tt(!1),ye()}catch(Je){Ee.error("Failed to delete selected tasks"),console.error("Bulk delete error:",Je)}},zt=Je=>{d(At=>At.map(Xt=>Xt._id===v._id?{...Xt,files:[...Xt.files||[],...Je.filter(Jt=>!(Xt.files||[]).some(fr=>fr._id===Jt._id))]}:Xt)),N(At=>At&&At._id===v._id?{...At,files:[...At.files||[],...Je.filter(Xt=>!(At.files||[]).some(Jt=>Jt._id===Xt._id))]}:At)},tr=Je=>{d(At=>At.map(Xt=>Xt._id===v._id?{...Xt,files:(Xt.files||[]).filter(Jt=>Jt._id!==Je)}:Xt))};Ge(u);const Ar=Je=>{const At=Ge(u),Xt=uf.filter(ur=>Je.includes(ur.id)),Jt=new zr,fr=Xt.map(ur=>ur.label),Pr=[],oa=Ot.sortBy;if(oa&&oa!==""){const ur={};At.forEach(nn=>{let jn;switch(oa){case"clientName":jn=nn.clientName||"Unassigned";break;case"clientGroup":jn=nn.clientGroup||"Unassigned";break;case"workType":jn=Array.isArray(nn.workType)?nn.workType[0]||"Unspecified":nn.workType||"Unspecified";break;case"billed":jn=nn.billed?"Yes":"No";break;default:jn=nn[oa]||"Unassigned"}ur[jn]||(ur[jn]=[]),ur[jn].push(nn)}),Object.entries(ur).forEach(([nn,jn],wr)=>{wr>0&&Pr.push(Array(fr.length).fill("")),Pr.push([{content:`${oa.replace(/([A-Z])/g," $1").replace(/^./,Nr=>Nr.toUpperCase())}: ${nn}`,colSpan:fr.length,styles:{fillColor:[220,220,220],fontStyle:"bold",halign:"left"}}]),jn.forEach(Nr=>{const Nn=[];Xt.forEach(Js=>{let rn="";switch(Js.id){case"title":rn=Nr.title||"";break;case"description":rn=Nr.description||"";break;case"clientName":rn=Nr.clientName||"";break;case"clientGroup":rn=Nr.clientGroup||"";break;case"workType":rn=Array.isArray(Nr.workType)?Nr.workType.join(", "):Nr.workType||"";break;case"billed":rn=Nr.billed?"Yes":"No";break;case"status":rn=Nr.status||"";break;case"priority":rn=Nr.priority||"";break;case"selfVerification":rn=Nr.selfVerification?"✓":"✗";break;case"inwardEntryDate":rn=Nr.inwardEntryDate?AN(Nr.inwardEntryDate):"";break;case"dueDate":rn=Nr.dueDate?new Date(Nr.dueDate).toLocaleDateString():"";break;case"targetDate":rn=Nr.targetDate?new Date(Nr.targetDate).toLocaleDateString():"";break;case"assignedBy":rn=Nr.assignedBy?`${Nr.assignedBy.firstName} ${Nr.assignedBy.lastName}`:"";break;case"assignedTo":rn=Array.isArray(Nr.assignedTo)?Nr.assignedTo.map(Da=>`${Da.firstName} ${Da.lastName}`).join(", "):Nr.assignedTo?`${Nr.assignedTo.firstName} ${Nr.assignedTo.lastName}`:"";break;case"verificationAssignedTo":rn=Nr.verificationAssignedTo?`${Nr.verificationAssignedTo.firstName} ${Nr.verificationAssignedTo.lastName}`:"";break;case"secondVerificationAssignedTo":rn=Nr.secondVerificationAssignedTo?`${Nr.secondVerificationAssignedTo.firstName} ${Nr.secondVerificationAssignedTo.lastName}`:"";break;case"guides":rn=Nr.guides?Nr.guides.map(Da=>Da.name).join(", "):"";break;case"files":rn=Nr.files&&Nr.files.length>0?Nr.files.map(Da=>Da.originalName||Da.originalname).join(", "):"";break;case"comments":rn=Nr.comments?Nr.comments.length.toString():"0";break;default:rn=""}Nn.push(rn)}),Pr.push(Nn)})})}else At.forEach(ur=>{const nn=[];Xt.forEach(jn=>{let wr="";switch(jn.id){case"title":wr=ur.title||"";break;case"description":wr=ur.description||"";break;case"clientName":wr=ur.clientName||"";break;case"clientGroup":wr=ur.clientGroup||"";break;case"workType":wr=Array.isArray(ur.workType)?ur.workType.join(", "):ur.workType||"";break;case"billed":wr=ur.billed?"Yes":"No";break;case"status":wr=ur.status||"";break;case"priority":wr=ur.priority||"";break;case"selfVerification":wr=ur.selfVerification?"✓":"✗";break;case"inwardEntryDate":wr=ur.inwardEntryDate?AN(ur.inwardEntryDate):"";break;case"dueDate":wr=ur.dueDate?new Date(ur.dueDate).toLocaleDateString():"";break;case"targetDate":wr=ur.targetDate?new Date(ur.targetDate).toLocaleDateString():"";break;case"assignedBy":wr=ur.assignedBy?`${ur.assignedBy.firstName} ${ur.assignedBy.lastName}`:"";break;case"assignedTo":wr=Array.isArray(ur.assignedTo)?ur.assignedTo.map(Nr=>`${Nr.firstName} ${Nr.lastName}`).join(", "):ur.assignedTo?`${ur.assignedTo.firstName} ${ur.assignedTo.lastName}`:"";break;case"verificationAssignedTo":wr=ur.verificationAssignedTo?`${ur.verificationAssignedTo.firstName} ${ur.verificationAssignedTo.lastName}`:"";break;case"secondVerificationAssignedTo":wr=ur.secondVerificationAssignedTo?`${ur.secondVerificationAssignedTo.firstName} ${ur.secondVerificationAssignedTo.lastName}`:"";break;case"guides":wr=ur.guides?ur.guides.map(Nr=>Nr.name).join(", "):"";break;case"files":wr=ur.files&&ur.files.length>0?ur.files.map(Nr=>Nr.originalName||Nr.originalname).join(", "):"";break;case"comments":wr=ur.comments?ur.comments.length.toString():"0";break;default:wr=""}nn.push(wr)}),Pr.push(nn)});Jt.autoTable({head:[fr],body:Pr,theme:"striped",styles:{fontSize:8,cellPadding:2,overflow:"linebreak"},didDrawPage:function(ur){Jt.setFontSize(8),Jt.text(`Page ${Jt.internal.getNumberOfPages()}`,ur.settings.margin.left,Jt.internal.pageSize.height-10)}}),Jt.save(`tasks_${(Ot==null?void 0:Ot.activeTab)||"dashboard"}.pdf`)},Zr=()=>{G(!0)};T.useEffect(()=>{const At=`admindashboard_column_widths_${(e==null?void 0:e._id)||"guest"}`,Xt=localStorage.getItem(At);if(Xt)try{const Jt=JSON.parse(Xt)}catch{}if(!Xt){const Jt={};uf.forEach(fr=>{Jt[fr.id]=fr.defaultWidth})}},[e==null?void 0:e._id]);const wn=u.filter(Je=>Je.status==="yet_to_start").length,cn=u.filter(Je=>Je.priority==="today"&&Je.status!=="completed").length,Ca=u.filter(Je=>Je.status!=="completed").length,Va=u.filter(Je=>Je.priority==="urgent"&&Je.status!=="completed").length;return!s||r.length===0?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):f?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):x?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsxs("div",{className:"text-red-500 text-center",children:[i.jsx("p",{className:"text-lg font-semibold",children:"Error loading tasks"}),i.jsx("p",{className:"text-sm",children:x}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Retry"})]})}):i.jsxs("div",{className:"p-4 sm:p-6 bg-gray-50 min-h-screen",children:[i.jsx(Pb,{tabs:r,activeTabId:n,onTabClick:a,onAddTab:le,onCloseTab:Te,onRenameTab:te}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-md p-3 sm:p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(lf,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-500 mr-2 sm:mr-4"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-800",children:"Yet To Start"}),i.jsx("p",{className:"text-xl sm:text-3xl font-bold text-red-600",children:wn})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-3 sm:p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(i3,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-500 mr-2 sm:mr-4"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-800",children:"Today's Tasks"}),i.jsx("p",{className:"text-xl sm:text-3xl font-bold text-yellow-600",children:cn})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-3 sm:p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(bc,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-500 mr-2 sm:mr-4"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-800",children:"Total Tasks"}),i.jsx("p",{className:"text-xl sm:text-3xl font-bold text-blue-600",children:Ca})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow-md p-3 sm:p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(i3,{className:"h-6 w-6 sm:h-8 sm:w-8 text-red-600 mr-2 sm:mr-4"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm sm:text-lg font-semibold text-gray-800",children:"Urgent Tasks"}),i.jsx("p",{className:"text-xl sm:text-3xl font-bold text-red-600",children:Va})]})]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-4 mb-4 w-full bg-white rounded-lg shadow-sm p-3",children:[i.jsxs("div",{className:"flex flex-col w-full gap-2 sm:hidden",children:[i.jsxs("div",{className:"flex w-full gap-2",children:[i.jsxs("div",{className:"relative flex-1",ref:L,children:[i.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-sm w-full",onClick:Kt,children:[i.jsx("span",{children:"Filter"}),Ot.filters.length>0&&i.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold ml-2 px-2.5 py-0.5 rounded-full",children:Ot.filters.length})]}),i.jsx(W1,{isOpen:B,onClose:()=>O(!1),filters:ar,setFilters:Je=>{St(Je),Je.length<ar.length?de({filters:Je}):Je.length>0&&Je.every(At=>At.saved)&&de({filters:Je})},users:C,clientNames:Q,clientGroups:W,workTypes:re,priorities:H})]}),i.jsx("input",{type:"text",placeholder:"Search tasks...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",value:Ot.searchTerm,onChange:Je=>de({searchTerm:Je.target.value})})]}),i.jsxs("div",{className:"flex w-full gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 text-sm font-medium h-11 w-full transition-colors",onClick:()=>X(Je=>!Je),"aria-label":"Show/Hide Columns",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),"Columns"]}),q&&i.jsxs("div",{ref:se,className:"absolute right-0 z-20 bg-white border border-gray-200 rounded-lg shadow-lg p-3 mt-2 w-56 animate-fade-in",children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-2 text-sm",children:"Show/Hide Columns"}),i.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 custom-scrollbar",children:Ir.map(Je=>i.jsxs("label",{className:"flex items-center space-x-2 mb-1 cursor-pointer hover:bg-blue-50 rounded px-2 py-1 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:Ot.visibleColumns.includes(Je.id),onChange:()=>{const At=Ot.visibleColumns||[];let Xt;At.includes(Je.id)?Xt=At.filter(Jt=>Jt!==Je.id):Xt=[...At,Je.id],de({visibleColumns:[...Xt]})},className:"accent-blue-500"}),i.jsx("span",{className:"text-gray-800 text-sm",children:Je.label})]},Je.id))})]})]}),i.jsxs("div",{className:"relative flex-1 flex items-center",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 text-sm font-medium h-11 w-full transition-colors",onClick:()=>Bt(Je=>!Je),type:"button",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"2"})]}),i.jsx("span",{className:"font-semibold",children:"Group By"})]}),ht&&i.jsxs("div",{className:"absolute left-0 top-full z-20 bg-white border border-gray-200 rounded-lg shadow-lg mt-2 w-44 animate-fade-in",style:{minWidth:"160px"},children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-2 text-sm px-3 pt-3",children:"Group By"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${!Ot.sortBy||Ot.sortBy===""?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:""}),Bt(!1)},children:"None"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="createdAt"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"createdAt"}),Bt(!1)},children:"Assigned On"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="priority"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"priority"}),Bt(!1)},children:"Priority"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="status"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"status"}),Bt(!1)},children:"Stages"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="clientName"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"clientName"}),Bt(!1)},children:"Client Name"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="clientGroup"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"clientGroup"}),Bt(!1)},children:"Client Group"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="workType"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"workType"}),Bt(!1)},children:"Work Type"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="billed"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"billed"}),Bt(!1)},children:"Internal Works"})]})]})]}),i.jsxs("div",{className:"flex w-full gap-2",children:[i.jsx("button",{onClick:Zr,className:"flex-1 px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 text-sm",children:"Download"}),i.jsxs("button",{onClick:Ne,className:`flex-1 flex items-center justify-center w-auto px-4 h-9 rounded-lg focus:outline-none focus:ring-2 shadow-sm transition-colors ${Dt?"bg-orange-600 hover:bg-orange-700 text-white focus:ring-orange-500":"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500"}`,title:Dt?"Hide Selection Mode":"Enable Selection Mode",type:"button",children:[i.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Dt?"Exit Selection":"Select"]})]}),i.jsxs("div",{className:"flex w-full gap-2",children:[i.jsx("button",{onClick:()=>vt(!0),className:"flex-1 flex items-center justify-center cursor-pointer w-28 h-9 rounded-lg bg-purple-600 hover:bg-purple-700 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm mr-2",title:"Automation",type:"button",children:"Automation"}),i.jsx("button",{onClick:()=>pt(!0),className:"flex-1 flex items-center justify-center w-8 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",title:"Create Task",type:"button",children:i.jsx(o3,{className:"h-6 w-8"})})]})]}),i.jsxs("div",{className:"hidden sm:flex flex-row items-stretch sm:items-center gap-2 sm:gap-4 w-full",children:[i.jsxs("div",{className:"relative",ref:L,children:[i.jsxs("button",{className:"flex items-center space-x-2 px-3 py-2 border border-gray-300 rounded-md bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 text-sm",onClick:Kt,children:[i.jsx("span",{children:"Filter"}),Ot.filters.length>0&&i.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold ml-2 px-2.5 py-0.5 rounded-full",children:Ot.filters.length})]}),i.jsx(W1,{isOpen:B,onClose:()=>O(!1),filters:ar,setFilters:Je=>{St(Je),Je.length<ar.length?de({filters:Je}):Je.length>0&&Je.every(At=>At.saved)&&de({filters:Je})},users:C,clientNames:Q,clientGroups:W,workTypes:re,priorities:H})]}),i.jsx("input",{type:"text",placeholder:"Search tasks...",className:"min-w-[300px] max-w-[420px] flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",value:Ot.searchTerm,onChange:Je=>de({searchTerm:Je.target.value})}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 text-sm font-medium h-11 min-w-[120px] transition-colors",onClick:()=>X(Je=>!Je),"aria-label":"Show/Hide Columns",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),"Columns"]}),q&&i.jsxs("div",{ref:se,className:"absolute right-0 z-20 bg-white border border-gray-200 rounded-lg shadow-lg p-3 mt-2 w-56 animate-fade-in",children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-2 text-sm",children:"Show/Hide Columns"}),i.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 custom-scrollbar",children:Ir.map(Je=>i.jsxs("label",{className:"flex items-center space-x-2 mb-1 cursor-pointer hover:bg-blue-50 rounded px-2 py-1 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:Ot.visibleColumns.includes(Je.id),onChange:()=>{const At=Ot.visibleColumns||[];let Xt;At.includes(Je.id)?Xt=At.filter(Jt=>Jt!==Je.id):Xt=[...At,Je.id],de({visibleColumns:[...Xt]})},className:"accent-blue-500"}),i.jsx("span",{className:"text-gray-800 text-sm",children:Je.label})]},Je.id))})]})]}),i.jsxs("div",{className:"relative flex items-center gap-2",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 text-sm font-medium h-11 min-w-[120px] transition-colors",onClick:()=>Bt(Je=>!Je),type:"button",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"2"})]}),i.jsx("span",{className:"font-semibold",children:"Group By"})]}),ht&&i.jsxs("div",{className:"absolute left-0 top-full z-20 bg-white border border-gray-200 rounded-lg shadow-lg mt-2 w-44 animate-fade-in",style:{minWidth:"160px"},children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-2 text-sm px-3 pt-3",children:"Group By"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${!Ot.sortBy||Ot.sortBy===""?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:""}),Bt(!1)},children:"None"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="createdAt"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"createdAt"}),Bt(!1)},children:"Assigned On"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="priority"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"priority"}),Bt(!1)},children:"Priority"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="status"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"status"}),Bt(!1)},children:"Stages"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="clientName"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"clientName"}),Bt(!1)},children:"Client Name"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="clientGroup"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"clientGroup"}),Bt(!1)},children:"Client Group"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="workType"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"workType"}),Bt(!1)},children:"Work Type"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${Ot.sortBy==="billed"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{de({sortBy:"billed"}),Bt(!1)},children:"Internal Works"})]})]}),i.jsx("button",{onClick:Zr,className:"px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 text-sm",children:"Download"}),i.jsxs("button",{onClick:Ne,className:`ml-0 flex items-center justify-center w-auto px-4 h-9 rounded-lg focus:outline-none focus:ring-2 shadow-sm transition-colors ${Dt?"bg-orange-600 hover:bg-orange-700 text-white focus:ring-orange-500":"bg-gray-600 hover:bg-gray-700 text-white focus:ring-gray-500"}`,title:Dt?"Hide Selection Mode":"Enable Selection Mode",type:"button",children:[i.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Dt?"Exit Selection":"Select"]}),i.jsx("button",{onClick:()=>vt(!0),className:"ml-0 flex items-center justify-center cursor-pointer w-28 h-9 rounded-lg bg-purple-600 hover:bg-purple-700 text-white focus:outline-none focus:ring-2 focus:ring-purple-500 shadow-sm mr-2",title:"Automation",type:"button",children:"Automation"}),i.jsx("button",{onClick:()=>pt(!0),className:"ml-0 flex items-center justify-center w-8 h-9 rounded-lg bg-blue-600 hover:bg-blue-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 shadow-sm",title:"Create Task",type:"button",children:i.jsx(o3,{className:"h-6 w-8"})})]})]}),Ce&&Dt&&i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg px-4 py-3 mb-4 flex items-center justify-between shadow-sm animate-fade-in",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 rounded-full",children:i.jsx("svg",{className:"h-5 w-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("span",{className:"text-blue-800 font-medium",children:[et.length," task",et.length>1?"s":""," selected"]})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-600",children:[i.jsx("span",{children:"•"}),i.jsx("button",{onClick:()=>{_e([]),ve(!1),Le(!1)},className:"text-blue-600 hover:text-blue-800 font-medium transition-colors hover:underline",children:"Clear Selection"})]})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsxs("button",{onClick:()=>Tt(!0),className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all hover:shadow-md",children:[i.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Selected (",et.length,")"]})})]}),i.jsx("div",{className:"overflow-x-auto w-full",ref:Se,children:i.jsx(mm,{tasks:Ge(u,B?ar:Ot.filters),viewType:"admin",taskType:null,onTaskUpdate:(Je,At)=>{d(Xt=>Xt.map(Jt=>Jt._id===Je?At(Jt):Jt))},onTaskDelete:()=>{},onStatusChange:()=>{},shouldDisableActions:()=>!1,shouldDisableFileActions:()=>!0,taskHours:D,storageKeyPrefix:"admindashboard",visibleColumns:Ot.visibleColumns,setVisibleColumns:Je=>de({visibleColumns:Je}),columnWidths:Ot.columnWidths,setColumnWidths:Je=>de({columnWidths:Je}),columnOrder:Ot.columnOrder,setColumnOrder:Je=>de({columnOrder:Je}),onEditTask:ut,users:C,currentUser:e,refetchTasks:ye,sortBy:Ot.sortBy,filters:B?ar:Ot.filters,tabKey:"adminDashboard",tabId:Ot.id,allColumns:Ir,enableBulkSelection:Dt,selectedTasks:et,onTaskSelect:rt,isAllSelected:Be,onSelectAll:Gt})}),ft&&i.jsx(qp,{users:C,mode:"edit",initialData:xe,isOpen:ft,onClose:()=>Pe(!1),onSubmit:We}),at&&i.jsx(qp,{users:C,mode:"create",initialData:null,isOpen:at,onClose:()=>pt(!1),onSubmit:We}),Ae&&i.jsx(pI,{isOpen:Ae,onClose:()=>{vt(!1),rr(null),$t("")},onSelectAutomation:Je=>{rr(Je),vt(!1),$t("")},user:e,API_BASE_URL:$e}),gt&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl p-6 w-full max-w-2xl min-h-[320px] flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4 pb-3 border-b",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:gt.name}),i.jsx("div",{className:"text-xs text-gray-500 mt-1",children:gt.description}),i.jsxs("div",{className:"flex items-center mt-2",children:[i.jsxs("div",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 font-medium rounded-full",children:["Day: ",gt.dayOfMonth]}),Array.isArray(gt.taskTemplate)&&i.jsxs("div",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 font-medium rounded-full ml-2",children:[gt.taskTemplate.length," ",gt.taskTemplate.length===1?"template":"templates"]})]})]}),i.jsx("button",{onClick:()=>{rr(null),$t("")},className:"text-gray-400 hover:text-gray-700 text-xl",children:"×"})]}),i.jsxs("div",{className:"flex-1 mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h3",{className:"text-md font-semibold text-gray-800",children:"Task Templates"}),i.jsxs("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded-full",children:[Array.isArray(gt.taskTemplate)?gt.taskTemplate.length:0," templates"]})]}),Array.isArray(gt.taskTemplate)&&gt.taskTemplate.length>0&&i.jsx("div",{className:"mb-3",children:i.jsx("input",{type:"text",placeholder:"Search templates...",value:hr,onChange:Je=>$t(Je.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),Array.isArray(gt.taskTemplate)&&gt.taskTemplate.length>0?(()=>{const Je=gt.taskTemplate.filter(At=>At.verificationStatus!=="pending").filter(At=>!hr||At.title&&At.title.toLowerCase().includes(hr.toLowerCase()));return Je.length>0?i.jsx("ul",{className:"space-y-2 mt-2 max-h-[420px] overflow-y-auto pr-2 custom-scrollbar",style:{maxHeight:"420px"},children:Je.map((At,Xt)=>i.jsxs("li",{className:"py-3 px-4 flex items-center justify-between bg-yellow-50 border-l-4 border-yellow-400 rounded-md hover:bg-yellow-100 transition-colors shadow-sm",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"font-medium text-gray-800",children:At.title||"Scheduled Task"}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Created on ",new Date().toLocaleDateString()]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{className:"text-blue-500 hover:text-blue-700 text-xs bg-white hover:bg-blue-50 border border-blue-200 px-3 py-1 rounded-md transition-colors flex items-center",onClick:Jt=>{Jt.stopPropagation();const fr=gt.taskTemplate.findIndex(Pr=>Pr.title===At.title&&Pr.clientName===At.clientName&&Pr.clientGroup===At.clientGroup);nt(At,fr)},children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),i.jsxs("button",{className:"text-red-500 hover:text-red-700 text-xs bg-white hover:bg-red-50 border border-red-200 px-3 py-1 rounded-md transition-colors flex items-center",onClick:async Jt=>{if(Jt.stopPropagation(),window.confirm(`Are you sure you want to delete this template: ${At.title}?`))try{const fr=gt.taskTemplate.filter((ur,nn)=>nn!==Xt),Pr=await fetch(`${$e}/api/automations/${gt._id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({taskTemplate:fr})});if(!Pr.ok)throw new Error("Failed to delete template");const oa=await Pr.json();rr(oa),Ee.success("Task template deleted successfully")}catch(fr){Ee.error(fr.message||"Failed to delete template"),console.error("Error deleting template:",fr)}},children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]},Xt))}):i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center border border-gray-100 shadow-sm",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-300 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19l-7-7 7-7m5 14l7-7-7-7"})}),i.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:['No templates found matching "',hr,'"']}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Try adjusting your search term."})]})})():i.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 text-center border border-gray-100 shadow-sm",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-gray-300 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),i.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"No task templates in this automation yet."}),i.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Add a template using the button below."})]})]}),i.jsxs("button",{onClick:()=>Zt(!0),className:"bg-blue-600 text-white rounded-md py-2.5 font-semibold hover:bg-blue-700 transition w-full flex items-center justify-center shadow-sm",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add New Task Template"]})]})}),cr&&gt&&i.jsx(sN,{users:C,mode:"create",initialData:null,isOpen:cr,onClose:()=>Zt(!1),automationId:gt._id,onSubmit:Je=>{(async()=>{try{const Xt=await(await fetch(`${$e}/api/automations/${gt._id}`,{headers:{Authorization:`Bearer ${e.token}`}})).json();Xt&&Xt._id&&rr(Xt);const fr=await(await fetch(`${$e}/api/automations/${gt._id}/tasks`,{headers:{Authorization:`Bearer ${e.token}`}})).json();Qt(Array.isArray(fr)?fr:[])}catch(At){console.error("Error fetching updated automation:",At)}})(),Zt(!1)}}),i.jsx(mI,{isOpen:fe,onClose:()=>G(!1),onDownload:Ar,availableColumns:uf}),v&&(R||P)&&i.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:R?"Task Files":"Task Comments"}),i.jsx("button",{onClick:()=>{N(null),V(!1),I(!1)},className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),i.jsx("div",{className:"space-y-6",children:R?i.jsxs(i.Fragment,{children:[i.jsx(Z_,{taskId:v._id,onFileUploaded:zt,onFileDeleted:tr}),v.files&&v.files.length>0&&i.jsx("div",{className:"mt-4",children:i.jsx(pm,{taskId:v._id,files:v.files,onFileDeleted:tr})})]}):i.jsx(eT,{taskId:v._id})})]})}),Qr&&i.jsx(sN,{users:C,mode:"edit",initialData:Mr,isOpen:Qr,onClose:()=>{Er(!1),xr(null),tn(null)},onSubmit:st,automationId:gt==null?void 0:gt._id,isEditingTemplate:!0}),qe&&i.jsx("div",{className:"fixed inset-0 bg-gray-50/80 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4 shadow-xl",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mr-4",children:i.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delete Tasks"}),i.jsx("p",{className:"text-sm text-gray-500",children:"This action cannot be undone"})]})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("p",{className:"text-gray-700",children:["Are you sure you want to delete ",i.jsx("span",{className:"font-semibold text-red-600",children:et.length})," selected task",et.length>1?"s":"","?"]})}),i.jsxs("div",{className:"flex space-x-3 justify-end",children:[i.jsx("button",{onClick:()=>Tt(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",children:"Cancel"}),i.jsxs("button",{onClick:nr,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:["Delete ",et.length," Task",et.length>1?"s":""]})]})]})})]})};function a6(e,r){return function(){return e.apply(r,arguments)}}const{toString:v$}=Object.prototype,{getPrototypeOf:lw}=Object,{iterator:qx,toStringTag:s6}=Symbol,Yx=(e=>r=>{const t=v$.call(r);return e[t]||(e[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Wl=e=>(e=e.toLowerCase(),r=>Yx(r)===e),Gx=e=>r=>typeof r===e,{isArray:f0}=Array,rm=Gx("undefined");function b$(e){return e!==null&&!rm(e)&&e.constructor!==null&&!rm(e.constructor)&&io(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const i6=Wl("ArrayBuffer");function w$(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&i6(e.buffer),r}const N$=Gx("string"),io=Gx("function"),o6=Gx("number"),Xx=e=>e!==null&&typeof e=="object",S$=e=>e===!0||e===!1,j1=e=>{if(Yx(e)!=="object")return!1;const r=lw(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(s6 in e)&&!(qx in e)},_$=Wl("Date"),T$=Wl("File"),k$=Wl("Blob"),j$=Wl("FileList"),E$=e=>Xx(e)&&io(e.pipe),A$=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||io(e.append)&&((r=Yx(e))==="formdata"||r==="object"&&io(e.toString)&&e.toString()==="[object FormData]"))},C$=Wl("URLSearchParams"),[D$,O$,L$,R$]=["ReadableStream","Request","Response","Headers"].map(Wl),M$=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nm(e,r,{allOwnKeys:t=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),f0(e))for(n=0,a=e.length;n<a;n++)r.call(null,e[n],n,e);else{const s=t?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;let u;for(n=0;n<l;n++)u=s[n],r.call(null,e[u],u,e)}}function l6(e,r){r=r.toLowerCase();const t=Object.keys(e);let n=t.length,a;for(;n-- >0;)if(a=t[n],r===a.toLowerCase())return a;return null}const hf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,c6=e=>!rm(e)&&e!==hf;function eb(){const{caseless:e}=c6(this)&&this||{},r={},t=(n,a)=>{const s=e&&l6(r,a)||a;j1(r[s])&&j1(n)?r[s]=eb(r[s],n):j1(n)?r[s]=eb({},n):f0(n)?r[s]=n.slice():r[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Nm(arguments[n],t);return r}const F$=(e,r,t,{allOwnKeys:n}={})=>(Nm(r,(a,s)=>{t&&io(a)?e[s]=a6(a,t):e[s]=a},{allOwnKeys:n}),e),P$=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),B$=(e,r,t,n)=>{e.prototype=Object.create(r.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),t&&Object.assign(e.prototype,t)},I$=(e,r,t,n)=>{let a,s,l;const u={};if(r=r||{},e==null)return r;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)l=a[s],(!n||n(l,e,r))&&!u[l]&&(r[l]=e[l],u[l]=!0);e=t!==!1&&lw(e)}while(e&&(!t||t(e,r))&&e!==Object.prototype);return r},$$=(e,r,t)=>{e=String(e),(t===void 0||t>e.length)&&(t=e.length),t-=r.length;const n=e.indexOf(r,t);return n!==-1&&n===t},z$=e=>{if(!e)return null;if(f0(e))return e;let r=e.length;if(!o6(r))return null;const t=new Array(r);for(;r-- >0;)t[r]=e[r];return t},U$=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&lw(Uint8Array)),H$=(e,r)=>{const n=(e&&e[qx]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;r.call(e,s[0],s[1])}},W$=(e,r)=>{let t;const n=[];for(;(t=e.exec(r))!==null;)n.push(t);return n},V$=Wl("HTMLFormElement"),q$=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,a){return n.toUpperCase()+a}),CN=(({hasOwnProperty:e})=>(r,t)=>e.call(r,t))(Object.prototype),Y$=Wl("RegExp"),u6=(e,r)=>{const t=Object.getOwnPropertyDescriptors(e),n={};Nm(t,(a,s)=>{let l;(l=r(a,s,e))!==!1&&(n[s]=l||a)}),Object.defineProperties(e,n)},G$=e=>{u6(e,(r,t)=>{if(io(e)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=e[t];if(io(n)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},X$=(e,r)=>{const t={},n=a=>{a.forEach(s=>{t[s]=!0})};return f0(e)?n(e):n(String(e).split(r)),t},K$=()=>{},J$=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function Q$(e){return!!(e&&io(e.append)&&e[s6]==="FormData"&&e[qx])}const Z$=e=>{const r=new Array(10),t=(n,a)=>{if(Xx(n)){if(r.indexOf(n)>=0)return;if(!("toJSON"in n)){r[a]=n;const s=f0(n)?[]:{};return Nm(n,(l,u)=>{const d=t(l,a+1);!rm(d)&&(s[u]=d)}),r[a]=void 0,s}}return n};return t(e,0)},ez=Wl("AsyncFunction"),tz=e=>e&&(Xx(e)||io(e))&&io(e.then)&&io(e.catch),d6=((e,r)=>e?setImmediate:r?((t,n)=>(hf.addEventListener("message",({source:a,data:s})=>{a===hf&&s===t&&n.length&&n.shift()()},!1),a=>{n.push(a),hf.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",io(hf.postMessage)),rz=typeof queueMicrotask<"u"?queueMicrotask.bind(hf):typeof process<"u"&&process.nextTick||d6,nz=e=>e!=null&&io(e[qx]),wt={isArray:f0,isArrayBuffer:i6,isBuffer:b$,isFormData:A$,isArrayBufferView:w$,isString:N$,isNumber:o6,isBoolean:S$,isObject:Xx,isPlainObject:j1,isReadableStream:D$,isRequest:O$,isResponse:L$,isHeaders:R$,isUndefined:rm,isDate:_$,isFile:T$,isBlob:k$,isRegExp:Y$,isFunction:io,isStream:E$,isURLSearchParams:C$,isTypedArray:U$,isFileList:j$,forEach:Nm,merge:eb,extend:F$,trim:M$,stripBOM:P$,inherits:B$,toFlatObject:I$,kindOf:Yx,kindOfTest:Wl,endsWith:$$,toArray:z$,forEachEntry:H$,matchAll:W$,isHTMLForm:V$,hasOwnProperty:CN,hasOwnProp:CN,reduceDescriptors:u6,freezeMethods:G$,toObjectSet:X$,toCamelCase:q$,noop:K$,toFiniteNumber:J$,findKey:l6,global:hf,isContextDefined:c6,isSpecCompliantForm:Q$,toJSONObject:Z$,isAsyncFn:ez,isThenable:tz,setImmediate:d6,asap:rz,isIterable:nz};function ln(e,r,t,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),t&&(this.config=t),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}wt.inherits(ln,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:wt.toJSONObject(this.config),code:this.code,status:this.status}}});const f6=ln.prototype,h6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{h6[e]={value:e}});Object.defineProperties(ln,h6);Object.defineProperty(f6,"isAxiosError",{value:!0});ln.from=(e,r,t,n,a,s)=>{const l=Object.create(f6);return wt.toFlatObject(e,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),ln.call(l,e.message,r,t,n,a),l.cause=e,l.name=e.name,s&&Object.assign(l,s),l};const az=null;function tb(e){return wt.isPlainObject(e)||wt.isArray(e)}function p6(e){return wt.endsWith(e,"[]")?e.slice(0,-2):e}function DN(e,r,t){return e?e.concat(r).map(function(a,s){return a=p6(a),!t&&s?"["+a+"]":a}).join(t?".":""):r}function sz(e){return wt.isArray(e)&&!e.some(tb)}const iz=wt.toFlatObject(wt,{},null,function(r){return/^is[A-Z]/.test(r)});function Kx(e,r,t){if(!wt.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,t=wt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,N){return!wt.isUndefined(N[v])});const n=t.metaTokens,a=t.visitor||p,s=t.dots,l=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&wt.isSpecCompliantForm(r);if(!wt.isFunction(a))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(wt.isDate(w))return w.toISOString();if(!d&&wt.isBlob(w))throw new ln("Blob is not supported. Use a Buffer instead.");return wt.isArrayBuffer(w)||wt.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,v,N){let S=w;if(w&&!N&&typeof w=="object"){if(wt.endsWith(v,"{}"))v=n?v:v.slice(0,-2),w=JSON.stringify(w);else if(wt.isArray(w)&&sz(w)||(wt.isFileList(w)||wt.endsWith(v,"[]"))&&(S=wt.toArray(w)))return v=p6(v),S.forEach(function(_,A){!(wt.isUndefined(_)||_===null)&&r.append(l===!0?DN([v],A,s):l===null?v:v+"[]",f(_))}),!1}return tb(w)?!0:(r.append(DN(N,v,s),f(w)),!1)}const x=[],y=Object.assign(iz,{defaultVisitor:p,convertValue:f,isVisitable:tb});function m(w,v){if(!wt.isUndefined(w)){if(x.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));x.push(w),wt.forEach(w,function(S,k){(!(wt.isUndefined(S)||S===null)&&a.call(r,S,wt.isString(k)?k.trim():k,v,y))===!0&&m(S,v?v.concat(k):[k])}),x.pop()}}if(!wt.isObject(e))throw new TypeError("data must be an object");return m(e),r}function ON(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return r[n]})}function cw(e,r){this._pairs=[],e&&Kx(e,this,r)}const m6=cw.prototype;m6.append=function(r,t){this._pairs.push([r,t])};m6.toString=function(r){const t=r?function(n){return r.call(this,n,ON)}:ON;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function oz(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function g6(e,r,t){if(!r)return e;const n=t&&t.encode||oz;wt.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let s;if(a?s=a(r,t):s=wt.isURLSearchParams(r)?r.toString():new cw(r,t).toString(n),s){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class LN{constructor(){this.handlers=[]}use(r,t,n){return this.handlers.push({fulfilled:r,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){wt.forEach(this.handlers,function(n){n!==null&&r(n)})}}const x6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lz=typeof URLSearchParams<"u"?URLSearchParams:cw,cz=typeof FormData<"u"?FormData:null,uz=typeof Blob<"u"?Blob:null,dz={isBrowser:!0,classes:{URLSearchParams:lz,FormData:cz,Blob:uz},protocols:["http","https","file","blob","url","data"]},uw=typeof window<"u"&&typeof document<"u",rb=typeof navigator=="object"&&navigator||void 0,fz=uw&&(!rb||["ReactNative","NativeScript","NS"].indexOf(rb.product)<0),hz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pz=uw&&window.location.href||"http://localhost",mz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uw,hasStandardBrowserEnv:fz,hasStandardBrowserWebWorkerEnv:hz,navigator:rb,origin:pz},Symbol.toStringTag,{value:"Module"})),Ei={...mz,...dz};function gz(e,r){return Kx(e,new Ei.classes.URLSearchParams,Object.assign({visitor:function(t,n,a,s){return Ei.isNode&&wt.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},r))}function xz(e){return wt.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function yz(e){const r={},t=Object.keys(e);let n;const a=t.length;let s;for(n=0;n<a;n++)s=t[n],r[s]=e[s];return r}function y6(e){function r(t,n,a,s){let l=t[s++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=s>=t.length;return l=!l&&wt.isArray(a)?a.length:l,d?(wt.hasOwnProp(a,l)?a[l]=[a[l],n]:a[l]=n,!u):((!a[l]||!wt.isObject(a[l]))&&(a[l]=[]),r(t,n,a[l],s)&&wt.isArray(a[l])&&(a[l]=yz(a[l])),!u)}if(wt.isFormData(e)&&wt.isFunction(e.entries)){const t={};return wt.forEachEntry(e,(n,a)=>{r(xz(n),a,t,0)}),t}return null}function vz(e,r,t){if(wt.isString(e))try{return(r||JSON.parse)(e),wt.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(e)}const Sm={transitional:x6,adapter:["xhr","http","fetch"],transformRequest:[function(r,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,s=wt.isObject(r);if(s&&wt.isHTMLForm(r)&&(r=new FormData(r)),wt.isFormData(r))return a?JSON.stringify(y6(r)):r;if(wt.isArrayBuffer(r)||wt.isBuffer(r)||wt.isStream(r)||wt.isFile(r)||wt.isBlob(r)||wt.isReadableStream(r))return r;if(wt.isArrayBufferView(r))return r.buffer;if(wt.isURLSearchParams(r))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let u;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return gz(r,this.formSerializer).toString();if((u=wt.isFileList(r))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Kx(u?{"files[]":r}:r,d&&new d,this.formSerializer)}}return s||a?(t.setContentType("application/json",!1),vz(r)):r}],transformResponse:[function(r){const t=this.transitional||Sm.transitional,n=t&&t.forcedJSONParsing,a=this.responseType==="json";if(wt.isResponse(r)||wt.isReadableStream(r))return r;if(r&&wt.isString(r)&&(n&&!this.responseType||a)){const l=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(r)}catch(u){if(l)throw u.name==="SyntaxError"?ln.from(u,ln.ERR_BAD_RESPONSE,this,null,this.response):u}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ei.classes.FormData,Blob:Ei.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};wt.forEach(["delete","get","head","post","put","patch"],e=>{Sm.headers[e]={}});const bz=wt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wz=e=>{const r={};let t,n,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),t=l.substring(0,a).trim().toLowerCase(),n=l.substring(a+1).trim(),!(!t||r[t]&&bz[t])&&(t==="set-cookie"?r[t]?r[t].push(n):r[t]=[n]:r[t]=r[t]?r[t]+", "+n:n)}),r},RN=Symbol("internals");function gp(e){return e&&String(e).trim().toLowerCase()}function E1(e){return e===!1||e==null?e:wt.isArray(e)?e.map(E1):String(e)}function Nz(e){const r=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(e);)r[n[1]]=n[2];return r}const Sz=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function sv(e,r,t,n,a){if(wt.isFunction(n))return n.call(this,r,t);if(a&&(r=t),!!wt.isString(r)){if(wt.isString(n))return r.indexOf(n)!==-1;if(wt.isRegExp(n))return n.test(r)}}function _z(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,t,n)=>t.toUpperCase()+n)}function Tz(e,r){const t=wt.toCamelCase(" "+r);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+t,{value:function(a,s,l){return this[n].call(this,r,a,s,l)},configurable:!0})})}let oo=class{constructor(r){r&&this.set(r)}set(r,t,n){const a=this;function s(u,d,f){const p=gp(d);if(!p)throw new Error("header name must be a non-empty string");const x=wt.findKey(a,p);(!x||a[x]===void 0||f===!0||f===void 0&&a[x]!==!1)&&(a[x||d]=E1(u))}const l=(u,d)=>wt.forEach(u,(f,p)=>s(f,p,d));if(wt.isPlainObject(r)||r instanceof this.constructor)l(r,t);else if(wt.isString(r)&&(r=r.trim())&&!Sz(r))l(wz(r),t);else if(wt.isObject(r)&&wt.isIterable(r)){let u={},d,f;for(const p of r){if(!wt.isArray(p))throw TypeError("Object iterator must return a key-value pair");u[f=p[0]]=(d=u[f])?wt.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}l(u,t)}else r!=null&&s(t,r,n);return this}get(r,t){if(r=gp(r),r){const n=wt.findKey(this,r);if(n){const a=this[n];if(!t)return a;if(t===!0)return Nz(a);if(wt.isFunction(t))return t.call(this,a,n);if(wt.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,t){if(r=gp(r),r){const n=wt.findKey(this,r);return!!(n&&this[n]!==void 0&&(!t||sv(this,this[n],n,t)))}return!1}delete(r,t){const n=this;let a=!1;function s(l){if(l=gp(l),l){const u=wt.findKey(n,l);u&&(!t||sv(n,n[u],u,t))&&(delete n[u],a=!0)}}return wt.isArray(r)?r.forEach(s):s(r),a}clear(r){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const s=t[n];(!r||sv(this,this[s],s,r,!0))&&(delete this[s],a=!0)}return a}normalize(r){const t=this,n={};return wt.forEach(this,(a,s)=>{const l=wt.findKey(n,s);if(l){t[l]=E1(a),delete t[s];return}const u=r?_z(s):String(s).trim();u!==s&&delete t[s],t[u]=E1(a),n[u]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const t=Object.create(null);return wt.forEach(this,(n,a)=>{n!=null&&n!==!1&&(t[a]=r&&wt.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,t])=>r+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...t){const n=new this(r);return t.forEach(a=>n.set(a)),n}static accessor(r){const n=(this[RN]=this[RN]={accessors:{}}).accessors,a=this.prototype;function s(l){const u=gp(l);n[u]||(Tz(a,l),n[u]=!0)}return wt.isArray(r)?r.forEach(s):s(r),this}};oo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);wt.reduceDescriptors(oo.prototype,({value:e},r)=>{let t=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(n){this[t]=n}}});wt.freezeMethods(oo);function iv(e,r){const t=this||Sm,n=r||t,a=oo.from(n.headers);let s=n.data;return wt.forEach(e,function(u){s=u.call(t,s,a.normalize(),r?r.status:void 0)}),a.normalize(),s}function v6(e){return!!(e&&e.__CANCEL__)}function h0(e,r,t){ln.call(this,e??"canceled",ln.ERR_CANCELED,r,t),this.name="CanceledError"}wt.inherits(h0,ln,{__CANCEL__:!0});function b6(e,r,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?e(t):r(new ln("Request failed with status code "+t.status,[ln.ERR_BAD_REQUEST,ln.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function kz(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function jz(e,r){e=e||10;const t=new Array(e),n=new Array(e);let a=0,s=0,l;return r=r!==void 0?r:1e3,function(d){const f=Date.now(),p=n[s];l||(l=f),t[a]=d,n[a]=f;let x=s,y=0;for(;x!==a;)y+=t[x++],x=x%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),f-l<r)return;const m=p&&f-p;return m?Math.round(y*1e3/m):void 0}}function Ez(e,r){let t=0,n=1e3/r,a,s;const l=(f,p=Date.now())=>{t=p,a=null,s&&(clearTimeout(s),s=null),e.apply(null,f)};return[(...f)=>{const p=Date.now(),x=p-t;x>=n?l(f,p):(a=f,s||(s=setTimeout(()=>{s=null,l(a)},n-x)))},()=>a&&l(a)]}const lx=(e,r,t=3)=>{let n=0;const a=jz(50,250);return Ez(s=>{const l=s.loaded,u=s.lengthComputable?s.total:void 0,d=l-n,f=a(d),p=l<=u;n=l;const x={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:f||void 0,estimated:f&&u&&p?(u-l)/f:void 0,event:s,lengthComputable:u!=null,[r?"download":"upload"]:!0};e(x)},t)},MN=(e,r)=>{const t=e!=null;return[n=>r[0]({lengthComputable:t,total:e,loaded:n}),r[1]]},FN=e=>(...r)=>wt.asap(()=>e(...r)),Az=Ei.hasStandardBrowserEnv?((e,r)=>t=>(t=new URL(t,Ei.origin),e.protocol===t.protocol&&e.host===t.host&&(r||e.port===t.port)))(new URL(Ei.origin),Ei.navigator&&/(msie|trident)/i.test(Ei.navigator.userAgent)):()=>!0,Cz=Ei.hasStandardBrowserEnv?{write(e,r,t,n,a,s){const l=[e+"="+encodeURIComponent(r)];wt.isNumber(t)&&l.push("expires="+new Date(t).toGMTString()),wt.isString(n)&&l.push("path="+n),wt.isString(a)&&l.push("domain="+a),s===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const r=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Dz(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Oz(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function w6(e,r,t){let n=!Dz(r);return e&&(n||t==!1)?Oz(e,r):r}const PN=e=>e instanceof oo?{...e}:e;function Cf(e,r){r=r||{};const t={};function n(f,p,x,y){return wt.isPlainObject(f)&&wt.isPlainObject(p)?wt.merge.call({caseless:y},f,p):wt.isPlainObject(p)?wt.merge({},p):wt.isArray(p)?p.slice():p}function a(f,p,x,y){if(wt.isUndefined(p)){if(!wt.isUndefined(f))return n(void 0,f,x,y)}else return n(f,p,x,y)}function s(f,p){if(!wt.isUndefined(p))return n(void 0,p)}function l(f,p){if(wt.isUndefined(p)){if(!wt.isUndefined(f))return n(void 0,f)}else return n(void 0,p)}function u(f,p,x){if(x in r)return n(f,p);if(x in e)return n(void 0,f)}const d={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(f,p,x)=>a(PN(f),PN(p),x,!0)};return wt.forEach(Object.keys(Object.assign({},e,r)),function(p){const x=d[p]||a,y=x(e[p],r[p],p);wt.isUndefined(y)&&x!==u||(t[p]=y)}),t}const N6=e=>{const r=Cf({},e);let{data:t,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:l,auth:u}=r;r.headers=l=oo.from(l),r.url=g6(w6(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(wt.isFormData(t)){if(Ei.hasStandardBrowserEnv||Ei.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[f,...p]=d?d.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([f||"multipart/form-data",...p].join("; "))}}if(Ei.hasStandardBrowserEnv&&(n&&wt.isFunction(n)&&(n=n(r)),n||n!==!1&&Az(r.url))){const f=a&&s&&Cz.read(s);f&&l.set(a,f)}return r},Lz=typeof XMLHttpRequest<"u",Rz=Lz&&function(e){return new Promise(function(t,n){const a=N6(e);let s=a.data;const l=oo.from(a.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:f}=a,p,x,y,m,w;function v(){m&&m(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(p),a.signal&&a.signal.removeEventListener("abort",p)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function S(){if(!N)return;const _=oo.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),R={data:!u||u==="text"||u==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:_,config:e,request:N};b6(function(P){t(P),v()},function(P){n(P),v()},R),N=null}"onloadend"in N?N.onloadend=S:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(S)},N.onabort=function(){N&&(n(new ln("Request aborted",ln.ECONNABORTED,e,N)),N=null)},N.onerror=function(){n(new ln("Network Error",ln.ERR_NETWORK,e,N)),N=null},N.ontimeout=function(){let A=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const R=a.transitional||x6;a.timeoutErrorMessage&&(A=a.timeoutErrorMessage),n(new ln(A,R.clarifyTimeoutError?ln.ETIMEDOUT:ln.ECONNABORTED,e,N)),N=null},s===void 0&&l.setContentType(null),"setRequestHeader"in N&&wt.forEach(l.toJSON(),function(A,R){N.setRequestHeader(R,A)}),wt.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),u&&u!=="json"&&(N.responseType=a.responseType),f&&([y,w]=lx(f,!0),N.addEventListener("progress",y)),d&&N.upload&&([x,m]=lx(d),N.upload.addEventListener("progress",x),N.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(p=_=>{N&&(n(!_||_.type?new h0(null,e,N):_),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(p),a.signal&&(a.signal.aborted?p():a.signal.addEventListener("abort",p)));const k=kz(a.url);if(k&&Ei.protocols.indexOf(k)===-1){n(new ln("Unsupported protocol "+k+":",ln.ERR_BAD_REQUEST,e));return}N.send(s||null)})},Mz=(e,r)=>{const{length:t}=e=e?e.filter(Boolean):[];if(r||t){let n=new AbortController,a;const s=function(f){if(!a){a=!0,u();const p=f instanceof Error?f:this.reason;n.abort(p instanceof ln?p:new h0(p instanceof Error?p.message:p))}};let l=r&&setTimeout(()=>{l=null,s(new ln(`timeout ${r} of ms exceeded`,ln.ETIMEDOUT))},r);const u=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(s):f.removeEventListener("abort",s)}),e=null)};e.forEach(f=>f.addEventListener("abort",s));const{signal:d}=n;return d.unsubscribe=()=>wt.asap(u),d}},Fz=function*(e,r){let t=e.byteLength;if(t<r){yield e;return}let n=0,a;for(;n<t;)a=n+r,yield e.slice(n,a),n=a},Pz=async function*(e,r){for await(const t of Bz(e))yield*Fz(t,r)},Bz=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:t,value:n}=await r.read();if(t)break;yield n}}finally{await r.cancel()}},BN=(e,r,t,n)=>{const a=Pz(e,r);let s=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:f,value:p}=await a.next();if(f){u(),d.close();return}let x=p.byteLength;if(t){let y=s+=x;t(y)}d.enqueue(new Uint8Array(p))}catch(f){throw u(f),f}},cancel(d){return u(d),a.return()}},{highWaterMark:2})},Jx=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",S6=Jx&&typeof ReadableStream=="function",Iz=Jx&&(typeof TextEncoder=="function"?(e=>r=>e.encode(r))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),_6=(e,...r)=>{try{return!!e(...r)}catch{return!1}},$z=S6&&_6(()=>{let e=!1;const r=new Request(Ei.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!r}),IN=64*1024,nb=S6&&_6(()=>wt.isReadableStream(new Response("").body)),cx={stream:nb&&(e=>e.body)};Jx&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(r=>{!cx[r]&&(cx[r]=wt.isFunction(e[r])?t=>t[r]():(t,n)=>{throw new ln(`Response type '${r}' is not supported`,ln.ERR_NOT_SUPPORT,n)})})})(new Response);const zz=async e=>{if(e==null)return 0;if(wt.isBlob(e))return e.size;if(wt.isSpecCompliantForm(e))return(await new Request(Ei.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(wt.isArrayBufferView(e)||wt.isArrayBuffer(e))return e.byteLength;if(wt.isURLSearchParams(e)&&(e=e+""),wt.isString(e))return(await Iz(e)).byteLength},Uz=async(e,r)=>{const t=wt.toFiniteNumber(e.getContentLength());return t??zz(r)},Hz=Jx&&(async e=>{let{url:r,method:t,data:n,signal:a,cancelToken:s,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:f,headers:p,withCredentials:x="same-origin",fetchOptions:y}=N6(e);f=f?(f+"").toLowerCase():"text";let m=Mz([a,s&&s.toAbortSignal()],l),w;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let N;try{if(d&&$z&&t!=="get"&&t!=="head"&&(N=await Uz(p,n))!==0){let R=new Request(r,{method:"POST",body:n,duplex:"half"}),V;if(wt.isFormData(n)&&(V=R.headers.get("content-type"))&&p.setContentType(V),R.body){const[P,I]=MN(N,lx(FN(d)));n=BN(R.body,IN,P,I)}}wt.isString(x)||(x=x?"include":"omit");const S="credentials"in Request.prototype;w=new Request(r,{...y,signal:m,method:t.toUpperCase(),headers:p.normalize().toJSON(),body:n,duplex:"half",credentials:S?x:void 0});let k=await fetch(w);const _=nb&&(f==="stream"||f==="response");if(nb&&(u||_&&v)){const R={};["status","statusText","headers"].forEach(B=>{R[B]=k[B]});const V=wt.toFiniteNumber(k.headers.get("content-length")),[P,I]=u&&MN(V,lx(FN(u),!0))||[];k=new Response(BN(k.body,IN,P,()=>{I&&I(),v&&v()}),R)}f=f||"text";let A=await cx[wt.findKey(cx,f)||"text"](k,e);return!_&&v&&v(),await new Promise((R,V)=>{b6(R,V,{data:A,headers:oo.from(k.headers),status:k.status,statusText:k.statusText,config:e,request:w})})}catch(S){throw v&&v(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new ln("Network Error",ln.ERR_NETWORK,e,w),{cause:S.cause||S}):ln.from(S,S&&S.code,e,w)}}),ab={http:az,xhr:Rz,fetch:Hz};wt.forEach(ab,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const $N=e=>`- ${e}`,Wz=e=>wt.isFunction(e)||e===null||e===!1,T6={getAdapter:e=>{e=wt.isArray(e)?e:[e];const{length:r}=e;let t,n;const a={};for(let s=0;s<r;s++){t=e[s];let l;if(n=t,!Wz(t)&&(n=ab[(l=String(t)).toLowerCase()],n===void 0))throw new ln(`Unknown adapter '${l}'`);if(n)break;a[l||"#"+s]=n}if(!n){const s=Object.entries(a).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=r?s.length>1?`since :
`+s.map($N).join(`
`):" "+$N(s[0]):"as no adapter specified";throw new ln("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:ab};function ov(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new h0(null,e)}function zN(e){return ov(e),e.headers=oo.from(e.headers),e.data=iv.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),T6.getAdapter(e.adapter||Sm.adapter)(e).then(function(n){return ov(e),n.data=iv.call(e,e.transformResponse,n),n.headers=oo.from(n.headers),n},function(n){return v6(n)||(ov(e),n&&n.response&&(n.response.data=iv.call(e,e.transformResponse,n.response),n.response.headers=oo.from(n.response.headers))),Promise.reject(n)})}const k6="1.9.0",Qx={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Qx[e]=function(n){return typeof n===e||"a"+(r<1?"n ":" ")+e}});const UN={};Qx.transitional=function(r,t,n){function a(s,l){return"[Axios v"+k6+"] Transitional option '"+s+"'"+l+(n?". "+n:"")}return(s,l,u)=>{if(r===!1)throw new ln(a(l," has been removed"+(t?" in "+t:"")),ln.ERR_DEPRECATED);return t&&!UN[l]&&(UN[l]=!0,console.warn(a(l," has been deprecated since v"+t+" and will be removed in the near future"))),r?r(s,l,u):!0}};Qx.spelling=function(r){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${r}`),!0)};function Vz(e,r,t){if(typeof e!="object")throw new ln("options must be an object",ln.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],l=r[s];if(l){const u=e[s],d=u===void 0||l(u,s,e);if(d!==!0)throw new ln("option "+s+" must be "+d,ln.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ln("Unknown option "+s,ln.ERR_BAD_OPTION)}}const A1={assertOptions:Vz,validators:Qx},yc=A1.validators;let Nf=class{constructor(r){this.defaults=r||{},this.interceptors={request:new LN,response:new LN}}async request(r,t){try{return await this._request(r,t)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(r,t){typeof r=="string"?(t=t||{},t.url=r):t=r||{},t=Cf(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:s}=t;n!==void 0&&A1.assertOptions(n,{silentJSONParsing:yc.transitional(yc.boolean),forcedJSONParsing:yc.transitional(yc.boolean),clarifyTimeoutError:yc.transitional(yc.boolean)},!1),a!=null&&(wt.isFunction(a)?t.paramsSerializer={serialize:a}:A1.assertOptions(a,{encode:yc.function,serialize:yc.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),A1.assertOptions(t,{baseUrl:yc.spelling("baseURL"),withXsrfToken:yc.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=s&&wt.merge(s.common,s[t.method]);s&&wt.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),t.headers=oo.concat(l,s);const u=[];let d=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(d=d&&v.synchronous,u.unshift(v.fulfilled,v.rejected))});const f=[];this.interceptors.response.forEach(function(v){f.push(v.fulfilled,v.rejected)});let p,x=0,y;if(!d){const w=[zN.bind(this),void 0];for(w.unshift.apply(w,u),w.push.apply(w,f),y=w.length,p=Promise.resolve(t);x<y;)p=p.then(w[x++],w[x++]);return p}y=u.length;let m=t;for(x=0;x<y;){const w=u[x++],v=u[x++];try{m=w(m)}catch(N){v.call(this,N);break}}try{p=zN.call(this,m)}catch(w){return Promise.reject(w)}for(x=0,y=f.length;x<y;)p=p.then(f[x++],f[x++]);return p}getUri(r){r=Cf(this.defaults,r);const t=w6(r.baseURL,r.url,r.allowAbsoluteUrls);return g6(t,r.params,r.paramsSerializer)}};wt.forEach(["delete","get","head","options"],function(r){Nf.prototype[r]=function(t,n){return this.request(Cf(n||{},{method:r,url:t,data:(n||{}).data}))}});wt.forEach(["post","put","patch"],function(r){function t(n){return function(s,l,u){return this.request(Cf(u||{},{method:r,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Nf.prototype[r]=t(),Nf.prototype[r+"Form"]=t(!0)});let qz=class j6{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const l=new Promise(u=>{n.subscribe(u),s=u}).then(a);return l.cancel=function(){n.unsubscribe(s)},l},r(function(s,l,u){n.reason||(n.reason=new h0(s,l,u),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const t=this._listeners.indexOf(r);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const r=new AbortController,t=n=>{r.abort(n)};return this.subscribe(t),r.signal.unsubscribe=()=>this.unsubscribe(t),r.signal}static source(){let r;return{token:new j6(function(a){r=a}),cancel:r}}};function Yz(e){return function(t){return e.apply(null,t)}}function Gz(e){return wt.isObject(e)&&e.isAxiosError===!0}const sb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sb).forEach(([e,r])=>{sb[r]=e});function E6(e){const r=new Nf(e),t=a6(Nf.prototype.request,r);return wt.extend(t,Nf.prototype,r,{allOwnKeys:!0}),wt.extend(t,r,null,{allOwnKeys:!0}),t.create=function(a){return E6(Cf(e,a))},t}const vs=E6(Sm);vs.Axios=Nf;vs.CanceledError=h0;vs.CancelToken=qz;vs.isCancel=v6;vs.VERSION=k6;vs.toFormData=Kx;vs.AxiosError=ln;vs.Cancel=vs.CanceledError;vs.all=function(r){return Promise.all(r)};vs.spread=Yz;vs.isAxiosError=Gz;vs.mergeConfig=Cf;vs.AxiosHeaders=oo;vs.formToJSON=e=>y6(wt.isHTMLForm(e)?new FormData(e):e);vs.getAdapter=T6.getAdapter;vs.HttpStatusCode=sb;vs.default=vs;const{Axios:xJ,AxiosError:yJ,CanceledError:vJ,isCancel:bJ,CancelToken:wJ,VERSION:NJ,all:SJ,Cancel:_J,isAxiosError:TJ,spread:kJ,toFormData:jJ,AxiosHeaders:EJ,HttpStatusCode:AJ,formToJSON:CJ,getAdapter:DJ,mergeConfig:OJ}=vs,lv=vs.create({baseURL:`${$e}/api`}),e1=()=>{const[e,r]=T.useState([]),[t,n]=T.useState(!1),[a,s]=T.useState(""),[l,u]=T.useState(""),[d,f]=T.useState(!0),[p,x]=T.useState(null),{user:y}=gn(),m=async()=>{try{f(!0),x(null);const N=await lv.get("/announcements",{headers:{Authorization:`Bearer ${y.token}`}});r(Array.isArray(N.data)?N.data:[])}catch(N){console.error("Error fetching announcements:",N),x("Failed to fetch announcements"),r([])}finally{f(!1)}};T.useEffect(()=>{y!=null&&y.token&&m()},[y]);const w=async N=>{N.preventDefault();try{await lv.post("/announcements",{content:a,expiresAt:new Date(l)},{headers:{Authorization:`Bearer ${y.token}`}}),n(!1),s(""),u(""),m()}catch{x("Failed to create announcement")}},v=async N=>{try{await lv.delete(`/announcements/${N}`,{headers:{Authorization:`Bearer ${y.token}`}}),m()}catch(S){console.error("Error deleting announcement:",S),x("Failed to delete announcement")}};return d?i.jsx("div",{className:"max-w-4xl mx-auto p-4",children:i.jsx("div",{className:"text-center",children:"Loading announcements..."})}):p?i.jsx("div",{className:"max-w-4xl mx-auto p-4",children:i.jsx("div",{className:"text-red-500 text-center",children:p})}):i.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Announcements"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"View and manage announcements for your team."})]}),y.role==="Admin"&&i.jsx("button",{onClick:()=>n(!0),className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:"Create Announcement"})]}),t&&i.jsx("div",{className:"fixed inset-0 bg-opacity-50 flex items-center justify-center backdrop-blur-sm",children:i.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Announcement"}),i.jsxs("form",{onSubmit:w,children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Content"}),i.jsx("textarea",{value:a,onChange:N=>s(N.target.value),className:"w-full p-2 border rounded",rows:"4",required:!0})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium mb-2",children:"Expires At"}),i.jsx("input",{type:"datetime-local",value:l,onChange:N=>u(N.target.value),className:"w-full p-2 border rounded",required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:()=>n(!1),className:"px-4 py-2 border rounded hover:bg-gray-100",children:"Cancel"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Create"})]})]})]})}),i.jsx("div",{className:"space-y-4",children:e&&e.length>0?e.map(N=>i.jsx("div",{className:"bg-white p-4 rounded shadow",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("p",{className:"text-gray-800",children:N.content}),(y==null?void 0:y.role)==="Admin"&&i.jsx("button",{onClick:()=>v(N._id),className:"text-red-500 hover:text-red-700",children:"Delete"})]})},N._id)):i.jsx("div",{className:"text-center text-gray-500",children:"No announcements found"})})]})};function HN(e,r){if(!r)return e;const t=r.toLowerCase(),n=e.toLowerCase(),a=[];let s=0;for(;s<e.length;){const l=n.indexOf(t,s);if(l===-1){a.push(e.slice(s));break}l>s&&a.push(e.slice(s,l)),a.push(i.jsx("span",{style:{background:"#2563eb",color:"white",borderRadius:"2px"},children:e.slice(l,l+r.length)},l)),s=l+r.length}return a}const t1=()=>{const{user:e}=gn(),r=zl(),[t,n]=T.useState([]),[a,s]=T.useState([]),[l,u]=T.useState([]),[d,f]=T.useState(!1),[p,x]=T.useState(!1),[y,m]=T.useState(!1),[w,v]=T.useState(!1),[N,S]=T.useState(null),[k,_]=T.useState(!1),[A,R]=T.useState(null),[V,P]=T.useState({name:"",group:"",status:"Individual",workOffered:[],priority:"A",workSearch:"",workDropdownOpen:!1,groupSearch:"",groupDropdownOpen:!1}),[I,B]=T.useState({name:""}),[O,L]=T.useState({name:""}),[C,Y]=T.useState({name:"",group:"",status:"Individual",workOffered:[],priority:"A"}),[Q,ce]=T.useState({name:""}),W=async()=>{try{const be=await(await fetch(`${$e}/api/clients`,{headers:{Authorization:`Bearer ${e.token}`}})).json();n(be)}catch{Ee.error("Failed to fetch clients")}},J=async()=>{try{const be=await(await fetch(`${$e}/api/clients/groups`,{headers:{Authorization:`Bearer ${e.token}`}})).json();s(be)}catch{Ee.error("Failed to fetch client groups")}},re=async()=>{try{const be=await(await fetch(`${$e}/api/clients/work-types`,{headers:{Authorization:`Bearer ${e.token}`}})).json();u(be)}catch{Ee.error("Failed to fetch work types")}};T.useEffect(()=>{W(),J(),re()},[e]);const ee=async G=>{G.preventDefault();try{if(!(await fetch(`${$e}/api/clients`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify(V)})).ok)throw new Error("Failed to create client");await W(),f(!1),P({name:"",group:"",status:"Individual",workOffered:[],priority:"A"}),Ee.success("Client created successfully")}catch(be){Ee.error(be.message)}},H=async G=>{G.preventDefault();try{if(!(await fetch(`${$e}/api/clients/groups`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify(I)})).ok)throw new Error("Failed to create client group");await J(),x(!1),B({name:""}),Ee.success("Client group created successfully")}catch(be){Ee.error(be.message)}},ne=async G=>{G.preventDefault();try{if(!(await fetch(`${$e}/api/clients/work-types`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify(O)})).ok)throw new Error("Failed to create work type");await re(),m(!1),L({name:""}),Ee.success("Work type created successfully")}catch(be){Ee.error(be.message)}},D=async G=>{G.preventDefault();try{const be=await fetch(`${$e}/api/clients/${N}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify(C)});if(be.status===404){Ee.error("Client not found. It may have been deleted."),v(!1),await W();return}if(!be.ok)throw new Error("Failed to update client");await W(),v(!1),Ee.success("Client updated successfully")}catch(be){Ee.error(be.message)}},z=async G=>{if(window.confirm("Are you sure you want to delete this client?"))try{if(!(await fetch(`${$e}/api/clients/${G}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.token}`}})).ok)throw new Error("Failed to delete client");await W(),Ee.success("Client deleted successfully")}catch(be){Ee.error(be.message)}},q=async G=>{if(window.confirm("Are you sure you want to delete this group?"))try{if(!(await fetch(`${$e}/api/clients/groups/${G}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.token}`}})).ok)throw new Error("Failed to delete group");await J(),await W(),Ee.success("Group deleted successfully")}catch(be){Ee.error(be.message)}},X=G=>{R(G._id),ce({name:G.name}),_(!0)},se=async G=>{G.preventDefault();try{const be=await fetch(`${$e}/api/clients/groups/${A}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify(Q)});if(!be.ok){const Fe=await be.json();throw new Error(Fe.msg||"Failed to update group")}await J(),_(!1),ce({name:""}),R(null),Ee.success("Client group updated successfully")}catch(be){Ee.error(be.message)}};if(e.role==="Fresher")return r("/dashboard",{replace:!0}),null;if(!["Admin","Senior","Team Head"].includes(e.role))return i.jsxs("div",{className:"p-4",children:[i.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Access Denied"}),i.jsx("p",{className:"mt-2",children:"You don't have permission to access this page."})]});const[Se,fe]=T.useState("");return i.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Clients"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Manage client and client group information."})]}),i.jsxs("div",{className:"flex space-x-2 w-full sm:w-auto",children:[i.jsx("button",{onClick:()=>{f(!0)},className:"flex-1 sm:flex-none px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:"Add Client"}),i.jsx("button",{onClick:()=>{x(!0)},className:"flex-1 sm:flex-none px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm",children:"Add Group"})]})]}),i.jsx("div",{className:"mb-4 max-w-xs",children:i.jsx("input",{type:"text",value:Se,onChange:G=>fe(G.target.value),placeholder:"Search client or group...",className:"w-full border rounded-md px-3 py-2 text-sm"})}),i.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto scrollbar-hide",children:(()=>{const G=Se.trim().toLowerCase();return(G?a.filter(Fe=>{const De=Fe.name.toLowerCase().includes(G),ft=t.filter(Pe=>Pe.group._id===Fe._id).some(Pe=>Pe.name.toLowerCase().includes(G));return De||ft}):a).map(Fe=>{const De=t.filter(Pe=>Pe.group._id===Fe._id),lt={A:1,B:2,C:3,D:4},ft=De.sort((Pe,xe)=>(lt[Pe.priority]||5)-(lt[xe.priority]||5));return i.jsxs("div",{className:"mb-4 border border-gray-200 rounded-lg shadow-sm bg-white",children:[i.jsxs("div",{className:"bg-gray-100 px-4 py-2 rounded-t-lg border-b border-gray-200 flex items-center justify-between",children:[i.jsx("h3",{className:"text-base font-semibold text-gray-800 tracking-wide",children:HN(Fe.name,Se)}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>X(Fe),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Edit group",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-5 w-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487a2.1 2.1 0 1 1 2.97 2.97L7.5 19.789l-4 1 1-4 12.362-12.302z"})})}),i.jsx("button",{onClick:()=>q(Fe._id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Delete group",children:i.jsx(Dv,{className:"h-5 w-5"})})]})]}),i.jsx("div",{className:"overflow-x-auto w-full",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-white",children:i.jsxs("tr",{children:[i.jsx("th",{className:"w-2/5 px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"w-1/6 px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Priority"}),i.jsx("th",{className:"w-1/6 px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"w-1/3 px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Work Offered"}),i.jsx("th",{className:"w-20 px-4 py-2 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ft.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-4 py-4 text-center text-gray-400 text-sm",children:"No clients in this group."})}):ft.map(Pe=>i.jsxs("tr",{children:[i.jsx("td",{className:"w-1/4 px-4 py-2",children:i.jsx("div",{className:"w-80 overflow-x-auto whitespace-nowrap scrollbar-hide text-sm",children:HN(Pe.name,Se)})}),i.jsx("td",{className:"w-1/6 px-4 py-2",children:i.jsx("div",{className:"w-10 overflow-x-auto whitespace-nowrap scrollbar-hide text-sm font-semibold",children:Pe.priority})}),i.jsx("td",{className:"w-1/6 px-4 py-2",children:i.jsx("div",{className:"w-24 overflow-x-auto whitespace-nowrap scrollbar-hide text-sm",children:Pe.status})}),i.jsx("td",{className:"w-1/3 px-4 py-2",children:i.jsx("div",{className:"w-48 overflow-x-auto whitespace-nowrap scrollbar-hide",children:i.jsx("div",{className:"flex flex-wrap gap-1",children:Pe.workOffered.map((xe,Qe)=>i.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-50 text-blue-700",children:xe.name},xe._id?`${xe._id}-${Qe}`:Qe))})})}),i.jsx("td",{className:"w-20 px-4 py-2 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>{S(Pe._id),Y({name:Pe.name,group:Pe.group._id,status:Pe.status,workOffered:Pe.workOffered.map(xe=>xe._id),priority:Pe.priority}),v(!0)},className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Edit client",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"h-5 w-5",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487a2.1 2.1 0 1 1 2.97 2.97L7.5 19.789l-4 1 1-4 12.362-12.302z"})})}),i.jsx("button",{onClick:()=>z(Pe._id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Delete client",children:i.jsx(Dv,{className:"h-5 w-5"})})]})})]},Pe._id))})]})})]},Fe._id)})})()})}),d&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 backdrop-blur-sm flex items-center justify-center",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-xl",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Client"}),i.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name"}),i.jsx("input",{type:"text",value:V.name,onChange:G=>P({...V,name:G.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Group"}),i.jsxs("div",{className:"flex gap-2 relative",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("input",{type:"text",value:V.groupSearch||"",onChange:G=>{P({...V,groupSearch:G.target.value,group:""})},onFocus:()=>P({...V,groupDropdownOpen:!0}),onClick:()=>P({...V,groupDropdownOpen:!0}),onBlur:G=>{setTimeout(()=>{P(be=>({...be,groupDropdownOpen:!1}))},120)},placeholder:"Search or select group",className:"w-full border rounded-md px-3 py-2",autoComplete:"off"}),V.groupDropdownOpen&&i.jsx("div",{className:"absolute z-50 bg-white border rounded-md mt-1 w-full max-h-40 overflow-y-auto shadow-lg",children:(V.groupSearch?a.filter(G=>G.name.toLowerCase().includes((V.groupSearch||"").toLowerCase())):a).length===0?i.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No groups found"}):(V.groupSearch?a.filter(G=>G.name.toLowerCase().includes((V.groupSearch||"").toLowerCase())):a).map(G=>i.jsx("div",{className:`px-3 py-2 cursor-pointer hover:bg-blue-100 text-sm ${V.group===G._id?"bg-blue-50 font-semibold":""}`,onMouseDown:be=>{be.preventDefault(),P({...V,group:G._id,groupSearch:G.name,groupDropdownOpen:!1})},children:G.name},G._id))})]}),i.jsx("button",{type:"button",onClick:()=>x(!0),className:"bg-gray-100 px-3 py-2 rounded-md hover:bg-gray-200",children:"New Group"})]}),i.jsx("input",{type:"hidden",required:!0,value:V.group,onChange:()=>{}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{value:V.status,onChange:G=>P({...V,status:G.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0,children:[i.jsx("option",{value:"Individual",children:"Individual"}),i.jsx("option",{value:"Firm",children:"Firm"}),i.jsx("option",{value:"Company",children:"Company"}),i.jsx("option",{value:"Others",children:"Others"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),i.jsxs("select",{value:V.priority,onChange:G=>P({...V,priority:G.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0,children:[i.jsx("option",{value:"A",children:"A (Most Priority)"}),i.jsx("option",{value:"B",children:"B"}),i.jsx("option",{value:"C",children:"C"}),i.jsx("option",{value:"D",children:"D (Least Priority)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Offered"}),i.jsxs("div",{className:"flex gap-2 relative",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("input",{type:"text",value:V.workSearch||"",onChange:G=>{P({...V,workSearch:G.target.value,workDropdownOpen:!0})},onFocus:()=>P({...V,workDropdownOpen:!0}),onClick:()=>P({...V,workDropdownOpen:!0}),onBlur:G=>{setTimeout(()=>{P(be=>({...be,workDropdownOpen:!1}))},120)},placeholder:"Search or select work type",className:"w-full border rounded-md px-3 py-2",autoComplete:"off"}),V.workDropdownOpen&&i.jsx("div",{className:"absolute z-50 bg-white border rounded-md mt-1 w-full max-h-40 overflow-y-auto shadow-lg",children:(V.workSearch?l.filter(G=>G.name.toLowerCase().includes((V.workSearch||"").toLowerCase())&&!V.workOffered.includes(G._id)):l.filter(G=>!V.workOffered.includes(G._id))).length===0?i.jsx("div",{className:"px-3 py-2 text-gray-400 text-sm",children:"No work types found"}):(V.workSearch?l.filter(G=>G.name.toLowerCase().includes((V.workSearch||"").toLowerCase())&&!V.workOffered.includes(G._id)):l.filter(G=>!V.workOffered.includes(G._id))).map(G=>i.jsx("div",{className:"px-3 py-2 cursor-pointer hover:bg-blue-100 text-sm",onMouseDown:be=>{be.preventDefault(),P(Fe=>({...Fe,workOffered:[...Fe.workOffered,G._id],workSearch:"",workDropdownOpen:!1}))},children:G.name},G._id))})]}),i.jsx("button",{type:"button",onClick:()=>m(!0),className:"bg-gray-100 px-3 py-2 rounded-md hover:bg-gray-200",children:"New"})]}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:V.workOffered.map(G=>{const be=l.find(Fe=>Fe._id===G);return be?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[be.name,i.jsx("button",{type:"button",onClick:()=>P({...V,workOffered:V.workOffered.filter(Fe=>Fe!==G)}),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]},G):null})})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Client"})]})]})]})}),p&&i.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-md",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Client Group"}),i.jsxs("form",{onSubmit:H,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Name"}),i.jsx("input",{type:"text",value:I.name,onChange:G=>B({...I,name:G.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Group"})]})]})]})}),y&&i.jsx("div",{className:"fixed inset-0 z-51 bg-black/30 backdrop-blur-sm flex items-center justify-center",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-md",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Add New Work Type"}),i.jsxs("form",{onSubmit:ne,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Type Name"}),i.jsx("input",{type:"text",value:O.name,onChange:G=>L({...O,name:G.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Add Work Type"})]})]})]})}),w&&i.jsx("div",{className:"fixed inset-0 bg-black/30 backdrop-blur-sm flex items-center justify-center",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-md",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Edit Client"}),i.jsxs("form",{onSubmit:D,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Name"}),i.jsx("input",{type:"text",value:C.name,onChange:G=>Y({...C,name:G.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Group"}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("select",{value:C.group,onChange:G=>Y({...C,group:G.target.value}),className:"flex-1 border rounded-md px-3 py-2",required:!0,children:[i.jsx("option",{value:"",children:"Select a group"}),a.map(G=>i.jsx("option",{value:G._id,children:G.name},G._id))]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{value:C.status,onChange:G=>Y({...C,status:G.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0,children:[i.jsx("option",{value:"Individual",children:"Individual"}),i.jsx("option",{value:"Firm",children:"Firm"}),i.jsx("option",{value:"Company",children:"Company"}),i.jsx("option",{value:"Others",children:"Others"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),i.jsxs("select",{value:C.priority,onChange:G=>Y({...C,priority:G.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0,children:[i.jsx("option",{value:"A",children:"A (Most Priority)"}),i.jsx("option",{value:"B",children:"B"}),i.jsx("option",{value:"C",children:"C"}),i.jsx("option",{value:"D",children:"D (Least Priority)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Offered"}),i.jsx("div",{className:"flex gap-2",children:i.jsxs("select",{value:"",onChange:G=>{G.target.value&&Y({...C,workOffered:[...C.workOffered,G.target.value]})},className:"flex-1 border rounded-md px-3 py-2",children:[i.jsx("option",{value:"",children:"Select work type"}),l.filter(G=>!C.workOffered.includes(G._id)).map((G,be)=>i.jsx("option",{value:G._id,children:G.name},G._id?`${G._id}-${be}`:be))]})}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:C.workOffered.map((G,be)=>{const Fe=l.find(De=>De._id===G);return Fe?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[Fe.name,i.jsx("button",{type:"button",onClick:()=>Y({...C,workOffered:C.workOffered.filter(De=>De!==G)}),className:"ml-1 text-blue-600 hover:text-blue-800",children:"×"})]},G?`${G}-${be}`:be):null})})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Update Client"})]})]})]})}),k&&i.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 backdrop-blur-sm flex items-center justify-center",children:i.jsxs("div",{className:"bg-white rounded-lg p-8 w-full max-w-md",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Edit Client Group"}),i.jsxs("form",{onSubmit:se,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Name"}),i.jsx("input",{type:"text",value:Q.name,onChange:G=>ce({...Q,name:G.target.value}),className:"w-full border rounded-md px-3 py-2",required:!0})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:"Update Group"})]})]})]})})]})};function A6(e){var r,t,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(r=0;r<a;r++)e[r]&&(t=A6(e[r]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function bn(){for(var e,r,t=0,n="",a=arguments.length;t<a;t++)(e=arguments[t])&&(r=A6(e))&&(n&&(n+=" "),n+=r);return n}const C6=6048e5,Xz=864e5,Zx=6e4,e2=36e5,Kz=1e3,WN=Symbol.for("constructDateFrom");function ia(e,r){return typeof e=="function"?e(r):e&&typeof e=="object"&&WN in e?e[WN](r):e instanceof Date?new e.constructor(r):new Date(r)}function Dr(e,r){return ia(r||e,e)}function Fl(e,r,t){const n=Dr(e,t==null?void 0:t.in);return isNaN(r)?ia((t==null?void 0:t.in)||e,NaN):(r&&n.setDate(n.getDate()+r),n)}function Bl(e,r,t){const n=Dr(e,t==null?void 0:t.in);if(isNaN(r))return ia(e,NaN);if(!r)return n;const a=n.getDate(),s=ia(e,n.getTime());s.setMonth(n.getMonth()+r+1,0);const l=s.getDate();return a>=l?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function D6(e,r,t){return ia(e,+Dr(e)+r)}function Jz(e,r,t){return D6(e,r*e2)}let Qz={};function Hf(){return Qz}function Du(e,r){var u,d,f,p;const t=Hf(),n=(r==null?void 0:r.weekStartsOn)??((d=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??t.weekStartsOn??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=Dr(e,r==null?void 0:r.in),s=a.getDay(),l=(s<n?7:0)+s-n;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Kh(e,r){return Du(e,{...r,weekStartsOn:1})}function O6(e,r){const t=Dr(e,r==null?void 0:r.in),n=t.getFullYear(),a=ia(t,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Kh(a),l=ia(t,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const u=Kh(l);return t.getTime()>=s.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function ux(e){const r=Dr(e),t=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return t.setUTCFullYear(r.getFullYear()),+e-+t}function Ru(e,...r){const t=ia.bind(null,r.find(n=>typeof n=="object"));return r.map(t)}function Df(e,r){const t=Dr(e,r==null?void 0:r.in);return t.setHours(0,0,0,0),t}function Jh(e,r,t){const[n,a]=Ru(t==null?void 0:t.in,e,r),s=Df(n),l=Df(a),u=+s-ux(s),d=+l-ux(l);return Math.round((u-d)/Xz)}function Zz(e,r){const t=O6(e,r),n=ia(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Kh(n)}function ib(e,r,t){const n=Dr(e,t==null?void 0:t.in);return n.setTime(n.getTime()+r*Zx),n}function dw(e,r,t){return Bl(e,r*3,t)}function eU(e,r,t){return D6(e,r*1e3)}function dx(e,r,t){return Fl(e,r*7,t)}function Nu(e,r,t){return Bl(e,r*12,t)}function VN(e,r){let t,n=r==null?void 0:r.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=ia.bind(null,a));const s=Dr(a,n);(!t||t<s||isNaN(+s))&&(t=s)}),ia(n,t||NaN)}function qN(e,r){let t,n=r==null?void 0:r.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=ia.bind(null,a));const s=Dr(a,n);(!t||t>s||isNaN(+s))&&(t=s)}),ia(n,t||NaN)}function tU(e,r,t){const[n,a]=Ru(t==null?void 0:t.in,e,r);return+Df(n)==+Df(a)}function Su(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function fx(e){return!(!Su(e)&&typeof e!="number"||isNaN(+Dr(e)))}function hx(e,r,t){const[n,a]=Ru(t==null?void 0:t.in,e,r),s=n.getFullYear()-a.getFullYear(),l=n.getMonth()-a.getMonth();return s*12+l}function Sf(e,r){const t=Dr(e,r==null?void 0:r.in);return Math.trunc(t.getMonth()/3)+1}function px(e,r,t){const[n,a]=Ru(t==null?void 0:t.in,e,r),s=n.getFullYear()-a.getFullYear(),l=Sf(n)-Sf(a);return s*4+l}function mx(e,r,t){const[n,a]=Ru(t==null?void 0:t.in,e,r);return n.getFullYear()-a.getFullYear()}function rU(e,r,t){const[n,a]=Ru(t==null?void 0:t.in,e,r),s=YN(n,a),l=Math.abs(Jh(n,a));n.setDate(n.getDate()-s*l);const u=+(YN(n,a)===-s),d=s*(l-u);return d===0?0:d}function YN(e,r){const t=e.getFullYear()-r.getFullYear()||e.getMonth()-r.getMonth()||e.getDate()-r.getDate()||e.getHours()-r.getHours()||e.getMinutes()-r.getMinutes()||e.getSeconds()-r.getSeconds()||e.getMilliseconds()-r.getMilliseconds();return t<0?-1:t>0?1:t}function L6(e,r){const t=Dr(e,r==null?void 0:r.in);return t.setHours(23,59,59,999),t}function R6(e,r){const t=Dr(e,r==null?void 0:r.in),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ob(e,r){const t=Dr(e,r==null?void 0:r.in),n=t.getMonth(),a=n-n%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function M6(e,r){const t=Dr(e,r==null?void 0:r.in);return t.setDate(1),t.setHours(0,0,0,0),t}function F6(e,r){const t=Dr(e,r==null?void 0:r.in),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function t2(e,r){const t=Dr(e,r==null?void 0:r.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function nU(e,r){var u,d;const t=Hf(),n=t.weekStartsOn??((d=(u=t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Dr(e,r==null?void 0:r.in),s=a.getDay(),l=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}const aU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sU=(e,r,t)=>{let n;const a=aU[e];return typeof a=="string"?n=a:r===1?n=a.one:n=a.other.replace("{{count}}",r.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function cv(e){return(r={})=>{const t=r.width?String(r.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const iU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cU={date:cv({formats:iU,defaultWidth:"full"}),time:cv({formats:oU,defaultWidth:"full"}),dateTime:cv({formats:lU,defaultWidth:"full"})},uU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},dU=(e,r,t,n)=>uU[e];function xp(e){return(r,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=t!=null&&t.width?String(t.width):l;a=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=t!=null&&t.width?String(t.width):e.defaultWidth;a=e.values[u]||e.values[l]}const s=e.argumentCallback?e.argumentCallback(r):r;return a[s]}}const fU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},pU={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},gU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yU=(e,r)=>{const t=Number(e),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},vU={ordinalNumber:yU,era:xp({values:fU,defaultWidth:"wide"}),quarter:xp({values:hU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:xp({values:pU,defaultWidth:"wide"}),day:xp({values:mU,defaultWidth:"wide"}),dayPeriod:xp({values:gU,defaultWidth:"wide",formattingValues:xU,defaultFormattingWidth:"wide"})};function yp(e){return(r,t={})=>{const n=t.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=r.match(a);if(!s)return null;const l=s[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?wU(u,x=>x.test(l)):bU(u,x=>x.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;const p=r.slice(l.length);return{value:f,rest:p}}}function bU(e,r){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&r(e[t]))return t}function wU(e,r){for(let t=0;t<e.length;t++)if(r(e[t]))return t}function NU(e){return(r,t={})=>{const n=r.match(e.matchPattern);if(!n)return null;const a=n[0],s=r.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];l=t.valueCallback?t.valueCallback(l):l;const u=r.slice(a.length);return{value:l,rest:u}}}const SU=/^(\d+)(th|st|nd|rd)?/i,_U=/\d+/i,TU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},kU={any:[/^b/i,/^(a|c)/i]},jU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},EU={any:[/1/i,/2/i,/3/i,/4/i]},AU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CU={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},OU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},LU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},MU={ordinalNumber:NU({matchPattern:SU,parsePattern:_U,valueCallback:e=>parseInt(e,10)}),era:yp({matchPatterns:TU,defaultMatchWidth:"wide",parsePatterns:kU,defaultParseWidth:"any"}),quarter:yp({matchPatterns:jU,defaultMatchWidth:"wide",parsePatterns:EU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yp({matchPatterns:AU,defaultMatchWidth:"wide",parsePatterns:CU,defaultParseWidth:"any"}),day:yp({matchPatterns:DU,defaultMatchWidth:"wide",parsePatterns:OU,defaultParseWidth:"any"}),dayPeriod:yp({matchPatterns:LU,defaultMatchWidth:"any",parsePatterns:RU,defaultParseWidth:"any"})},P6={code:"en-US",formatDistance:sU,formatLong:cU,formatRelative:dU,localize:vU,match:MU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FU(e,r){const t=Dr(e,r==null?void 0:r.in);return Jh(t,t2(t))+1}function fw(e,r){const t=Dr(e,r==null?void 0:r.in),n=+Kh(t)-+Zz(t);return Math.round(n/C6)+1}function hw(e,r){var p,x,y,m;const t=Dr(e,r==null?void 0:r.in),n=t.getFullYear(),a=Hf(),s=(r==null?void 0:r.firstWeekContainsDate)??((x=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(y=a.locale)==null?void 0:y.options)==null?void 0:m.firstWeekContainsDate)??1,l=ia((r==null?void 0:r.in)||e,0);l.setFullYear(n+1,0,s),l.setHours(0,0,0,0);const u=Du(l,r),d=ia((r==null?void 0:r.in)||e,0);d.setFullYear(n,0,s),d.setHours(0,0,0,0);const f=Du(d,r);return+t>=+u?n+1:+t>=+f?n:n-1}function PU(e,r){var u,d,f,p;const t=Hf(),n=(r==null?void 0:r.firstWeekContainsDate)??((d=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??t.firstWeekContainsDate??((p=(f=t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=hw(e,r),s=ia((r==null?void 0:r.in)||e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Du(s,r)}function B6(e,r){const t=Dr(e,r==null?void 0:r.in),n=+Du(t,r)-+PU(t,r);return Math.round(n/C6)+1}function ta(e,r){const t=e<0?"-":"",n=Math.abs(e).toString().padStart(r,"0");return t+n}const pd={y(e,r){const t=e.getFullYear(),n=t>0?t:1-t;return ta(r==="yy"?n%100:n,r.length)},M(e,r){const t=e.getMonth();return r==="M"?String(t+1):ta(t+1,2)},d(e,r){return ta(e.getDate(),r.length)},a(e,r){const t=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,r){return ta(e.getHours()%12||12,r.length)},H(e,r){return ta(e.getHours(),r.length)},m(e,r){return ta(e.getMinutes(),r.length)},s(e,r){return ta(e.getSeconds(),r.length)},S(e,r){const t=r.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,t-3));return ta(a,r.length)}},Th={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},GN={G:function(e,r,t){const n=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(e,r,t){if(r==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return t.ordinalNumber(a,{unit:"year"})}return pd.y(e,r)},Y:function(e,r,t,n){const a=hw(e,n),s=a>0?a:1-a;if(r==="YY"){const l=s%100;return ta(l,2)}return r==="Yo"?t.ordinalNumber(s,{unit:"year"}):ta(s,r.length)},R:function(e,r){const t=O6(e);return ta(t,r.length)},u:function(e,r){const t=e.getFullYear();return ta(t,r.length)},Q:function(e,r,t){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return ta(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,r,t){const n=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return ta(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,r,t){const n=e.getMonth();switch(r){case"M":case"MM":return pd.M(e,r);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(e,r,t){const n=e.getMonth();switch(r){case"L":return String(n+1);case"LL":return ta(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(e,r,t,n){const a=B6(e,n);return r==="wo"?t.ordinalNumber(a,{unit:"week"}):ta(a,r.length)},I:function(e,r,t){const n=fw(e);return r==="Io"?t.ordinalNumber(n,{unit:"week"}):ta(n,r.length)},d:function(e,r,t){return r==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):pd.d(e,r)},D:function(e,r,t){const n=FU(e);return r==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):ta(n,r.length)},E:function(e,r,t){const n=e.getDay();switch(r){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(e,r,t,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return ta(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(e,r,t,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return ta(s,r.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(e,r,t){const n=e.getDay(),a=n===0?7:n;switch(r){case"i":return String(a);case"ii":return ta(a,r.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(e,r,t){const a=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,r,t){const n=e.getHours();let a;switch(n===12?a=Th.noon:n===0?a=Th.midnight:a=n/12>=1?"pm":"am",r){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,r,t){const n=e.getHours();let a;switch(n>=17?a=Th.evening:n>=12?a=Th.afternoon:n>=4?a=Th.morning:a=Th.night,r){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,r,t){if(r==="ho"){let n=e.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return pd.h(e,r)},H:function(e,r,t){return r==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):pd.H(e,r)},K:function(e,r,t){const n=e.getHours()%12;return r==="Ko"?t.ordinalNumber(n,{unit:"hour"}):ta(n,r.length)},k:function(e,r,t){let n=e.getHours();return n===0&&(n=24),r==="ko"?t.ordinalNumber(n,{unit:"hour"}):ta(n,r.length)},m:function(e,r,t){return r==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):pd.m(e,r)},s:function(e,r,t){return r==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):pd.s(e,r)},S:function(e,r){return pd.S(e,r)},X:function(e,r,t){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(r){case"X":return KN(n);case"XXXX":case"XX":return of(n);case"XXXXX":case"XXX":default:return of(n,":")}},x:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"x":return KN(n);case"xxxx":case"xx":return of(n);case"xxxxx":case"xxx":default:return of(n,":")}},O:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+XN(n,":");case"OOOO":default:return"GMT"+of(n,":")}},z:function(e,r,t){const n=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+XN(n,":");case"zzzz":default:return"GMT"+of(n,":")}},t:function(e,r,t){const n=Math.trunc(+e/1e3);return ta(n,r.length)},T:function(e,r,t){return ta(+e,r.length)}};function XN(e,r=""){const t=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?t+String(a):t+String(a)+r+ta(s,2)}function KN(e,r){return e%60===0?(e>0?"-":"+")+ta(Math.abs(e)/60,2):of(e,r)}function of(e,r=""){const t=e>0?"-":"+",n=Math.abs(e),a=ta(Math.trunc(n/60),2),s=ta(n%60,2);return t+a+r+s}const JN=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},I6=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},BU=(e,r)=>{const t=e.match(/(P+)(p+)?/)||[],n=t[1],a=t[2];if(!a)return JN(e,r);let s;switch(n){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",JN(n,r)).replace("{{time}}",I6(a,r))},lb={p:I6,P:BU},IU=/^D+$/,$U=/^Y+$/,zU=["D","DD","YY","YYYY"];function UU(e){return IU.test(e)}function HU(e){return $U.test(e)}function WU(e,r,t){const n=VU(e,r,t);if(console.warn(n),zU.includes(e))throw new RangeError(n)}function VU(e,r,t){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qU=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YU=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GU=/^'([^]*?)'?$/,XU=/''/g,KU=/[a-zA-Z]/;function QN(e,r,t){var p,x,y,m,w,v,N,S;const n=Hf(),a=(t==null?void 0:t.locale)??n.locale??P6,s=(t==null?void 0:t.firstWeekContainsDate)??((x=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:x.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(y=n.locale)==null?void 0:y.options)==null?void 0:m.firstWeekContainsDate)??1,l=(t==null?void 0:t.weekStartsOn)??((v=(w=t==null?void 0:t.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((S=(N=n.locale)==null?void 0:N.options)==null?void 0:S.weekStartsOn)??0,u=Dr(e,t==null?void 0:t.in);if(!fx(u))throw new RangeError("Invalid time value");let d=r.match(YU).map(k=>{const _=k[0];if(_==="p"||_==="P"){const A=lb[_];return A(k,a.formatLong)}return k}).join("").match(qU).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const _=k[0];if(_==="'")return{isToken:!1,value:JU(k)};if(GN[_])return{isToken:!0,value:k};if(_.match(KU))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:k}});a.localize.preprocessor&&(d=a.localize.preprocessor(u,d));const f={firstWeekContainsDate:s,weekStartsOn:l,locale:a};return d.map(k=>{if(!k.isToken)return k.value;const _=k.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&HU(_)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&UU(_))&&WU(_,r,String(e));const A=GN[_[0]];return A(u,_,a.localize,f)}).join("")}function JU(e){const r=e.match(GU);return r?r[1].replace(XU,"'"):e}function ZN(e,r){return Dr(e,r==null?void 0:r.in).getDate()}function QU(e,r){return Dr(e,r==null?void 0:r.in).getDay()}function ZU(e,r){const t=Dr(e,r==null?void 0:r.in),n=t.getFullYear(),a=t.getMonth(),s=ia(t,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function eH(){return Object.assign({},Hf())}function _u(e,r){return Dr(e,r==null?void 0:r.in).getHours()}function tH(e,r){const t=Dr(e,r==null?void 0:r.in).getDay();return t===0?7:t}function Tu(e,r){return Dr(e,r==null?void 0:r.in).getMinutes()}function Ai(e,r){return Dr(e,r==null?void 0:r.in).getMonth()}function Sd(e){return Dr(e).getSeconds()}function cb(e){return+Dr(e)}function vn(e,r){return Dr(e,r==null?void 0:r.in).getFullYear()}function Cd(e,r){return+Dr(e)>+Dr(r)}function Of(e,r){return+Dr(e)<+Dr(r)}function rH(e,r){return+Dr(e)==+Dr(r)}function nH(e,r){const t=aH(r)?new r(0):ia(r,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function aH(e){var r;return typeof e=="function"&&((r=e.prototype)==null?void 0:r.constructor)===e}const sH=10;class $6{constructor(){gr(this,"subPriority",0)}validate(r,t){return!0}}class iH extends $6{constructor(r,t,n,a,s){super(),this.value=r,this.validateValue=t,this.setValue=n,this.priority=a,s&&(this.subPriority=s)}validate(r,t){return this.validateValue(r,this.value,t)}set(r,t,n){return this.setValue(r,t,this.value,n)}}class oH extends $6{constructor(t,n){super();gr(this,"priority",sH);gr(this,"subPriority",-1);this.context=t||(a=>ia(n,a))}set(t,n){return n.timestampIsSet?t:ia(t,nH(t,this.context))}}class qn{run(r,t,n,a){const s=this.parse(r,t,n,a);return s?{setter:new iH(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(r,t,n){return!0}}class lH extends qn{constructor(){super(...arguments);gr(this,"priority",140);gr(this,"incompatibleTokens",["R","u","t","T"])}parse(t,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,n,a){return n.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}const xs={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ec={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ys(e,r){return e&&{value:r(e.value),rest:e.rest}}function Wa(e,r){const t=r.match(e);return t?{value:parseInt(t[0],10),rest:r.slice(t[0].length)}:null}function Ac(e,r){const t=r.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:r.slice(1)};const n=t[1]==="+"?1:-1,a=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,l=t[5]?parseInt(t[5],10):0;return{value:n*(a*e2+s*Zx+l*Kz),rest:r.slice(t[0].length)}}function z6(e){return Wa(xs.anyDigitsSigned,e)}function as(e,r){switch(e){case 1:return Wa(xs.singleDigit,r);case 2:return Wa(xs.twoDigits,r);case 3:return Wa(xs.threeDigits,r);case 4:return Wa(xs.fourDigits,r);default:return Wa(new RegExp("^\\d{1,"+e+"}"),r)}}function gx(e,r){switch(e){case 1:return Wa(xs.singleDigitSigned,r);case 2:return Wa(xs.twoDigitsSigned,r);case 3:return Wa(xs.threeDigitsSigned,r);case 4:return Wa(xs.fourDigitsSigned,r);default:return Wa(new RegExp("^-?\\d{1,"+e+"}"),r)}}function pw(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function U6(e,r){const t=r>0,n=t?r:1-r;let a;if(n<=50)a=e||100;else{const s=n+50,l=Math.trunc(s/100)*100,u=e>=s%100;a=e+l-(u?100:0)}return t?a:1-a}function H6(e){return e%400===0||e%4===0&&e%100!==0}class cH extends qn{constructor(){super(...arguments);gr(this,"priority",130);gr(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,n,a){const s=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return ys(as(4,t),s);case"yo":return ys(a.ordinalNumber(t,{unit:"year"}),s);default:return ys(as(n.length,t),s)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a){const s=t.getFullYear();if(a.isTwoDigitYear){const u=U6(a.year,s);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class uH extends qn{constructor(){super(...arguments);gr(this,"priority",130);gr(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,n,a){const s=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return ys(as(4,t),s);case"Yo":return ys(a.ordinalNumber(t,{unit:"year"}),s);default:return ys(as(n.length,t),s)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a,s){const l=hw(t,s);if(a.isTwoDigitYear){const d=U6(a.year,l);return t.setFullYear(d,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Du(t,s)}const u=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(u,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Du(t,s)}}class dH extends qn{constructor(){super(...arguments);gr(this,"priority",130);gr(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,n){return gx(n==="R"?4:n.length,t)}set(t,n,a){const s=ia(t,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),Kh(s)}}class fH extends qn{constructor(){super(...arguments);gr(this,"priority",130);gr(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,n){return gx(n==="u"?4:n.length,t)}set(t,n,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class hH extends qn{constructor(){super(...arguments);gr(this,"priority",120);gr(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"Q":case"QQ":return as(n.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class pH extends qn{constructor(){super(...arguments);gr(this,"priority",120);gr(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"q":case"qq":return as(n.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}}class mH extends qn{constructor(){super(...arguments);gr(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);gr(this,"priority",110)}parse(t,n,a){const s=l=>l-1;switch(n){case"M":return ys(Wa(xs.month,t),s);case"MM":return ys(as(2,t),s);case"Mo":return ys(a.ordinalNumber(t,{unit:"month"}),s);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class gH extends qn{constructor(){super(...arguments);gr(this,"priority",110);gr(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,n,a){const s=l=>l-1;switch(n){case"L":return ys(Wa(xs.month,t),s);case"LL":return ys(as(2,t),s);case"Lo":return ys(a.ordinalNumber(t,{unit:"month"}),s);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}function xH(e,r,t){const n=Dr(e,t==null?void 0:t.in),a=B6(n,t)-r;return n.setDate(n.getDate()-a*7),Dr(n,t==null?void 0:t.in)}class yH extends qn{constructor(){super(...arguments);gr(this,"priority",100);gr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,n,a){switch(n){case"w":return Wa(xs.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return as(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a,s){return Du(xH(t,a,s),s)}}function vH(e,r,t){const n=Dr(e,t==null?void 0:t.in),a=fw(n,t)-r;return n.setDate(n.getDate()-a*7),n}class bH extends qn{constructor(){super(...arguments);gr(this,"priority",100);gr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,n,a){switch(n){case"I":return Wa(xs.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return as(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a){return Kh(vH(t,a))}}const wH=[31,28,31,30,31,30,31,31,30,31,30,31],NH=[31,29,31,30,31,30,31,31,30,31,30,31];class SH extends qn{constructor(){super(...arguments);gr(this,"priority",90);gr(this,"subPriority",1);gr(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"d":return Wa(xs.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return as(n.length,t)}}validate(t,n){const a=t.getFullYear(),s=H6(a),l=t.getMonth();return s?n>=1&&n<=NH[l]:n>=1&&n<=wH[l]}set(t,n,a){return t.setDate(a),t.setHours(0,0,0,0),t}}class _H extends qn{constructor(){super(...arguments);gr(this,"priority",90);gr(this,"subpriority",1);gr(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,n,a){switch(n){case"D":case"DD":return Wa(xs.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return as(n.length,t)}}validate(t,n){const a=t.getFullYear();return H6(a)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}}function mw(e,r,t){var x,y,m,w;const n=Hf(),a=(t==null?void 0:t.weekStartsOn)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??n.weekStartsOn??((w=(m=n.locale)==null?void 0:m.options)==null?void 0:w.weekStartsOn)??0,s=Dr(e,t==null?void 0:t.in),l=s.getDay(),d=(r%7+7)%7,f=7-a,p=r<0||r>6?r-(l+f)%7:(d+f)%7-(l+f)%7;return Fl(s,p,t)}class TH extends qn{constructor(){super(...arguments);gr(this,"priority",90);gr(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,s){return t=mw(t,a,s),t.setHours(0,0,0,0),t}}class kH extends qn{constructor(){super(...arguments);gr(this,"priority",90);gr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,n,a,s){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+d};switch(n){case"e":case"ee":return ys(as(n.length,t),l);case"eo":return ys(a.ordinalNumber(t,{unit:"day"}),l);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,s){return t=mw(t,a,s),t.setHours(0,0,0,0),t}}class jH extends qn{constructor(){super(...arguments);gr(this,"priority",90);gr(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,n,a,s){const l=u=>{const d=Math.floor((u-1)/7)*7;return(u+s.weekStartsOn+6)%7+d};switch(n){case"c":case"cc":return ys(as(n.length,t),l);case"co":return ys(a.ordinalNumber(t,{unit:"day"}),l);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,s){return t=mw(t,a,s),t.setHours(0,0,0,0),t}}function EH(e,r,t){const n=Dr(e,t==null?void 0:t.in),a=tH(n,t),s=r-a;return Fl(n,s,t)}class AH extends qn{constructor(){super(...arguments);gr(this,"priority",90);gr(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,n,a){const s=l=>l===0?7:l;switch(n){case"i":case"ii":return as(n.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return ys(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return ys(a.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return ys(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return ys(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,n){return n>=1&&n<=7}set(t,n,a){return t=EH(t,a),t.setHours(0,0,0,0),t}}class CH extends qn{constructor(){super(...arguments);gr(this,"priority",80);gr(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(pw(a),0,0,0),t}}class DH extends qn{constructor(){super(...arguments);gr(this,"priority",80);gr(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(pw(a),0,0,0),t}}class OH extends qn{constructor(){super(...arguments);gr(this,"priority",80);gr(this,"incompatibleTokens",["a","b","t","T"])}parse(t,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(pw(a),0,0,0),t}}class LH extends qn{constructor(){super(...arguments);gr(this,"priority",70);gr(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,n,a){switch(n){case"h":return Wa(xs.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return as(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,a){const s=t.getHours()>=12;return s&&a<12?t.setHours(a+12,0,0,0):!s&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}}class RH extends qn{constructor(){super(...arguments);gr(this,"priority",70);gr(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,n,a){switch(n){case"H":return Wa(xs.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return as(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,a){return t.setHours(a,0,0,0),t}}class MH extends qn{constructor(){super(...arguments);gr(this,"priority",70);gr(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,n,a){switch(n){case"K":return Wa(xs.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return as(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}}class FH extends qn{constructor(){super(...arguments);gr(this,"priority",70);gr(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,n,a){switch(n){case"k":return Wa(xs.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return as(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,a){const s=a<=24?a%24:a;return t.setHours(s,0,0,0),t}}class PH extends qn{constructor(){super(...arguments);gr(this,"priority",60);gr(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"m":return Wa(xs.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return as(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setMinutes(a,0,0),t}}class BH extends qn{constructor(){super(...arguments);gr(this,"priority",50);gr(this,"incompatibleTokens",["t","T"])}parse(t,n,a){switch(n){case"s":return Wa(xs.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return as(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setSeconds(a,0),t}}class IH extends qn{constructor(){super(...arguments);gr(this,"priority",30);gr(this,"incompatibleTokens",["t","T"])}parse(t,n){const a=s=>Math.trunc(s*Math.pow(10,-n.length+3));return ys(as(n.length,t),a)}set(t,n,a){return t.setMilliseconds(a),t}}class $H extends qn{constructor(){super(...arguments);gr(this,"priority",10);gr(this,"incompatibleTokens",["t","T","x"])}parse(t,n){switch(n){case"X":return Ac(Ec.basicOptionalMinutes,t);case"XX":return Ac(Ec.basic,t);case"XXXX":return Ac(Ec.basicOptionalSeconds,t);case"XXXXX":return Ac(Ec.extendedOptionalSeconds,t);case"XXX":default:return Ac(Ec.extended,t)}}set(t,n,a){return n.timestampIsSet?t:ia(t,t.getTime()-ux(t)-a)}}class zH extends qn{constructor(){super(...arguments);gr(this,"priority",10);gr(this,"incompatibleTokens",["t","T","X"])}parse(t,n){switch(n){case"x":return Ac(Ec.basicOptionalMinutes,t);case"xx":return Ac(Ec.basic,t);case"xxxx":return Ac(Ec.basicOptionalSeconds,t);case"xxxxx":return Ac(Ec.extendedOptionalSeconds,t);case"xxx":default:return Ac(Ec.extended,t)}}set(t,n,a){return n.timestampIsSet?t:ia(t,t.getTime()-ux(t)-a)}}class UH extends qn{constructor(){super(...arguments);gr(this,"priority",40);gr(this,"incompatibleTokens","*")}parse(t){return z6(t)}set(t,n,a){return[ia(t,a*1e3),{timestampIsSet:!0}]}}class HH extends qn{constructor(){super(...arguments);gr(this,"priority",20);gr(this,"incompatibleTokens","*")}parse(t){return z6(t)}set(t,n,a){return[ia(t,a),{timestampIsSet:!0}]}}const WH={G:new lH,y:new cH,Y:new uH,R:new dH,u:new fH,Q:new hH,q:new pH,M:new mH,L:new gH,w:new yH,I:new bH,d:new SH,D:new _H,E:new TH,e:new kH,c:new jH,i:new AH,a:new CH,b:new DH,B:new OH,h:new LH,H:new RH,K:new MH,k:new FH,m:new PH,s:new BH,S:new IH,X:new $H,x:new zH,t:new UH,T:new HH},VH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YH=/^'([^]*?)'?$/,GH=/''/g,XH=/\S/,KH=/[a-zA-Z]/;function JH(e,r,t,n){var N,S,k,_,A,R,V,P;const a=()=>ia((n==null?void 0:n.in)||t,NaN),s=eH(),l=(n==null?void 0:n.locale)??s.locale??P6,u=(n==null?void 0:n.firstWeekContainsDate)??((S=(N=n==null?void 0:n.locale)==null?void 0:N.options)==null?void 0:S.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(k=s.locale)==null?void 0:k.options)==null?void 0:_.firstWeekContainsDate)??1,d=(n==null?void 0:n.weekStartsOn)??((R=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:R.weekStartsOn)??s.weekStartsOn??((P=(V=s.locale)==null?void 0:V.options)==null?void 0:P.weekStartsOn)??0;if(!r)return e?a():Dr(t,n==null?void 0:n.in);const f={firstWeekContainsDate:u,weekStartsOn:d,locale:l},p=[new oH(n==null?void 0:n.in,t)],x=r.match(qH).map(I=>{const B=I[0];if(B in lb){const O=lb[B];return O(I,l.formatLong)}return I}).join("").match(VH),y=[];for(let I of x){const B=I[0],O=WH[B];if(O){const{incompatibleTokens:L}=O;if(Array.isArray(L)){const Y=y.find(Q=>L.includes(Q.token)||Q.token===B);if(Y)throw new RangeError(`The format string mustn't contain \`${Y.fullToken}\` and \`${I}\` at the same time`)}else if(O.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);y.push({token:B,fullToken:I});const C=O.run(e,I,l.match,f);if(!C)return a();p.push(C.setter),e=C.rest}else{if(B.match(KH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");if(I==="''"?I="'":B==="'"&&(I=QH(I)),e.indexOf(I)===0)e=e.slice(I.length);else return a()}}if(e.length>0&&XH.test(e))return a();const m=p.map(I=>I.priority).sort((I,B)=>B-I).filter((I,B,O)=>O.indexOf(I)===B).map(I=>p.filter(B=>B.priority===I).sort((B,O)=>O.subPriority-B.subPriority)).map(I=>I[0]);let w=Dr(t,n==null?void 0:n.in);if(isNaN(+w))return a();const v={};for(const I of m){if(!I.validate(w,f))return a();const B=I.set(w,v,f);Array.isArray(B)?(w=B[0],Object.assign(v,B[1])):w=B}return w}function QH(e){return e.match(YH)[1].replace(GH,"'")}function ZH(e,r,t){const[n,a]=Ru(t==null?void 0:t.in,e,r);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function eW(e,r,t){const[n,a]=Ru(t==null?void 0:t.in,e,r);return+ob(n)==+ob(a)}function tW(e,r,t){const[n,a]=Ru(t==null?void 0:t.in,e,r);return n.getFullYear()===a.getFullYear()}function nm(e,r,t){const n=+Dr(e,t==null?void 0:t.in),[a,s]=[+Dr(r.start,t==null?void 0:t.in),+Dr(r.end,t==null?void 0:t.in)].sort((l,u)=>l-u);return n>=a&&n<=s}function rW(e,r,t){return Fl(e,-1,t)}function nW(e,r){const t=()=>ia(r==null?void 0:r.in,NaN),a=oW(e);let s;if(a.date){const f=lW(a.date,2);s=cW(f.restDateString,f.year)}if(!s||isNaN(+s))return t();const l=+s;let u=0,d;if(a.time&&(u=uW(a.time),isNaN(u)))return t();if(a.timezone){if(d=dW(a.timezone),isNaN(d))return t()}else{const f=new Date(l+u),p=Dr(0,r==null?void 0:r.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return Dr(l+u+d,r==null?void 0:r.in)}const r1={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},aW=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,sW=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,iW=/^([+-])(\d{2})(?::?(\d{2}))?$/;function oW(e){const r={},t=e.split(r1.dateTimeDelimiter);let n;if(t.length>2)return r;if(/:/.test(t[0])?n=t[0]:(r.date=t[0],n=t[1],r1.timeZoneDelimiter.test(r.date)&&(r.date=e.split(r1.timeZoneDelimiter)[0],n=e.substr(r.date.length,e.length))),n){const a=r1.timezone.exec(n);a?(r.time=n.replace(a[1],""),r.timezone=a[1]):r.time=n}return r}function lW(e,r){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),n=e.match(t);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function cW(e,r){if(r===null)return new Date(NaN);const t=e.match(aW);if(!t)return new Date(NaN);const n=!!t[4],a=vp(t[1]),s=vp(t[2])-1,l=vp(t[3]),u=vp(t[4]),d=vp(t[5])-1;if(n)return gW(r,u,d)?fW(r,u,d):new Date(NaN);{const f=new Date(0);return!pW(r,s,l)||!mW(r,a)?new Date(NaN):(f.setUTCFullYear(r,s,Math.max(a,l)),f)}}function vp(e){return e?parseInt(e):1}function uW(e){const r=e.match(sW);if(!r)return NaN;const t=uv(r[1]),n=uv(r[2]),a=uv(r[3]);return xW(t,n,a)?t*e2+n*Zx+a*1e3:NaN}function uv(e){return e&&parseFloat(e.replace(",","."))||0}function dW(e){if(e==="Z")return 0;const r=e.match(iW);if(!r)return 0;const t=r[1]==="+"?-1:1,n=parseInt(r[2]),a=r[3]&&parseInt(r[3])||0;return yW(n,a)?t*(n*e2+a*Zx):NaN}function fW(e,r,t){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,s=(r-1)*7+t+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const hW=[31,null,31,30,31,30,31,31,30,31,30,31];function W6(e){return e%400===0||e%4===0&&e%100!==0}function pW(e,r,t){return r>=0&&r<=11&&t>=1&&t<=(hW[r]||(W6(e)?29:28))}function mW(e,r){return r>=1&&r<=(W6(e)?366:365)}function gW(e,r,t){return r>=1&&r<=53&&t>=0&&t<=6}function xW(e,r,t){return e===24?r===0&&t===0:t>=0&&t<60&&r>=0&&r<60&&e>=0&&e<25}function yW(e,r){return r>=0&&r<=59}function el(e,r,t){const n=Dr(e,t==null?void 0:t.in),a=n.getFullYear(),s=n.getDate(),l=ia(e,0);l.setFullYear(a,r,15),l.setHours(0,0,0,0);const u=ZU(l);return n.setMonth(r,Math.min(s,u)),n}function C1(e,r,t){const n=Dr(e,t==null?void 0:t.in);return n.setHours(r),n}function D1(e,r,t){const n=Dr(e,t==null?void 0:t.in);return n.setMinutes(r),n}function Mh(e,r,t){const n=Dr(e,t==null?void 0:t.in),a=Math.trunc(n.getMonth()/3)+1,s=r-a;return el(n,n.getMonth()+s*3)}function O1(e,r,t){const n=Dr(e,t==null?void 0:t.in);return n.setSeconds(r),n}function _c(e,r,t){const n=Dr(e,t==null?void 0:t.in);return isNaN(+n)?ia(e,NaN):(n.setFullYear(r),n)}function _f(e,r,t){return Bl(e,-r,t)}function V6(e,r,t){return dw(e,-1,t)}function eS(e,r,t){return dx(e,-1,t)}function Qh(e,r,t){return Nu(e,-r,t)}function r2(){return typeof window<"u"}function p0(e){return q6(e)?(e.nodeName||"").toLowerCase():"#document"}function Do(e){var r;return(e==null||(r=e.ownerDocument)==null?void 0:r.defaultView)||window}function Uc(e){var r;return(r=(q6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:r.documentElement}function q6(e){return r2()?e instanceof Node||e instanceof Do(e).Node:!1}function Vi(e){return r2()?e instanceof Element||e instanceof Do(e).Element:!1}function Ic(e){return r2()?e instanceof HTMLElement||e instanceof Do(e).HTMLElement:!1}function tS(e){return!r2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Do(e).ShadowRoot}const vW=new Set(["inline","contents"]);function _m(e){const{overflow:r,overflowX:t,overflowY:n,display:a}=sl(e);return/auto|scroll|overlay|hidden|clip/.test(r+n+t)&&!vW.has(a)}const bW=new Set(["table","td","th"]);function wW(e){return bW.has(p0(e))}const NW=[":popover-open",":modal"];function n2(e){return NW.some(r=>{try{return e.matches(r)}catch{return!1}})}const SW=["transform","translate","scale","rotate","perspective"],_W=["transform","translate","scale","rotate","perspective","filter"],TW=["paint","layout","strict","content"];function gw(e){const r=xw(),t=Vi(e)?sl(e):e;return SW.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!r&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!r&&(t.filter?t.filter!=="none":!1)||_W.some(n=>(t.willChange||"").includes(n))||TW.some(n=>(t.contain||"").includes(n))}function kW(e){let r=Dd(e);for(;Ic(r)&&!Zh(r);){if(gw(r))return r;if(n2(r))return null;r=Dd(r)}return null}function xw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jW=new Set(["html","body","#document"]);function Zh(e){return jW.has(p0(e))}function sl(e){return Do(e).getComputedStyle(e)}function a2(e){return Vi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Dd(e){if(p0(e)==="html")return e;const r=e.assignedSlot||e.parentNode||tS(e)&&e.host||Uc(e);return tS(r)?r.host:r}function Y6(e){const r=Dd(e);return Zh(r)?e.ownerDocument?e.ownerDocument.body:e.body:Ic(r)&&_m(r)?r:Y6(r)}function am(e,r,t){var n;r===void 0&&(r=[]),t===void 0&&(t=!0);const a=Y6(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),l=Do(a);if(s){const u=ub(l);return r.concat(l,l.visualViewport||[],_m(a)?a:[],u&&t?am(u):[])}return r.concat(a,am(a,[],t))}function ub(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const e0=Math.min,Tf=Math.max,xx=Math.round,n1=Math.floor,Rc=e=>({x:e,y:e}),EW={left:"right",right:"left",bottom:"top",top:"bottom"},AW={start:"end",end:"start"};function CW(e,r,t){return Tf(e,e0(r,t))}function s2(e,r){return typeof e=="function"?e(r):e}function t0(e){return e.split("-")[0]}function Tm(e){return e.split("-")[1]}function DW(e){return e==="x"?"y":"x"}function yw(e){return e==="y"?"height":"width"}const OW=new Set(["top","bottom"]);function pf(e){return OW.has(t0(e))?"y":"x"}function vw(e){return DW(pf(e))}function LW(e,r,t){t===void 0&&(t=!1);const n=Tm(e),a=vw(e),s=yw(a);let l=a==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return r.reference[s]>r.floating[s]&&(l=yx(l)),[l,yx(l)]}function RW(e){const r=yx(e);return[db(e),r,db(r)]}function db(e){return e.replace(/start|end/g,r=>AW[r])}const rS=["left","right"],nS=["right","left"],MW=["top","bottom"],FW=["bottom","top"];function PW(e,r,t){switch(e){case"top":case"bottom":return t?r?nS:rS:r?rS:nS;case"left":case"right":return r?MW:FW;default:return[]}}function BW(e,r,t,n){const a=Tm(e);let s=PW(t0(e),t==="start",n);return a&&(s=s.map(l=>l+"-"+a),r&&(s=s.concat(s.map(db)))),s}function yx(e){return e.replace(/left|right|bottom|top/g,r=>EW[r])}function IW(e){return{top:0,right:0,bottom:0,left:0,...e}}function G6(e){return typeof e!="number"?IW(e):{top:e,right:e,bottom:e,left:e}}function vx(e){const{x:r,y:t,width:n,height:a}=e;return{width:n,height:a,top:t,left:r,right:r+n,bottom:t+a,x:r,y:t}}var $W=typeof document<"u",zW=function(){},bx=$W?T.useLayoutEffect:zW;const UW={...$1},HW=UW.useInsertionEffect,WW=HW||(e=>e());function VW(e){const r=T.useRef(()=>{});return WW(()=>{r.current=e}),T.useCallback(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return r.current==null?void 0:r.current(...n)},[])}function aS(e,r,t){let{reference:n,floating:a}=e;const s=pf(r),l=vw(r),u=yw(l),d=t0(r),f=s==="y",p=n.x+n.width/2-a.width/2,x=n.y+n.height/2-a.height/2,y=n[u]/2-a[u]/2;let m;switch(d){case"top":m={x:p,y:n.y-a.height};break;case"bottom":m={x:p,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:x};break;case"left":m={x:n.x-a.width,y:x};break;default:m={x:n.x,y:n.y}}switch(Tm(r)){case"start":m[l]-=y*(t&&f?-1:1);break;case"end":m[l]+=y*(t&&f?-1:1);break}return m}const qW=async(e,r,t)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:l}=t,u=s.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(r));let f=await l.getElementRects({reference:e,floating:r,strategy:a}),{x:p,y:x}=aS(f,n,d),y=n,m={},w=0;for(let v=0;v<u.length;v++){const{name:N,fn:S}=u[v],{x:k,y:_,data:A,reset:R}=await S({x:p,y:x,initialPlacement:n,placement:y,strategy:a,middlewareData:m,rects:f,platform:l,elements:{reference:e,floating:r}});p=k??p,x=_??x,m={...m,[N]:{...m[N],...A}},R&&w<=50&&(w++,typeof R=="object"&&(R.placement&&(y=R.placement),R.rects&&(f=R.rects===!0?await l.getElementRects({reference:e,floating:r,strategy:a}):R.rects),{x:p,y:x}=aS(f,y,d)),v=-1)}return{x:p,y:x,placement:y,strategy:a,middlewareData:m}};async function YW(e,r){var t;r===void 0&&(r={});const{x:n,y:a,platform:s,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:x="floating",altBoundary:y=!1,padding:m=0}=s2(r,e),w=G6(m),N=u[y?x==="floating"?"reference":"floating":x],S=vx(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(N)))==null||t?N:N.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:d})),k=x==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),A=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},R=vx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:k,offsetParent:_,strategy:d}):k);return{top:(S.top-R.top+w.top)/A.y,bottom:(R.bottom-S.bottom+w.bottom)/A.y,left:(S.left-R.left+w.left)/A.x,right:(R.right-S.right+w.right)/A.x}}const GW=e=>({name:"arrow",options:e,async fn(r){const{x:t,y:n,placement:a,rects:s,platform:l,elements:u,middlewareData:d}=r,{element:f,padding:p=0}=s2(e,r)||{};if(f==null)return{};const x=G6(p),y={x:t,y:n},m=vw(a),w=yw(m),v=await l.getDimensions(f),N=m==="y",S=N?"top":"left",k=N?"bottom":"right",_=N?"clientHeight":"clientWidth",A=s.reference[w]+s.reference[m]-y[m]-s.floating[w],R=y[m]-s.reference[m],V=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let P=V?V[_]:0;(!P||!await(l.isElement==null?void 0:l.isElement(V)))&&(P=u.floating[_]||s.floating[w]);const I=A/2-R/2,B=P/2-v[w]/2-1,O=e0(x[S],B),L=e0(x[k],B),C=O,Y=P-v[w]-L,Q=P/2-v[w]/2+I,ce=CW(C,Q,Y),W=!d.arrow&&Tm(a)!=null&&Q!==ce&&s.reference[w]/2-(Q<C?O:L)-v[w]/2<0,J=W?Q<C?Q-C:Q-Y:0;return{[m]:y[m]+J,data:{[m]:ce,centerOffset:Q-ce-J,...W&&{alignmentOffset:J}},reset:W}}}),XW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(r){var t,n;const{placement:a,middlewareData:s,rects:l,initialPlacement:u,platform:d,elements:f}=r,{mainAxis:p=!0,crossAxis:x=!0,fallbackPlacements:y,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:v=!0,...N}=s2(e,r);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const S=t0(a),k=pf(u),_=t0(u)===u,A=await(d.isRTL==null?void 0:d.isRTL(f.floating)),R=y||(_||!v?[yx(u)]:RW(u)),V=w!=="none";!y&&V&&R.push(...BW(u,v,w,A));const P=[u,...R],I=await YW(r,N),B=[];let O=((n=s.flip)==null?void 0:n.overflows)||[];if(p&&B.push(I[S]),x){const Q=LW(a,l,A);B.push(I[Q[0]],I[Q[1]])}if(O=[...O,{placement:a,overflows:B}],!B.every(Q=>Q<=0)){var L,C;const Q=(((L=s.flip)==null?void 0:L.index)||0)+1,ce=P[Q];if(ce&&(!(x==="alignment"?k!==pf(ce):!1)||O.every(re=>re.overflows[0]>0&&pf(re.placement)===k)))return{data:{index:Q,overflows:O},reset:{placement:ce}};let W=(C=O.filter(J=>J.overflows[0]<=0).sort((J,re)=>J.overflows[1]-re.overflows[1])[0])==null?void 0:C.placement;if(!W)switch(m){case"bestFit":{var Y;const J=(Y=O.filter(re=>{if(V){const ee=pf(re.placement);return ee===k||ee==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(ee=>ee>0).reduce((ee,H)=>ee+H,0)]).sort((re,ee)=>re[1]-ee[1])[0])==null?void 0:Y[0];J&&(W=J);break}case"initialPlacement":W=u;break}if(a!==W)return{reset:{placement:W}}}return{}}}},KW=new Set(["left","top"]);async function JW(e,r){const{placement:t,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=t0(t),u=Tm(t),d=pf(t)==="y",f=KW.has(l)?-1:1,p=s&&d?-1:1,x=s2(r,e);let{mainAxis:y,crossAxis:m,alignmentAxis:w}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof w=="number"&&(m=u==="end"?w*-1:w),d?{x:m*p,y:y*f}:{x:y*f,y:m*p}}const QW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(r){var t,n;const{x:a,y:s,placement:l,middlewareData:u}=r,d=await JW(r,e);return l===((t=u.offset)==null?void 0:t.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:s+d.y,data:{...d,placement:l}}}}};function X6(e){const r=sl(e);let t=parseFloat(r.width)||0,n=parseFloat(r.height)||0;const a=Ic(e),s=a?e.offsetWidth:t,l=a?e.offsetHeight:n,u=xx(t)!==s||xx(n)!==l;return u&&(t=s,n=l),{width:t,height:n,$:u}}function bw(e){return Vi(e)?e:e.contextElement}function Hh(e){const r=bw(e);if(!Ic(r))return Rc(1);const t=r.getBoundingClientRect(),{width:n,height:a,$:s}=X6(r);let l=(s?xx(t.width):t.width)/n,u=(s?xx(t.height):t.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const ZW=Rc(0);function K6(e){const r=Do(e);return!xw()||!r.visualViewport?ZW:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function eV(e,r,t){return r===void 0&&(r=!1),!t||r&&t!==Do(e)?!1:r}function Lf(e,r,t,n){r===void 0&&(r=!1),t===void 0&&(t=!1);const a=e.getBoundingClientRect(),s=bw(e);let l=Rc(1);r&&(n?Vi(n)&&(l=Hh(n)):l=Hh(e));const u=eV(s,t,n)?K6(s):Rc(0);let d=(a.left+u.x)/l.x,f=(a.top+u.y)/l.y,p=a.width/l.x,x=a.height/l.y;if(s){const y=Do(s),m=n&&Vi(n)?Do(n):n;let w=y,v=ub(w);for(;v&&n&&m!==w;){const N=Hh(v),S=v.getBoundingClientRect(),k=sl(v),_=S.left+(v.clientLeft+parseFloat(k.paddingLeft))*N.x,A=S.top+(v.clientTop+parseFloat(k.paddingTop))*N.y;d*=N.x,f*=N.y,p*=N.x,x*=N.y,d+=_,f+=A,w=Do(v),v=ub(w)}}return vx({width:p,height:x,x:d,y:f})}function ww(e,r){const t=a2(e).scrollLeft;return r?r.left+t:Lf(Uc(e)).left+t}function J6(e,r,t){t===void 0&&(t=!1);const n=e.getBoundingClientRect(),a=n.left+r.scrollLeft-(t?0:ww(e,n)),s=n.top+r.scrollTop;return{x:a,y:s}}function tV(e){let{elements:r,rect:t,offsetParent:n,strategy:a}=e;const s=a==="fixed",l=Uc(n),u=r?n2(r.floating):!1;if(n===l||u&&s)return t;let d={scrollLeft:0,scrollTop:0},f=Rc(1);const p=Rc(0),x=Ic(n);if((x||!x&&!s)&&((p0(n)!=="body"||_m(l))&&(d=a2(n)),Ic(n))){const m=Lf(n);f=Hh(n),p.x=m.x+n.clientLeft,p.y=m.y+n.clientTop}const y=l&&!x&&!s?J6(l,d,!0):Rc(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+p.x+y.x,y:t.y*f.y-d.scrollTop*f.y+p.y+y.y}}function rV(e){return Array.from(e.getClientRects())}function nV(e){const r=Uc(e),t=a2(e),n=e.ownerDocument.body,a=Tf(r.scrollWidth,r.clientWidth,n.scrollWidth,n.clientWidth),s=Tf(r.scrollHeight,r.clientHeight,n.scrollHeight,n.clientHeight);let l=-t.scrollLeft+ww(e);const u=-t.scrollTop;return sl(n).direction==="rtl"&&(l+=Tf(r.clientWidth,n.clientWidth)-a),{width:a,height:s,x:l,y:u}}function aV(e,r){const t=Do(e),n=Uc(e),a=t.visualViewport;let s=n.clientWidth,l=n.clientHeight,u=0,d=0;if(a){s=a.width,l=a.height;const f=xw();(!f||f&&r==="fixed")&&(u=a.offsetLeft,d=a.offsetTop)}return{width:s,height:l,x:u,y:d}}const sV=new Set(["absolute","fixed"]);function iV(e,r){const t=Lf(e,!0,r==="fixed"),n=t.top+e.clientTop,a=t.left+e.clientLeft,s=Ic(e)?Hh(e):Rc(1),l=e.clientWidth*s.x,u=e.clientHeight*s.y,d=a*s.x,f=n*s.y;return{width:l,height:u,x:d,y:f}}function sS(e,r,t){let n;if(r==="viewport")n=aV(e,t);else if(r==="document")n=nV(Uc(e));else if(Vi(r))n=iV(r,t);else{const a=K6(e);n={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return vx(n)}function Q6(e,r){const t=Dd(e);return t===r||!Vi(t)||Zh(t)?!1:sl(t).position==="fixed"||Q6(t,r)}function oV(e,r){const t=r.get(e);if(t)return t;let n=am(e,[],!1).filter(u=>Vi(u)&&p0(u)!=="body"),a=null;const s=sl(e).position==="fixed";let l=s?Dd(e):e;for(;Vi(l)&&!Zh(l);){const u=sl(l),d=gw(l);!d&&u.position==="fixed"&&(a=null),(s?!d&&!a:!d&&u.position==="static"&&!!a&&sV.has(a.position)||_m(l)&&!d&&Q6(e,l))?n=n.filter(p=>p!==l):a=u,l=Dd(l)}return r.set(e,n),n}function lV(e){let{element:r,boundary:t,rootBoundary:n,strategy:a}=e;const l=[...t==="clippingAncestors"?n2(r)?[]:oV(r,this._c):[].concat(t),n],u=l[0],d=l.reduce((f,p)=>{const x=sS(r,p,a);return f.top=Tf(x.top,f.top),f.right=e0(x.right,f.right),f.bottom=e0(x.bottom,f.bottom),f.left=Tf(x.left,f.left),f},sS(r,u,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function cV(e){const{width:r,height:t}=X6(e);return{width:r,height:t}}function uV(e,r,t){const n=Ic(r),a=Uc(r),s=t==="fixed",l=Lf(e,!0,s,r);let u={scrollLeft:0,scrollTop:0};const d=Rc(0);function f(){d.x=ww(a)}if(n||!n&&!s)if((p0(r)!=="body"||_m(a))&&(u=a2(r)),n){const m=Lf(r,!0,s,r);d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}else a&&f();s&&!n&&a&&f();const p=a&&!n&&!s?J6(a,u):Rc(0),x=l.left+u.scrollLeft-d.x-p.x,y=l.top+u.scrollTop-d.y-p.y;return{x,y,width:l.width,height:l.height}}function dv(e){return sl(e).position==="static"}function iS(e,r){if(!Ic(e)||sl(e).position==="fixed")return null;if(r)return r(e);let t=e.offsetParent;return Uc(e)===t&&(t=t.ownerDocument.body),t}function Z6(e,r){const t=Do(e);if(n2(e))return t;if(!Ic(e)){let a=Dd(e);for(;a&&!Zh(a);){if(Vi(a)&&!dv(a))return a;a=Dd(a)}return t}let n=iS(e,r);for(;n&&wW(n)&&dv(n);)n=iS(n,r);return n&&Zh(n)&&dv(n)&&!gw(n)?t:n||kW(e)||t}const dV=async function(e){const r=this.getOffsetParent||Z6,t=this.getDimensions,n=await t(e.floating);return{reference:uV(e.reference,await r(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function fV(e){return sl(e).direction==="rtl"}const hV={convertOffsetParentRelativeRectToViewportRelativeRect:tV,getDocumentElement:Uc,getClippingRect:lV,getOffsetParent:Z6,getElementRects:dV,getClientRects:rV,getDimensions:cV,getScale:Hh,isElement:Vi,isRTL:fV};function ej(e,r){return e.x===r.x&&e.y===r.y&&e.width===r.width&&e.height===r.height}function pV(e,r){let t=null,n;const a=Uc(e);function s(){var u;clearTimeout(n),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),s();const f=e.getBoundingClientRect(),{left:p,top:x,width:y,height:m}=f;if(u||r(),!y||!m)return;const w=n1(x),v=n1(a.clientWidth-(p+y)),N=n1(a.clientHeight-(x+m)),S=n1(p),_={rootMargin:-w+"px "+-v+"px "+-N+"px "+-S+"px",threshold:Tf(0,e0(1,d))||1};let A=!0;function R(V){const P=V[0].intersectionRatio;if(P!==d){if(!A)return l();P?l(!1,P):n=setTimeout(()=>{l(!1,1e-7)},1e3)}P===1&&!ej(f,e.getBoundingClientRect())&&l(),A=!1}try{t=new IntersectionObserver(R,{..._,root:a.ownerDocument})}catch{t=new IntersectionObserver(R,_)}t.observe(e)}return l(!0),s}function mV(e,r,t,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,f=bw(e),p=a||s?[...f?am(f):[],...am(r)]:[];p.forEach(S=>{a&&S.addEventListener("scroll",t,{passive:!0}),s&&S.addEventListener("resize",t)});const x=f&&u?pV(f,t):null;let y=-1,m=null;l&&(m=new ResizeObserver(S=>{let[k]=S;k&&k.target===f&&m&&(m.unobserve(r),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var _;(_=m)==null||_.observe(r)})),t()}),f&&!d&&m.observe(f),m.observe(r));let w,v=d?Lf(e):null;d&&N();function N(){const S=Lf(e);v&&!ej(v,S)&&t(),v=S,w=requestAnimationFrame(N)}return t(),()=>{var S;p.forEach(k=>{a&&k.removeEventListener("scroll",t),s&&k.removeEventListener("resize",t)}),x==null||x(),(S=m)==null||S.disconnect(),m=null,d&&cancelAnimationFrame(w)}}const gV=QW,xV=XW,oS=GW,yV=(e,r,t)=>{const n=new Map,a={platform:hV,...t},s={...a.platform,_c:n};return qW(e,r,{...a,platform:s})};var vV=typeof document<"u",bV=function(){},L1=vV?T.useLayoutEffect:bV;function wx(e,r){if(e===r)return!0;if(typeof e!=typeof r)return!1;if(typeof e=="function"&&e.toString()===r.toString())return!0;let t,n,a;if(e&&r&&typeof e=="object"){if(Array.isArray(e)){if(t=e.length,t!==r.length)return!1;for(n=t;n--!==0;)if(!wx(e[n],r[n]))return!1;return!0}if(a=Object.keys(e),t=a.length,t!==Object.keys(r).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(r,a[n]))return!1;for(n=t;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!wx(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}function tj(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lS(e,r){const t=tj(e);return Math.round(r*t)/t}function fv(e){const r=T.useRef(e);return L1(()=>{r.current=e}),r}function wV(e){e===void 0&&(e={});const{placement:r="bottom",strategy:t="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[p,x]=T.useState({x:0,y:0,strategy:t,placement:r,middlewareData:{},isPositioned:!1}),[y,m]=T.useState(n);wx(y,n)||m(n);const[w,v]=T.useState(null),[N,S]=T.useState(null),k=T.useCallback(re=>{re!==V.current&&(V.current=re,v(re))},[]),_=T.useCallback(re=>{re!==P.current&&(P.current=re,S(re))},[]),A=s||w,R=l||N,V=T.useRef(null),P=T.useRef(null),I=T.useRef(p),B=d!=null,O=fv(d),L=fv(a),C=fv(f),Y=T.useCallback(()=>{if(!V.current||!P.current)return;const re={placement:r,strategy:t,middleware:y};L.current&&(re.platform=L.current),yV(V.current,P.current,re).then(ee=>{const H={...ee,isPositioned:C.current!==!1};Q.current&&!wx(I.current,H)&&(I.current=H,O_.flushSync(()=>{x(H)}))})},[y,r,t,L,C]);L1(()=>{f===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,x(re=>({...re,isPositioned:!1})))},[f]);const Q=T.useRef(!1);L1(()=>(Q.current=!0,()=>{Q.current=!1}),[]),L1(()=>{if(A&&(V.current=A),R&&(P.current=R),A&&R){if(O.current)return O.current(A,R,Y);Y()}},[A,R,Y,O,B]);const ce=T.useMemo(()=>({reference:V,floating:P,setReference:k,setFloating:_}),[k,_]),W=T.useMemo(()=>({reference:A,floating:R}),[A,R]),J=T.useMemo(()=>{const re={position:t,left:0,top:0};if(!W.floating)return re;const ee=lS(W.floating,p.x),H=lS(W.floating,p.y);return u?{...re,transform:"translate("+ee+"px, "+H+"px)",...tj(W.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ee,top:H}},[t,u,W.floating,p.x,p.y]);return T.useMemo(()=>({...p,update:Y,refs:ce,elements:W,floatingStyles:J}),[p,Y,ce,W,J])}const NV=e=>{function r(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:e,fn(t){const{element:n,padding:a}=typeof e=="function"?e(t):e;return n&&r(n)?n.current!=null?oS({element:n.current,padding:a}).fn(t):{}:n?oS({element:n,padding:a}).fn(t):{}}}},SV=(e,r)=>({...gV(e),options:[e,r]}),_V=(e,r)=>({...xV(e),options:[e,r]}),TV=(e,r)=>({...NV(e),options:[e,r]}),kV={...$1};let cS=!1,jV=0;const uS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+jV++;function EV(){const[e,r]=T.useState(()=>cS?uS():void 0);return bx(()=>{e==null&&r(uS())},[]),T.useEffect(()=>{cS=!0},[]),e}const AV=kV.useId,rj=AV||EV,CV=T.forwardRef(function(r,t){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:s,shift:l}},width:u=14,height:d=7,tipRadius:f=0,strokeWidth:p=0,staticOffset:x,stroke:y,d:m,style:{transform:w,...v}={},...N}=r,S=rj(),[k,_]=T.useState(!1);if(bx(()=>{if(!a)return;sl(a).direction==="rtl"&&_(!0)},[a]),!a)return null;const[A,R]=n.split("-"),V=A==="top"||A==="bottom";let P=x;(V&&l!=null&&l.x||!V&&l!=null&&l.y)&&(P=null);const I=p*2,B=I/2,O=u/2*(f/-8+1),L=d/2*f/4,C=!!m,Y=P&&R==="end"?"bottom":"top";let Q=P&&R==="end"?"right":"left";P&&k&&(Q=R==="end"?"left":"right");const ce=(s==null?void 0:s.x)!=null?P||s.x:"",W=(s==null?void 0:s.y)!=null?P||s.y:"",J=m||"M0,0"+(" H"+u)+(" L"+(u-O)+","+(d-L))+(" Q"+u/2+","+d+" "+O+","+(d-L))+" Z",re={top:C?"rotate(180deg)":"",left:C?"rotate(90deg)":"rotate(-90deg)",bottom:C?"":"rotate(180deg)",right:C?"rotate(-90deg)":"rotate(90deg)"}[A];return i.jsxs("svg",{...N,"aria-hidden":!0,ref:t,width:C?u:u+I,height:u,viewBox:"0 0 "+u+" "+(d>u?d:u),style:{position:"absolute",pointerEvents:"none",[Q]:ce,[Y]:W,[A]:V||C?"100%":"calc(100% - "+I/2+"px)",transform:[re,w].filter(ee=>!!ee).join(" "),...v},children:[I>0&&i.jsx("path",{clipPath:"url(#"+S+")",fill:"none",stroke:y,strokeWidth:I+(m?0:1),d:J}),i.jsx("path",{stroke:I&&!m?N.fill:"none",d:J}),i.jsx("clipPath",{id:S,children:i.jsx("rect",{x:-B,y:B*(C?-1:1),width:u+I,height:u})})]})});function DV(){const e=new Map;return{emit(r,t){var n;(n=e.get(r))==null||n.forEach(a=>a(t))},on(r,t){e.has(r)||e.set(r,new Set),e.get(r).add(t)},off(r,t){var n;(n=e.get(r))==null||n.delete(t)}}}const OV=T.createContext(null),LV=T.createContext(null),RV=()=>{var e;return((e=T.useContext(OV))==null?void 0:e.id)||null},MV=()=>T.useContext(LV);function FV(e){const{open:r=!1,onOpenChange:t,elements:n}=e,a=rj(),s=T.useRef({}),[l]=T.useState(()=>DV()),u=RV()!=null,[d,f]=T.useState(n.reference),p=VW((m,w,v)=>{s.current.openEvent=m?w:void 0,l.emit("openchange",{open:m,event:w,reason:v,nested:u}),t==null||t(m,w,v)}),x=T.useMemo(()=>({setPositionReference:f}),[]),y=T.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return T.useMemo(()=>({dataRef:s,open:r,onOpenChange:p,elements:y,events:l,floatingId:a,refs:x}),[r,p,y,l,a,x])}function PV(e){e===void 0&&(e={});const{nodeId:r}=e,t=FV({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||t,a=n.elements,[s,l]=T.useState(null),[u,d]=T.useState(null),p=(a==null?void 0:a.domReference)||s,x=T.useRef(null),y=MV();bx(()=>{p&&(x.current=p)},[p]);const m=wV({...e,elements:{...a,...u&&{reference:u}}}),w=T.useCallback(_=>{const A=Vi(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),getClientRects:()=>_.getClientRects(),contextElement:_}:_;d(A),m.refs.setReference(A)},[m.refs]),v=T.useCallback(_=>{(Vi(_)||_===null)&&(x.current=_,l(_)),(Vi(m.refs.reference.current)||m.refs.reference.current===null||_!==null&&!Vi(_))&&m.refs.setReference(_)},[m.refs]),N=T.useMemo(()=>({...m.refs,setReference:v,setPositionReference:w,domReference:x}),[m.refs,v,w]),S=T.useMemo(()=>({...m.elements,domReference:p}),[m.elements,p]),k=T.useMemo(()=>({...m,...n,refs:N,elements:S,nodeId:r}),[m,N,S,r,n]);return bx(()=>{n.dataRef.current.floatingContext=k;const _=y==null?void 0:y.nodesRef.current.find(A=>A.id===r);_&&(_.context=k)}),T.useMemo(()=>({...m,context:k,refs:N,elements:S}),[m,N,S,k])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var fb=function(r,t){return fb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},fb(r,t)};function Ks(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");fb(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Fn=function(){return Fn=Object.assign||function(t){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Fn.apply(this,arguments)};function Oc(e,r,t){if(t||arguments.length===2)for(var n=0,a=r.length,s;n<a;n++)(s||!(n in r))&&(s||(s=Array.prototype.slice.call(r,0,n)),s[n]=r[n]);return e.concat(s||Array.prototype.slice.call(r))}var BV=function(e){var r=e.showTimeSelectOnly,t=r===void 0?!1:r,n=e.showTime,a=n===void 0?!1:n,s=e.className,l=e.children,u=t?"Choose Time":"Choose Date".concat(a?" and Time":"");return _t.createElement("div",{className:s,role:"dialog","aria-label":u,"aria-modal":"true"},l)},IV=function(e,r){var t=T.useRef(null),n=T.useRef(e);n.current=e;var a=T.useCallback(function(s){var l,u=s.composed&&s.composedPath&&s.composedPath().find(function(d){return d instanceof Node})||s.target;t.current&&!t.current.contains(u)&&(r&&u instanceof HTMLElement&&u.classList.contains(r)||(l=n.current)===null||l===void 0||l.call(n,s))},[r]);return T.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),t},i2=function(e){var r=e.children,t=e.onClickOutside,n=e.className,a=e.containerRef,s=e.style,l=e.ignoreClass,u=IV(t,l);return _t.createElement("div",{className:n,style:s,ref:function(d){u.current=d,a&&(a.current=d)}},r)},mr;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(mr||(mr={}));function nj(){var e=typeof window<"u"?window:globalThis;return e}var km=12;function Kn(e){if(e==null)return new Date;var r=typeof e=="string"?nW(e):Dr(e);return o2(r)?r:new Date}function hv(e,r,t,n,a){a===void 0&&(a=Kn());for(var s=r0(t)||r0(Nw()),l=Array.isArray(r)?r:[r],u=0,d=l;u<d.length;u++){var f=d[u],p=JH(e,f,a,{locale:s});if(o2(p)&&(!n||e===Pa(p,f,t)))return p}return null}function o2(e,r){return fx(e)&&!Of(e,new Date("1/1/1800"))}function Pa(e,r,t){if(t==="en")return QN(e,r,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=t?r0(t):void 0;return t&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),n=n||r0(Nw()),QN(e,r,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Zo(e,r){var t=r.dateFormat,n=r.locale,a=Array.isArray(t)&&t.length>0?t[0]:t;return e&&Pa(e,a,n)||""}var aj=" - ";function $V(e,r,t){if(!e)return"";var n=Zo(e,t),a=r?Zo(r,t):"";return"".concat(n).concat(aj).concat(a)}function zV(e,r){if(!(e!=null&&e.length))return"";var t=e[0]?Zo(e[0],r):"";if(e.length===1)return t;if(e.length===2&&e[1]){var n=Zo(e[1],r);return"".concat(t,", ").concat(n)}var a=e.length-1;return"".concat(t," (+").concat(a,")")}function pv(e,r){var t=r.hour,n=t===void 0?0:t,a=r.minute,s=a===void 0?0:a,l=r.second,u=l===void 0?0:l;return C1(D1(O1(e,u),s),n)}function UV(e){return fw(e)}function HV(e,r){return Pa(e,"ddd",r)}function R1(e){return Df(e)}function _d(e,r,t){var n=r0(r||Nw());return Du(e,{locale:n,weekStartsOn:t})}function ku(e){return M6(e)}function kp(e){return t2(e)}function dS(e){return ob(e)}function fS(){return Df(Kn())}function hS(e){return L6(e)}function WV(e){return nU(e)}function VV(e){return R6(e)}function Tc(e,r){return e&&r?tW(e,r):!e&&!r}function Wi(e,r){return e&&r?ZH(e,r):!e&&!r}function Nx(e,r){return e&&r?eW(e,r):!e&&!r}function Mn(e,r){return e&&r?tU(e,r):!e&&!r}function mf(e,r){return e&&r?rH(e,r):!e&&!r}function jp(e,r,t){var n,a=Df(r),s=L6(t);try{n=nm(e,{start:a,end:s})}catch{n=!1}return n}function Nw(){var e=nj();return e.__localeId__}function r0(e){if(typeof e=="string"){var r=nj();return r.__localeData__?r.__localeData__[e]:void 0}else return e}function qV(e,r,t){return r(Pa(e,"EEEE",t))}function YV(e,r){return Pa(e,"EEEEEE",r)}function GV(e,r){return Pa(e,"EEE",r)}function Sw(e,r){return Pa(el(Kn(),e),"LLLL",r)}function sj(e,r){return Pa(el(Kn(),e),"LLL",r)}function XV(e,r){return Pa(Mh(Kn(),e),"QQQ",r)}function nl(e,r){var t=r===void 0?{}:r,n=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.excludeDateIntervals,u=t.includeDates,d=t.includeDateIntervals,f=t.filterDate;return jm(e,{minDate:n,maxDate:a})||s&&s.some(function(p){return p instanceof Date?Mn(e,p):Mn(e,p.date)})||l&&l.some(function(p){var x=p.start,y=p.end;return nm(e,{start:x,end:y})})||u&&!u.some(function(p){return Mn(e,p)})||d&&!d.some(function(p){var x=p.start,y=p.end;return nm(e,{start:x,end:y})})||f&&!f(Kn(e))||!1}function _w(e,r){var t=r===void 0?{}:r,n=t.excludeDates,a=t.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var l=s.start,u=s.end;return nm(e,{start:l,end:u})}):n&&n.some(function(s){var l;return s instanceof Date?Mn(e,s):Mn(e,(l=s.date)!==null&&l!==void 0?l:new Date)})||!1}function ij(e,r){var t=r===void 0?{}:r,n=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate;return jm(e,{minDate:n?M6(n):void 0,maxDate:a?R6(a):void 0})||(s==null?void 0:s.some(function(d){return Wi(e,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Wi(e,d)})||u&&!u(Kn(e))||!1}function a1(e,r,t,n){var a=vn(e),s=Ai(e),l=vn(r),u=Ai(r),d=vn(n);return a===l&&a===d?s<=t&&t<=u:a<l?d===a&&s<=t||d===l&&u>=t||d<l&&d>a:!1}function KV(e,r){var t=r===void 0?{}:r,n=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates;return jm(e,{minDate:n,maxDate:a})||s&&s.some(function(u){return Wi(u instanceof Date?u:u.date,e)})||l&&!l.some(function(u){return Wi(u,e)})||!1}function s1(e,r){var t=r===void 0?{}:r,n=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate;return jm(e,{minDate:n,maxDate:a})||(s==null?void 0:s.some(function(d){return Nx(e,d instanceof Date?d:d.date)}))||l&&!l.some(function(d){return Nx(e,d)})||u&&!u(Kn(e))||!1}function i1(e,r,t){if(!r||!t||!fx(r)||!fx(t))return!1;var n=vn(r),a=vn(t);return n<=e&&a>=e}function M1(e,r){var t=r===void 0?{}:r,n=t.minDate,a=t.maxDate,s=t.excludeDates,l=t.includeDates,u=t.filterDate,d=new Date(e,0,1);return jm(d,{minDate:n?t2(n):void 0,maxDate:a?F6(a):void 0})||(s==null?void 0:s.some(function(f){return Tc(d,f instanceof Date?f:f.date)}))||l&&!l.some(function(f){return Tc(d,f)})||u&&!u(Kn(d))||!1}function o1(e,r,t,n){var a=vn(e),s=Sf(e),l=vn(r),u=Sf(r),d=vn(n);return a===l&&a===d?s<=t&&t<=u:a<l?d===a&&s<=t||d===l&&u>=t||d<l&&d>a:!1}function jm(e,r){var t,n=r===void 0?{}:r,a=n.minDate,s=n.maxDate;return(t=a&&Jh(e,a)<0||s&&Jh(e,s)>0)!==null&&t!==void 0?t:!1}function pS(e,r){return r.some(function(t){return _u(t)===_u(e)&&Tu(t)===Tu(e)&&Sd(t)===Sd(e)})}function mS(e,r){var t=r===void 0?{}:r,n=t.excludeTimes,a=t.includeTimes,s=t.filterTime;return n&&pS(e,n)||a&&!pS(e,a)||s&&!s(e)||!1}function gS(e,r){var t=r.minTime,n=r.maxTime;if(!t||!n)throw new Error("Both minTime and maxTime props required");var a=Kn();a=C1(a,_u(e)),a=D1(a,Tu(e)),a=O1(a,Sd(e));var s=Kn();s=C1(s,_u(t)),s=D1(s,Tu(t)),s=O1(s,Sd(t));var l=Kn();l=C1(l,_u(n)),l=D1(l,Tu(n)),l=O1(l,Sd(n));var u;try{u=!nm(a,{start:s,end:l})}catch{u=!1}return u}function xS(e,r){var t=r===void 0?{}:r,n=t.minDate,a=t.includeDates,s=_f(e,1);return n&&hx(n,s)>0||a&&a.every(function(l){return hx(l,s)>0})||!1}function yS(e,r){var t=r===void 0?{}:r,n=t.maxDate,a=t.includeDates,s=Bl(e,1);return n&&hx(s,n)>0||a&&a.every(function(l){return hx(s,l)>0})||!1}function JV(e,r){var t=r===void 0?{}:r,n=t.minDate,a=t.includeDates,s=t2(e),l=V6(s);return n&&px(n,l)>0||a&&a.every(function(u){return px(u,l)>0})||!1}function QV(e,r){var t=r===void 0?{}:r,n=t.maxDate,a=t.includeDates,s=F6(e),l=dw(s,1);return n&&px(l,n)>0||a&&a.every(function(u){return px(l,u)>0})||!1}function vS(e,r){var t=r===void 0?{}:r,n=t.minDate,a=t.includeDates,s=Qh(e,1);return n&&mx(n,s)>0||a&&a.every(function(l){return mx(l,s)>0})||!1}function ZV(e,r){var t=r===void 0?{}:r,n=t.minDate,a=t.yearItemNumber,s=a===void 0?km:a,l=kp(Qh(e,s)),u=bd(l,s).endPeriod,d=n&&vn(n);return d&&d>u||!1}function bS(e,r){var t=r===void 0?{}:r,n=t.maxDate,a=t.includeDates,s=Nu(e,1);return n&&mx(s,n)>0||a&&a.every(function(l){return mx(s,l)>0})||!1}function eq(e,r){var t=r===void 0?{}:r,n=t.maxDate,a=t.yearItemNumber,s=a===void 0?km:a,l=Nu(e,s),u=bd(l,s).startPeriod,d=n&&vn(n);return d&&d<u||!1}function oj(e){var r=e.minDate,t=e.includeDates;if(t&&r){var n=t.filter(function(a){return Jh(a,r)>=0});return qN(n)}else return t?qN(t):r}function lj(e){var r=e.maxDate,t=e.includeDates;if(t&&r){var n=t.filter(function(a){return Jh(a,r)<=0});return VN(n)}else return t?VN(t):r}function wS(e,r){var t;e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--highlighted");for(var n=new Map,a=0,s=e.length;a<s;a++){var l=e[a];if(Su(l)){var u=Pa(l,"MM.dd.yyyy"),d=n.get(u)||[];d.includes(r)||(d.push(r),n.set(u,d))}else if(typeof l=="object"){var f=Object.keys(l),p=(t=f[0])!==null&&t!==void 0?t:"",x=l[p];if(typeof p=="string"&&Array.isArray(x))for(var y=0,m=x.length;y<m;y++){var w=x[y];if(w){var u=Pa(w,"MM.dd.yyyy"),d=n.get(u)||[];d.includes(p)||(d.push(p),n.set(u,d))}}}}return n}function tq(e,r){return e.length!==r.length?!1:e.every(function(t,n){return t===r[n]})}function rq(e,r){e===void 0&&(e=[]),r===void 0&&(r="react-datepicker__day--holidays");var t=new Map;return e.forEach(function(n){var a=n.date,s=n.holidayName;if(Su(a)){var l=Pa(a,"MM.dd.yyyy"),u=t.get(l)||{className:"",holidayNames:[]};if(!("className"in u&&u.className===r&&tq(u.holidayNames,[s]))){u.className=r;var d=u.holidayNames;u.holidayNames=d?Oc(Oc([],d,!0),[s],!1):[s],t.set(l,u)}}}),t}function nq(e,r,t,n,a){for(var s=a.length,l=[],u=0;u<s;u++){var d=e,f=a[u];f&&(d=Jz(d,_u(f)),d=ib(d,Tu(f)),d=eU(d,Sd(f)));var p=ib(e,(t+1)*n);Cd(d,r)&&Of(d,p)&&f!=null&&l.push(f)}return l}function NS(e){return e<10?"0".concat(e):"".concat(e)}function bd(e,r){r===void 0&&(r=km);var t=Math.ceil(vn(e)/r)*r,n=t-(r-1);return{startPeriod:n,endPeriod:t}}function aq(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+t-+r)/36e5)}function SS(e){var r=e.getSeconds(),t=e.getMilliseconds();return Dr(e.getTime()-r*1e3-t)}function sq(e,r){return SS(e).getTime()===SS(r).getTime()}function _S(e){if(!Su(e))throw new Error("Invalid date");var r=new Date(e);return r.setHours(0,0,0,0),r}function TS(e,r){if(!Su(e)||!Su(r))throw new Error("Invalid date received");var t=_S(e),n=_S(r);return Of(t,n)}function cj(e){return e.key===mr.Space}var iq=function(e){Ks(r,e);function r(t){var n=e.call(this,t)||this;return n.inputRef=_t.createRef(),n.onTimeChange=function(a){var s,l;n.setState({time:a});var u=n.props.date,d=u instanceof Date&&!isNaN(+u),f=d?u:new Date;if(a!=null&&a.includes(":")){var p=a.split(":"),x=p[0],y=p[1];f.setHours(Number(x)),f.setMinutes(Number(y))}(l=(s=n.props).onChange)===null||l===void 0||l.call(s,f)},n.renderTimeInput=function(){var a=n.state.time,s=n.props,l=s.date,u=s.timeString,d=s.customTimeInput;return d?T.cloneElement(d,{date:l,value:a,onChange:n.onTimeChange}):_t.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var f;(f=n.inputRef.current)===null||f===void 0||f.focus()},required:!0,value:a,onChange:function(f){n.onTimeChange(f.target.value||u)}})},n.state={time:n.props.timeString},n}return r.getDerivedStateFromProps=function(t,n){return t.timeString!==n.time?{time:t.timeString}:null},r.prototype.render=function(){return _t.createElement("div",{className:"react-datepicker__input-time-container"},_t.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),_t.createElement("div",{className:"react-datepicker-time__input-container"},_t.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},r}(T.Component),oq=function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.dayEl=T.createRef(),t.handleClick=function(n){!t.isDisabled()&&t.props.onClick&&t.props.onClick(n)},t.handleMouseEnter=function(n){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(n)},t.handleOnKeyDown=function(n){var a,s,l=n.key;l===mr.Space&&(n.preventDefault(),n.key=mr.Enter),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},t.isSameDay=function(n){return Mn(t.props.day,n)},t.isKeyboardSelected=function(){var n;if(t.props.disabledKeyboardNavigation)return!1;var a=t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(l){return t.isSameDayOrWeek(l)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!a&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(n){return n===void 0&&(n=t.props.day),nl(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(){return _w(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return Mn(t.props.day,_d(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(n){return t.props.showWeekPicker&&Mn(n,_d(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(n){return t.isSameDay(n)||t.isSameWeek(n)},t.getHighLightedClass=function(){var n=t.props,a=n.day,s=n.highlightDates;if(!s)return!1;var l=Pa(a,"MM.dd.yyyy");return s.get(l)},t.getHolidaysClass=function(){var n,a=t.props,s=a.day,l=a.holidays;if(!l)return[void 0];var u=Pa(s,"MM.dd.yyyy");return l.has(u)?[(n=l.get(u))===null||n===void 0?void 0:n.className]:[void 0]},t.isInRange=function(){var n=t.props,a=n.day,s=n.startDate,l=n.endDate;return!s||!l?!1:jp(a,s,l)},t.isInSelectingRange=function(){var n,a=t.props,s=a.day,l=a.selectsStart,u=a.selectsEnd,d=a.selectsRange,f=a.selectsDisabledDaysInRange,p=a.startDate,x=a.endDate,y=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return!(l||u||d)||!y||!f&&t.isDisabled()?!1:l&&x&&(Of(y,x)||mf(y,x))?jp(s,y,x):u&&p&&(Cd(y,p)||mf(y,p))||d&&p&&!x&&(Cd(y,p)||mf(y,p))?jp(s,p,y):!1},t.isSelectingRangeStart=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,s=a.day,l=a.startDate,u=a.selectsStart,d=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return u?Mn(s,d):Mn(s,l)},t.isSelectingRangeEnd=function(){var n;if(!t.isInSelectingRange())return!1;var a=t.props,s=a.day,l=a.endDate,u=a.selectsEnd,d=a.selectsRange,f=(n=t.props.selectingDate)!==null&&n!==void 0?n:t.props.preSelection;return u||d?Mn(s,f):Mn(s,l)},t.isRangeStart=function(){var n=t.props,a=n.day,s=n.startDate,l=n.endDate;return!s||!l?!1:Mn(s,a)},t.isRangeEnd=function(){var n=t.props,a=n.day,s=n.startDate,l=n.endDate;return!s||!l?!1:Mn(l,a)},t.isWeekend=function(){var n=QU(t.props.day);return n===0||n===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Ai(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Ai(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(Kn())},t.isSelected=function(){var n;return t.props.selectsMultiple?(n=t.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(n){var a=t.props.dayClassName?t.props.dayClassName(n):void 0;return bn("react-datepicker__day",a,"react-datepicker__day--"+HV(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var n=t.props,a=n.day,s=n.ariaLabelPrefixWhenEnabled,l=s===void 0?"Choose":s,u=n.ariaLabelPrefixWhenDisabled,d=u===void 0?"Not available":u,f=t.isDisabled()||t.isExcluded()?d:l;return"".concat(f," ").concat(Pa(a,"PPPP",t.props.locale))},t.getTitle=function(){var n=t.props,a=n.day,s=n.holidays,l=s===void 0?new Map:s,u=n.excludeDates,d=Pa(a,"MM.dd.yyyy"),f=[];return l.has(d)&&f.push.apply(f,l.get(d).holidayNames),t.isExcluded()&&f.push(u==null?void 0:u.filter(function(p){return p instanceof Date?Mn(p,a):Mn(p==null?void 0:p.date,a)}).map(function(p){if(!(p instanceof Date))return p==null?void 0:p.message})),f.join(", ")},t.getTabIndex=function(){var n=t.props.selected,a=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(n)&&Mn(a,n))?0:-1;return s},t.handleFocusDay=function(){var n;t.shouldFocusDay()&&((n=t.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(ZN(t.props.day),t.props.day):ZN(t.props.day)},t.render=function(){return _t.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"option",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&_t.createElement("span",{className:"overlay"},t.getTitle()))},t}return r.prototype.componentDidMount=function(){this.handleFocusDay()},r.prototype.componentDidUpdate=function(){this.handleFocusDay()},r.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},r.prototype.isDayActiveElement=function(){var t,n,a;return((n=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},r.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},r}(T.Component),lq=function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.weekNumberEl=T.createRef(),t.handleClick=function(n){t.props.onClick&&t.props.onClick(n)},t.handleOnKeyDown=function(n){var a,s,l=n.key;l===mr.Space&&(n.preventDefault(),n.key=mr.Enter),(s=(a=t.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Mn(t.props.date,t.props.selected)&&Mn(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||Mn(t.props.date,t.props.selected)&&Mn(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(n){var a=!1;t.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Mn(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(a=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},r.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},r.prototype.render=function(){var t=this.props,n=t.weekNumber,a=t.isWeekDisabled,s=t.ariaLabelPrefix,l=s===void 0?r.defaultProps.ariaLabelPrefix:s,u=t.onClick,d={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!u&&!a,"react-datepicker__week-number--selected":!!u&&Mn(this.props.date,this.props.selected)};return _t.createElement("div",{ref:this.weekNumberEl,className:bn(d),"aria-label":"".concat(l," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},r}(T.Component),cq=function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isDisabled=function(n){return nl(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(n,a){t.props.onDayClick&&t.props.onDayClick(n,a)},t.handleDayMouseEnter=function(n){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(n)},t.handleWeekClick=function(n,a,s){for(var l,u,d,f=new Date(n),p=0;p<7;p++){var x=new Date(n);x.setDate(x.getDate()+p);var y=!t.isDisabled(x);if(y){f=x;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(f,a,s),t.props.showWeekPicker&&t.handleDayClick(f,s),((l=t.props.shouldCloseOnSelect)!==null&&l!==void 0?l:r.defaultProps.shouldCloseOnSelect)&&((d=(u=t.props).setOpen)===null||d===void 0||d.call(u,!1))},t.formatWeekNumber=function(n){return t.props.formatWeekNumber?t.props.formatWeekNumber(n):UV(n)},t.isWeekDisabled=function(){for(var n=t.startOfWeek(),a=Fl(n,6),s=new Date(n);s<=a;){if(!t.isDisabled(s))return!1;s=Fl(s,1)}return!0},t.renderDays=function(){var n=t.startOfWeek(),a=[],s=t.formatWeekNumber(n);if(t.props.showWeekNumber){var l=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,n,s):void 0;a.push(_t.createElement(lq,Fn({key:"W"},r.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:n,onClick:l})))}return a.concat([0,1,2,3,4,5,6].map(function(u){var d=Fl(n,u);return _t.createElement(oq,Fn({},r.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:d.valueOf(),day:d,onClick:t.handleDayClick.bind(t,d),onMouseEnter:t.handleDayMouseEnter.bind(t,d)}))}))},t.startOfWeek=function(){return _d(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!Mn(t.startOfWeek(),t.props.selected)&&Mn(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":Mn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return _t.createElement("div",{className:bn(t)},this.renderDays())},r}(T.Component),bp,uq=6,Wh={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},mv=(bp={},bp[Wh.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},bp[Wh.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},bp[Wh.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},bp),l1=1;function kS(e,r){return e?Wh.FOUR_COLUMNS:r?Wh.TWO_COLUMNS:Wh.THREE_COLUMNS}var dq=function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.MONTH_REFS=Oc([],Array(12),!0).map(function(){return T.createRef()}),t.QUARTER_REFS=Oc([],Array(4),!0).map(function(){return T.createRef()}),t.isDisabled=function(n){return nl(n,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.isExcluded=function(n){return _w(n,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(n,a){var s,l;(l=(s=t.props).onDayClick)===null||l===void 0||l.call(s,n,a,t.props.orderInDisplay)},t.handleDayMouseEnter=function(n){var a,s;(s=(a=t.props).onDayMouseEnter)===null||s===void 0||s.call(a,n)},t.handleMouseLeave=function(){var n,a;(a=(n=t.props).onMouseLeave)===null||a===void 0||a.call(n)},t.isRangeStartMonth=function(n){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Wi(el(s,n),l)},t.isRangeStartQuarter=function(n){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Nx(Mh(s,n),l)},t.isRangeEndMonth=function(n){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Wi(el(s,n),u)},t.isRangeEndQuarter=function(n){var a=t.props,s=a.day,l=a.startDate,u=a.endDate;return!l||!u?!1:Nx(Mh(s,n),u)},t.isInSelectingRangeMonth=function(n){var a,s=t.props,l=s.day,u=s.selectsStart,d=s.selectsEnd,f=s.selectsRange,p=s.startDate,x=s.endDate,y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||d||f)||!y?!1:u&&x?a1(y,x,n,l):d&&p||f&&p&&!x?a1(p,y,n,l):!1},t.isSelectingMonthRangeStart=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,l=s.day,u=s.startDate,d=s.selectsStart,f=el(l,n),p=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return d?Wi(f,p):Wi(f,u)},t.isSelectingMonthRangeEnd=function(n){var a;if(!t.isInSelectingRangeMonth(n))return!1;var s=t.props,l=s.day,u=s.endDate,d=s.selectsEnd,f=s.selectsRange,p=el(l,n),x=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return d||f?Wi(p,x):Wi(p,u)},t.isInSelectingRangeQuarter=function(n){var a,s=t.props,l=s.day,u=s.selectsStart,d=s.selectsEnd,f=s.selectsRange,p=s.startDate,x=s.endDate,y=(a=t.props.selectingDate)!==null&&a!==void 0?a:t.props.preSelection;return!(u||d||f)||!y?!1:u&&x?o1(y,x,n,l):d&&p||f&&p&&!x?o1(p,y,n,l):!1},t.isWeekInMonth=function(n){var a=t.props.day,s=Fl(n,6);return Wi(n,a)||Wi(s,a)},t.isCurrentMonth=function(n,a){return vn(n)===vn(Kn())&&a===Ai(Kn())},t.isCurrentQuarter=function(n,a){return vn(n)===vn(Kn())&&a===Sf(Kn())},t.isSelectedMonth=function(n,a,s){return Ai(s)===a&&vn(n)===vn(s)},t.isSelectMonthInList=function(n,a,s){return s.some(function(l){return t.isSelectedMonth(n,a,l)})},t.isSelectedQuarter=function(n,a,s){return Sf(n)===a&&vn(n)===vn(s)},t.isMonthSelected=function(){var n=t.props,a=n.day,s=n.selected,l=n.selectedDates,u=n.selectsMultiple,d=Ai(a);return u?l==null?void 0:l.some(function(f){return t.isSelectedMonth(a,d,f)}):!!s&&t.isSelectedMonth(a,d,s)},t.renderWeeks=function(){for(var n=[],a=t.props.fixedHeight,s=0,l=!1,u=_d(ku(t.props.day),t.props.locale,t.props.calendarStartDay),d=function(w){return t.props.showWeekPicker?_d(w,t.props.locale,t.props.calendarStartDay):t.props.preSelection},f=function(w){return t.props.showWeekPicker?_d(w,t.props.locale,t.props.calendarStartDay):t.props.selected},p=t.props.selected?f(t.props.selected):void 0,x=t.props.preSelection?d(t.props.preSelection):void 0;n.push(_t.createElement(cq,Fn({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:u,month:Ai(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:p,preSelection:x,showWeekNumber:t.props.showWeekNumbers}))),!l;){s++,u=dx(u,1);var y=a&&s>=uq,m=!a&&!t.isWeekInMonth(u);if(y||m)if(t.props.peekNextMonth)l=!0;else break}return n},t.onMonthClick=function(n,a){var s=t.isMonthDisabledForLabelDate(a),l=s.isDisabled,u=s.labelDate;l||t.handleDayClick(ku(u),n)},t.onMonthMouseEnter=function(n){var a=t.isMonthDisabledForLabelDate(n),s=a.isDisabled,l=a.labelDate;s||t.handleDayMouseEnter(ku(l))},t.handleMonthNavigation=function(n,a){var s,l,u,d;(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,a),(d=(u=t.MONTH_REFS[n])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus()},t.handleKeyboardNavigation=function(n,a,s){var l,u=t.props,d=u.selected,f=u.preSelection,p=u.setPreSelection,x=u.minDate,y=u.maxDate,m=u.showFourColumnMonthYearPicker,w=u.showTwoColumnMonthYearPicker;if(f){var v=kS(m,w),N=t.getVerticalOffset(v),S=(l=mv[v])===null||l===void 0?void 0:l.grid,k=function(P,I,B){var O,L,C=I,Y=B;switch(P){case mr.ArrowRight:C=Bl(I,l1),Y=B===11?0:B+l1;break;case mr.ArrowLeft:C=_f(I,l1),Y=B===0?11:B-l1;break;case mr.ArrowUp:C=_f(I,N),Y=!((O=S==null?void 0:S[0])===null||O===void 0)&&O.includes(B)?B+12-N:B-N;break;case mr.ArrowDown:C=Bl(I,N),Y=!((L=S==null?void 0:S[S.length-1])===null||L===void 0)&&L.includes(B)?B-12+N:B+N;break}return{newCalculatedDate:C,newCalculatedMonth:Y}},_=function(P,I,B){for(var O=40,L=P,C=!1,Y=0,Q=k(L,I,B),ce=Q.newCalculatedDate,W=Q.newCalculatedMonth;!C;){if(Y>=O){ce=I,W=B;break}if(x&&ce<x){L=mr.ArrowRight;var J=k(L,ce,W);ce=J.newCalculatedDate,W=J.newCalculatedMonth}if(y&&ce>y){L=mr.ArrowLeft;var J=k(L,ce,W);ce=J.newCalculatedDate,W=J.newCalculatedMonth}if(KV(ce,t.props)){var J=k(L,ce,W);ce=J.newCalculatedDate,W=J.newCalculatedMonth}else C=!0;Y++}return{newCalculatedDate:ce,newCalculatedMonth:W}};if(a===mr.Enter){t.isMonthDisabled(s)||(t.onMonthClick(n,s),p==null||p(d));return}var A=_(a,f,s),R=A.newCalculatedDate,V=A.newCalculatedMonth;switch(a){case mr.ArrowRight:case mr.ArrowLeft:case mr.ArrowUp:case mr.ArrowDown:t.handleMonthNavigation(V,R);break}}},t.getVerticalOffset=function(n){var a,s;return(s=(a=mv[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(n,a){var s=t.props,l=s.disabledKeyboardNavigation,u=s.handleOnMonthKeyDown,d=n.key;d!==mr.Tab&&n.preventDefault(),l||t.handleKeyboardNavigation(n,d,a),u&&u(n)},t.onQuarterClick=function(n,a){var s=Mh(t.props.day,a);s1(s,t.props)||t.handleDayClick(dS(s),n)},t.onQuarterMouseEnter=function(n){var a=Mh(t.props.day,n);s1(a,t.props)||t.handleDayMouseEnter(dS(a))},t.handleQuarterNavigation=function(n,a){var s,l,u,d;t.isDisabled(a)||t.isExcluded(a)||((l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,a),(d=(u=t.QUARTER_REFS[n-1])===null||u===void 0?void 0:u.current)===null||d===void 0||d.focus())},t.onQuarterKeyDown=function(n,a){var s,l,u=n.key;if(!t.props.disabledKeyboardNavigation)switch(u){case mr.Enter:t.onQuarterClick(n,a),(l=(s=t.props).setPreSelection)===null||l===void 0||l.call(s,t.props.selected);break;case mr.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===4?1:a+1,dw(t.props.preSelection,1));break;case mr.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(a===1?4:a-1,V6(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(n){var a,s=t.props,l=s.day,u=s.minDate,d=s.maxDate,f=s.excludeDates,p=s.includeDates,x=el(l,n);return{isDisabled:(a=(u||d||f||p)&&ij(x,t.props))!==null&&a!==void 0?a:!1,labelDate:x}},t.isMonthDisabled=function(n){var a=t.isMonthDisabledForLabelDate(n).isDisabled;return a},t.getMonthClassNames=function(n){var a=t.props,s=a.day,l=a.startDate,u=a.endDate,d=a.preSelection,f=a.monthClassName,p=f?f(el(s,n)):void 0,x=t.getSelection();return bn("react-datepicker__month-text","react-datepicker__month-".concat(n),p,{"react-datepicker__month-text--disabled":t.isMonthDisabled(n),"react-datepicker__month-text--selected":x?t.isSelectMonthInList(s,n,x):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&d&&t.isSelectedMonth(s,n,d)&&!t.isMonthSelected()&&!t.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":l&&u?a1(l,u,n,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(n),"react-datepicker__month-text--range-end":t.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":t.isCurrentMonth(s,n)})},t.getTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=Ai(t.props.preSelection),s=t.isMonthDisabledForLabelDate(a).isDisabled,l=n===a&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getQuarterTabIndex=function(n){if(t.props.preSelection==null)return"-1";var a=Sf(t.props.preSelection),s=s1(t.props.day,t.props),l=n===a&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return l},t.getAriaLabel=function(n){var a=t.props,s=a.chooseDayAriaLabelPrefix,l=s===void 0?"Choose":s,u=a.disabledDayAriaLabelPrefix,d=u===void 0?"Not available":u,f=a.day,p=a.locale,x=el(f,n),y=t.isDisabled(x)||t.isExcluded(x)?d:l;return"".concat(y," ").concat(Pa(x,"MMMM yyyy",p))},t.getQuarterClassNames=function(n){var a=t.props,s=a.day,l=a.startDate,u=a.endDate,d=a.selected,f=a.minDate,p=a.maxDate,x=a.excludeDates,y=a.includeDates,m=a.filterDate,w=a.preSelection,v=a.disabledKeyboardNavigation,N=(f||p||x||y||m)&&s1(Mh(s,n),t.props);return bn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":N,"react-datepicker__quarter-text--selected":d?t.isSelectedQuarter(s,n,d):void 0,"react-datepicker__quarter-text--keyboard-selected":!v&&w&&t.isSelectedQuarter(s,n,w)&&!N,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":l&&u?o1(l,u,n,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,n)})},t.getMonthContent=function(n){var a=t.props,s=a.showFullMonthYearPicker,l=a.renderMonthContent,u=a.locale,d=a.day,f=sj(n,u),p=Sw(n,u);return l?l(n,f,p,d):s?p:f},t.getQuarterContent=function(n){var a,s=t.props,l=s.renderQuarterContent,u=s.locale,d=XV(n,u);return(a=l==null?void 0:l(n,d))!==null&&a!==void 0?a:d},t.renderMonths=function(){var n,a=t.props,s=a.showTwoColumnMonthYearPicker,l=a.showFourColumnMonthYearPicker,u=a.day,d=a.selected,f=(n=mv[kS(l,s)])===null||n===void 0?void 0:n.grid;return f==null?void 0:f.map(function(p,x){return _t.createElement("div",{className:"react-datepicker__month-wrapper",key:x},p.map(function(y,m){return _t.createElement("div",{ref:t.MONTH_REFS[y],key:m,onClick:function(w){t.onMonthClick(w,y)},onKeyDown:function(w){cj(w)&&(w.preventDefault(),w.key=mr.Enter),t.onMonthKeyDown(w,y)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(y)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(y)}:void 0,tabIndex:Number(t.getTabIndex(y)),className:t.getMonthClassNames(y),"aria-disabled":t.isMonthDisabled(y),role:"option","aria-label":t.getAriaLabel(y),"aria-current":t.isCurrentMonth(u,y)?"date":void 0,"aria-selected":d?t.isSelectedMonth(u,y,d):void 0},t.getMonthContent(y))}))})},t.renderQuarters=function(){var n=t.props,a=n.day,s=n.selected,l=[1,2,3,4];return _t.createElement("div",{className:"react-datepicker__quarter-wrapper"},l.map(function(u,d){return _t.createElement("div",{key:d,ref:t.QUARTER_REFS[d],role:"option",onClick:function(f){t.onQuarterClick(f,u)},onKeyDown:function(f){t.onQuarterKeyDown(f,u)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(u)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(u)}:void 0,className:t.getQuarterClassNames(u),"aria-selected":s?t.isSelectedQuarter(a,u,s):void 0,tabIndex:Number(t.getQuarterTabIndex(u)),"aria-current":t.isCurrentQuarter(a,u)?"date":void 0},t.getQuarterContent(u))}))},t.getClassNames=function(){var n=t.props,a=n.selectingDate,s=n.selectsStart,l=n.selectsEnd,u=n.showMonthYearPicker,d=n.showQuarterYearPicker,f=n.showWeekPicker;return bn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||l)},{"react-datepicker__monthPicker":u},{"react-datepicker__quarterPicker":d},{"react-datepicker__weekPicker":f})},t}return r.prototype.getSelection=function(){var t=this.props,n=t.selected,a=t.selectedDates,s=t.selectsMultiple;if(s)return a;if(n)return[n]},r.prototype.render=function(){var t=this.props,n=t.showMonthYearPicker,a=t.showQuarterYearPicker,s=t.day,l=t.ariaLabelPrefix,u=l===void 0?"Month ":l,d=u?u.trim()+" ":"";return _t.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(d).concat(Pa(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},r}(T.Component),fq=function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.isSelectedMonth=function(n){return t.props.month===n},t.renderOptions=function(){return t.props.monthNames.map(function(n,a){return _t.createElement("div",{className:t.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:t.onChange.bind(t,a),"aria-selected":t.isSelectedMonth(a)?"true":void 0},t.isSelectedMonth(a)?_t.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},t.onChange=function(n){return t.props.onChange(n)},t.handleClickOutside=function(){return t.props.onCancel()},t}return r.prototype.render=function(){return _t.createElement(i2,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},r}(T.Component),hq=function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(n){return n.map(function(a,s){return _t.createElement("option",{key:a,value:s},a)})},t.renderSelectMode=function(n){return _t.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(a){return t.onChange(parseInt(a.target.value))}},t.renderSelectOptions(n))},t.renderReadView=function(n,a){return _t.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},_t.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),_t.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[t.props.month]))},t.renderDropdown=function(n){return _t.createElement(fq,Fn({key:"dropdown"},t.props,{monthNames:n,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(n){var a=t.state.dropdownVisible,s=[t.renderReadView(!a,n)];return a&&s.unshift(t.renderDropdown(n)),s},t.onChange=function(n){t.toggleDropdown(),n!==t.props.month&&t.props.onChange(n)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return sj(s,t.props.locale)}:function(s){return Sw(s,t.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return _t.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},r}(T.Component);function pq(e,r){for(var t=[],n=ku(e),a=ku(r);!Cd(n,a);)t.push(Kn(n)),n=Bl(n,1);return t}var mq=function(e){Ks(r,e);function r(t){var n=e.call(this,t)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var s=cb(a),l=Tc(n.props.date,a)&&Wi(n.props.date,a);return _t.createElement("div",{className:l?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":l?"true":void 0},l?_t.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Pa(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:pq(n.props.minDate,n.props.maxDate)},n}return r.prototype.render=function(){var t=bn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return _t.createElement(i2,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(T.Component),gq=function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=ku(t.props.minDate),a=ku(t.props.maxDate),s=[];!Cd(n,a);){var l=cb(n);s.push(_t.createElement("option",{key:l,value:l},Pa(n,t.props.dateFormat,t.props.locale))),n=Bl(n,1)}return s},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return _t.createElement("select",{value:cb(ku(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){var a=Pa(t.props.date,t.props.dateFormat,t.props.locale);return _t.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},_t.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),_t.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},t.renderDropdown=function(){return _t.createElement(mq,Fn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown();var a=Kn(n);Tc(t.props.date,a)&&Wi(t.props.date,a)||t.props.onChange(a)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return _t.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},r}(T.Component),xq=function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&r.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((a=(n=t.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(n){var a,s;(t.props.minTime||t.props.maxTime)&&gS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&mS(n,t.props)||(s=(a=t.props).onChange)===null||s===void 0||s.call(a,n)},t.isSelectedTime=function(n){return t.props.selected&&sq(t.props.selected,n)},t.isDisabledTime=function(n){return(t.props.minTime||t.props.maxTime)&&gS(n,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&mS(n,t.props)},t.liClasses=function(n){var a,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(n):void 0];return t.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(_u(n)*3600+Tu(n)*60+Sd(n))%(((a=t.props.intervals)!==null&&a!==void 0?a:r.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(n,a){var s,l;n.key===mr.Space&&(n.preventDefault(),n.key=mr.Enter),(n.key===mr.ArrowUp||n.key===mr.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===mr.ArrowDown||n.key===mr.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===mr.Enter&&t.handleClick(a),(l=(s=t.props).handleOnKeyDown)===null||l===void 0||l.call(s,n)},t.renderTimes=function(){for(var n,a=[],s=typeof t.props.format=="string"?t.props.format:"p",l=(n=t.props.intervals)!==null&&n!==void 0?n:r.defaultProps.intervals,u=t.props.selected||t.props.openToDate||Kn(),d=R1(u),f=t.props.injectTimes&&t.props.injectTimes.sort(function(N,S){return N.getTime()-S.getTime()}),p=60*aq(u),x=p/l,y=0;y<x;y++){var m=ib(d,y*l);if(a.push(m),f){var w=nq(d,m,y,l,f);a=a.concat(w)}}var v=a.reduce(function(N,S){return S.getTime()<=u.getTime()?S:N},a[0]);return a.map(function(N){return _t.createElement("li",{key:N.valueOf(),onClick:t.handleClick.bind(t,N),className:t.liClasses(N),ref:function(S){N===v&&(t.centerLi=S)},onKeyDown:function(S){t.handleOnKeyDown(S,N)},tabIndex:N===v?0:-1,role:"option","aria-selected":t.isSelectedTime(N)?"true":void 0,"aria-disabled":t.isDisabledTime(N)?"true":void 0},Pa(N,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?_t.createElement(_t.Fragment,null):_t.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){t.header=n}},_t.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(r,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},r.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},r.prototype.observeDatePickerHeightChanges=function(){var t=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(n))},r.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},r.prototype.render=function(){var t=this,n,a=this.state.height;return _t.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:r.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),_t.createElement("div",{className:"react-datepicker__time"},_t.createElement("div",{className:"react-datepicker__time-box"},_t.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},r.calcCenterPosition=function(t,n){return n.offsetTop-(t/2-n.clientHeight/2)},r}(T.Component),jS=3,yq=function(e){Ks(r,e);function r(t){var n=e.call(this,t)||this;return n.YEAR_REFS=Oc([],Array(n.props.yearItemNumber),!0).map(function(){return T.createRef()}),n.isDisabled=function(a){return nl(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return _w(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var s=function(){var l,u;(u=(l=n.YEAR_REFS[a])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(a,s){n.props.onDayClick&&n.props.onDayClick(a,s)},n.handleYearNavigation=function(a,s){var l,u,d,f,p=n.props,x=p.date,y=p.yearItemNumber;if(!(x===void 0||y===void 0)){var m=bd(x,y).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,s),a-m<0?n.updateFocusOnPaginate(y-(m-a)):a-m>=y?n.updateFocusOnPaginate(Math.abs(y-(a-m))):(f=(d=n.YEAR_REFS[a-m])===null||d===void 0?void 0:d.current)===null||f===void 0||f.focus())}},n.isSameDay=function(a,s){return Mn(a,s)},n.isCurrentYear=function(a){return a===vn(Kn())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&Tc(_c(Kn(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&Tc(_c(Kn(),a),n.props.endDate)},n.isInRange=function(a){return i1(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var s=n.props,l=s.selectsStart,u=s.selectsEnd,d=s.selectsRange,f=s.startDate,p=s.endDate;return!(l||u||d)||!n.selectingDate()?!1:l&&p?i1(a,n.selectingDate(),p):u&&f||d&&f&&!p?i1(a,f,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var s;if(!n.isInSelectingRange(a))return!1;var l=n.props,u=l.startDate,d=l.selectsStart,f=_c(Kn(),a);return d?Tc(f,(s=n.selectingDate())!==null&&s!==void 0?s:null):Tc(f,u??null)},n.isSelectingRangeEnd=function(a){var s;if(!n.isInSelectingRange(a))return!1;var l=n.props,u=l.endDate,d=l.selectsEnd,f=l.selectsRange,p=_c(Kn(),a);return d||f?Tc(p,(s=n.selectingDate())!==null&&s!==void 0?s:null):Tc(p,u??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var s=n.props,l=s.minDate,u=s.maxDate,d=s.excludeDates,f=s.includeDates,p=s.filterDate,x=kp(_c(n.props.date,a)),y=(l||u||d||f||p)&&M1(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Mn(x,kp(n.props.selected))&&Mn(x,kp(n.props.preSelection))&&!y}},n.isSelectedYear=function(a){var s=n.props,l=s.selectsMultiple,u=s.selected,d=s.selectedDates;return l?d==null?void 0:d.some(function(f){return a===vn(f)}):!!u&&a===vn(u)},n.onYearClick=function(a,s){var l=n.props.date;l!==void 0&&n.handleYearClick(kp(_c(l,s)),a)},n.onYearKeyDown=function(a,s){var l,u,d=a.key,f=n.props,p=f.date,x=f.yearItemNumber,y=f.handleOnKeyDown;if(d!==mr.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(d){case mr.Enter:if(n.props.selected==null)break;n.onYearClick(a,s),(u=(l=n.props).setPreSelection)===null||u===void 0||u.call(l,n.props.selected);break;case mr.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,Nu(n.props.preSelection,1));break;case mr.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,Qh(n.props.preSelection,1));break;case mr.ArrowUp:{if(p===void 0||x===void 0||n.props.preSelection==null)break;var m=bd(p,x).startPeriod,w=jS,v=s-w;if(v<m){var N=x%w;s>=m&&s<m+N?w=N:w+=N,v=s-w}n.handleYearNavigation(v,Qh(n.props.preSelection,w));break}case mr.ArrowDown:{if(p===void 0||x===void 0||n.props.preSelection==null)break;var S=bd(p,x).endPeriod,w=jS,v=s+w;if(v>S){var N=x%w;s<=S&&s>S-N?w=N:w+=N,v=s+w}n.handleYearNavigation(v,Nu(n.props.preSelection,w));break}}y&&y(a)},n.getYearClassNames=function(a){var s=n.props,l=s.date,u=s.minDate,d=s.maxDate,f=s.excludeDates,p=s.includeDates,x=s.filterDate,y=s.yearClassName;return bn("react-datepicker__year-text","react-datepicker__year-".concat(a),l?y==null?void 0:y(_c(l,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(u||d||f||p||x)&&M1(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=vn(n.props.preSelection),l=M1(a,n.props);return a===s&&!l?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return r.prototype.render=function(){var t=this,n=[],a=this.props,s=a.date,l=a.yearItemNumber,u=a.onYearMouseEnter,d=a.onYearMouseLeave;if(s===void 0)return null;for(var f=bd(s,l),p=f.startPeriod,x=f.endPeriod,y=function(v){n.push(_t.createElement("div",{ref:m.YEAR_REFS[v-p],onClick:function(N){t.onYearClick(N,v)},onKeyDown:function(N){cj(N)&&(N.preventDefault(),N.key=mr.Enter),t.onYearKeyDown(N,v)},tabIndex:Number(m.getYearTabIndex(v)),className:m.getYearClassNames(v),onMouseEnter:m.props.usePointerEvent?void 0:function(N){return u(N,v)},onPointerEnter:m.props.usePointerEvent?function(N){return u(N,v)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(N){return d(N,v)},onPointerLeave:m.props.usePointerEvent?function(N){return d(N,v)}:void 0,key:v,"aria-current":m.isCurrentYear(v)?"date":void 0},m.getYearContent(v)))},m=this,w=p;w<=x;w++)y(w);return _t.createElement("div",{className:"react-datepicker__year"},_t.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},r}(T.Component);function vq(e,r,t,n){for(var a=[],s=0;s<2*r+1;s++){var l=e+r-s,u=!0;t&&(u=vn(t)<=l),n&&u&&(u=vn(n)>=l),u&&a.push(l)}return a}var bq=function(e){Ks(r,e);function r(t){var n=e.call(this,t)||this;n.renderOptions=function(){var u=n.props.year,d=n.state.yearsList.map(function(x){return _t.createElement("div",{className:u===x?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:x,onClick:n.onChange.bind(n,x),"aria-selected":u===x?"true":void 0},u===x?_t.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",x)}),f=n.props.minDate?vn(n.props.minDate):null,p=n.props.maxDate?vn(n.props.maxDate):null;return(!p||!n.state.yearsList.find(function(x){return x===p}))&&d.unshift(_t.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},_t.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!f||!n.state.yearsList.find(function(x){return x===f}))&&d.push(_t.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},_t.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),d},n.onChange=function(u){n.props.onChange(u)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(u){var d=n.state.yearsList.map(function(f){return f+u});n.setState({yearsList:d})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,l=a||(s?10:5);return n.state={yearsList:vq(n.props.year,l,n.props.minDate,n.props.maxDate)},n.dropdownRef=T.createRef(),n}return r.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var n=t.children?Array.from(t.children):null,a=n?n.find(function(s){return s.ariaSelected}):null;t.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},r.prototype.render=function(){var t=bn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return _t.createElement(i2,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},r}(T.Component),wq=function(e){Ks(r,e);function r(){var t=e!==null&&e.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var n=t.props.minDate?vn(t.props.minDate):1900,a=t.props.maxDate?vn(t.props.maxDate):2100,s=[],l=n;l<=a;l++)s.push(_t.createElement("option",{key:l,value:l},l));return s},t.onSelectChange=function(n){t.onChange(parseInt(n.target.value))},t.renderSelectMode=function(){return _t.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(n){return _t.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return t.toggleDropdown(a)}},_t.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),_t.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return _t.createElement(bq,Fn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var n=t.state.dropdownVisible,a=[t.renderReadView(!n)];return n&&a.unshift(t.renderDropdown()),a},t.onChange=function(n){t.toggleDropdown(),n!==t.props.year&&t.props.onChange(n)},t.toggleDropdown=function(n){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,n)})},t.handleYearChange=function(n,a){var s;(s=t.onSelect)===null||s===void 0||s.call(t,n,a),t.setOpen()},t.onSelect=function(n,a){var s,l;(l=(s=t.props).onSelect)===null||l===void 0||l.call(s,n,a)},t.setOpen=function(){var n,a;(a=(n=t.props).setOpen)===null||a===void 0||a.call(n,!0)},t}return r.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return _t.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},r}(T.Component),Nq=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],Sq=function(e){var r=(e.className||"").split(/\s+/);return Nq.some(function(t){return r.indexOf(t)>=0})},_q=function(e){Ks(r,e);function r(t){var n=e.call(this,t)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var s,l;Sq(a.target)&&((l=(s=n.props).onDropdownFocus)===null||l===void 0||l.call(s,a))},n.getDateInView=function(){var a=n.props,s=a.preSelection,l=a.selected,u=a.openToDate,d=oj(n.props),f=lj(n.props),p=Kn(),x=u||l||s;return x||(d&&Of(p,d)?d:f&&Cd(p,f)?f:p)},n.increaseMonth=function(){n.setState(function(a){var s=a.date;return{date:Bl(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var s=a.date;return{date:_f(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,s,l){n.props.onSelect(a,s,l),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,s){n.setState({selectingDate:_c(Kn(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,s)},n.handleYearMouseLeave=function(a,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,s)},n.handleYearChange=function(a){var s,l,u,d;(l=(s=n.props).onYearChange)===null||l===void 0||l.call(s,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(d=(u=n.props).setOpen)===null||d===void 0||d.call(u,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!nl(a,n.props))return a;for(var s=ku(a),l=VV(a),u=rU(l,s),d=null,f=0;f<=u;f++){var p=Fl(s,f);if(!nl(p,n.props)){d=p;break}}return d},n.handleMonthChange=function(a){var s,l,u,d=(s=n.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;n.handleCustomMonthChange(d),n.props.adjustDateOnChange&&(n.props.onSelect(d),(u=(l=n.props).setOpen)===null||u===void 0||u.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(d)},n.handleCustomMonthChange=function(a){var s,l;(l=(s=n.props).onMonthChange)===null||l===void 0||l.call(s,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(s){var l=s.date;return{date:_c(l,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(s){var l=s.date;return{date:el(l,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(s){var l=s.date;return{date:_c(el(l,Ai(a)),vn(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var s=_d(a,n.props.locale,n.props.calendarStartDay),l=[];return n.props.showWeekNumbers&&l.push(_t.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),l.concat([0,1,2,3,4,5,6].map(function(u){var d=Fl(s,u),f=n.formatWeekday(d,n.props.locale),p=n.props.weekDayClassName?n.props.weekDayClassName(d):void 0;return _t.createElement("div",{key:u,"aria-label":Pa(d,"EEEE",n.props.locale),className:bn("react-datepicker__day-name",p)},f)}))},n.formatWeekday=function(a,s){return n.props.formatWeekDay?qV(a,n.props.formatWeekDay,s):n.props.useWeekdaysShort?GV(a,s):YV(a,s)},n.decreaseYear=function(){n.setState(function(a){var s,l=a.date;return{date:Qh(l,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,s,l;if(!n.props.renderCustomHeader){var u=(a=n.props.monthsShown)!==null&&a!==void 0?a:r.defaultProps.monthsShown,d=n.props.showPreviousMonths?u-1:0,f=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:d,p=_f(n.state.date,f),x;switch(!0){case n.props.showMonthYearPicker:x=vS(n.state.date,n.props);break;case n.props.showYearPicker:x=ZV(n.state.date,n.props);break;case n.props.showQuarterYearPicker:x=JV(n.state.date,n.props);break;default:x=xS(p,n.props);break}if(!(!((l=n.props.forceShowMonthNavigation)!==null&&l!==void 0?l:r.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&x||n.props.showTimeSelectOnly)){var y=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],w=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(w=n.decreaseYear),x&&n.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),w=void 0);var v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,N=n.props,S=N.previousMonthButtonLabel,k=S===void 0?r.defaultProps.previousMonthButtonLabel:S,_=N.previousYearButtonLabel,A=_===void 0?r.defaultProps.previousYearButtonLabel:_,R=n.props,V=R.previousMonthAriaLabel,P=V===void 0?typeof k=="string"?k:"Previous Month":V,I=R.previousYearAriaLabel,B=I===void 0?typeof A=="string"?A:"Previous Year":I;return _t.createElement("button",{type:"button",className:m.join(" "),onClick:w,onKeyDown:n.props.handleOnKeyDown,"aria-label":v?B:P},_t.createElement("span",{className:y.join(" ")},v?A:k))}}},n.increaseYear=function(){n.setState(function(a){var s,l=a.date;return{date:Nu(l,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:r.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.showMonthYearPicker:s=bS(n.state.date,n.props);break;case n.props.showYearPicker:s=eq(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=QV(n.state.date,n.props);break;default:s=yS(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:r.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var l=["react-datepicker__navigation","react-datepicker__navigation--next"],u=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&l.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&l.push("react-datepicker__navigation--next--with-today-button");var d=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(d=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(l.push("react-datepicker__navigation--next--disabled"),d=void 0);var f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,p=n.props,x=p.nextMonthButtonLabel,y=x===void 0?r.defaultProps.nextMonthButtonLabel:x,m=p.nextYearButtonLabel,w=m===void 0?r.defaultProps.nextYearButtonLabel:m,v=n.props,N=v.nextMonthAriaLabel,S=N===void 0?typeof y=="string"?y:"Next Month":N,k=v.nextYearAriaLabel,_=k===void 0?typeof w=="string"?w:"Next Year":k;return _t.createElement("button",{type:"button",className:l.join(" "),onClick:d,onKeyDown:n.props.handleOnKeyDown,"aria-label":f?_:S},_t.createElement("span",{className:u.join(" ")},f?w:y))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),_t.createElement("h2",{className:s.join(" ")},Pa(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return _t.createElement(wq,Fn({},r.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:vn(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return _t.createElement(hq,Fn({},r.defaultProps,n.props,{month:Ai(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return _t.createElement(gq,Fn({},r.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(fS(),a),n.props.setPreSelection&&n.props.setPreSelection(fS())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return _t.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var s=a.monthDate,l=a.i;return _t.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(s),_t.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(l!==0),n.renderMonthYearDropdown(l!==0),n.renderYearDropdown(l!==0)),_t.createElement("div",{className:"react-datepicker__day-names"},n.header(s)))},n.renderCustomHeader=function(a){var s,l,u=a.monthDate,d=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var f=xS(n.state.date,n.props),p=yS(n.state.date,n.props),x=vS(n.state.date,n.props),y=bS(n.state.date,n.props),m=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return _t.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(l=(s=n.props).renderCustomHeader)===null||l===void 0?void 0:l.call(s,Fn(Fn({},n.state),{customHeaderCount:d,monthDate:u,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:f,nextMonthButtonDisabled:p,prevYearButtonDisabled:x,nextYearButtonDisabled:y})),m&&_t.createElement("div",{className:"react-datepicker__day-names"},n.header(u)))},n.renderYearHeader=function(a){var s=a.monthDate,l=n.props,u=l.showYearPicker,d=l.yearItemNumber,f=d===void 0?r.defaultProps.yearItemNumber:d,p=bd(s,f),x=p.startPeriod,y=p.endPeriod;return _t.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},u?"".concat(x," - ").concat(y):vn(s))},n.renderHeader=function(a){var s=a.monthDate,l=a.i,u=l===void 0?0:l,d={monthDate:s,i:u};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(d);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(d);default:return n.renderDefaultHeader(d)}},n.renderMonths=function(){var a,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var l=[],u=(a=n.props.monthsShown)!==null&&a!==void 0?a:r.defaultProps.monthsShown,d=n.props.showPreviousMonths?u-1:0,f=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Nu(n.state.date,d):_f(n.state.date,d),p=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:d,x=0;x<u;++x){var y=x-p+d,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?Nu(f,y):Bl(f,y),w="month-".concat(x),v=x<u-1,N=x>0;l.push(_t.createElement("div",{key:w,ref:function(S){n.monthContainer=S??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:m,i:x}),_t.createElement(dq,Fn({},r.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:m,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:x,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:v,monthShowsDuplicateDaysStart:N}))))}return l}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return _t.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),_t.createElement(yq,Fn({},r.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return _t.createElement(xq,Fn({},r.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,s=a&&o2(a)&&!!n.props.selected,l=s?"".concat(NS(a.getHours()),":").concat(NS(a.getMinutes())):"";if(n.props.showTimeInput)return _t.createElement(iq,Fn({},r.defaultProps,n.props,{date:a,timeString:l,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,s=bd(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:r.defaultProps.yearItemNumber),l=s.startPeriod,u=s.endPeriod,d;return n.props.showYearPicker?d="".concat(l," - ").concat(u):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?d=vn(n.state.date):d="".concat(Sw(Ai(n.state.date),n.props.locale)," ").concat(vn(n.state.date)),_t.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&d)},n.renderChildren=function(){if(n.props.children)return _t.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=T.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(r,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:km}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){t.setState({monthContainer:t.monthContainer})}())},r.prototype.componentDidUpdate=function(t){var n=this;if(this.props.preSelection&&(!Mn(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var a=!Wi(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Mn(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},r.prototype.render=function(){var t=this.props.container||BV;return _t.createElement(i2,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},_t.createElement("div",{style:{display:"contents"},ref:this.containerRef},_t.createElement(t,{className:bn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},r}(T.Component),Tq=function(e){var r=e.icon,t=e.className,n=t===void 0?"":t,a=e.onClick,s="react-datepicker__calendar-icon";if(typeof r=="string")return _t.createElement("i",{className:"".concat(s," ").concat(r," ").concat(n),"aria-hidden":"true",onClick:a});if(_t.isValidElement(r)){var l=r;return _t.cloneElement(l,{className:"".concat(l.props.className||""," ").concat(s," ").concat(n),onClick:function(u){typeof l.props.onClick=="function"&&l.props.onClick(u),typeof a=="function"&&a(u)}})}return _t.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},_t.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},uj=function(e){Ks(r,e);function r(t){var n=e.call(this,t)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return r.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},r.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},r.prototype.render=function(){return Jo.createPortal(this.props.children,this.el)},r}(T.Component),kq="[tabindex], a, button, input, select, textarea",jq=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},dj=function(e){Ks(r,e);function r(t){var n=e.call(this,t)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(kq),1,-1).filter(jq)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=T.createRef(),n}return r.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:r.defaultProps.enableTabLoop)?_t.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},_t.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,_t.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},r.defaultProps={enableTabLoop:!0},r}(T.Component);function Eq(e){var r=function(t){var n,a=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=T.useRef(null),l=PV(Fn({open:!a,whileElementsMounted:mV,placement:t.popperPlacement,middleware:Oc([_V({padding:15}),SV(10),TV({element:s})],(n=t.popperModifiers)!==null&&n!==void 0?n:[],!0)},t.popperProps)),u=Fn(Fn({},t),{hidePopper:a,popperProps:Fn(Fn({},l),{arrowRef:s})});return _t.createElement(e,Fn({},u))};return r}var Aq=function(e){Ks(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(r,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),r.prototype.render=function(){var t=this.props,n=t.className,a=t.wrapperClassName,s=t.hidePopper,l=s===void 0?r.defaultProps.hidePopper:s,u=t.popperComponent,d=t.targetComponent,f=t.enableTabLoop,p=t.popperOnKeyDown,x=t.portalId,y=t.portalHost,m=t.popperProps,w=t.showArrow,v=void 0;if(!l){var N=bn("react-datepicker-popper",n);v=_t.createElement(dj,{enableTabLoop:f},_t.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:N,"data-placement":m.placement,onKeyDown:p},u,w&&_t.createElement(CV,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(v=T.createElement(this.props.popperContainer,{},v)),x&&!l&&(v=_t.createElement(uj,{portalId:x,portalHost:y},v));var S=bn("react-datepicker-wrapper",a);return _t.createElement(_t.Fragment,null,_t.createElement("div",{ref:m.refs.setReference,className:S},d),v)},r}(T.Component),Cq=Eq(Aq),ES="react-datepicker-ignore-onclickoutside";function Dq(e,r){return e&&r?Ai(e)!==Ai(r)||vn(e)!==vn(r):e!==r}var gv="Date input not valid.",Oq=function(e){Ks(r,e);function r(t){var n=e.call(this,t)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Kn()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,l){var u=new Date(l.date);return o2(u)?Oc(Oc([],s,!0),[Fn(Fn({},l),{date:u})],!1):s},[])},n.calcInitialState=function(){var a,s=n.getPreSelection(),l=oj(n.props),u=lj(n.props),d=l&&Of(s,R1(l))?l:u&&Cd(s,hS(u))?u:s;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:d,highlightDates:wS(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Fn(Fn({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Fn(Fn({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},n.setBlur=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,s){s===void 0&&(s=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:xv},function(){a||n.setState(function(l){return{focused:s?l.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return Su(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var s,l,u=n.state.wasHidden,d=u?n.state.open:!0;u&&n.resetHiddenStatus(),n.state.preventFocus||((l=(s=n.props).onFocus)===null||l===void 0||l.call(s,a),d&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var s,l;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((l=(s=n.props).onBlur)===null||l===void 0||l.call(s,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var s,l;n.props.inline||n.setOpen(!1),(l=(s=n.props).onClickOutside)===null||l===void 0||l.call(s,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,s,l,u,d,f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];var x=f[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,f),!x||typeof x.isDefaultPrevented!="function"||x.isDefaultPrevented()))){n.setState({inputValue:(x==null?void 0:x.target)instanceof HTMLInputElement?x.target.value:null,lastPreSelectChange:Lq});var y=n.props,m=y.selectsRange,w=y.startDate,v=y.endDate,N=(a=n.props.dateFormat)!==null&&a!==void 0?a:r.defaultProps.dateFormat,S=(s=n.props.strictParsing)!==null&&s!==void 0?s:r.defaultProps.strictParsing,k=(x==null?void 0:x.target)instanceof HTMLInputElement?x.target.value:"";if(m){var _=k.split(N.includes("-")?aj:"-",2).map(function(L){return L.trim()}),A=_[0],R=_[1],V=hv(A??"",N,n.props.locale,S),P=hv(R??"",N,n.props.locale,S),I=(w==null?void 0:w.getTime())!==(V==null?void 0:V.getTime()),B=(v==null?void 0:v.getTime())!==(P==null?void 0:P.getTime());if(!I&&!B||V&&nl(V,n.props)||P&&nl(P,n.props))return;(u=(l=n.props).onChange)===null||u===void 0||u.call(l,[V,P],x)}else{var O=hv(k,N,n.props.locale,S,(d=n.props.selected)!==null&&d!==void 0?d:void 0);(O||!k)&&n.setSelected(O,x,!0)}}},n.handleSelect=function(a,s,l){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(s),n.setSelected(a,s,!1,l),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var u=n.props,d=u.startDate,f=u.endDate;d&&!f&&(n.props.swapRange||!TS(a,d))&&n.setOpen(!1)}}},n.setSelected=function(a,s,l,u){var d,f,p=a;if(n.props.showYearPicker){if(p!==null&&M1(vn(p),n.props))return}else if(n.props.showMonthYearPicker){if(p!==null&&ij(p,n.props))return}else if(p!==null&&nl(p,n.props))return;var x=n.props,y=x.onChange,m=x.selectsRange,w=x.startDate,v=x.endDate,N=x.selectsMultiple,S=x.selectedDates,k=x.minTime,_=x.swapRange;if(!mf(n.props.selected,p)||n.props.allowSameDay||m||N)if(p!==null&&(n.props.selected&&(!l||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(p=pv(p,{hour:_u(n.props.selected),minute:Tu(n.props.selected),second:Sd(n.props.selected)})),!l&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&k&&(p=pv(p,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),n.props.inline||n.setState({preSelection:p}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:u})),m){var A=!w&&!v,R=w&&!v,V=w&&v;A?y==null||y([p,null],s):R&&(p===null?y==null||y([null,null],s):TS(p,w)?_?y==null||y([p,w],s):y==null||y([p,null],s):y==null||y([w,p],s)),V&&(y==null||y([p,null],s))}else if(N){if(p!==null)if(!(S!=null&&S.length))y==null||y([p],s);else{var P=S.some(function(B){return Mn(B,p)});if(P){var I=S.filter(function(B){return!Mn(B,p)});y==null||y(I,s)}else y==null||y(Oc(Oc([],S,!0),[p],!1),s)}}else y==null||y(p,s);l||((f=(d=n.props).onSelect)===null||f===void 0||f.call(d,p,s),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var s=Su(n.props.minDate),l=Su(n.props.maxDate),u=!0;if(a){var d=R1(a);if(s&&l)u=jp(a,n.props.minDate,n.props.maxDate);else if(s){var f=R1(n.props.minDate);u=Cd(a,f)||mf(d,f)}else if(l){var p=hS(n.props.maxDate);u=Of(a,p)||mf(d,p)}}u&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var s,l;if(!(n.props.selectsRange||n.props.selectsMultiple)){var u=n.props.selected?n.props.selected:n.getPreSelection(),d=n.props.selected?a:pv(u,{hour:_u(a),minute:Tu(a)});n.setState({preSelection:d}),(l=(s=n.props).onChange)===null||l===void 0||l.call(s,d),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(a=n.props).onInputClick)===null||s===void 0||s.call(a)},n.onInputKeyDown=function(a){var s,l,u,d,f,p;(l=(s=n.props).onKeyDown)===null||l===void 0||l.call(s,a);var x=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(x===mr.ArrowDown||x===mr.ArrowUp||x===mr.Enter)&&((u=n.onInputClick)===null||u===void 0||u.call(n));return}if(n.state.open){if(x===mr.ArrowDown||x===mr.ArrowUp){a.preventDefault();var y=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((d=n.calendar)===null||d===void 0?void 0:d.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(y);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var w=Kn(n.state.preSelection);x===mr.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===xv?(n.handleSelect(w,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(w)):n.setOpen(!1)):x===mr.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):x===mr.Tab&&n.setOpen(!1),n.inputOk()||(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:gv})}},n.onPortalKeyDown=function(a){var s=a.key;s===mr.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var s,l,u,d,f,p,x=n.props,y=x.minDate,m=x.maxDate,w=x.disabledKeyboardNavigation,v=x.showWeekPicker,N=x.shouldCloseOnSelect,S=x.locale,k=x.calendarStartDay,_=x.adjustDateOnChange,A=x.inline;if((l=(s=n.props).onKeyDown)===null||l===void 0||l.call(s,a),!w){var R=a.key,V=a.shiftKey,P=Kn(n.state.preSelection),I=function(ce,W){var J=W;switch(ce){case mr.ArrowRight:J=v?dx(W,1):Fl(W,1);break;case mr.ArrowLeft:J=v?eS(W):rW(W);break;case mr.ArrowUp:J=eS(W);break;case mr.ArrowDown:J=dx(W,1);break;case mr.PageUp:J=V?Qh(W,1):_f(W,1);break;case mr.PageDown:J=V?Nu(W,1):Bl(W,1);break;case mr.Home:J=_d(W,S,k);break;case mr.End:J=WV(W);break}return J},B=function(ce,W){for(var J=40,re=ce,ee=!1,H=0,ne=I(ce,W);!ee;){if(H>=J){ne=W;break}y&&ne<y&&(re=mr.ArrowRight,ne=nl(y,n.props)?I(re,ne):y),m&&ne>m&&(re=mr.ArrowLeft,ne=nl(m,n.props)?I(re,ne):m),nl(ne,n.props)?((re===mr.PageUp||re===mr.Home)&&(re=mr.ArrowRight),(re===mr.PageDown||re===mr.End)&&(re=mr.ArrowLeft),ne=I(re,ne)):ee=!0,H++}return ne};if(R===mr.Enter){a.preventDefault(),n.handleSelect(P,a),!N&&n.setPreSelection(P);return}else if(R===mr.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:gv});return}var O=null;switch(R){case mr.ArrowLeft:case mr.ArrowRight:case mr.ArrowUp:case mr.ArrowDown:case mr.PageUp:case mr.PageDown:case mr.Home:case mr.End:O=B(R,P);break}if(!O){(p=(f=n.props).onInputError)===null||p===void 0||p.call(f,{code:1,msg:gv});return}if(a.preventDefault(),n.setState({lastPreSelectChange:xv}),_&&n.setSelected(O),n.setPreSelection(O),A){var L=Ai(P),C=Ai(O),Y=vn(P),Q=vn(O);L!==C||Y!==Q?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var s=a.key;s===mr.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var s=n.props,l=s.selectsRange,u=s.onChange;l?u==null||u([null,null],a):u==null||u(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,s;return!n.props.inline&&!n.isCalendarOpen()?null:_t.createElement(_q,Fn({showMonthYearDropdown:void 0,ref:function(l){n.calendar=l}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:r.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:rq(n.modifyHolidays()),outsideClickIgnoreClass:ES,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:r.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,s=a.dateFormat,l=s===void 0?r.defaultProps.dateFormat:s,u=a.locale,d=n.props.showTimeInput||n.props.showTimeSelect,f=d?"PPPPp":"PPPP",p;return n.props.selectsRange?p="Selected start date: ".concat(Zo(n.props.startDate,{dateFormat:f,locale:u}),". ").concat(n.props.endDate?"End date: "+Zo(n.props.endDate,{dateFormat:f,locale:u}):""):n.props.showTimeSelectOnly?p="Selected time: ".concat(Zo(n.props.selected,{dateFormat:l,locale:u})):n.props.showYearPicker?p="Selected year: ".concat(Zo(n.props.selected,{dateFormat:"yyyy",locale:u})):n.props.showMonthYearPicker?p="Selected month: ".concat(Zo(n.props.selected,{dateFormat:"MMMM yyyy",locale:u})):n.props.showQuarterYearPicker?p="Selected quarter: ".concat(Zo(n.props.selected,{dateFormat:"yyyy, QQQ",locale:u})):p="Selected date: ".concat(Zo(n.props.selected,{dateFormat:f,locale:u})),_t.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},p)},n.renderDateInput=function(){var a,s,l,u=bn(n.props.className,(a={},a[ES]=n.state.open,a)),d=n.props.customInput||_t.createElement("input",{type:"text"}),f=n.props.customInputRef||"ref",p=n.props,x=p.dateFormat,y=x===void 0?r.defaultProps.dateFormat:x,m=p.locale,w=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?$V(n.props.startDate,n.props.endDate,{dateFormat:y,locale:m}):n.props.selectsMultiple?zV((l=n.props.selectedDates)!==null&&l!==void 0?l:[],{dateFormat:y,locale:m}):Zo(n.props.selected,{dateFormat:y,locale:m});return T.cloneElement(d,(s={},s[f]=function(v){n.input=v},s.value=w,s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=bn(d.props.className,u),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s["aria-describedby"]=n.props.ariaDescribedBy,s["aria-invalid"]=n.props.ariaInvalid,s["aria-labelledby"]=n.props.ariaLabelledBy,s["aria-required"]=n.props.ariaRequired,s))},n.renderClearButton=function(){var a=n.props,s=a.isClearable,l=a.disabled,u=a.selected,d=a.startDate,f=a.endDate,p=a.clearButtonTitle,x=a.clearButtonClassName,y=x===void 0?"":x,m=a.ariaLabelClose,w=m===void 0?"Close":m,v=a.selectedDates,N=a.readOnly;return s&&!N&&(u!=null||d!=null||f!=null||v!=null&&v.length)?_t.createElement("button",{type:"button",className:bn("react-datepicker__close-icon",y,{"react-datepicker__close-icon--disabled":l}),disabled:l,"aria-label":w,onClick:n.onClearClick,title:p,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(r,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:km,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),r.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.componentDidUpdate=function(t,n){var a,s,l,u;t.inline&&Dq(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:wS(this.props.highlightDates)}),!n.focused&&!mf(t.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),n.open===!0&&this.state.open===!1&&((u=(l=this.props).onCalendarClose)===null||u===void 0||u.call(l)))},r.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},r.prototype.renderInputContainer=function(){var t=this.props,n=t.showIcon,a=t.icon,s=t.calendarIconClassname,l=t.calendarIconClassName,u=t.toggleCalendarOnIconClick,d=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),_t.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&_t.createElement(Tq,Fn({icon:a,className:bn(l,!l&&s,d&&"react-datepicker-ignore-onclickoutside")},u?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},r.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var n=this.state.open?_t.createElement(dj,{enableTabLoop:this.props.enableTabLoop},_t.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(n=_t.createElement(uj,Fn({portalId:this.props.portalId},this.props),n)),_t.createElement("div",null,this.renderInputContainer(),n)}return _t.createElement(Cq,Fn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},r}(T.Component),Lq="input",xv="navigate";function c1(e){return!e||!e.entries?e:{...e,entries:e.entries.map(r=>({...r,task:r.task}))}}const u1=()=>{const{user:e,isAuthenticated:r}=gn(),[t,n]=T.useState(null),[a,s]=T.useState([]),[l,u]=T.useState(!0),[d,f]=T.useState(new Date),[p,x]=T.useState({}),[y,m]=T.useState(!1),[w,v]=T.useState(!1),[N,S]=T.useState(!1),[k,_]=T.useState([]),[A,R]=T.useState([]),V=T.useRef(null);T.useEffect(()=>{(async()=>{if(!(!r()||!e))try{const[be,Fe]=await Promise.all([fetch(`${$e}/api/timesheets/submitted-dates`,{headers:{Authorization:`Bearer ${e.token}`}}),fetch(`${$e}/api/timesheets/incomplete-dates`,{headers:{Authorization:`Bearer ${e.token}`}})]);if(!be.ok)throw new Error("Failed to fetch submitted dates");if(!Fe.ok)throw new Error("Failed to fetch incomplete dates");const De=await be.json(),lt=await Fe.json();_(De.dates||[]),R(lt.dates||[])}catch{}})()},[e,r]);const P=G=>{const be=G.getFullYear()+"-"+String(G.getMonth()+1).padStart(2,"0")+"-"+String(G.getDate()).padStart(2,"0");if(k.includes(be))return"submitted-day";if(A.includes(be))return"incomplete-day"},I=T.useCallback(async(G=new Date)=>{if(!(!r()||!e)){u(!0);try{const be=G.toISOString().split("T")[0],[Fe,De]=await Promise.all([fetch(`${$e}/api/timesheets/date/${be}`,{headers:{Authorization:`Bearer ${e.token}`}}),fetch(`${$e}/api/timesheets/my-tasks`,{headers:{Authorization:`Bearer ${e.token}`}})]);if(!Fe.ok||!De.ok)throw new Error("Failed to fetch initial data");const lt=await Fe.json(),ft=await De.json();n(c1(lt)),s(ft)}catch(be){sn.error(be.message||"Failed to fetch data")}finally{u(!1)}}},[e,r]);T.useEffect(()=>{I(d)},[I,d]),T.useEffect(()=>{const G=be=>{y&&!be.target.closest(".calendar-container")&&m(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[y]),T.useEffect(()=>{if(t&&t.entries){const G={};t.entries.forEach(be=>{be._id&&(G[be._id]={start:L(be.startTime),end:L(be.endTime)})}),x(G)}},[t]);function B(G){if(!G)return"";let[be,Fe]=G.split(" "),[De,lt]=be.split(":");return De=parseInt(De,10),Fe==="PM"&&De!==12&&(De+=12),Fe==="AM"&&De===12&&(De=0),`${De.toString().padStart(2,"0")}:${lt}`}function O(G,be,Fe){return`${G.padStart(2,"0")}:${be.padStart(2,"0")} ${Fe}`}function L(G){if(!G)return{hour:"12",minute:"00",ampm:"AM"};let[be,Fe]=G.split(":"),De=parseInt(be,10),lt=De>=12?"PM":"AM";return De=De%12,De===0&&(De=12),{hour:De.toString().padStart(2,"0"),minute:Fe,ampm:lt}}const C=(G,be,Fe)=>{if(!t)return;const De=t.entries.map(xe=>{const Qe=JSON.parse(JSON.stringify(xe));return xe.task&&typeof xe.task=="object"&&(Qe.task=xe.task),Qe}),lt=De.findIndex(xe=>xe._id===G);lt!==-1&&(De[lt][be]=Fe,be==="task"&&Fe!=="other"&&(De[lt].manualTaskName=""),be==="task"&&Fe==="other"&&(De[lt].manualTaskName="Other")),n({...t,entries:De}),V.current&&clearTimeout(V.current);const ft=De[lt],Pe=ft.task||ft.manualTaskName;be==="task"&&Pe||be==="startTime"&&Pe||be==="endTime"&&Pe?V.current=setTimeout(()=>{Q(ft)},500):Pe&&ft.workDescription&&(V.current=setTimeout(()=>{Q(ft)},1e3))};function Y(G){return typeof G=="string"&&/^[a-f\d]{24}$/i.test(G)}const Q=async(G,be=!1,Fe=null)=>{if(!G)return;const De=G.task==="other"||G.manualTaskName==="Other";if(!G.task&&!De){sn.error("Please select a task before saving.");return}try{let lt,ft={workDescription:G.workDescription,startTime:G.startTime,endTime:G.endTime},Pe=null;if(G.task==="other"?Pe="other":G.task&&(Pe=typeof G.task=="object"&&G.task._id?G.task._id:G.task),Pe==="other"?(ft.taskId="other",ft.manualTaskName="Other"):Pe?ft.taskId=Pe:(ft.taskId=null,ft.manualTaskName=G.manualTaskName||""),G._id&&Y(G._id)?lt=await fetch(`${$e}/api/timesheets/entry/${G._id}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify(ft)}):lt=await fetch(`${$e}/api/timesheets/add-entry`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify(ft)}),!lt.ok){const Qe=await lt.json();throw new Error(Qe.message||"Failed to save entry")}const xe=await lt.json();if(sn.success("Entry saved!"),be&&Fe)return xe.entries.find(at=>!at._id||at._id!==Fe)||xe.entries[xe.entries.length-1];n(Qe=>{const at=c1(xe);if(!Qe||!Qe.entries)return at;const pt=at.entries.find(ze=>ze._id===G._id);if(!pt)return at;const Ze=Qe.entries.map(ze=>ze._id===G._id?JSON.parse(JSON.stringify(pt)):JSON.parse(JSON.stringify(ze)));return{...Qe,...at,entries:Ze}})}catch(lt){throw sn.error(lt.message),lt}},ce="09:00 AM",W="10:00 AM",J=async()=>{if(t)try{const G={taskId:"other",manualTaskName:"",workDescription:"",startTime:B(ce),endTime:B(W),date:d.toISOString().split("T")[0]},be=await fetch(`${$e}/api/timesheets/add-entry`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify(G)});if(!be.ok){const De=await be.json();throw new Error(De.message||"Failed to add timeslot")}const Fe=await be.json();if(n(c1(Fe)),Fe.entries&&Fe.entries.length>0){const De=Fe.entries[Fe.entries.length-1];x(lt=>({...lt,[De._id]:{start:L(De.startTime),end:L(De.endTime)}}))}}catch(G){sn.error(G.message)}},re=G=>`${Math.floor(G/60)}h ${G%60}m`,ee=G=>new Date(G).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),H=G=>{const be=new Date;return G.toDateString()===be.toDateString()},ne=G=>{const be=new Date;return be.setDate(be.getDate()-1),G.toDateString()===be.toDateString()},D=G=>G?!G.isCompleted:!0,z=G=>{f(G),m(!1)},q=(G,be)=>{if(!G||!be)return 0;const[Fe,De]=G.split(":").map(Number),[lt,ft]=be.split(":").map(Number);let Pe=Fe*60+De,xe=lt*60+ft;return xe<Pe&&(xe+=24*60),xe-Pe};if(T.useEffect(()=>{I(d)},[I,d]),l)return i.jsx("div",{className:"p-8 text-center",children:"Loading..."});const X=(G,be,Fe,De)=>{const lt=t.entries.find(Qe=>Qe._id===G);if(!lt)return;const ft=p[G]||{start:L(lt.startTime),end:L(lt.endTime)},Pe={...ft,[be]:{...ft[be],[Fe]:De}};x({...p,[G]:Pe});const xe=O(Pe[be].hour,Pe[be].minute,Pe[be].ampm);t.entries.findIndex(Qe=>Qe._id===G),C(G,be==="start"?"startTime":"endTime",B(xe))},se=async G=>{try{const be=await fetch(`${$e}/api/timesheets/entry/${G}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.token}`}});if(!be.ok){const De=await be.json();throw new Error(De.message||"Failed to delete entry")}const Fe=await be.json();n(c1(Fe)),sn.success("Timeslot deleted!")}catch(be){sn.error(be.message)}},Se=()=>{if(!t||!t.entries)return 0;let G=0;return t.entries.forEach(be=>{if(be.startTime&&be.endTime){const[Fe,De]=be.startTime.split(":").map(Number),[lt,ft]=be.endTime.split(":").map(Number);let Pe=Fe*60+De,xe=lt*60+ft;xe<Pe&&(xe+=24*60),G+=xe-Pe}}),G},fe=G=>`${Math.floor(G/60)}h ${G%60}m`;return i.jsxs("div",{className:"p-4 sm:p-6 md:p-8 max-w-7xl mx-auto",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Timesheets"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Track and manage your daily work logs."})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>m(!y),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),H(d)?"Today":d.toLocaleDateString(),D(t)&&i.jsx("span",{className:"text-xs bg-green-500 px-1 rounded",children:"Editable"}),t&&t.isCompleted&&i.jsx("span",{className:"text-xs bg-red-500 text-white px-1 rounded",children:"Submitted"})]}),y&&i.jsx("div",{className:"absolute right-0 top-full mt-2 z-10 calendar-container",children:i.jsx(Oq,{selected:d,onChange:z,inline:!0,maxDate:new Date,dateFormat:"yyyy-MM-dd",dayClassName:P})})]})]}),i.jsxs("div",{className:"space-y-6",children:[t&&t.isCompleted&&i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-800 font-medium",children:"Timesheet Submitted"}),i.jsx("p",{className:"text-blue-700 text-sm",children:"This timesheet has been submitted and is now read-only. No further changes can be made."})]})]})}),ne(d)&&t&&!t.isCompleted&&i.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 text-amber-500 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-amber-800 font-medium",children:"Yesterday's Timesheet Not Submitted"}),i.jsx("p",{className:"text-amber-700 text-sm",children:"Don't forget to submit your timesheet for yesterday before it becomes read-only."})]})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:ee(t==null?void 0:t.date)}),i.jsx("p",{className:"text-gray-600 mt-1",children:H(d)?"Today's timesheet - Editable":ne(d)?t!=null&&t.isCompleted?"Yesterday's timesheet (Submitted)":"Yesterday's timesheet - Editable":t!=null&&t.isCompleted?"Previous timesheet (Submitted) - View Only":"Previous timesheet (Not submitted) - View Only"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Time"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:fe(Se())})]})]})}),t&&!t.isCompleted&&i.jsxs("div",{children:[i.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",onClick:()=>v(!0),children:"Submit Timesheet"}),w&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 bg-opacity-40",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-md",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2 text-gray-800",children:"Submit Timesheet?"}),i.jsxs("p",{className:"mb-4 text-gray-700",children:["If you submit the timesheet, you ",i.jsx("span",{className:"font-semibold text-red-600",children:"can't edit it"})," anymore. Are you sure you want to submit?"]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{className:"px-4 py-2 rounded bg-gray-200 text-gray-800 hover:bg-gray-300",onClick:()=>v(!1),disabled:N,children:"Cancel"}),i.jsx("button",{className:"px-4 py-2 rounded bg-green-600 text-white hover:bg-green-700 disabled:opacity-60",onClick:async()=>{S(!0);try{const G=d.toISOString().split("T")[0],be=await fetch(`${$e}/api/timesheets/submit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({date:G})}),Fe=await be.json();if(!be.ok)throw new Error(Fe.message||"Failed to submit timesheet");n(Fe.timesheet),sn.success("Timesheet submitted!"),v(!1)}catch(G){sn.error(G.message)}finally{S(!1)}},disabled:N,children:N?"Submitting...":"Confirm"})]})]})})]}),t&&D(t)&&i.jsx("div",{children:i.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:J,children:"+ Add Timeslot"})}),i.jsx("div",{className:"space-y-4 overflow-x-auto scrollbar-hide",children:[...(t==null?void 0:t.entries)||[]].map(G=>{var Qe;let be="";if(G!=null&&G.task&&typeof G.task=="object"&&G.task._id)be=G.task._id,G.task.title;else if(G!=null&&G.task&&typeof G.task=="string"&&G.task!=="other"){be=G.task;const at=a.find(pt=>pt._id===G.task);console.log(at),at&&at.title}else((G==null?void 0:G.task)==="other"||(G==null?void 0:G.manualTaskName)==="Other")&&!((Qe=G==null?void 0:G.task)!=null&&Qe._id)?be="other":be="";const Fe=G._id,De=p[Fe]&&p[Fe].start||L(G.startTime),lt=p[Fe]&&p[Fe].end||L(G.endTime),ft=G.isNew===!0?!1:!G._id,Pe=!D(t),xe=async at=>{const pt=at.target.value;if(G.isNew){n(ze=>({...ze,entries:ze.entries.map(Ae=>Ae._id===G._id?{...Ae,task:pt,isSaving:!0}:Ae)}));const Ze={...G,task:pt};delete Ze.isNew;try{const ze=await Q({...Ze,startTime:G.startTime,endTime:G.endTime,workDescription:G.workDescription},!0,G._id);n(Ae=>({...Ae,entries:Ae.entries.map(vt=>vt._id===G._id?ze:vt)}))}catch{n(Ae=>({...Ae,entries:Ae.entries.map(vt=>vt._id===G._id?{...vt,isSaving:!1}:vt)}))}}else C(Fe,"task",pt)};return i.jsx("div",{className:"bg-white rounded-lg shadow border-2 border-gray-200",children:i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-4 gap-2 sm:gap-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-center w-full sm:w-auto",children:[i.jsxs("div",{className:"flex gap-1 items-center",children:[i.jsx("select",{value:De.hour,onChange:at=>!ft&&!Pe&&X(Fe,"start","hour",at.target.value),className:"border border-gray-300 rounded px-2 py-2",disabled:ft||Pe,children:Array.from({length:12},(at,pt)=>(pt+1).toString().padStart(2,"0")).map(at=>i.jsx("option",{value:at,children:at},at))}),i.jsx("span",{children:":"}),i.jsx("select",{value:De.minute,onChange:at=>!ft&&!Pe&&X(Fe,"start","minute",at.target.value),className:"border border-gray-300 rounded px-2 py-2 max-h-32 overflow-y-auto",disabled:ft||Pe,children:Array.from({length:12},(at,pt)=>(pt*5).toString().padStart(2,"0")).map(at=>i.jsx("option",{value:at,children:at},at))}),i.jsxs("select",{value:De.ampm,onChange:at=>!ft&&!Pe&&X(Fe,"start","ampm",at.target.value),className:"border border-gray-300 rounded px-2 py-2",disabled:ft||Pe,children:[i.jsx("option",{value:"AM",children:"AM"}),i.jsx("option",{value:"PM",children:"PM"})]})]}),i.jsx("span",{children:"-"}),i.jsxs("div",{className:"flex gap-1 items-center",children:[i.jsx("select",{value:lt.hour,onChange:at=>!ft&&!Pe&&X(Fe,"end","hour",at.target.value),className:"border border-gray-300 rounded px-2 py-2",disabled:ft||Pe,children:Array.from({length:12},(at,pt)=>(pt+1).toString().padStart(2,"0")).map(at=>i.jsx("option",{value:at,children:at},at))}),i.jsx("span",{children:":"}),i.jsx("select",{value:lt.minute,onChange:at=>!ft&&!Pe&&X(Fe,"end","minute",at.target.value),className:"border border-gray-300 rounded px-2 py-2 max-h-32 overflow-y-auto",disabled:ft||Pe,children:Array.from({length:12},(at,pt)=>(pt*5).toString().padStart(2,"0")).map(at=>i.jsx("option",{value:at,children:at},at))}),i.jsxs("select",{value:lt.ampm,onChange:at=>!ft&&!Pe&&X(Fe,"end","ampm",at.target.value),className:"border border-gray-300 rounded px-2 py-2",disabled:ft||Pe,children:[i.jsx("option",{value:"AM",children:"AM"}),i.jsx("option",{value:"PM",children:"PM"})]})]})]}),!Pe&&i.jsx("button",{className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600 mt-2 sm:mt-0 sm:ml-4",onClick:()=>se(G._id),disabled:ft,children:"Delete"})]}),ft&&i.jsx("div",{className:"text-blue-500 text-sm",children:"Saving..."}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Task"}),i.jsxs("select",{value:be,onChange:xe,className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:ft||Pe,children:[i.jsx("option",{value:"",children:"Select task"}),i.jsx("option",{value:"other",children:"Other"}),(()=>{const at=be,pt=a.map(Ae=>Ae._id);let Ze=[...a];if(at&&!pt.includes(at)&&at!=="other"){let Ae=null;if(G.task&&typeof G.task=="object"&&G.task._id===at)Ae=G.task;else for(const vt of t.entries)if(vt.task&&typeof vt.task=="object"&&vt.task._id===at){Ae=vt.task;break}Ae||(Ae={_id:at,title:"(Old/Completed Task)"}),Ze=[...Ze,Ae]}const ze=Object.values(Ze.reduce((Ae,vt)=>(Ae[vt._id]=vt,Ae),{}));return ze.sort((Ae,vt)=>Ae._id===at?-1:vt._id===at?1:0),ze.map(Ae=>i.jsx("option",{value:Ae._id,children:Ae.title},Ae._id))})()]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),i.jsx("input",{type:"text",value:(G==null?void 0:G.workDescription)||"",onChange:at=>!ft&&!Pe&&C(Fe,"workDescription",at.target.value),placeholder:"Enter work description",className:"w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:ft||Pe})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Spent"}),i.jsx("div",{className:"text-sm text-gray-600 bg-gray-50 px-3 py-2 rounded",children:G.startTime&&G.endTime?re(q(G.startTime,G.endTime)):"N/A"})]})]})]})},Fe||Math.random())})})]})]})};function AS(e=0){const r=Math.floor((e||0)/60),t=Math.abs((e||0)%60);return`${r}h ${t}m`}function yv(e,r){if(!e||!r)return 0;const[t,n]=e.split(":").map(Number),[a,s]=r.split(":").map(Number);let l=t*60+n,u=a*60+s;return u<l&&(u+=24*60),u-l}function Rq({dateStr:e,timesheets:r,fileLabel:t="timesheets"}){if(!Array.isArray(r)||r.length===0)throw new Error("No timesheets to export");const n=new zr({unit:"mm",format:"a4"}),a=n.internal.pageSize.getWidth(),s=10;let l=s;const u=(()=>{try{const S=new Date(e);return isNaN(S.getTime())?String(e||""):S.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return String(e||"")}})();n.setFontSize(14),n.setTextColor(33),n.text("Subordinate Timesheets",s,l),n.setFontSize(11),n.setTextColor(80),n.text(u,a-s,l,{align:"right"}),l+=8;try{const S=r.reduce((k,_)=>k+_.entries.reduce((A,R)=>A+yv(R.startTime,R.endTime),0),0);n.setFontSize(10),n.setTextColor(60),n.text(`Total (all users): ${AS(S)}`,s,l),l+=4}catch{}n.setDrawColor(220),n.line(s,l,a-s,l),l+=4;const d=a-s*2,f=28,p=32,x=16,y=12,m=d-f-p-x-y,w=S=>{var B,O,L,C;const k=`${((B=S==null?void 0:S.user)==null?void 0:B.firstName)||""} ${((O=S==null?void 0:S.user)==null?void 0:O.lastName)||""}`.trim(),_=((L=S==null?void 0:S.user)==null?void 0:L.role)||"",A=((C=S==null?void 0:S.user)==null?void 0:C.email)||"";n.setFontSize(12),n.setTextColor(33),n.text(k||"User",s,l),n.setFontSize(9),n.setTextColor(100),l+=4,A&&n.text(A,s,l),_&&n.text(`Role: ${_}`,s+80,l);const R=S.entries.reduce((Y,Q)=>Y+yv(Q.startTime,Q.endTime),0);n.setFontSize(10),n.setTextColor(20,80,180),n.text(`Total: ${AS(R)}`,a-s,l,{align:"right"}),l+=5;const V=(S.entries||[]).map(Y=>{var H;const Q=Y.startTime&&Y.endTime?`${Y.startTime} - ${Y.endTime}`:"N/A",ce=((H=Y==null?void 0:Y.task)==null?void 0:H.title)||(Y==null?void 0:Y.manualTaskName)||"N/A",W=(Y==null?void 0:Y.workDescription)||"N/A";let J="";typeof Y.approvalStatus=="string"&&(Y.approvalStatus.toLowerCase()==="accepted"?J="A":Y.approvalStatus.toLowerCase()==="rejected"&&(J="R"));const ee=`${yv(Y.startTime,Y.endTime)} min`;return[Q,ce,W,ee,J]});n.autoTable({startY:l,margin:{left:s,right:s},head:[["Timeslot","Task Name","Description",{content:"Time",styles:{halign:"right"}},"State"]],body:V.length?V:[["-","-","No Entries","-","-"]],styles:{fontSize:9,cellPadding:2.2,overflow:"linebreak"},headStyles:{fillColor:[245,245,245],textColor:60,lineColor:[230,230,230]},columnStyles:{0:{cellWidth:f},1:{cellWidth:p},2:{cellWidth:m},3:{cellWidth:x,halign:"right"},4:{cellWidth:y,halign:"center"}},didDrawPage:Y=>{const Q=n.getNumberOfPages();n.setFontSize(8),n.setTextColor(120),n.text(`Page ${Y.pageNumber} of ${Q}`,a-s,n.internal.pageSize.getHeight()-6,{align:"right"})}}),l=n.lastAutoTable.finalY+12;const P=l,I=38;n.setDrawColor(80),n.line(s,P,s+I,P),n.setFontSize(10),n.setTextColor(60),n.text("Hari Sir's Sign",s,P+6),n.line(a-s-I,P,a-s,P),n.text("Team Head Sign",a-s-I,P+6),l+=18,n.setDrawColor(230),n.line(s,l-2,a-s,l-2)};r.forEach((S,k)=>{k>0&&(l>n.internal.pageSize.getHeight()-50?(n.addPage(),l=s+8):l+=2),w(S)});const v=t||"timesheets",N=(()=>{try{const S=new Date(e);return isNaN(S.getTime())?String(e||"date"):S.toISOString().slice(0,10)}catch{return"date"}})();n.save(`${v}_${N}.pdf`)}const d1=()=>{const{user:e,isAuthenticated:r}=gn(),[t,n]=T.useState([]),[a,s]=T.useState({}),[l,u]=T.useState([]),[d,f]=T.useState(!0),[p,x]=T.useState(""),[y,m]=T.useState(new Date().toISOString().split("T")[0]),[w,v]=T.useState(1),[N,S]=T.useState(0),[k,_]=T.useState(null),[A,R]=T.useState(!1),V=()=>{try{if(!t||t.length===0){sn.error("Nothing to download");return}const W=(()=>{var J;if(p&&((J=t[0])!=null&&J.user)){const re=t[0].user;return`${re.firstName||""}_${re.lastName||""}`.trim()||"timesheet"}return"timesheets"})();Rq({dateStr:y,timesheets:t,fileLabel:W})}catch(W){console.error(W),sn.error("Failed to generate PDF")}};T.useEffect(()=>{r()&&e&&P()},[e,r]),T.useEffect(()=>{r()&&e&&I(1)},[e,r,p,y]);const P=async()=>{try{const W=await fetch(`${$e}/api/timesheets/subordinates-list`,{headers:{Authorization:`Bearer ${e.token}`}});if(!W.ok)throw new Error("Failed to fetch subordinates");const J=await W.json();u(J)}catch{sn.error("Failed to fetch subordinates")}},I=async(W=1)=>{f(!0);try{let J=`${$e}/api/timesheets/subordinates?page=${W}&limit=20`;p&&(J+=`&userId=${p}`),y&&(J+=`&startDate=${y}&endDate=${y}`);const re=await fetch(J,{headers:{Authorization:`Bearer ${e.token}`}});if(!re.ok)throw new Error("Failed to fetch timesheets");const ee=await re.json();let H=Array.isArray(ee.timesheets)?ee.timesheets:[];if(H=H.filter(D=>D&&D.isCompleted),e.role==="Team Head"&&!p){let D=`${$e}/api/timesheets/date/${y}`;const z=await fetch(D,{headers:{Authorization:`Bearer ${e.token}`}});if(z.ok){const q=await z.json();q&&q.user&&q.isCompleted&&(H=[q,...H.filter(X=>X.user&&X.user._id!==e._id)])}}n(H);const ne=H.reduce((D,z)=>{const q=new Date(z.date).toDateString();return D[q]||(D[q]=[]),D[q].push(z),D},{});s(ne),v(ee.currentPage),S(ee.totalPages)}catch{sn.error("Failed to fetch timesheets")}finally{f(!1)}},B=W=>{if(!W)return"0h 0m";const J=Math.floor(W/60),re=W%60;return`${J}h ${re}m`},O=W=>new Date(W).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),L=W=>{switch(W){case"Admin":return"bg-red-100 text-red-800";case"Senior":return"bg-purple-100 text-purple-800";case"Team Head":return"bg-blue-100 text-blue-800";case"Fresher":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=()=>{switch(e.role){case"Admin":return"Viewing all users' timesheets";case"Senior":return"Viewing Senior's timesheets";case"Team Head":return"Viewing Team Head's timesheets";default:return"No access to subordinate timesheets"}};function Y(W,J){if(!W||!J)return 0;const[re,ee]=W.split(":").map(Number),[H,ne]=J.split(":").map(Number);let D=re*60+ee,z=H*60+ne;return z<D&&(z+=24*60),z-D}const Q=async W=>{try{if(!(await fetch(`${$e}/api/timesheets/entry/${W}/approve`,{method:"PATCH",headers:{Authorization:`Bearer ${e.token}`}})).ok)throw new Error("Failed to approve entry");n(re=>re.map(ee=>({...ee,entries:ee.entries.map(H=>H._id===W?{...H,approvalStatus:"accepted"}:H)}))),s(re=>{const ee={...re};return Object.keys(ee).forEach(H=>{ee[H]=ee[H].map(ne=>({...ne,entries:ne.entries.map(D=>D._id===W?{...D,approvalStatus:"accepted"}:D)}))}),ee})}catch{sn.error("Failed to approve entry")}},ce=async W=>{try{if(!(await fetch(`${$e}/api/timesheets/entry/${W}/reject`,{method:"PATCH",headers:{Authorization:`Bearer ${e.token}`}})).ok)throw new Error("Failed to reject entry");n(re=>re.map(ee=>({...ee,entries:ee.entries.map(H=>H._id===W?{...H,approvalStatus:"rejected"}:H)}))),s(re=>{const ee={...re};return Object.keys(ee).forEach(H=>{ee[H]=ee[H].map(ne=>({...ne,entries:ne.entries.map(D=>D._id===W?{...D,approvalStatus:"rejected"}:D)}))}),ee})}catch{sn.error("Failed to reject entry")}};return r()?e.role==="Fresher"&&!(Array.isArray(e.role2)?e.role2.includes("TimeSheet Verifier"):e.role2==="TimeSheet Verifier")?i.jsx("div",{className:"p-8 text-center",children:i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-yellow-800 mb-2",children:"Access Restricted"}),i.jsx("p",{className:"text-yellow-700",children:"You don't have permission to view subordinate timesheets."})]})}):e.role==="Admin"||e.role==="Senior"||e.role==="Team Head"||(Array.isArray(e.role2)?e.role2.includes("TimeSheet Verifier"):e.role2==="TimeSheet Verifier")?i.jsxs("div",{className:"p-4 sm:p-6 md:p-8 max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2",children:"Subordinate Timesheets"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:C()})]}),i.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6 mb-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i.jsx(hm,{className:"w-4 h-4 inline mr-1"}),"Select User"]}),i.jsxs("select",{value:p,onChange:W=>x(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[i.jsx("option",{value:"",children:"All Users"}),l.map(W=>i.jsxs("option",{value:W._id,children:[W.firstName," ",W.lastName," (",W.role,")"]},W._id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[i.jsx(Y8,{className:"w-4 h-4 inline mr-1"}),"Select Date"]}),i.jsx("input",{type:"date",value:y,onChange:W=>m(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),i.jsx("div",{className:"flex md:justify-end",children:i.jsxs("button",{type:"button",onClick:V,disabled:d||t.length===0,className:"mt-6 md:mt-0 inline-flex items-center gap-2 px-4 py-2 rounded-md text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:[i.jsx("path",{d:"M12 16a1 1 0 0 1-.707-.293l-4-4 1.414-1.414L11 12.586V3h2v9.586l2.293-2.293 1.414 1.414-4 4A1 1 0 0 1 12 16z"}),i.jsx("path",{d:"M5 19h14v2H5z"})]}),"Download PDF"]})})]})}),d?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading timesheets..."})]}):t.length===0?i.jsx("div",{className:"text-center py-8",children:i.jsxs("div",{className:"bg-gray-50 rounded-lg p-8",children:[i.jsx(lf,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No timesheets found"}),i.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or date range."})]})}):i.jsx("div",{className:"space-y-8",children:Object.entries(a).map(([W,J])=>i.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[i.jsx("div",{className:"p-4 bg-gray-50 border-b border-gray-200",children:i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:O(W)})}),i.jsx("div",{className:"divide-y divide-gray-200",children:J.map(re=>{var ee,H;return i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsxs("span",{className:"text-lg font-medium text-blue-600",children:[(ee=re.user.firstName)==null?void 0:ee[0],(H=re.user.lastName)==null?void 0:H[0]]})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-gray-900",children:[re.user.firstName," ",re.user.lastName]}),i.jsx("p",{className:"text-sm text-gray-600",children:re.user.email})]}),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full self-center ${L(re.user.role)}`,children:re.user.role})]}),i.jsxs("div",{className:"text-right flex-shrink-0",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Time"}),i.jsx("p",{className:"text-xl font-bold text-blue-600",children:B(re.entries.reduce((ne,D)=>ne+Y(D.startTime,D.endTime),0))})]})]}),i.jsx("div",{className:"overflow-x-auto w-full",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 border",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Timeslot"}),i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Task Name"}),i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time Spent"}),i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:re.entries.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"5",className:"text-center text-gray-400 py-3",children:"No Entries"})}):re.entries.map((ne,D)=>{let z="";return ne.approvalStatus==="accepted"?z="text-green-600 font-semibold":ne.approvalStatus==="rejected"?z="text-red-600 font-semibold":z="text-gray-700",i.jsxs("tr",{className:"cursor-pointer group",onClick:()=>Q(ne._id),children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-800",children:ne.startTime&&ne.endTime?`${ne.startTime} - ${ne.endTime}`:"N/A"}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700",children:ne.task?ne.task.title:ne.manualTaskName||"N/A"}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-700 break-words min-w-[200px] max-w-[400px]",children:ne.workDescription||"N/A"}),i.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-700 font-medium",children:[Y(ne.startTime,ne.endTime)," min"]}),i.jsx("td",{className:`px-4 py-3 whitespace-nowrap text-sm ${z}`,children:ne.approvalStatus==="accepted"?"Accepted":ne.approvalStatus==="rejected"?"Rejected":"Pending"}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:ne.approvalStatus!=="rejected"&&i.jsx("button",{className:"text-red-500 hover:text-red-700 font-semibold",onClick:q=>{q.stopPropagation(),ce(ne._id)},children:"Reject"})})]},ne._id||D)})})]})})]},re._id)})})]},W))}),N>1&&i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsxs("nav",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>I(w-1),disabled:w===1,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:N},(W,J)=>J+1).map(W=>i.jsx("button",{onClick:()=>I(W),className:`px-3 py-2 border rounded-md text-sm font-medium ${w===W?"bg-blue-600 text-white border-blue-600":"border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:W},W)),i.jsx("button",{onClick:()=>I(w+1),disabled:w===N,className:"px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})}),A&&k&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Timesheet Details - ",k.user.firstName," ",k.user.lastName]}),i.jsx("button",{onClick:()=>R(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("p",{className:"text-gray-600 mt-1",children:O(k.date)})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.entries.map((W,J)=>i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:W.task?W.task.title:W.manualTaskName||"Manual Task"}),i.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[Y(W.startTime,W.endTime)," min"]})]}),W.workDescription&&i.jsx("p",{className:"text-sm text-gray-600 mb-3",children:W.workDescription}),W.task&&i.jsxs("div",{className:"space-y-1 text-xs text-gray-500",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Client:"})," ",W.task.clientName]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Work Type:"})," ",W.task.workType]}),W.task.clientGroup&&i.jsxs("p",{children:[i.jsx("strong",{children:"Client Group:"})," ",W.task.clientGroup]})]})]},J))}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-lg font-medium text-gray-900",children:"Total Time Spent"}),i.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[k.entries.reduce((W,J)=>W+Y(J.startTime,J.endTime),0)," min"]})]})})]})]})})]}):i.jsx("div",{className:"p-8 text-center",children:i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-yellow-800 mb-2",children:"Access Restricted"}),i.jsx("p",{className:"text-yellow-700",children:"You don't have permission to view subordinate timesheets."})]})}):i.jsx("div",{className:"p-8 text-center",children:"Please log in to view this page."})};function Mq(e){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",r.firstChild?r.insertBefore(t,r.firstChild):r.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}Mq(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Tw=e=>typeof e=="number"&&!isNaN(e),sm=e=>typeof e=="string",fj=e=>typeof e=="function",Fq=e=>sm(e)||Tw(e),Pq=e=>T.isValidElement(e)||sm(e)||fj(e)||Tw(e),Bq=1,hj=()=>`${Bq++}`,Mc=new Map,hb=[],CS=new Set,pj=()=>Mc.size>0,Iq=(e,{containerId:r})=>{var t;return(t=Mc.get(r||1))==null?void 0:t.toasts.get(e)};function $q(e,r){var t;if(r)return!!((t=Mc.get(r))!=null&&t.isToastActive(e));let n=!1;return Mc.forEach(a=>{a.isToastActive(e)&&(n=!0)}),n}function zq(e){if(!pj()){hb=hb.filter(r=>e!=null&&r.options.toastId!==e);return}if(e==null||Fq(e))Mc.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let r=Mc.get(e.containerId);r?r.removeToast(e.id):Mc.forEach(t=>{t.removeToast(e.id)})}}var Uq=(e={})=>{Mc.forEach(r=>{r.props.limit&&(!e.containerId||r.id===e.containerId)&&r.clearQueue()})};function Hq(e,r){Pq(e)&&(pj()||hb.push({content:e,options:r}),Mc.forEach(t=>{t.buildToast(e,r)}))}function mj(e,r){Mc.forEach(t=>{(r==null||!(r!=null&&r.containerId)||(r==null?void 0:r.containerId)===t.id)&&t.toggle(e,r==null?void 0:r.id)})}function Wq(e){return CS.add(e),()=>{CS.delete(e)}}function Vq(e){return e&&(sm(e.toastId)||Tw(e.toastId))?e.toastId:hj()}function Em(e,r){return Hq(e,r),r.toastId}function l2(e,r){return{...r,type:r&&r.type||e,toastId:Vq(r)}}function c2(e){return(r,t)=>Em(r,l2(e,t))}function ha(e,r){return Em(e,l2("default",r))}ha.loading=(e,r)=>Em(e,l2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...r}));function qq(e,{pending:r,error:t,success:n},a){let s;r&&(s=sm(r)?ha.loading(r,a):ha.loading(r.render,{...a,...r}));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(f,p,x)=>{if(p==null){ha.dismiss(s);return}let y={type:f,...l,...a,data:x},m=sm(p)?{render:p}:p;return s?ha.update(s,{...y,...m}):ha(m.render,{...y,...m}),x},d=fj(e)?e():e;return d.then(f=>u("success",n,f)).catch(f=>u("error",t,f)),d}ha.promise=qq;ha.success=c2("success");ha.info=c2("info");ha.error=c2("error");ha.warning=c2("warning");ha.warn=ha.warning;ha.dark=(e,r)=>Em(e,l2("default",{theme:"dark",...r}));function Yq(e){zq(e)}ha.dismiss=Yq;ha.clearWaitingQueue=Uq;ha.isActive=$q;ha.update=(e,r={})=>{let t=Iq(e,r);if(t){let{props:n,content:a}=t,s={delay:100,...n,...r,toastId:r.toastId||e,updateId:hj()};s.toastId!==e&&(s.staleId=e);let l=s.render||a;delete s.render,Em(l,s)}};ha.done=e=>{ha.update(e,{progress:1})};ha.onChange=Wq;ha.play=e=>mj(!0,e);ha.pause=e=>mj(!1,e);const DS=()=>{const{user:e,token:r}=gn(),[t,n]=T.useState([]),[a,s]=T.useState(null),[l,u]=T.useState(""),[d,f]=T.useState(!1),[p,x]=T.useState(null),[y,m]=T.useState(""),[w,v]=T.useState(""),[N,S]=T.useState(!1),[k,_]=T.useState("taskCosting"),[A,R]=T.useState(null),[V,P]=T.useState(!1),[I,B]=T.useState(null),[O,L]=T.useState([]),[C,Y]=T.useState(!1);T.useEffect(()=>{(e==null?void 0:e.role)==="Admin"&&Q()},[e,k]),T.useEffect(()=>{if(k==="taskCosting"){const z=setTimeout(()=>{ce(y)},300);return()=>clearTimeout(z)}},[y,k]);const Q=async()=>{f(!0);try{const q=await(await fetch(`${$e}/api/users/hourly-rates`,{headers:{Authorization:`Bearer ${r}`}})).json();n(q)}catch{ha.error("Failed to load users")}f(!1)},ce=async(z="")=>{x(null),S(!0);try{const X=await(await fetch(`${$e}/api/timesheets/task-costs${z?`?search=${encodeURIComponent(z)}`:""}`,{headers:{Authorization:`Bearer ${r}`}})).json();x(X)}catch{ha.error("Failed to load costs"),x([])}S(!1)},W=async z=>{Y(!0);try{const X=await(await fetch(`${$e}/api/tasks/${z}`,{headers:{Authorization:`Bearer ${r}`}})).json();B(X);const Se=await(await fetch(`${$e}/api/timesheets/task/${z}/timeslots`,{headers:{Authorization:`Bearer ${r}`}})).json();L(Se)}catch(q){ha.error("Failed to load task details"),console.error("Error fetching task details:",q)}Y(!1)},J=(z,q)=>{s(z),u(q)},re=async z=>{f(!0);try{if(!(await fetch(`${$e}/api/users/${z}/hourly-rate`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({hourlyRate:Number(l)})})).ok)throw new Error("Failed to update");ha.success("Hourly rate updated"),s(null),u(""),Q(),k==="taskCosting"&&ce()}catch{ha.error("Update failed")}f(!1)},ee=z=>{R(z),P(!0),W(z.taskId)},H=t.filter(z=>z.firstName.toLowerCase().includes(w.toLowerCase())||z.lastName.toLowerCase().includes(w.toLowerCase())||z.email.toLowerCase().includes(w.toLowerCase())),ne=z=>{const q=Math.floor(z/60),X=z%60;return`${q}h ${X}m`},D=()=>!V||!A?null:i.jsx("div",{className:"fixed inset-0 backdrop-blur-sm bg-black/30 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Task Analysis: ",A.title]}),i.jsx("button",{onClick:()=>{P(!1),R(null),B(null),L([])},className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),C?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):i.jsxs("div",{className:"space-y-6",children:[I&&i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Task Overview"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Client"}),i.jsx("p",{className:"font-medium",children:I.clientName})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Work Type"}),i.jsx("p",{className:"font-medium",children:I.workType})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),i.jsx("p",{className:"font-medium",children:I.status})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Priority"}),i.jsx("p",{className:"font-medium",children:I.priority})]})]}),I.description&&i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Description"}),i.jsx("div",{className:"max-w-full overflow-x-auto",children:i.jsx("p",{className:"font-medium whitespace-nowrap",children:I.description})})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[i.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Cost Breakdown"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[A.assignedTo&&i.jsxs("div",{className:"bg-white rounded p-3",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Assigned To"}),i.jsx("p",{className:"font-medium",children:A.assignedTo.name}),i.jsxs("p",{className:"text-sm text-blue-600",children:[A.assignedTo.hours,"h × ₹",A.assignedTo.hourlyRate," = ₹",A.assignedTo.cost.toFixed(2)]})]}),A.firstVerifier&&i.jsxs("div",{className:"bg-white rounded p-3",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"First Verifier"}),i.jsx("p",{className:"font-medium",children:A.firstVerifier.name}),i.jsxs("p",{className:"text-sm text-blue-600",children:[A.firstVerifier.hours,"h × ₹",A.firstVerifier.hourlyRate," = ₹",A.firstVerifier.cost.toFixed(2)]})]}),A.secondVerifier&&i.jsxs("div",{className:"bg-white rounded p-3",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Second Verifier"}),i.jsx("p",{className:"font-medium",children:A.secondVerifier.name}),i.jsxs("p",{className:"text-sm text-blue-600",children:[A.secondVerifier.hours,"h × ₹",A.secondVerifier.hourlyRate," = ₹",A.secondVerifier.cost.toFixed(2)]})]}),A.thirdVerifier&&i.jsxs("div",{className:"bg-white rounded p-3",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Third Verifier"}),i.jsx("p",{className:"font-medium",children:A.thirdVerifier.name}),i.jsxs("p",{className:"text-sm text-blue-600",children:[A.thirdVerifier.hours,"h × ₹",A.thirdVerifier.hourlyRate," = ₹",A.thirdVerifier.cost.toFixed(2)]})]}),A.fourthVerifier&&i.jsxs("div",{className:"bg-white rounded p-3",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Fourth Verifier"}),i.jsx("p",{className:"font-medium",children:A.fourthVerifier.name}),i.jsxs("p",{className:"text-sm text-blue-600",children:[A.fourthVerifier.hours,"h × ₹",A.fourthVerifier.hourlyRate," = ₹",A.fourthVerifier.cost.toFixed(2)]})]}),A.fifthVerifier&&i.jsxs("div",{className:"bg-white rounded p-3",children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Fifth Verifier"}),i.jsx("p",{className:"font-medium",children:A.fifthVerifier.name}),i.jsxs("p",{className:"text-sm text-blue-600",children:[A.fifthVerifier.hours,"h × ₹",A.fifthVerifier.hourlyRate," = ₹",A.fifthVerifier.cost.toFixed(2)]})]})]}),i.jsx("div",{className:"mt-4 text-right",children:i.jsxs("p",{className:"text-xl font-bold text-green-700",children:["Total Cost: ₹",A.totalCost.toFixed(2)]})})]}),i.jsxs("div",{className:"bg-white rounded-lg border",children:[i.jsx("h4",{className:"text-lg font-semibold p-4 border-b",children:"All Timeslots"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Time Slot"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:"No timeslots found for this task"})}):O.map((z,q)=>{var X;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[i.jsx("div",{className:"font-medium",children:z.userName}),i.jsx("div",{className:"text-sm text-gray-500",children:z.userRole})]}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:new Date(z.date).toLocaleDateString()}),i.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:[z.startTime," - ",z.endTime]}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:ne(z.duration)}),i.jsx("td",{className:"px-4 py-3 text-sm",children:z.workDescription||"-"}),i.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-green-600",children:["₹",((X=z.cost)==null?void 0:X.toFixed(2))||"0.00"]})]},q)})})]})})]})]})]})});return(e==null?void 0:e.role)!=="Admin"?i.jsx("div",{className:"p-8 text-center text-lg font-semibold",children:"Access denied"}):i.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Cost Management"}),i.jsx("div",{className:"border-b border-gray-200 mb-6",children:i.jsxs("nav",{className:"-mb-px flex space-x-8",children:[i.jsx("button",{onClick:()=>{_("taskCosting"),x(null)},className:`py-2 px-1 border-b-2 font-medium text-sm ${k==="taskCosting"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Task Costing"}),i.jsx("button",{onClick:()=>_("userRates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${k==="userRates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"User Hourly Rates"})]})}),k==="taskCosting"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Task Costing"}),i.jsx("div",{className:"mb-4 flex items-center gap-2",children:i.jsxs("div",{className:"relative",children:[i.jsx(H1,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by task or user...",className:"border rounded px-3 py-2 pl-10 w-64",value:y,onChange:z=>m(z.target.value)})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow p-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase sticky left-0 bg-white",children:"Task"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"First Verifier"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Second Verifier"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Third Verifier"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Fourth Verifier"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Fifth Verifier"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total Cost (₹)"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:N||p===null?i.jsx("tr",{children:i.jsx("td",{colSpan:9,className:"text-center py-8",children:"Loading..."})}):Array.isArray(p)&&p.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:9,className:"text-center py-8",children:"No tasks found."})}):p.map(z=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-2 whitespace-nowrap font-semibold sticky left-0 bg-white border-r",children:i.jsx("div",{className:"max-w-[320px] overflow-x-auto scrollbar-thin scrollbar-thumb-gray-300",children:i.jsx("span",{className:"inline-block min-w-full align-middle",children:z.title})})}),[z.assignedTo,z.firstVerifier,z.secondVerifier,z.thirdVerifier,z.fourthVerifier,z.fifthVerifier].map((q,X)=>i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:q?i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:q.name}),i.jsxs("div",{className:"inline-block bg-blue-100 text-blue-700 rounded px-2 py-0.5 text-xs mt-1",children:[q.hours," hr | ₹",q.cost.toFixed(2)]})]}):i.jsx("span",{className:"text-gray-400",children:"-"})},X)),i.jsxs("td",{className:"px-4 py-2 whitespace-nowrap font-bold text-green-700",children:["₹",z.totalCost.toFixed(2)]}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.jsxs("button",{onClick:()=>ee(z),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm flex items-center gap-1",children:[i.jsx(v7,{className:"w-4 h-4"}),"View Details"]})})]},z.taskId))})]})})]}),k==="userRates"&&i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"User Hourly Rates"}),i.jsx("div",{className:"mb-4 flex items-center gap-2",children:i.jsxs("div",{className:"relative",children:[i.jsx(H1,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"border rounded px-3 py-2 pl-10 w-64",value:w,onChange:z=>v(z.target.value)})]})}),i.jsx("div",{className:"bg-white rounded-lg shadow p-4 overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Hourly Rate (₹)"}),i.jsx("th",{className:"px-4 py-2"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:d?i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"text-center py-8",children:"Loading..."})}):H.map(z=>i.jsxs("tr",{children:[i.jsxs("td",{className:"px-4 py-2 whitespace-nowrap",children:[z.firstName," ",z.lastName]}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:z.email}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:z.role}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${z.status==="approved"?"bg-green-100 text-green-800":z.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:z.status})}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:a===z._id?i.jsx("input",{type:"number",min:"0",className:"border rounded px-2 py-1 w-24",value:l,onChange:q=>u(q.target.value),disabled:d}):i.jsx("span",{children:z.hourlyRate})}),i.jsx("td",{className:"px-4 py-2",children:a===z._id?i.jsx("button",{className:"bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded",onClick:()=>re(z._id),disabled:d,children:i.jsx(Ph,{className:"w-4 h-4 inline"})}):i.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded",onClick:()=>J(z._id,z.hourlyRate),children:i.jsx(I7,{className:"w-4 h-4 inline"})})})]},z._id))})]})})]}),i.jsx(D,{})]})},f1=()=>{const{user:e}=gn(),[r,t]=T.useState(""),[n,a]=T.useState(!1),[s,l]=T.useState(!0);return T.useEffect(()=>{(async()=>{if(!(e!=null&&e.token)){l(!1);return}try{const d=await fetch(`${$e}/api/notes`,{headers:{Authorization:`Bearer ${e.token}`}});if(d.ok){const f=await d.json();t(f.content||"")}else console.error("Failed to fetch note")}catch(d){console.error("Error fetching note:",d),Ee.error("Failed to load your notes")}finally{l(!1)}})()},[e]),T.useEffect(()=>{if(!(e!=null&&e.token)||s)return;const u=setTimeout(async()=>{try{(await fetch(`${$e}/api/notes`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({content:r})})).ok?(a(!0),setTimeout(()=>a(!1),1e3)):console.error("Failed to save note")}catch(d){console.error("Error saving note:",d)}},500);return()=>clearTimeout(u)},[r,e,s]),s?i.jsx("div",{className:"max-w-2xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-lg border border-gray-200",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3 mb-4"}),i.jsx("div",{className:"h-64 bg-gray-300 rounded"})]})}):i.jsxs("div",{className:"max-w-2xl mx-auto mt-10 p-6 bg-white rounded-lg shadow-lg border border-gray-200 animate-fade-in",children:[i.jsxs("h2",{className:"text-2xl font-bold mb-4 text-blue-700 flex items-center gap-2",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})}),"My Notes"]}),i.jsx("textarea",{className:"w-full min-h-[250px] p-4 border-2 border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-lg transition-all resize-vertical bg-blue-50 placeholder-gray-400",placeholder:"Write anything here...",value:r,onChange:u=>t(u.target.value),spellCheck:!0,autoFocus:!0}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsx("span",{className:`text-xs ${n?"text-green-600":"text-gray-400"} transition-all`,children:n?"Saved!":"Auto-saving..."}),i.jsx("span",{className:"text-xs text-gray-400",children:"Your notes are private and saved securely in the cloud."})]})]})},Yo=[{id:"title",label:"Title",defaultWidth:256},{id:"description",label:"Description",defaultWidth:180},{id:"clientName",label:"Client Name",defaultWidth:150},{id:"clientGroup",label:"Client Group",defaultWidth:150},{id:"workType",label:"Work Type",defaultWidth:150},{id:"billed",label:"Internal Works",defaultWidth:80},{id:"status",label:"Task Status",defaultWidth:120},{id:"verificationStatus",label:"Verification Status",defaultWidth:120},{id:"priority",label:"Priority",defaultWidth:120},{id:"inwardEntryDate",label:"Inward Entry Date",defaultWidth:150},{id:"dueDate",label:"Due Date",defaultWidth:120},{id:"targetDate",label:"Target Date",defaultWidth:120},{id:"assignedBy",label:"Assigned By",defaultWidth:150},{id:"assignedTo",label:"Assigned To",defaultWidth:150},{id:"verificationAssignedTo",label:"First Verifier",defaultWidth:150},{id:"secondVerificationAssignedTo",label:"Second Verifier",defaultWidth:150},{id:"files",label:"Files",defaultWidth:120},{id:"comments",label:"Comments",defaultWidth:120}],Gq=()=>{const{user:e,isAuthenticated:r}=gn(),[t,n]=T.useState([]),[a,s]=T.useState(!0),[l,u]=T.useState(null),[d,f]=T.useState(""),[p,x]=T.useState(()=>Yo.map(B=>B.id)),[y,m]=T.useState(()=>Yo.map(B=>B.id)),[w,v]=T.useState(()=>Object.fromEntries(Yo.map(B=>[B.id,B.defaultWidth||150]))),[N,S]=T.useState(""),[k,_]=T.useState(!1),[A,R]=T.useState(!1),[V,P]=T.useState([]);T.useEffect(()=>{if(!(e!=null&&e.token))return;let B=!0;return(async()=>{try{const O=await Yh("billedTasks",e.token);B&&O?(x(Array.isArray(O.visibleColumns)?O.visibleColumns:Yo.map(L=>L.id)),m(Array.isArray(O.columnOrder)?O.columnOrder:Yo.map(L=>L.id)),v(O.columnWidths&&typeof O.columnWidths=="object"?O.columnWidths:Object.fromEntries(Yo.map(L=>[L.id,L.defaultWidth||150]))),S(typeof O.sortBy=="string"?O.sortBy:"createdAt"),P(Array.isArray(O.rowOrder)?O.rowOrder:[])):B&&(x(Yo.map(L=>L.id)),m(Yo.map(L=>L.id)),v(Object.fromEntries(Yo.map(L=>[L.id,L.defaultWidth||150]))),S("createdAt"),P([]))}catch{B&&(x(Yo.map(O=>O.id)),m(Yo.map(O=>O.id)),v(Object.fromEntries(Yo.map(O=>[O.id,O.defaultWidth||150]))),S("createdAt"),P([]))}finally{B&&_(!0)}})(),()=>{B=!1}},[e]),T.useEffect(()=>{!(e!=null&&e.token)||!k||!p||!y||!w||Ox("billedTasks",{visibleColumns:p,columnOrder:y,columnWidths:w,sortBy:N,rowOrder:V},e.token).catch(()=>{})},[p,y,w,N,V,e,k]);const I=(B,O)=>{if(!O||O.length===0)return B;const L=new Map(B.map(Q=>[Q._id,Q])),C=[],Y=new Set(B.map(Q=>Q._id));return O.forEach(Q=>{L.has(Q)&&(C.push(L.get(Q)),Y.delete(Q))}),Y.forEach(Q=>{C.push(L.get(Q))}),C};return T.useEffect(()=>{const B=async()=>{try{s(!0),u(null);const O=await fetch(`${$e}/api/tasks/all`,{headers:{Authorization:`Bearer ${e.token}`}});if(!O.ok)throw new Error("Failed to fetch tasks");let L=await O.json();L=L.filter(C=>C.billed===!1&&C.status!=="completed"),V.length>0&&(L=I(L,V)),n(L)}catch(O){u(O.message),n([])}finally{s(!1)}};e&&e.token&&B()},[e,V]),!r()||e.role!=="Admin"?null:!k||!p||!y||!w?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):a?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l?i.jsxs("div",{className:"text-red-500 text-center p-4",children:["Error: ",l]}):i.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Billed Tasks"}),i.jsxs("div",{className:"flex flex-row gap-4 mb-4",children:[i.jsx("input",{type:"text",placeholder:"Search tasks...",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",value:d,onChange:B=>f(B.target.value)}),i.jsxs("div",{className:"relative flex items-center gap-2",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 text-sm font-medium h-11 min-w-[120px] transition-colors",onClick:()=>R(B=>!B),type:"button",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"2"})]}),i.jsx("span",{className:"font-semibold",children:"Group By"})]}),A&&i.jsxs("div",{className:"absolute left-0 top-full z-20 bg-white border border-gray-200 rounded-lg shadow-lg mt-2 w-44 animate-fade-in",style:{minWidth:"160px"},children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-2 text-sm px-3 pt-3",children:"Group By"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${!N||N===""?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{S(""),R(!1)},children:"None"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${N==="createdAt"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{S("createdAt"),R(!1)},children:"Assigned On"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${N==="priority"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{S("priority"),R(!1)},children:"Priority"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${N==="status"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{S("status"),R(!1)},children:"Stages"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${N==="clientName"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{S("clientName"),R(!1)},children:"Client Name"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${N==="clientGroup"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{S("clientGroup"),R(!1)},children:"Client Group"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${N==="workType"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{S("workType"),R(!1)},children:"Work Type"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${N==="billed"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{S("billed"),R(!1)},children:"Billed"})]})]})]}),i.jsx(mm,{tasks:N?t.filter(B=>B.title.toLowerCase().includes(d.toLowerCase())).sort((B,O)=>{let L=B[N],C=O[N];if(N==="createdAt")L=new Date(L),C=new Date(C);else if(N==="priority"){const Y={urgent:1,today:2,lessThan3Days:3,thisWeek:4,thisMonth:5,regular:6,filed:7,dailyWorksOffice:8,monthlyWorks:9};L=Y[L]||999,C=Y[C]||999}return L<C?-1:L>C?1:0}):t.filter(B=>B.title.toLowerCase().includes(d.toLowerCase())),viewType:"billed",visibleColumns:p,setVisibleColumns:x,columnOrder:y,setColumnOrder:m,columnWidths:w,setColumnWidths:v,currentUser:e,sortBy:N,storageKeyPrefix:"billedtasks",tabKey:"billedTasks",tabId:"billedTasksMain"})]})},Go=[{id:"title",label:"Title",defaultWidth:256},{id:"description",label:"Description",defaultWidth:180},{id:"clientName",label:"Client Name",defaultWidth:150},{id:"clientGroup",label:"Client Group",defaultWidth:150},{id:"workType",label:"Work Type",defaultWidth:150},{id:"billed",label:"Billed",defaultWidth:80},{id:"status",label:"Task Status",defaultWidth:120},{id:"verificationStatus",label:"Verification Status",defaultWidth:120},{id:"priority",label:"Priority",defaultWidth:120},{id:"inwardEntryDate",label:"Inward Entry Date",defaultWidth:150},{id:"dueDate",label:"Due Date",defaultWidth:120},{id:"targetDate",label:"Target Date",defaultWidth:120},{id:"assignedBy",label:"Assigned By",defaultWidth:150},{id:"assignedTo",label:"Assigned To",defaultWidth:150},{id:"verificationAssignedTo",label:"First Verifier",defaultWidth:150},{id:"secondVerificationAssignedTo",label:"Second Verifier",defaultWidth:150},{id:"files",label:"Files",defaultWidth:120},{id:"comments",label:"Comments",defaultWidth:120}],Xq=()=>{const{user:e,isAuthenticated:r}=gn(),[t,n]=T.useState([]),[a,s]=T.useState([]),[l,u]=T.useState(!0),[d,f]=T.useState(null),[p,x]=T.useState(""),[y,m]=T.useState(()=>Go.map(ce=>ce.id)),[w,v]=T.useState(()=>Go.map(ce=>ce.id)),[N,S]=T.useState(()=>Object.fromEntries(Go.map(ce=>[ce.id,ce.defaultWidth||150]))),[k,_]=T.useState(null),[A,R]=T.useState(!1),[V,P]=T.useState([]),[I,B]=T.useState(!1);T.useRef(null),T.useRef(null);const[O,L]=T.useState(!1),[C,Y]=T.useState([]);T.useEffect(()=>{if(!(e!=null&&e.token))return;let ce=!0;return(async()=>{try{const W=await Yh("unbilledTasks",e.token);ce&&W?(m(Array.isArray(W.visibleColumns)?W.visibleColumns:Go.map(J=>J.id)),v(Array.isArray(W.columnOrder)?W.columnOrder:Go.map(J=>J.id)),S(W.columnWidths&&typeof W.columnWidths=="object"?W.columnWidths:Object.fromEntries(Go.map(J=>[J.id,J.defaultWidth||150]))),_(typeof W.sortBy=="string"?W.sortBy:"createdAt"),Y(Array.isArray(W.rowOrder)?W.rowOrder:[])):ce&&(m(Go.map(J=>J.id)),v(Go.map(J=>J.id)),S(Object.fromEntries(Go.map(J=>[J.id,J.defaultWidth||150]))),_("createdAt"),Y([]))}catch{ce&&(m(Go.map(W=>W.id)),v(Go.map(W=>W.id)),S(Object.fromEntries(Go.map(W=>[W.id,W.defaultWidth||150]))),_("createdAt"),Y([]))}finally{ce&&R(!0)}})(),()=>{ce=!1}},[e]),T.useEffect(()=>{!(e!=null&&e.token)||!A||!y||!w||!N||Ox("unbilledTasks",{visibleColumns:y,columnOrder:w,columnWidths:N,sortBy:k,rowOrder:C},e.token).catch(()=>{})},[y,w,N,k,C,e,A]);const Q=(ce,W)=>{if(!W||W.length===0)return ce;const J=new Map(ce.map(H=>[H._id,H])),re=[],ee=new Set(ce.map(H=>H._id));return W.forEach(H=>{J.has(H)&&(re.push(J.get(H)),ee.delete(H))}),ee.forEach(H=>{re.push(J.get(H))}),re};return T.useEffect(()=>{const ce=async()=>{try{u(!0),f(null);const[W,J]=await Promise.all([fetch(`${$e}/api/tasks/all`,{headers:{Authorization:`Bearer ${e.token}`}}),Yh("unbilledTasks",e.token)]);if(!W.ok)throw new Error("Failed to fetch tasks");let re=await W.json();re=re.filter(ne=>ne.billed===!0&&ne.status!=="completed");let ee=[];J&&Array.isArray(J.rowOrder)&&(ee=J.rowOrder),ee.length>0&&(re=Q(re,ee)),n(re);const H=await fetch(`${$e}/api/priorities`,{headers:{Authorization:`Bearer ${e.token}`}});if(H.ok){const ne=await H.json();s(ne)}}catch(W){f(W.message),n([])}finally{u(!1)}};e&&e.token&&ce()},[e]),!r()||e.role!=="Admin"?null:!A||!y||!w||!N?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):l?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):d?i.jsxs("div",{className:"text-red-500 text-center p-4",children:["Error: ",d]}):i.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"UnBilled Tasks"}),i.jsxs("div",{className:"flex flex-row gap-4 mb-4",children:[i.jsx("input",{type:"text",placeholder:"Search tasks...",className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-sm",value:p,onChange:ce=>x(ce.target.value)}),i.jsxs("div",{className:"relative flex items-center gap-2",children:[i.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 rounded-lg border border-gray-300 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 text-sm font-medium h-11 min-w-[120px] transition-colors",onClick:()=>L(ce=>!ce),type:"button",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[i.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"2"}),i.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"2"})]}),i.jsx("span",{className:"font-semibold",children:"Group By"})]}),O&&i.jsxs("div",{className:"absolute left-0 top-full z-20 bg-white border border-gray-200 rounded-lg shadow-lg mt-2 w-44 animate-fade-in",style:{minWidth:"160px"},children:[i.jsx("div",{className:"font-semibold text-gray-700 mb-2 text-sm px-3 pt-3",children:"Group By"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${!k||k===""?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{_(""),L(!1)},children:"None"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${k==="createdAt"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{_("createdAt"),L(!1)},children:"Assigned On"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${k==="priority"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{_("priority"),L(!1)},children:"Priority"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${k==="status"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{_("status"),L(!1)},children:"Stages"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${k==="clientName"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{_("clientName"),L(!1)},children:"Client Name"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${k==="clientGroup"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{_("clientGroup"),L(!1)},children:"Client Group"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${k==="workType"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{_("workType"),L(!1)},children:"Work Type"}),i.jsx("button",{className:`block w-full text-left px-4 py-2 rounded ${k==="billed"?"bg-blue-100 text-blue-800 font-semibold":"hover:bg-blue-50 text-gray-700"}`,onClick:()=>{_("billed"),L(!1)},children:"Billed"})]})]})]}),i.jsx(mm,{tasks:k?t.filter(ce=>ce.title.toLowerCase().includes(p.toLowerCase())).sort((ce,W)=>{let J=ce[k],re=W[k];if(k==="createdAt")J=new Date(J),re=new Date(re);else if(k==="priority"){const ee={};a.forEach((H,ne)=>{ee[H.name]=H.order||(H.isDefault?ne+1:ne+100)}),J=ee[J]||999,re=ee[re]||999}return J<re?-1:J>re?1:0}):t.filter(ce=>ce.title.toLowerCase().includes(p.toLowerCase())),viewType:"unbilled",visibleColumns:y,columnOrder:w,setColumnOrder:v,columnWidths:N,setColumnWidths:S,currentUser:e,sortBy:k,storageKeyPrefix:"unbilledtasks",tabKey:"unbilledTasks",tabId:"unbilledTasksMain"})]})},im={black:"#000",white:"#fff"},kh={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},jh={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Eh={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Ah={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ch={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},wp={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Kq={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Rf(e,...r){const t=new URL(`https://mui.com/production-error/?code=${e}`);return r.forEach(n=>t.searchParams.append("args[]",n)),`Minified MUI error #${e}; visit ${t} for the full message.`}const kw="$$material";function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Sx.apply(null,arguments)}function Jq(e){if(e.sheet)return e.sheet;for(var r=0;r<document.styleSheets.length;r++)if(document.styleSheets[r].ownerNode===e)return document.styleSheets[r]}function Qq(e){var r=document.createElement("style");return r.setAttribute("data-emotion",e.key),e.nonce!==void 0&&r.setAttribute("nonce",e.nonce),r.appendChild(document.createTextNode("")),r.setAttribute("data-s",""),r}var Zq=function(){function e(t){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var r=e.prototype;return r.hydrate=function(n){n.forEach(this._insertTag)},r.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Qq(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Jq(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},r.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),ki="-ms-",_x="-moz-",Hn="-webkit-",gj="comm",jw="rule",Ew="decl",eY="@import",xj="@keyframes",tY="@layer",rY=Math.abs,u2=String.fromCharCode,nY=Object.assign;function aY(e,r){return li(e,0)^45?(((r<<2^li(e,0))<<2^li(e,1))<<2^li(e,2))<<2^li(e,3):0}function yj(e){return e.trim()}function sY(e,r){return(e=r.exec(e))?e[0]:e}function Wn(e,r,t){return e.replace(r,t)}function pb(e,r){return e.indexOf(r)}function li(e,r){return e.charCodeAt(r)|0}function om(e,r,t){return e.slice(r,t)}function kc(e){return e.length}function Aw(e){return e.length}function h1(e,r){return r.push(e),e}function iY(e,r){return e.map(r).join("")}var d2=1,n0=1,vj=0,uo=0,js=0,m0="";function f2(e,r,t,n,a,s,l){return{value:e,root:r,parent:t,type:n,props:a,children:s,line:d2,column:n0,length:l,return:""}}function Np(e,r){return nY(f2("",null,null,"",null,null,0),e,{length:-e.length},r)}function oY(){return js}function lY(){return js=uo>0?li(m0,--uo):0,n0--,js===10&&(n0=1,d2--),js}function Oo(){return js=uo<vj?li(m0,uo++):0,n0++,js===10&&(n0=1,d2++),js}function Fc(){return li(m0,uo)}function F1(){return uo}function Am(e,r){return om(m0,e,r)}function lm(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bj(e){return d2=n0=1,vj=kc(m0=e),uo=0,[]}function wj(e){return m0="",e}function P1(e){return yj(Am(uo-1,mb(e===91?e+2:e===40?e+1:e)))}function cY(e){for(;(js=Fc())&&js<33;)Oo();return lm(e)>2||lm(js)>3?"":" "}function uY(e,r){for(;--r&&Oo()&&!(js<48||js>102||js>57&&js<65||js>70&&js<97););return Am(e,F1()+(r<6&&Fc()==32&&Oo()==32))}function mb(e){for(;Oo();)switch(js){case e:return uo;case 34:case 39:e!==34&&e!==39&&mb(js);break;case 40:e===41&&mb(e);break;case 92:Oo();break}return uo}function dY(e,r){for(;Oo()&&e+js!==57;)if(e+js===84&&Fc()===47)break;return"/*"+Am(r,uo-1)+"*"+u2(e===47?e:Oo())}function fY(e){for(;!lm(Fc());)Oo();return Am(e,uo)}function hY(e){return wj(B1("",null,null,null,[""],e=bj(e),0,[0],e))}function B1(e,r,t,n,a,s,l,u,d){for(var f=0,p=0,x=l,y=0,m=0,w=0,v=1,N=1,S=1,k=0,_="",A=a,R=s,V=n,P=_;N;)switch(w=k,k=Oo()){case 40:if(w!=108&&li(P,x-1)==58){pb(P+=Wn(P1(k),"&","&\f"),"&\f")!=-1&&(S=-1);break}case 34:case 39:case 91:P+=P1(k);break;case 9:case 10:case 13:case 32:P+=cY(w);break;case 92:P+=uY(F1()-1,7);continue;case 47:switch(Fc()){case 42:case 47:h1(pY(dY(Oo(),F1()),r,t),d);break;default:P+="/"}break;case 123*v:u[f++]=kc(P)*S;case 125*v:case 59:case 0:switch(k){case 0:case 125:N=0;case 59+p:S==-1&&(P=Wn(P,/\f/g,"")),m>0&&kc(P)-x&&h1(m>32?LS(P+";",n,t,x-1):LS(Wn(P," ","")+";",n,t,x-2),d);break;case 59:P+=";";default:if(h1(V=OS(P,r,t,f,p,a,u,_,A=[],R=[],x),s),k===123)if(p===0)B1(P,r,V,V,A,s,x,u,R);else switch(y===99&&li(P,3)===110?100:y){case 100:case 108:case 109:case 115:B1(e,V,V,n&&h1(OS(e,V,V,0,0,a,u,_,a,A=[],x),R),a,R,x,u,n?A:R);break;default:B1(P,V,V,V,[""],R,0,u,R)}}f=p=m=0,v=S=1,_=P="",x=l;break;case 58:x=1+kc(P),m=w;default:if(v<1){if(k==123)--v;else if(k==125&&v++==0&&lY()==125)continue}switch(P+=u2(k),k*v){case 38:S=p>0?1:(P+="\f",-1);break;case 44:u[f++]=(kc(P)-1)*S,S=1;break;case 64:Fc()===45&&(P+=P1(Oo())),y=Fc(),p=x=kc(_=P+=fY(F1())),k++;break;case 45:w===45&&kc(P)==2&&(v=0)}}return s}function OS(e,r,t,n,a,s,l,u,d,f,p){for(var x=a-1,y=a===0?s:[""],m=Aw(y),w=0,v=0,N=0;w<n;++w)for(var S=0,k=om(e,x+1,x=rY(v=l[w])),_=e;S<m;++S)(_=yj(v>0?y[S]+" "+k:Wn(k,/&\f/g,y[S])))&&(d[N++]=_);return f2(e,r,t,a===0?jw:u,d,f,p)}function pY(e,r,t){return f2(e,r,t,gj,u2(oY()),om(e,2,-2),0)}function LS(e,r,t,n){return f2(e,r,t,Ew,om(e,0,n),om(e,n+1,-1),n)}function Vh(e,r){for(var t="",n=Aw(e),a=0;a<n;a++)t+=r(e[a],a,e,r)||"";return t}function mY(e,r,t,n){switch(e.type){case tY:if(e.children.length)break;case eY:case Ew:return e.return=e.return||e.value;case gj:return"";case xj:return e.return=e.value+"{"+Vh(e.children,n)+"}";case jw:e.value=e.props.join(",")}return kc(t=Vh(e.children,n))?e.return=e.value+"{"+t+"}":""}function gY(e){var r=Aw(e);return function(t,n,a,s){for(var l="",u=0;u<r;u++)l+=e[u](t,n,a,s)||"";return l}}function xY(e){return function(r){r.root||(r=r.return)&&e(r)}}function Nj(e){var r=Object.create(null);return function(t){return r[t]===void 0&&(r[t]=e(t)),r[t]}}var yY=function(r,t,n){for(var a=0,s=0;a=s,s=Fc(),a===38&&s===12&&(t[n]=1),!lm(s);)Oo();return Am(r,uo)},vY=function(r,t){var n=-1,a=44;do switch(lm(a)){case 0:a===38&&Fc()===12&&(t[n]=1),r[n]+=yY(uo-1,t,n);break;case 2:r[n]+=P1(a);break;case 4:if(a===44){r[++n]=Fc()===58?"&\f":"",t[n]=r[n].length;break}default:r[n]+=u2(a)}while(a=Oo());return r},bY=function(r,t){return wj(vY(bj(r),t))},RS=new WeakMap,wY=function(r){if(!(r.type!=="rule"||!r.parent||r.length<1)){for(var t=r.value,n=r.parent,a=r.column===n.column&&r.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(r.props.length===1&&t.charCodeAt(0)!==58&&!RS.get(n))&&!a){RS.set(r,!0);for(var s=[],l=bY(t,s),u=n.props,d=0,f=0;d<l.length;d++)for(var p=0;p<u.length;p++,f++)r.props[f]=s[d]?l[d].replace(/&\f/g,u[p]):u[p]+" "+l[d]}}},NY=function(r){if(r.type==="decl"){var t=r.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(r.return="",r.value="")}};function Sj(e,r){switch(aY(e,r)){case 5103:return Hn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Hn+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Hn+e+_x+e+ki+e+e;case 6828:case 4268:return Hn+e+ki+e+e;case 6165:return Hn+e+ki+"flex-"+e+e;case 5187:return Hn+e+Wn(e,/(\w+).+(:[^]+)/,Hn+"box-$1$2"+ki+"flex-$1$2")+e;case 5443:return Hn+e+ki+"flex-item-"+Wn(e,/flex-|-self/,"")+e;case 4675:return Hn+e+ki+"flex-line-pack"+Wn(e,/align-content|flex-|-self/,"")+e;case 5548:return Hn+e+ki+Wn(e,"shrink","negative")+e;case 5292:return Hn+e+ki+Wn(e,"basis","preferred-size")+e;case 6060:return Hn+"box-"+Wn(e,"-grow","")+Hn+e+ki+Wn(e,"grow","positive")+e;case 4554:return Hn+Wn(e,/([^-])(transform)/g,"$1"+Hn+"$2")+e;case 6187:return Wn(Wn(Wn(e,/(zoom-|grab)/,Hn+"$1"),/(image-set)/,Hn+"$1"),e,"")+e;case 5495:case 3959:return Wn(e,/(image-set\([^]*)/,Hn+"$1$`$1");case 4968:return Wn(Wn(e,/(.+:)(flex-)?(.*)/,Hn+"box-pack:$3"+ki+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Hn+e+e;case 4095:case 3583:case 4068:case 2532:return Wn(e,/(.+)-inline(.+)/,Hn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kc(e)-1-r>6)switch(li(e,r+1)){case 109:if(li(e,r+4)!==45)break;case 102:return Wn(e,/(.+:)(.+)-([^]+)/,"$1"+Hn+"$2-$3$1"+_x+(li(e,r+3)==108?"$3":"$2-$3"))+e;case 115:return~pb(e,"stretch")?Sj(Wn(e,"stretch","fill-available"),r)+e:e}break;case 4949:if(li(e,r+1)!==115)break;case 6444:switch(li(e,kc(e)-3-(~pb(e,"!important")&&10))){case 107:return Wn(e,":",":"+Hn)+e;case 101:return Wn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Hn+(li(e,14)===45?"inline-":"")+"box$3$1"+Hn+"$2$3$1"+ki+"$2box$3")+e}break;case 5936:switch(li(e,r+11)){case 114:return Hn+e+ki+Wn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Hn+e+ki+Wn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Hn+e+ki+Wn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Hn+e+ki+e+e}return e}var SY=function(r,t,n,a){if(r.length>-1&&!r.return)switch(r.type){case Ew:r.return=Sj(r.value,r.length);break;case xj:return Vh([Np(r,{value:Wn(r.value,"@","@"+Hn)})],a);case jw:if(r.length)return iY(r.props,function(s){switch(sY(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vh([Np(r,{props:[Wn(s,/:(read-\w+)/,":"+_x+"$1")]})],a);case"::placeholder":return Vh([Np(r,{props:[Wn(s,/:(plac\w+)/,":"+Hn+"input-$1")]}),Np(r,{props:[Wn(s,/:(plac\w+)/,":"+_x+"$1")]}),Np(r,{props:[Wn(s,/:(plac\w+)/,ki+"input-$1")]})],a)}return""})}},_Y=[SY],TY=function(r){var t=r.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var N=v.getAttribute("data-emotion");N.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var a=r.stylisPlugins||_Y,s={},l,u=[];l=r.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(v){for(var N=v.getAttribute("data-emotion").split(" "),S=1;S<N.length;S++)s[N[S]]=!0;u.push(v)});var d,f=[wY,NY];{var p,x=[mY,xY(function(v){p.insert(v)})],y=gY(f.concat(a,x)),m=function(N){return Vh(hY(N),y)};d=function(N,S,k,_){p=k,m(N?N+"{"+S.styles+"}":S.styles),_&&(w.inserted[S.name]=!0)}}var w={key:t,sheet:new Zq({key:t,container:l,nonce:r.nonce,speedy:r.speedy,prepend:r.prepend,insertionPoint:r.insertionPoint}),nonce:r.nonce,inserted:s,registered:{},insert:d};return w.sheet.hydrate(u),w},vv={exports:{}},Xn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MS;function kY(){if(MS)return Xn;MS=1;var e=typeof Symbol=="function"&&Symbol.for,r=e?Symbol.for("react.element"):60103,t=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,l=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,d=e?Symbol.for("react.async_mode"):60111,f=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,x=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,w=e?Symbol.for("react.lazy"):60116,v=e?Symbol.for("react.block"):60121,N=e?Symbol.for("react.fundamental"):60117,S=e?Symbol.for("react.responder"):60118,k=e?Symbol.for("react.scope"):60119;function _(R){if(typeof R=="object"&&R!==null){var V=R.$$typeof;switch(V){case r:switch(R=R.type,R){case d:case f:case n:case s:case a:case x:return R;default:switch(R=R&&R.$$typeof,R){case u:case p:case w:case m:case l:return R;default:return V}}case t:return V}}}function A(R){return _(R)===f}return Xn.AsyncMode=d,Xn.ConcurrentMode=f,Xn.ContextConsumer=u,Xn.ContextProvider=l,Xn.Element=r,Xn.ForwardRef=p,Xn.Fragment=n,Xn.Lazy=w,Xn.Memo=m,Xn.Portal=t,Xn.Profiler=s,Xn.StrictMode=a,Xn.Suspense=x,Xn.isAsyncMode=function(R){return A(R)||_(R)===d},Xn.isConcurrentMode=A,Xn.isContextConsumer=function(R){return _(R)===u},Xn.isContextProvider=function(R){return _(R)===l},Xn.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===r},Xn.isForwardRef=function(R){return _(R)===p},Xn.isFragment=function(R){return _(R)===n},Xn.isLazy=function(R){return _(R)===w},Xn.isMemo=function(R){return _(R)===m},Xn.isPortal=function(R){return _(R)===t},Xn.isProfiler=function(R){return _(R)===s},Xn.isStrictMode=function(R){return _(R)===a},Xn.isSuspense=function(R){return _(R)===x},Xn.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===n||R===f||R===s||R===a||R===x||R===y||typeof R=="object"&&R!==null&&(R.$$typeof===w||R.$$typeof===m||R.$$typeof===l||R.$$typeof===u||R.$$typeof===p||R.$$typeof===N||R.$$typeof===S||R.$$typeof===k||R.$$typeof===v)},Xn.typeOf=_,Xn}var FS;function jY(){return FS||(FS=1,vv.exports=kY()),vv.exports}var bv,PS;function EY(){if(PS)return bv;PS=1;var e=jY(),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=n,s[e.Memo]=a;function l(w){return e.isMemo(w)?a:s[w.$$typeof]||r}var u=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,x=Object.getPrototypeOf,y=Object.prototype;function m(w,v,N){if(typeof v!="string"){if(y){var S=x(v);S&&S!==y&&m(w,S,N)}var k=d(v);f&&(k=k.concat(f(v)));for(var _=l(w),A=l(v),R=0;R<k.length;++R){var V=k[R];if(!t[V]&&!(N&&N[V])&&!(A&&A[V])&&!(_&&_[V])){var P=p(v,V);try{u(w,V,P)}catch{}}}}return w}return bv=m,bv}EY();var AY=!0;function _j(e,r,t){var n="";return t.split(" ").forEach(function(a){e[a]!==void 0?r.push(e[a]+";"):a&&(n+=a+" ")}),n}var Cw=function(r,t,n){var a=r.key+"-"+t.name;(n===!1||AY===!1)&&r.registered[a]===void 0&&(r.registered[a]=t.styles)},Tj=function(r,t,n){Cw(r,t,n);var a=r.key+"-"+t.name;if(r.inserted[t.name]===void 0){var s=t;do r.insert(t===s?"."+a:"",s,r.sheet,!0),s=s.next;while(s!==void 0)}};function CY(e){for(var r=0,t,n=0,a=e.length;a>=4;++n,a-=4)t=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,r=(t&65535)*1540483477+((t>>>16)*59797<<16)^(r&65535)*1540483477+((r>>>16)*59797<<16);switch(a){case 3:r^=(e.charCodeAt(n+2)&255)<<16;case 2:r^=(e.charCodeAt(n+1)&255)<<8;case 1:r^=e.charCodeAt(n)&255,r=(r&65535)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,r=(r&65535)*1540483477+((r>>>16)*59797<<16),((r^r>>>15)>>>0).toString(36)}var DY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},OY=/[A-Z]|^ms/g,LY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,kj=function(r){return r.charCodeAt(1)===45},BS=function(r){return r!=null&&typeof r!="boolean"},wv=Nj(function(e){return kj(e)?e:e.replace(OY,"-$&").toLowerCase()}),IS=function(r,t){switch(r){case"animation":case"animationName":if(typeof t=="string")return t.replace(LY,function(n,a,s){return jc={name:a,styles:s,next:jc},a})}return DY[r]!==1&&!kj(r)&&typeof t=="number"&&t!==0?t+"px":t};function cm(e,r,t){if(t==null)return"";var n=t;if(n.__emotion_styles!==void 0)return n;switch(typeof t){case"boolean":return"";case"object":{var a=t;if(a.anim===1)return jc={name:a.name,styles:a.styles,next:jc},a.name;var s=t;if(s.styles!==void 0){var l=s.next;if(l!==void 0)for(;l!==void 0;)jc={name:l.name,styles:l.styles,next:jc},l=l.next;var u=s.styles+";";return u}return RY(e,r,t)}case"function":{if(e!==void 0){var d=jc,f=t(e);return jc=d,cm(e,r,f)}break}}var p=t;if(r==null)return p;var x=r[p];return x!==void 0?x:p}function RY(e,r,t){var n="";if(Array.isArray(t))for(var a=0;a<t.length;a++)n+=cm(e,r,t[a])+";";else for(var s in t){var l=t[s];if(typeof l!="object"){var u=l;r!=null&&r[u]!==void 0?n+=s+"{"+r[u]+"}":BS(u)&&(n+=wv(s)+":"+IS(s,u)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&(r==null||r[l[0]]===void 0))for(var d=0;d<l.length;d++)BS(l[d])&&(n+=wv(s)+":"+IS(s,l[d])+";");else{var f=cm(e,r,l);switch(s){case"animation":case"animationName":{n+=wv(s)+":"+f+";";break}default:n+=s+"{"+f+"}"}}}return n}var $S=/label:\s*([^\s;{]+)\s*(;|$)/g,jc;function h2(e,r,t){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";jc=void 0;var s=e[0];if(s==null||s.raw===void 0)n=!1,a+=cm(t,r,s);else{var l=s;a+=l[0]}for(var u=1;u<e.length;u++)if(a+=cm(t,r,e[u]),n){var d=s;a+=d[u]}$S.lastIndex=0;for(var f="",p;(p=$S.exec(a))!==null;)f+="-"+p[1];var x=CY(a)+f;return{name:x,styles:a,next:jc}}var MY=function(r){return r()},FY=$1.useInsertionEffect?$1.useInsertionEffect:!1,jj=FY||MY,Ej=T.createContext(typeof HTMLElement<"u"?TY({key:"css"}):null);Ej.Provider;var Aj=function(r){return T.forwardRef(function(t,n){var a=T.useContext(Ej);return r(t,a,n)})},Dw=T.createContext({}),Ow={}.hasOwnProperty,gb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",PY=function(r,t){var n={};for(var a in t)Ow.call(t,a)&&(n[a]=t[a]);return n[gb]=r,n},BY=function(r){var t=r.cache,n=r.serialized,a=r.isStringTag;return Cw(t,n,a),jj(function(){return Tj(t,n,a)}),null},IY=Aj(function(e,r,t){var n=e.css;typeof n=="string"&&r.registered[n]!==void 0&&(n=r.registered[n]);var a=e[gb],s=[n],l="";typeof e.className=="string"?l=_j(r.registered,s,e.className):e.className!=null&&(l=e.className+" ");var u=h2(s,void 0,T.useContext(Dw));l+=r.key+"-"+u.name;var d={};for(var f in e)Ow.call(e,f)&&f!=="css"&&f!==gb&&(d[f]=e[f]);return d.className=l,t&&(d.ref=t),T.createElement(T.Fragment,null,T.createElement(BY,{cache:r,serialized:u,isStringTag:typeof a=="string"}),T.createElement(a,d))}),$Y=IY,zS=function(r,t){var n=arguments;if(t==null||!Ow.call(t,"css"))return T.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=$Y,s[1]=PY(r,t);for(var l=2;l<a;l++)s[l]=n[l];return T.createElement.apply(null,s)};(function(e){var r;r||(r=e.JSX||(e.JSX={}))})(zS||(zS={}));function zY(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return h2(r)}function Lw(){var e=zY.apply(void 0,arguments),r="animation-"+e.name;return{name:r,styles:"@keyframes "+r+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var UY=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,HY=Nj(function(e){return UY.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),WY=HY,VY=function(r){return r!=="theme"},US=function(r){return typeof r=="string"&&r.charCodeAt(0)>96?WY:VY},HS=function(r,t,n){var a;if(t){var s=t.shouldForwardProp;a=r.__emotion_forwardProp&&s?function(l){return r.__emotion_forwardProp(l)&&s(l)}:s}return typeof a!="function"&&n&&(a=r.__emotion_forwardProp),a},qY=function(r){var t=r.cache,n=r.serialized,a=r.isStringTag;return Cw(t,n,a),jj(function(){return Tj(t,n,a)}),null},YY=function e(r,t){var n=r.__emotion_real===r,a=n&&r.__emotion_base||r,s,l;t!==void 0&&(s=t.label,l=t.target);var u=HS(r,t,n),d=u||US(a),f=!d("as");return function(){var p=arguments,x=n&&r.__emotion_styles!==void 0?r.__emotion_styles.slice(0):[];if(s!==void 0&&x.push("label:"+s+";"),p[0]==null||p[0].raw===void 0)x.push.apply(x,p);else{var y=p[0];x.push(y[0]);for(var m=p.length,w=1;w<m;w++)x.push(p[w],y[w])}var v=Aj(function(N,S,k){var _=f&&N.as||a,A="",R=[],V=N;if(N.theme==null){V={};for(var P in N)V[P]=N[P];V.theme=T.useContext(Dw)}typeof N.className=="string"?A=_j(S.registered,R,N.className):N.className!=null&&(A=N.className+" ");var I=h2(x.concat(R),S.registered,V);A+=S.key+"-"+I.name,l!==void 0&&(A+=" "+l);var B=f&&u===void 0?US(_):d,O={};for(var L in N)f&&L==="as"||B(L)&&(O[L]=N[L]);return O.className=A,k&&(O.ref=k),T.createElement(T.Fragment,null,T.createElement(qY,{cache:S,serialized:I,isStringTag:typeof _=="string"}),T.createElement(_,O))});return v.displayName=s!==void 0?s:"Styled("+(typeof a=="string"?a:a.displayName||a.name||"Component")+")",v.defaultProps=r.defaultProps,v.__emotion_real=v,v.__emotion_base=a,v.__emotion_styles=x,v.__emotion_forwardProp=u,Object.defineProperty(v,"toString",{value:function(){return"."+l}}),v.withComponent=function(N,S){var k=e(N,Sx({},t,S,{shouldForwardProp:HS(v,S,!0)}));return k.apply(void 0,x)},v}},GY=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xb=YY.bind(null);GY.forEach(function(e){xb[e]=xb(e)});function Cj(e,r){return xb(e,r)}function XY(e,r){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=r(e.__emotion_styles))}const WS=[];function VS(e){return WS[0]=e,h2(WS)}var Nv={exports:{}},da={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qS;function KY(){if(qS)return da;qS=1;var e=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function w(v){if(typeof v=="object"&&v!==null){var N=v.$$typeof;switch(N){case e:switch(v=v.type,v){case t:case a:case n:case d:case f:case y:return v;default:switch(v=v&&v.$$typeof,v){case l:case u:case x:case p:return v;case s:return v;default:return N}}case r:return N}}}return da.ContextConsumer=s,da.ContextProvider=l,da.Element=e,da.ForwardRef=u,da.Fragment=t,da.Lazy=x,da.Memo=p,da.Portal=r,da.Profiler=a,da.StrictMode=n,da.Suspense=d,da.SuspenseList=f,da.isContextConsumer=function(v){return w(v)===s},da.isContextProvider=function(v){return w(v)===l},da.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===e},da.isForwardRef=function(v){return w(v)===u},da.isFragment=function(v){return w(v)===t},da.isLazy=function(v){return w(v)===x},da.isMemo=function(v){return w(v)===p},da.isPortal=function(v){return w(v)===r},da.isProfiler=function(v){return w(v)===a},da.isStrictMode=function(v){return w(v)===n},da.isSuspense=function(v){return w(v)===d},da.isSuspenseList=function(v){return w(v)===f},da.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===t||v===a||v===n||v===d||v===f||typeof v=="object"&&v!==null&&(v.$$typeof===x||v.$$typeof===p||v.$$typeof===l||v.$$typeof===s||v.$$typeof===u||v.$$typeof===m||v.getModuleId!==void 0)},da.typeOf=w,da}var YS;function JY(){return YS||(YS=1,Nv.exports=KY()),Nv.exports}var Dj=JY();function Cc(e){if(typeof e!="object"||e===null)return!1;const r=Object.getPrototypeOf(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Oj(e){if(T.isValidElement(e)||Dj.isValidElementType(e)||!Cc(e))return e;const r={};return Object.keys(e).forEach(t=>{r[t]=Oj(e[t])}),r}function Lo(e,r,t={clone:!0}){const n=t.clone?{...e}:e;return Cc(e)&&Cc(r)&&Object.keys(r).forEach(a=>{T.isValidElement(r[a])||Dj.isValidElementType(r[a])?n[a]=r[a]:Cc(r[a])&&Object.prototype.hasOwnProperty.call(e,a)&&Cc(e[a])?n[a]=Lo(e[a],r[a],t):t.clone?n[a]=Cc(r[a])?Oj(r[a]):r[a]:n[a]=r[a]}),n}const QY=e=>{const r=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return r.sort((t,n)=>t.val-n.val),r.reduce((t,n)=>({...t,[n.key]:n.val}),{})};function ZY(e){const{values:r={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:n=5,...a}=e,s=QY(r),l=Object.keys(s);function u(y){return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${t})`}function d(y){return`@media (max-width:${(typeof r[y]=="number"?r[y]:y)-n/100}${t})`}function f(y,m){const w=l.indexOf(m);return`@media (min-width:${typeof r[y]=="number"?r[y]:y}${t}) and (max-width:${(w!==-1&&typeof r[l[w]]=="number"?r[l[w]]:m)-n/100}${t})`}function p(y){return l.indexOf(y)+1<l.length?f(y,l[l.indexOf(y)+1]):u(y)}function x(y){const m=l.indexOf(y);return m===0?u(l[1]):m===l.length-1?d(l[m]):f(y,l[l.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:l,values:s,up:u,down:d,between:f,only:p,not:x,unit:t,...a}}function eG(e,r){if(!e.containerQueries)return r;const t=Object.keys(r).filter(n=>n.startsWith("@container")).sort((n,a)=>{var l,u;const s=/min-width:\s*([0-9.]+)/;return+(((l=n.match(s))==null?void 0:l[1])||0)-+(((u=a.match(s))==null?void 0:u[1])||0)});return t.length?t.reduce((n,a)=>{const s=r[a];return delete n[a],n[a]=s,n},{...r}):r}function tG(e,r){return r==="@"||r.startsWith("@")&&(e.some(t=>r.startsWith(`@${t}`))||!!r.match(/^@\d/))}function rG(e,r){const t=r.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,n,a]=t,s=Number.isNaN(+n)?n||0:+n;return e.containerQueries(a).up(s)}function nG(e){const r=(s,l)=>s.replace("@media",l?`@container ${l}`:"@container");function t(s,l){s.up=(...u)=>r(e.breakpoints.up(...u),l),s.down=(...u)=>r(e.breakpoints.down(...u),l),s.between=(...u)=>r(e.breakpoints.between(...u),l),s.only=(...u)=>r(e.breakpoints.only(...u),l),s.not=(...u)=>{const d=r(e.breakpoints.not(...u),l);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const n={},a=s=>(t(n,s),n);return t(a),{...e,containerQueries:a}}const aG={borderRadius:4};function Up(e,r){return r?Lo(e,r,{clone:!1}):e}const p2={xs:0,sm:600,md:900,lg:1200,xl:1536},GS={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${p2[e]}px)`},sG={containerQueries:e=>({up:r=>{let t=typeof r=="number"?r:p2[r]||r;return typeof t=="number"&&(t=`${t}px`),e?`@container ${e} (min-width:${t})`:`@container (min-width:${t})`}})};function Ou(e,r,t){const n=e.theme||{};if(Array.isArray(r)){const s=n.breakpoints||GS;return r.reduce((l,u,d)=>(l[s.up(s.keys[d])]=t(r[d]),l),{})}if(typeof r=="object"){const s=n.breakpoints||GS;return Object.keys(r).reduce((l,u)=>{if(tG(s.keys,u)){const d=rG(n.containerQueries?n:sG,u);d&&(l[d]=t(r[u],u))}else if(Object.keys(s.values||p2).includes(u)){const d=s.up(u);l[d]=t(r[u],u)}else{const d=u;l[d]=r[d]}return l},{})}return t(r)}function iG(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,a)=>{const s=e.up(a);return n[s]={},n},{}))||{}}function oG(e,r){return e.reduce((t,n)=>{const a=t[n];return(!a||Object.keys(a).length===0)&&delete t[n],t},r)}function Od(e){if(typeof e!="string")throw new Error(Rf(7));return e.charAt(0).toUpperCase()+e.slice(1)}function m2(e,r,t=!0){if(!r||typeof r!="string")return null;if(e&&e.vars&&t){const n=`vars.${r}`.split(".").reduce((a,s)=>a&&a[s]?a[s]:null,e);if(n!=null)return n}return r.split(".").reduce((n,a)=>n&&n[a]!=null?n[a]:null,e)}function Tx(e,r,t,n=t){let a;return typeof e=="function"?a=e(t):Array.isArray(e)?a=e[t]||n:a=m2(e,t)||n,r&&(a=r(a,n,e)),a}function bs(e){const{prop:r,cssProperty:t=e.prop,themeKey:n,transform:a}=e,s=l=>{if(l[r]==null)return null;const u=l[r],d=l.theme,f=m2(d,n)||{};return Ou(l,u,x=>{let y=Tx(f,a,x);return x===y&&typeof x=="string"&&(y=Tx(f,a,`${r}${x==="default"?"":Od(x)}`,x)),t===!1?y:{[t]:y}})};return s.propTypes={},s.filterProps=[r],s}function lG(e){const r={};return t=>(r[t]===void 0&&(r[t]=e(t)),r[t])}const cG={m:"margin",p:"padding"},uG={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},XS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},dG=lG(e=>{if(e.length>2)if(XS[e])e=XS[e];else return[e];const[r,t]=e.split(""),n=cG[r],a=uG[t]||"";return Array.isArray(a)?a.map(s=>n+s):[n+a]}),Rw=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Mw=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Rw,...Mw];function Cm(e,r,t,n){const a=m2(e,r,!0)??t;return typeof a=="number"||typeof a=="string"?s=>typeof s=="string"?s:typeof a=="string"?a.startsWith("var(")&&s===0?0:a.startsWith("var(")&&s===1?a:`calc(${s} * ${a})`:a*s:Array.isArray(a)?s=>{if(typeof s=="string")return s;const l=Math.abs(s),u=a[l];return s>=0?u:typeof u=="number"?-u:typeof u=="string"&&u.startsWith("var(")?`calc(-1 * ${u})`:`-${u}`}:typeof a=="function"?a:()=>{}}function Fw(e){return Cm(e,"spacing",8)}function Dm(e,r){return typeof r=="string"||r==null?r:e(r)}function fG(e,r){return t=>e.reduce((n,a)=>(n[a]=Dm(r,t),n),{})}function hG(e,r,t,n){if(!r.includes(t))return null;const a=dG(t),s=fG(a,n),l=e[t];return Ou(e,l,s)}function Lj(e,r){const t=Fw(e.theme);return Object.keys(e).map(n=>hG(e,r,n,t)).reduce(Up,{})}function Za(e){return Lj(e,Rw)}Za.propTypes={};Za.filterProps=Rw;function es(e){return Lj(e,Mw)}es.propTypes={};es.filterProps=Mw;function Rj(e=8,r=Fw({spacing:e})){if(e.mui)return e;const t=(...n)=>(n.length===0?[1]:n).map(s=>{const l=r(s);return typeof l=="number"?`${l}px`:l}).join(" ");return t.mui=!0,t}function g2(...e){const r=e.reduce((n,a)=>(a.filterProps.forEach(s=>{n[s]=a}),n),{}),t=n=>Object.keys(n).reduce((a,s)=>r[s]?Up(a,r[s](n)):a,{});return t.propTypes={},t.filterProps=e.reduce((n,a)=>n.concat(a.filterProps),[]),t}function al(e){return typeof e!="number"?e:`${e}px solid`}function ol(e,r){return bs({prop:e,themeKey:"borders",transform:r})}const pG=ol("border",al),mG=ol("borderTop",al),gG=ol("borderRight",al),xG=ol("borderBottom",al),yG=ol("borderLeft",al),vG=ol("borderColor"),bG=ol("borderTopColor"),wG=ol("borderRightColor"),NG=ol("borderBottomColor"),SG=ol("borderLeftColor"),_G=ol("outline",al),TG=ol("outlineColor"),x2=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const r=Cm(e.theme,"shape.borderRadius",4),t=n=>({borderRadius:Dm(r,n)});return Ou(e,e.borderRadius,t)}return null};x2.propTypes={};x2.filterProps=["borderRadius"];g2(pG,mG,gG,xG,yG,vG,bG,wG,NG,SG,x2,_G,TG);const y2=e=>{if(e.gap!==void 0&&e.gap!==null){const r=Cm(e.theme,"spacing",8),t=n=>({gap:Dm(r,n)});return Ou(e,e.gap,t)}return null};y2.propTypes={};y2.filterProps=["gap"];const v2=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const r=Cm(e.theme,"spacing",8),t=n=>({columnGap:Dm(r,n)});return Ou(e,e.columnGap,t)}return null};v2.propTypes={};v2.filterProps=["columnGap"];const b2=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const r=Cm(e.theme,"spacing",8),t=n=>({rowGap:Dm(r,n)});return Ou(e,e.rowGap,t)}return null};b2.propTypes={};b2.filterProps=["rowGap"];const kG=bs({prop:"gridColumn"}),jG=bs({prop:"gridRow"}),EG=bs({prop:"gridAutoFlow"}),AG=bs({prop:"gridAutoColumns"}),CG=bs({prop:"gridAutoRows"}),DG=bs({prop:"gridTemplateColumns"}),OG=bs({prop:"gridTemplateRows"}),LG=bs({prop:"gridTemplateAreas"}),RG=bs({prop:"gridArea"});g2(y2,v2,b2,kG,jG,EG,AG,CG,DG,OG,LG,RG);function qh(e,r){return r==="grey"?r:e}const MG=bs({prop:"color",themeKey:"palette",transform:qh}),FG=bs({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:qh}),PG=bs({prop:"backgroundColor",themeKey:"palette",transform:qh});g2(MG,FG,PG);function Ao(e){return e<=1&&e!==0?`${e*100}%`:e}const BG=bs({prop:"width",transform:Ao}),Pw=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const r=t=>{var a,s,l,u,d;const n=((l=(s=(a=e.theme)==null?void 0:a.breakpoints)==null?void 0:s.values)==null?void 0:l[t])||p2[t];return n?((d=(u=e.theme)==null?void 0:u.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${n}${e.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:Ao(t)}};return Ou(e,e.maxWidth,r)}return null};Pw.filterProps=["maxWidth"];const IG=bs({prop:"minWidth",transform:Ao}),$G=bs({prop:"height",transform:Ao}),zG=bs({prop:"maxHeight",transform:Ao}),UG=bs({prop:"minHeight",transform:Ao});bs({prop:"size",cssProperty:"width",transform:Ao});bs({prop:"size",cssProperty:"height",transform:Ao});const HG=bs({prop:"boxSizing"});g2(BG,Pw,IG,$G,zG,UG,HG);const Om={border:{themeKey:"borders",transform:al},borderTop:{themeKey:"borders",transform:al},borderRight:{themeKey:"borders",transform:al},borderBottom:{themeKey:"borders",transform:al},borderLeft:{themeKey:"borders",transform:al},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:al},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:x2},color:{themeKey:"palette",transform:qh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:qh},backgroundColor:{themeKey:"palette",transform:qh},p:{style:es},pt:{style:es},pr:{style:es},pb:{style:es},pl:{style:es},px:{style:es},py:{style:es},padding:{style:es},paddingTop:{style:es},paddingRight:{style:es},paddingBottom:{style:es},paddingLeft:{style:es},paddingX:{style:es},paddingY:{style:es},paddingInline:{style:es},paddingInlineStart:{style:es},paddingInlineEnd:{style:es},paddingBlock:{style:es},paddingBlockStart:{style:es},paddingBlockEnd:{style:es},m:{style:Za},mt:{style:Za},mr:{style:Za},mb:{style:Za},ml:{style:Za},mx:{style:Za},my:{style:Za},margin:{style:Za},marginTop:{style:Za},marginRight:{style:Za},marginBottom:{style:Za},marginLeft:{style:Za},marginX:{style:Za},marginY:{style:Za},marginInline:{style:Za},marginInlineStart:{style:Za},marginInlineEnd:{style:Za},marginBlock:{style:Za},marginBlockStart:{style:Za},marginBlockEnd:{style:Za},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:y2},rowGap:{style:b2},columnGap:{style:v2},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ao},maxWidth:{style:Pw},minWidth:{transform:Ao},height:{transform:Ao},maxHeight:{transform:Ao},minHeight:{transform:Ao},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function WG(...e){const r=e.reduce((n,a)=>n.concat(Object.keys(a)),[]),t=new Set(r);return e.every(n=>t.size===Object.keys(n).length)}function VG(e,r){return typeof e=="function"?e(r):e}function qG(){function e(t,n,a,s){const l={[t]:n,theme:a},u=s[t];if(!u)return{[t]:n};const{cssProperty:d=t,themeKey:f,transform:p,style:x}=u;if(n==null)return null;if(f==="typography"&&n==="inherit")return{[t]:n};const y=m2(a,f)||{};return x?x(l):Ou(l,n,w=>{let v=Tx(y,p,w);return w===v&&typeof w=="string"&&(v=Tx(y,p,`${t}${w==="default"?"":Od(w)}`,w)),d===!1?v:{[d]:v}})}function r(t){const{sx:n,theme:a={}}=t||{};if(!n)return null;const s=a.unstable_sxConfig??Om;function l(u){let d=u;if(typeof u=="function")d=u(a);else if(typeof u!="object")return u;if(!d)return null;const f=iG(a.breakpoints),p=Object.keys(f);let x=f;return Object.keys(d).forEach(y=>{const m=VG(d[y],a);if(m!=null)if(typeof m=="object")if(s[y])x=Up(x,e(y,m,a,s));else{const w=Ou({theme:a},m,v=>({[y]:v}));WG(w,m)?x[y]=r({sx:m,theme:a}):x=Up(x,w)}else x=Up(x,e(y,m,a,s))}),eG(a,oG(p,x))}return Array.isArray(n)?n.map(l):l(n)}return r}const Mf=qG();Mf.filterProps=["sx"];function YG(e,r){var n;const t=this;if(t.vars){if(!((n=t.colorSchemes)!=null&&n[e])||typeof t.getColorSchemeSelector!="function")return{};let a=t.getColorSchemeSelector(e);return a==="&"?r:((a.includes("data-")||a.includes("."))&&(a=`*:where(${a.replace(/\s*&$/,"")}) &`),{[a]:r})}return t.palette.mode===e?r:{}}function Bw(e={},...r){const{breakpoints:t={},palette:n={},spacing:a,shape:s={},...l}=e,u=ZY(t),d=Rj(a);let f=Lo({breakpoints:u,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:d,shape:{...aG,...s}},l);return f=nG(f),f.applyStyles=YG,f=r.reduce((p,x)=>Lo(p,x),f),f.unstable_sxConfig={...Om,...l==null?void 0:l.unstable_sxConfig},f.unstable_sx=function(x){return Mf({sx:x,theme:this})},f}function GG(e){return Object.keys(e).length===0}function XG(e=null){const r=T.useContext(Dw);return!r||GG(r)?e:r}const KG=Bw();function Mj(e=KG){return XG(e)}const JG=e=>{var n;const r={systemProps:{},otherProps:{}},t=((n=e==null?void 0:e.theme)==null?void 0:n.unstable_sxConfig)??Om;return Object.keys(e).forEach(a=>{t[a]?r.systemProps[a]=e[a]:r.otherProps[a]=e[a]}),r};function QG(e){const{sx:r,...t}=e,{systemProps:n,otherProps:a}=JG(t);let s;return Array.isArray(r)?s=[n,...r]:typeof r=="function"?s=(...l)=>{const u=r(...l);return Cc(u)?{...n,...u}:n}:s={...n,...r},{...a,sx:s}}const KS=e=>e,ZG=()=>{let e=KS;return{configure(r){e=r},generate(r){return e(r)},reset(){e=KS}}},Fj=ZG();function eX(e={}){const{themeId:r,defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:a}=e,s=Cj("div",{shouldForwardProp:u=>u!=="theme"&&u!=="sx"&&u!=="as"})(Mf);return T.forwardRef(function(d,f){const p=Mj(t),{className:x,component:y="div",...m}=QG(d);return i.jsx(s,{as:y,ref:f,className:bn(x,a?a(n):n),theme:r&&p[r]||p,...m})})}const tX={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function g0(e,r,t="Mui"){const n=tX[r];return n?`${t}-${n}`:`${Fj.generate(e)}-${r}`}function Wf(e,r,t="Mui"){const n={};return r.forEach(a=>{n[a]=g0(e,a,t)}),n}function Pj(e){const{variants:r,...t}=e,n={variants:r,style:VS(t),isProcessed:!0};return n.style===t||r&&r.forEach(a=>{typeof a.style!="function"&&(a.style=VS(a.style))}),n}const rX=Bw();function Sv(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function nX(e){return e?(r,t)=>t[e]:null}function aX(e,r,t){e.theme=oX(e.theme)?t:e.theme[r]||e.theme}function I1(e,r){const t=typeof r=="function"?r(e):r;if(Array.isArray(t))return t.flatMap(n=>I1(e,n));if(Array.isArray(t==null?void 0:t.variants)){let n;if(t.isProcessed)n=t.style;else{const{variants:a,...s}=t;n=s}return Bj(e,t.variants,[n])}return t!=null&&t.isProcessed?t.style:t}function Bj(e,r,t=[]){var a;let n;e:for(let s=0;s<r.length;s+=1){const l=r[s];if(typeof l.props=="function"){if(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),!l.props(n))continue}else for(const u in l.props)if(e[u]!==l.props[u]&&((a=e.ownerState)==null?void 0:a[u])!==l.props[u])continue e;typeof l.style=="function"?(n??(n={...e,...e.ownerState,ownerState:e.ownerState}),t.push(l.style(n))):t.push(l.style)}return t}function sX(e={}){const{themeId:r,defaultTheme:t=rX,rootShouldForwardProp:n=Sv,slotShouldForwardProp:a=Sv}=e;function s(u){aX(u,r,t)}return(u,d={})=>{XY(u,R=>R.filter(V=>V!==Mf));const{name:f,slot:p,skipVariantsResolver:x,skipSx:y,overridesResolver:m=nX(cX(p)),...w}=d,v=x!==void 0?x:p&&p!=="Root"&&p!=="root"||!1,N=y||!1;let S=Sv;p==="Root"||p==="root"?S=n:p?S=a:lX(u)&&(S=void 0);const k=Cj(u,{shouldForwardProp:S,label:iX(),...w}),_=R=>{if(R.__emotion_real===R)return R;if(typeof R=="function")return function(P){return I1(P,R)};if(Cc(R)){const V=Pj(R);return V.variants?function(I){return I1(I,V)}:V.style}return R},A=(...R)=>{const V=[],P=R.map(_),I=[];if(V.push(s),f&&m&&I.push(function(C){var W,J;const Q=(J=(W=C.theme.components)==null?void 0:W[f])==null?void 0:J.styleOverrides;if(!Q)return null;const ce={};for(const re in Q)ce[re]=I1(C,Q[re]);return m(C,ce)}),f&&!v&&I.push(function(C){var ce,W;const Y=C.theme,Q=(W=(ce=Y==null?void 0:Y.components)==null?void 0:ce[f])==null?void 0:W.variants;return Q?Bj(C,Q):null}),N||I.push(Mf),Array.isArray(P[0])){const L=P.shift(),C=new Array(V.length).fill(""),Y=new Array(I.length).fill("");let Q;Q=[...C,...L,...Y],Q.raw=[...C,...L.raw,...Y],V.unshift(Q)}const B=[...V,...P,...I],O=k(...B);return u.muiName&&(O.muiName=u.muiName),O};return k.withConfig&&(A.withConfig=k.withConfig),A}}function iX(e,r){return void 0}function oX(e){for(const r in e)return!1;return!0}function lX(e){return typeof e=="string"&&e.charCodeAt(0)>96}function cX(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function yb(e,r){const t={...r};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const a=n;if(a==="components"||a==="slots")t[a]={...e[a],...t[a]};else if(a==="componentsProps"||a==="slotProps"){const s=e[a],l=r[a];if(!l)t[a]=s||{};else if(!s)t[a]=l;else{t[a]={...l};for(const u in s)if(Object.prototype.hasOwnProperty.call(s,u)){const d=u;t[a][d]=yb(s[d],l[d])}}}else t[a]===void 0&&(t[a]=e[a])}return t}const Ij=typeof window<"u"?T.useLayoutEffect:T.useEffect;function uX(e,r=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(r,Math.min(e,t))}function Iw(e,r=0,t=1){return uX(e,r,t)}function dX(e){e=e.slice(1);const r=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let t=e.match(r);return t&&t[0].length===1&&(t=t.map(n=>n+n)),t?`rgb${t.length===4?"a":""}(${t.map((n,a)=>a<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Ld(e){if(e.type)return e;if(e.charAt(0)==="#")return Ld(dX(e));const r=e.indexOf("("),t=e.substring(0,r);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Rf(9,e));let n=e.substring(r+1,e.length-1),a;if(t==="color"){if(n=n.split(" "),a=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(a))throw new Error(Rf(10,a))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:t,values:n,colorSpace:a}}const fX=e=>{const r=Ld(e);return r.values.slice(0,3).map((t,n)=>r.type.includes("hsl")&&n!==0?`${t}%`:t).join(" ")},Ep=(e,r)=>{try{return fX(e)}catch{return e}};function w2(e){const{type:r,colorSpace:t}=e;let{values:n}=e;return r.includes("rgb")?n=n.map((a,s)=>s<3?parseInt(a,10):a):r.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),r.includes("color")?n=`${t} ${n.join(" ")}`:n=`${n.join(", ")}`,`${r}(${n})`}function $j(e){e=Ld(e);const{values:r}=e,t=r[0],n=r[1]/100,a=r[2]/100,s=n*Math.min(a,1-a),l=(f,p=(f+t/30)%12)=>a-s*Math.max(Math.min(p-3,9-p,1),-1);let u="rgb";const d=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return e.type==="hsla"&&(u+="a",d.push(r[3])),w2({type:u,values:d})}function vb(e){e=Ld(e);let r=e.type==="hsl"||e.type==="hsla"?Ld($j(e)).values:e.values;return r=r.map(t=>(e.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*r[0]+.7152*r[1]+.0722*r[2]).toFixed(3))}function hX(e,r){const t=vb(e),n=vb(r);return(Math.max(t,n)+.05)/(Math.min(t,n)+.05)}function pX(e,r){return e=Ld(e),r=Iw(r),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${r}`:e.values[3]=r,w2(e)}function p1(e,r,t){try{return pX(e,r)}catch{return e}}function $w(e,r){if(e=Ld(e),r=Iw(r),e.type.includes("hsl"))e.values[2]*=1-r;else if(e.type.includes("rgb")||e.type.includes("color"))for(let t=0;t<3;t+=1)e.values[t]*=1-r;return w2(e)}function va(e,r,t){try{return $w(e,r)}catch{return e}}function zw(e,r){if(e=Ld(e),r=Iw(r),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*r;else if(e.type.includes("rgb"))for(let t=0;t<3;t+=1)e.values[t]+=(255-e.values[t])*r;else if(e.type.includes("color"))for(let t=0;t<3;t+=1)e.values[t]+=(1-e.values[t])*r;return w2(e)}function ba(e,r,t){try{return zw(e,r)}catch{return e}}function mX(e,r=.15){return vb(e)>.5?$w(e,r):zw(e,r)}function m1(e,r,t){try{return mX(e,r)}catch{return e}}const gX=T.createContext(),zj=()=>T.useContext(gX)??!1,xX=T.createContext(void 0);function yX(e){const{theme:r,name:t,props:n}=e;if(!r||!r.components||!r.components[t])return n;const a=r.components[t];return a.defaultProps?yb(a.defaultProps,n):!a.styleOverrides&&!a.variants?yb(a,n):n}function vX({props:e,name:r}){const t=T.useContext(xX);return yX({props:e,name:r,theme:{components:t}})}const JS={theme:void 0};function bX(e){let r,t;return function(a){let s=r;return(s===void 0||a.theme!==t)&&(JS.theme=a.theme,s=Pj(e(JS)),r=s,t=a.theme),s}}function wX(e=""){function r(...n){if(!n.length)return"";const a=n[0];return typeof a=="string"&&!a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${a}${r(...n.slice(1))})`:`, ${a}`}return(n,...a)=>`var(--${e?`${e}-`:""}${n}${r(...a)})`}const QS=(e,r,t,n=[])=>{let a=e;r.forEach((s,l)=>{l===r.length-1?Array.isArray(a)?a[Number(s)]=t:a&&typeof a=="object"&&(a[s]=t):a&&typeof a=="object"&&(a[s]||(a[s]=n.includes(s)?[]:{}),a=a[s])})},NX=(e,r,t)=>{function n(a,s=[],l=[]){Object.entries(a).forEach(([u,d])=>{(!t||t&&!t([...s,u]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?n(d,[...s,u],Array.isArray(d)?[...l,u]:l):r([...s,u],d,l))})}n(e)},SX=(e,r)=>typeof r=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>e.includes(n))||e[e.length-1].toLowerCase().includes("opacity")?r:`${r}px`:r;function _v(e,r){const{prefix:t,shouldSkipGeneratingVar:n}=r||{},a={},s={},l={};return NX(e,(u,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!n||!n(u,d))){const p=`--${t?`${t}-`:""}${u.join("-")}`,x=SX(u,d);Object.assign(a,{[p]:x}),QS(s,u,`var(${p})`,f),QS(l,u,`var(${p}, ${x})`,f)}},u=>u[0]==="vars"),{css:a,vars:s,varsWithDefaults:l}}function _X(e,r={}){const{getSelector:t=N,disableCssColorScheme:n,colorSchemeSelector:a}=r,{colorSchemes:s={},components:l,defaultColorScheme:u="light",...d}=e,{vars:f,css:p,varsWithDefaults:x}=_v(d,r);let y=x;const m={},{[u]:w,...v}=s;if(Object.entries(v||{}).forEach(([_,A])=>{const{vars:R,css:V,varsWithDefaults:P}=_v(A,r);y=Lo(y,P),m[_]={css:V,vars:R}}),w){const{css:_,vars:A,varsWithDefaults:R}=_v(w,r);y=Lo(y,R),m[u]={css:_,vars:A}}function N(_,A){var V,P;let R=a;if(a==="class"&&(R=".%s"),a==="data"&&(R="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(R=`[${a}="%s"]`),_){if(R==="media")return e.defaultColorScheme===_?":root":{[`@media (prefers-color-scheme: ${((P=(V=s[_])==null?void 0:V.palette)==null?void 0:P.mode)||_})`]:{":root":A}};if(R)return e.defaultColorScheme===_?`:root, ${R.replace("%s",String(_))}`:R.replace("%s",String(_))}return":root"}return{vars:y,generateThemeVars:()=>{let _={...f};return Object.entries(m).forEach(([,{vars:A}])=>{_=Lo(_,A)}),_},generateStyleSheets:()=>{var I,B;const _=[],A=e.defaultColorScheme||"light";function R(O,L){Object.keys(L).length&&_.push(typeof O=="string"?{[O]:{...L}}:O)}R(t(void 0,{...p}),p);const{[A]:V,...P}=m;if(V){const{css:O}=V,L=(B=(I=s[A])==null?void 0:I.palette)==null?void 0:B.mode,C=!n&&L?{colorScheme:L,...O}:{...O};R(t(A,{...C}),C)}return Object.entries(P).forEach(([O,{css:L}])=>{var Q,ce;const C=(ce=(Q=s[O])==null?void 0:Q.palette)==null?void 0:ce.mode,Y=!n&&C?{colorScheme:C,...L}:{...L};R(t(O,{...Y}),Y)}),_}}}function TX(e){return function(t){return e==="media"?`@media (prefers-color-scheme: ${t})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${t}"] &`:e==="class"?`.${t} &`:e==="data"?`[data-${t}] &`:`${e.replace("%s",t)} &`:"&"}}function Lm(e,r,t=void 0){const n={};for(const a in e){const s=e[a];let l="",u=!0;for(let d=0;d<s.length;d+=1){const f=s[d];f&&(l+=(u===!0?"":" ")+r(f),u=!1,t&&t[f]&&(l+=" "+t[f]))}n[a]=l}return n}function Uj(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:im.white,default:im.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const kX=Uj();function Hj(){return{text:{primary:im.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:im.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ZS=Hj();function e_(e,r,t,n){const a=n.light||n,s=n.dark||n*1.5;e[r]||(e.hasOwnProperty(t)?e[r]=e[t]:r==="light"?e.light=zw(e.main,a):r==="dark"&&(e.dark=$w(e.main,s)))}function jX(e="light"){return e==="dark"?{main:Eh[200],light:Eh[50],dark:Eh[400]}:{main:Eh[700],light:Eh[400],dark:Eh[800]}}function EX(e="light"){return e==="dark"?{main:jh[200],light:jh[50],dark:jh[400]}:{main:jh[500],light:jh[300],dark:jh[700]}}function AX(e="light"){return e==="dark"?{main:kh[500],light:kh[300],dark:kh[700]}:{main:kh[700],light:kh[400],dark:kh[800]}}function CX(e="light"){return e==="dark"?{main:Ah[400],light:Ah[300],dark:Ah[700]}:{main:Ah[700],light:Ah[500],dark:Ah[900]}}function DX(e="light"){return e==="dark"?{main:Ch[400],light:Ch[300],dark:Ch[700]}:{main:Ch[800],light:Ch[500],dark:Ch[900]}}function OX(e="light"){return e==="dark"?{main:wp[400],light:wp[300],dark:wp[700]}:{main:"#ed6c02",light:wp[500],dark:wp[900]}}function Uw(e){const{mode:r="light",contrastThreshold:t=3,tonalOffset:n=.2,...a}=e,s=e.primary||jX(r),l=e.secondary||EX(r),u=e.error||AX(r),d=e.info||CX(r),f=e.success||DX(r),p=e.warning||OX(r);function x(v){return hX(v,ZS.text.primary)>=t?ZS.text.primary:kX.text.primary}const y=({color:v,name:N,mainShade:S=500,lightShade:k=300,darkShade:_=700})=>{if(v={...v},!v.main&&v[S]&&(v.main=v[S]),!v.hasOwnProperty("main"))throw new Error(Rf(11,N?` (${N})`:"",S));if(typeof v.main!="string")throw new Error(Rf(12,N?` (${N})`:"",JSON.stringify(v.main)));return e_(v,"light",k,n),e_(v,"dark",_,n),v.contrastText||(v.contrastText=x(v.main)),v};let m;return r==="light"?m=Uj():r==="dark"&&(m=Hj()),Lo({common:{...im},mode:r,primary:y({color:s,name:"primary"}),secondary:y({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:u,name:"error"}),warning:y({color:p,name:"warning"}),info:y({color:d,name:"info"}),success:y({color:f,name:"success"}),grey:Kq,contrastThreshold:t,getContrastText:x,augmentColor:y,tonalOffset:n,...m},a)}function LX(e){const r={};return Object.entries(e).forEach(n=>{const[a,s]=n;typeof s=="object"&&(r[a]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),r}function RX(e,r){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...r}}function MX(e){return Math.round(e*1e5)/1e5}const t_={textTransform:"uppercase"},r_='"Roboto", "Helvetica", "Arial", sans-serif';function FX(e,r){const{fontFamily:t=r_,fontSize:n=14,fontWeightLight:a=300,fontWeightRegular:s=400,fontWeightMedium:l=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:p,...x}=typeof r=="function"?r(e):r,y=n/14,m=p||(N=>`${N/d*y}rem`),w=(N,S,k,_,A)=>({fontFamily:t,fontWeight:N,fontSize:m(S),lineHeight:k,...t===r_?{letterSpacing:`${MX(_/S)}em`}:{},...A,...f}),v={h1:w(a,96,1.167,-1.5),h2:w(a,60,1.2,-.5),h3:w(s,48,1.167,0),h4:w(s,34,1.235,.25),h5:w(s,24,1.334,0),h6:w(l,20,1.6,.15),subtitle1:w(s,16,1.75,.15),subtitle2:w(l,14,1.57,.1),body1:w(s,16,1.5,.15),body2:w(s,14,1.43,.15),button:w(l,14,1.75,.4,t_),caption:w(s,12,1.66,.4),overline:w(s,12,2.66,1,t_),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Lo({htmlFontSize:d,pxToRem:m,fontFamily:t,fontSize:n,fontWeightLight:a,fontWeightRegular:s,fontWeightMedium:l,fontWeightBold:u,...v},x,{clone:!1})}const PX=.2,BX=.14,IX=.12;function Fa(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${PX})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${BX})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${IX})`].join(",")}const $X=["none",Fa(0,2,1,-1,0,1,1,0,0,1,3,0),Fa(0,3,1,-2,0,2,2,0,0,1,5,0),Fa(0,3,3,-2,0,3,4,0,0,1,8,0),Fa(0,2,4,-1,0,4,5,0,0,1,10,0),Fa(0,3,5,-1,0,5,8,0,0,1,14,0),Fa(0,3,5,-1,0,6,10,0,0,1,18,0),Fa(0,4,5,-2,0,7,10,1,0,2,16,1),Fa(0,5,5,-3,0,8,10,1,0,3,14,2),Fa(0,5,6,-3,0,9,12,1,0,3,16,2),Fa(0,6,6,-3,0,10,14,1,0,4,18,3),Fa(0,6,7,-4,0,11,15,1,0,4,20,3),Fa(0,7,8,-4,0,12,17,2,0,5,22,4),Fa(0,7,8,-4,0,13,19,2,0,5,24,4),Fa(0,7,9,-4,0,14,21,2,0,5,26,4),Fa(0,8,9,-5,0,15,22,2,0,6,28,5),Fa(0,8,10,-5,0,16,24,2,0,6,30,5),Fa(0,8,11,-5,0,17,26,2,0,6,32,5),Fa(0,9,11,-5,0,18,28,2,0,7,34,6),Fa(0,9,12,-6,0,19,29,2,0,7,36,6),Fa(0,10,13,-6,0,20,31,3,0,8,38,7),Fa(0,10,13,-6,0,21,33,3,0,8,40,7),Fa(0,10,14,-6,0,22,35,3,0,8,42,7),Fa(0,11,14,-7,0,23,36,3,0,9,44,8),Fa(0,11,15,-7,0,24,38,3,0,9,46,8)],zX={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},UX={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function n_(e){return`${Math.round(e)}ms`}function HX(e){if(!e)return 0;const r=e/36;return Math.min(Math.round((4+15*r**.25+r/5)*10),3e3)}function WX(e){const r={...zX,...e.easing},t={...UX,...e.duration};return{getAutoHeightDuration:HX,create:(a=["all"],s={})=>{const{duration:l=t.standard,easing:u=r.easeInOut,delay:d=0,...f}=s;return(Array.isArray(a)?a:[a]).map(p=>`${p} ${typeof l=="string"?l:n_(l)} ${u} ${typeof d=="string"?d:n_(d)}`).join(",")},...e,easing:r,duration:t}}const VX={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function qX(e){return Cc(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function Wj(e={}){const r={...e};function t(n){const a=Object.entries(n);for(let s=0;s<a.length;s++){const[l,u]=a[s];!qX(u)||l.startsWith("unstable_")?delete n[l]:Cc(u)&&(n[l]={...u},t(n[l]))}}return t(r),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(r,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function bb(e={},...r){const{breakpoints:t,mixins:n={},spacing:a,palette:s={},transitions:l={},typography:u={},shape:d,...f}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(Rf(20));const p=Uw(s),x=Bw(e);let y=Lo(x,{mixins:RX(x.breakpoints,n),palette:p,shadows:$X.slice(),typography:FX(p,u),transitions:WX(l),zIndex:{...VX}});return y=Lo(y,f),y=r.reduce((m,w)=>Lo(m,w),y),y.unstable_sxConfig={...Om,...f==null?void 0:f.unstable_sxConfig},y.unstable_sx=function(w){return Mf({sx:w,theme:this})},y.toRuntimeSource=Wj,y}function YX(e){let r;return e<1?r=5.11916*e**2:r=4.5*Math.log(e+1)+2,Math.round(r*10)/1e3}const GX=[...Array(25)].map((e,r)=>{if(r===0)return"none";const t=YX(r);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function Vj(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function qj(e){return e==="dark"?GX:[]}function XX(e){const{palette:r={mode:"light"},opacity:t,overlays:n,...a}=e,s=Uw(r);return{palette:s,opacity:{...Vj(s.mode),...t},overlays:n||qj(s.mode),...a}}function KX(e){var r;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((r=e[1])!=null&&r.match(/(mode|contrastThreshold|tonalOffset)/))}const JX=e=>[...[...Array(25)].map((r,t)=>`--${e?`${e}-`:""}overlays-${t}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],QX=e=>(r,t)=>{const n=e.rootSelector||":root",a=e.colorSchemeSelector;let s=a;if(a==="class"&&(s=".%s"),a==="data"&&(s="[data-%s]"),a!=null&&a.startsWith("data-")&&!a.includes("%s")&&(s=`[${a}="%s"]`),e.defaultColorScheme===r){if(r==="dark"){const l={};return JX(e.cssVarPrefix).forEach(u=>{l[u]=t[u],delete t[u]}),s==="media"?{[n]:t,"@media (prefers-color-scheme: dark)":{[n]:l}}:s?{[s.replace("%s",r)]:l,[`${n}, ${s.replace("%s",r)}`]:t}:{[n]:{...t,...l}}}if(s&&s!=="media")return`${n}, ${s.replace("%s",String(r))}`}else if(r){if(s==="media")return{[`@media (prefers-color-scheme: ${String(r)})`]:{[n]:t}};if(s)return s.replace("%s",String(r))}return n};function ZX(e,r){r.forEach(t=>{e[t]||(e[t]={})})}function jt(e,r,t){!e[r]&&t&&(e[r]=t)}function Ap(e){return typeof e!="string"||!e.startsWith("hsl")?e:$j(e)}function gu(e,r){`${r}Channel`in e||(e[`${r}Channel`]=Ep(Ap(e[r])))}function eK(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const vc=e=>{try{return e()}catch{}},tK=(e="mui")=>wX(e);function Tv(e,r,t,n){if(!r)return;r=r===!0?{}:r;const a=n==="dark"?"dark":"light";if(!t){e[n]=XX({...r,palette:{mode:a,...r==null?void 0:r.palette}});return}const{palette:s,...l}=bb({...t,palette:{mode:a,...r==null?void 0:r.palette}});return e[n]={...r,palette:s,opacity:{...Vj(a),...r==null?void 0:r.opacity},overlays:(r==null?void 0:r.overlays)||qj(a)},l}function rK(e={},...r){const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:a=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:l=KX,colorSchemeSelector:u=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=e,p=Object.keys(t)[0],x=n||(t.light&&p!=="light"?"light":p),y=tK(s),{[x]:m,light:w,dark:v,...N}=t,S={...N};let k=m;if((x==="dark"&&!("dark"in t)||x==="light"&&!("light"in t))&&(k=!0),!k)throw new Error(Rf(21,x));const _=Tv(S,k,f,x);w&&!S.light&&Tv(S,w,void 0,"light"),v&&!S.dark&&Tv(S,v,void 0,"dark");let A={defaultColorScheme:x,..._,cssVarPrefix:s,colorSchemeSelector:u,rootSelector:d,getCssVar:y,colorSchemes:S,font:{...LX(_.typography),..._.font},spacing:eK(f.spacing)};Object.keys(A.colorSchemes).forEach(B=>{const O=A.colorSchemes[B].palette,L=C=>{const Y=C.split("-"),Q=Y[1],ce=Y[2];return y(C,O[Q][ce])};if(O.mode==="light"&&(jt(O.common,"background","#fff"),jt(O.common,"onBackground","#000")),O.mode==="dark"&&(jt(O.common,"background","#000"),jt(O.common,"onBackground","#fff")),ZX(O,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),O.mode==="light"){jt(O.Alert,"errorColor",va(O.error.light,.6)),jt(O.Alert,"infoColor",va(O.info.light,.6)),jt(O.Alert,"successColor",va(O.success.light,.6)),jt(O.Alert,"warningColor",va(O.warning.light,.6)),jt(O.Alert,"errorFilledBg",L("palette-error-main")),jt(O.Alert,"infoFilledBg",L("palette-info-main")),jt(O.Alert,"successFilledBg",L("palette-success-main")),jt(O.Alert,"warningFilledBg",L("palette-warning-main")),jt(O.Alert,"errorFilledColor",vc(()=>O.getContrastText(O.error.main))),jt(O.Alert,"infoFilledColor",vc(()=>O.getContrastText(O.info.main))),jt(O.Alert,"successFilledColor",vc(()=>O.getContrastText(O.success.main))),jt(O.Alert,"warningFilledColor",vc(()=>O.getContrastText(O.warning.main))),jt(O.Alert,"errorStandardBg",ba(O.error.light,.9)),jt(O.Alert,"infoStandardBg",ba(O.info.light,.9)),jt(O.Alert,"successStandardBg",ba(O.success.light,.9)),jt(O.Alert,"warningStandardBg",ba(O.warning.light,.9)),jt(O.Alert,"errorIconColor",L("palette-error-main")),jt(O.Alert,"infoIconColor",L("palette-info-main")),jt(O.Alert,"successIconColor",L("palette-success-main")),jt(O.Alert,"warningIconColor",L("palette-warning-main")),jt(O.AppBar,"defaultBg",L("palette-grey-100")),jt(O.Avatar,"defaultBg",L("palette-grey-400")),jt(O.Button,"inheritContainedBg",L("palette-grey-300")),jt(O.Button,"inheritContainedHoverBg",L("palette-grey-A100")),jt(O.Chip,"defaultBorder",L("palette-grey-400")),jt(O.Chip,"defaultAvatarColor",L("palette-grey-700")),jt(O.Chip,"defaultIconColor",L("palette-grey-700")),jt(O.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),jt(O.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),jt(O.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),jt(O.LinearProgress,"primaryBg",ba(O.primary.main,.62)),jt(O.LinearProgress,"secondaryBg",ba(O.secondary.main,.62)),jt(O.LinearProgress,"errorBg",ba(O.error.main,.62)),jt(O.LinearProgress,"infoBg",ba(O.info.main,.62)),jt(O.LinearProgress,"successBg",ba(O.success.main,.62)),jt(O.LinearProgress,"warningBg",ba(O.warning.main,.62)),jt(O.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.11)`),jt(O.Slider,"primaryTrack",ba(O.primary.main,.62)),jt(O.Slider,"secondaryTrack",ba(O.secondary.main,.62)),jt(O.Slider,"errorTrack",ba(O.error.main,.62)),jt(O.Slider,"infoTrack",ba(O.info.main,.62)),jt(O.Slider,"successTrack",ba(O.success.main,.62)),jt(O.Slider,"warningTrack",ba(O.warning.main,.62));const C=m1(O.background.default,.8);jt(O.SnackbarContent,"bg",C),jt(O.SnackbarContent,"color",vc(()=>O.getContrastText(C))),jt(O.SpeedDialAction,"fabHoverBg",m1(O.background.paper,.15)),jt(O.StepConnector,"border",L("palette-grey-400")),jt(O.StepContent,"border",L("palette-grey-400")),jt(O.Switch,"defaultColor",L("palette-common-white")),jt(O.Switch,"defaultDisabledColor",L("palette-grey-100")),jt(O.Switch,"primaryDisabledColor",ba(O.primary.main,.62)),jt(O.Switch,"secondaryDisabledColor",ba(O.secondary.main,.62)),jt(O.Switch,"errorDisabledColor",ba(O.error.main,.62)),jt(O.Switch,"infoDisabledColor",ba(O.info.main,.62)),jt(O.Switch,"successDisabledColor",ba(O.success.main,.62)),jt(O.Switch,"warningDisabledColor",ba(O.warning.main,.62)),jt(O.TableCell,"border",ba(p1(O.divider,1),.88)),jt(O.Tooltip,"bg",p1(O.grey[700],.92))}if(O.mode==="dark"){jt(O.Alert,"errorColor",ba(O.error.light,.6)),jt(O.Alert,"infoColor",ba(O.info.light,.6)),jt(O.Alert,"successColor",ba(O.success.light,.6)),jt(O.Alert,"warningColor",ba(O.warning.light,.6)),jt(O.Alert,"errorFilledBg",L("palette-error-dark")),jt(O.Alert,"infoFilledBg",L("palette-info-dark")),jt(O.Alert,"successFilledBg",L("palette-success-dark")),jt(O.Alert,"warningFilledBg",L("palette-warning-dark")),jt(O.Alert,"errorFilledColor",vc(()=>O.getContrastText(O.error.dark))),jt(O.Alert,"infoFilledColor",vc(()=>O.getContrastText(O.info.dark))),jt(O.Alert,"successFilledColor",vc(()=>O.getContrastText(O.success.dark))),jt(O.Alert,"warningFilledColor",vc(()=>O.getContrastText(O.warning.dark))),jt(O.Alert,"errorStandardBg",va(O.error.light,.9)),jt(O.Alert,"infoStandardBg",va(O.info.light,.9)),jt(O.Alert,"successStandardBg",va(O.success.light,.9)),jt(O.Alert,"warningStandardBg",va(O.warning.light,.9)),jt(O.Alert,"errorIconColor",L("palette-error-main")),jt(O.Alert,"infoIconColor",L("palette-info-main")),jt(O.Alert,"successIconColor",L("palette-success-main")),jt(O.Alert,"warningIconColor",L("palette-warning-main")),jt(O.AppBar,"defaultBg",L("palette-grey-900")),jt(O.AppBar,"darkBg",L("palette-background-paper")),jt(O.AppBar,"darkColor",L("palette-text-primary")),jt(O.Avatar,"defaultBg",L("palette-grey-600")),jt(O.Button,"inheritContainedBg",L("palette-grey-800")),jt(O.Button,"inheritContainedHoverBg",L("palette-grey-700")),jt(O.Chip,"defaultBorder",L("palette-grey-700")),jt(O.Chip,"defaultAvatarColor",L("palette-grey-300")),jt(O.Chip,"defaultIconColor",L("palette-grey-300")),jt(O.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),jt(O.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),jt(O.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),jt(O.LinearProgress,"primaryBg",va(O.primary.main,.5)),jt(O.LinearProgress,"secondaryBg",va(O.secondary.main,.5)),jt(O.LinearProgress,"errorBg",va(O.error.main,.5)),jt(O.LinearProgress,"infoBg",va(O.info.main,.5)),jt(O.LinearProgress,"successBg",va(O.success.main,.5)),jt(O.LinearProgress,"warningBg",va(O.warning.main,.5)),jt(O.Skeleton,"bg",`rgba(${L("palette-text-primaryChannel")} / 0.13)`),jt(O.Slider,"primaryTrack",va(O.primary.main,.5)),jt(O.Slider,"secondaryTrack",va(O.secondary.main,.5)),jt(O.Slider,"errorTrack",va(O.error.main,.5)),jt(O.Slider,"infoTrack",va(O.info.main,.5)),jt(O.Slider,"successTrack",va(O.success.main,.5)),jt(O.Slider,"warningTrack",va(O.warning.main,.5));const C=m1(O.background.default,.98);jt(O.SnackbarContent,"bg",C),jt(O.SnackbarContent,"color",vc(()=>O.getContrastText(C))),jt(O.SpeedDialAction,"fabHoverBg",m1(O.background.paper,.15)),jt(O.StepConnector,"border",L("palette-grey-600")),jt(O.StepContent,"border",L("palette-grey-600")),jt(O.Switch,"defaultColor",L("palette-grey-300")),jt(O.Switch,"defaultDisabledColor",L("palette-grey-600")),jt(O.Switch,"primaryDisabledColor",va(O.primary.main,.55)),jt(O.Switch,"secondaryDisabledColor",va(O.secondary.main,.55)),jt(O.Switch,"errorDisabledColor",va(O.error.main,.55)),jt(O.Switch,"infoDisabledColor",va(O.info.main,.55)),jt(O.Switch,"successDisabledColor",va(O.success.main,.55)),jt(O.Switch,"warningDisabledColor",va(O.warning.main,.55)),jt(O.TableCell,"border",va(p1(O.divider,1),.68)),jt(O.Tooltip,"bg",p1(O.grey[700],.92))}gu(O.background,"default"),gu(O.background,"paper"),gu(O.common,"background"),gu(O.common,"onBackground"),gu(O,"divider"),Object.keys(O).forEach(C=>{const Y=O[C];C!=="tonalOffset"&&Y&&typeof Y=="object"&&(Y.main&&jt(O[C],"mainChannel",Ep(Ap(Y.main))),Y.light&&jt(O[C],"lightChannel",Ep(Ap(Y.light))),Y.dark&&jt(O[C],"darkChannel",Ep(Ap(Y.dark))),Y.contrastText&&jt(O[C],"contrastTextChannel",Ep(Ap(Y.contrastText))),C==="text"&&(gu(O[C],"primary"),gu(O[C],"secondary")),C==="action"&&(Y.active&&gu(O[C],"active"),Y.selected&&gu(O[C],"selected")))})}),A=r.reduce((B,O)=>Lo(B,O),A);const R={prefix:s,disableCssColorScheme:a,shouldSkipGeneratingVar:l,getSelector:QX(A)},{vars:V,generateThemeVars:P,generateStyleSheets:I}=_X(A,R);return A.vars=V,Object.entries(A.colorSchemes[A.defaultColorScheme]).forEach(([B,O])=>{A[B]=O}),A.generateThemeVars=P,A.generateStyleSheets=I,A.generateSpacing=function(){return Rj(f.spacing,Fw(this))},A.getColorSchemeSelector=TX(u),A.spacing=A.generateSpacing(),A.shouldSkipGeneratingVar=l,A.unstable_sxConfig={...Om,...f==null?void 0:f.unstable_sxConfig},A.unstable_sx=function(O){return Mf({sx:O,theme:this})},A.toRuntimeSource=Wj,A}function a_(e,r,t){e.colorSchemes&&t&&(e.colorSchemes[r]={...t!==!0&&t,palette:Uw({...t===!0?{}:t.palette,mode:r})})}function Yj(e={},...r){const{palette:t,cssVariables:n=!1,colorSchemes:a=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...l}=e,u=s||"light",d=a==null?void 0:a[u],f={...a,...t?{[u]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(n===!1){if(!("colorSchemes"in e))return bb(e,...r);let p=t;"palette"in e||f[u]&&(f[u]!==!0?p=f[u].palette:u==="dark"&&(p={mode:"dark"}));const x=bb({...e,palette:p},...r);return x.defaultColorScheme=u,x.colorSchemes=f,x.palette.mode==="light"&&(x.colorSchemes.light={...f.light!==!0&&f.light,palette:x.palette},a_(x,"dark",f.dark)),x.palette.mode==="dark"&&(x.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:x.palette},a_(x,"light",f.light)),x}return!t&&!("light"in f)&&u==="light"&&(f.light=!0),rK({...l,colorSchemes:f,defaultColorScheme:u,...typeof n!="boolean"&&n},...r)}const Gj=Yj();function nK(){const e=Mj(Gj);return e[kw]||e}function aK(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const sK=e=>aK(e)&&e!=="classes",Vl=sX({themeId:kw,defaultTheme:Gj,rootShouldForwardProp:sK}),N2=bX;function x0(e){return vX(e)}function iK(e){return g0("MuiSvgIcon",e)}Wf("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const oK=e=>{const{color:r,fontSize:t,classes:n}=e,a={root:["root",r!=="inherit"&&`color${Od(r)}`,`fontSize${Od(t)}`]};return Lm(a,iK,n)},lK=Vl("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.color!=="inherit"&&r[`color${Od(t.color)}`],r[`fontSize${Od(t.fontSize)}`]]}})(N2(({theme:e})=>{var r,t,n,a,s,l,u,d,f,p,x,y,m,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(a=(r=e.transitions)==null?void 0:r.create)==null?void 0:a.call(r,"fill",{duration:(n=(t=(e.vars??e).transitions)==null?void 0:t.duration)==null?void 0:n.shorter}),variants:[{props:v=>!v.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((l=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:l.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(u=e.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(f=e.typography)==null?void 0:f.pxToRem)==null?void 0:p.call(f,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,v])=>v&&v.main).map(([v])=>{var N,S;return{props:{color:v},style:{color:(S=(N=(e.vars??e).palette)==null?void 0:N[v])==null?void 0:S.main}}}),{props:{color:"action"},style:{color:(y=(x=(e.vars??e).palette)==null?void 0:x.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(w=(m=(e.vars??e).palette)==null?void 0:m.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),wb=T.forwardRef(function(r,t){const n=x0({props:r,name:"MuiSvgIcon"}),{children:a,className:s,color:l="inherit",component:u="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:p=!1,titleAccess:x,viewBox:y="0 0 24 24",...m}=n,w=T.isValidElement(a)&&a.type==="svg",v={...n,color:l,component:u,fontSize:d,instanceFontSize:r.fontSize,inheritViewBox:p,viewBox:y,hasSvgAsChild:w},N={};p||(N.viewBox=y);const S=oK(v);return i.jsxs(lK,{as:u,className:bn(S.root,s),focusable:"false",color:f,"aria-hidden":x?void 0:!0,role:x?"img":void 0,ref:t,...N,...m,...w&&a.props,ownerState:v,children:[w?a.props.children:a,x?i.jsx("title",{children:x}):null]})});wb.muiName="SvgIcon";function Xj(e,r){function t(n,a){return i.jsx(wb,{"data-testid":void 0,ref:a,...n,children:e})}return t.muiName=wb.muiName,T.memo(T.forwardRef(t))}function Kj(e,r=166){let t;function n(...a){const s=()=>{e.apply(this,a)};clearTimeout(t),t=setTimeout(s,r)}return n.clear=()=>{clearTimeout(t)},n}function Jj(e){return e&&e.ownerDocument||document}function Qj(e){return Jj(e).defaultView||window}function kf(e){const r=T.useRef(e);return Ij(()=>{r.current=e}),T.useRef((...t)=>(0,r.current)(...t)).current}function kx(...e){const r=T.useRef(void 0),t=T.useCallback(n=>{const a=e.map(s=>{if(s==null)return null;if(typeof s=="function"){const l=s,u=l(n);return typeof u=="function"?u:()=>{l(null)}}return s.current=n,()=>{s.current=null}});return()=>{a.forEach(s=>s==null?void 0:s())}},e);return T.useMemo(()=>e.every(n=>n==null)?null:n=>{r.current&&(r.current(),r.current=void 0),n!=null&&(r.current=t(n))},e)}function cK(e,r){if(e==null)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.indexOf(n)!==-1)continue;t[n]=e[n]}return t}function Nb(e,r){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Nb(e,r)}function uK(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,Nb(e,r)}const s_=_t.createContext(null);function dK(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hw(e,r){var t=function(s){return r&&T.isValidElement(s)?r(s):s},n=Object.create(null);return e&&T.Children.map(e,function(a){return a}).forEach(function(a){n[a.key]=t(a)}),n}function fK(e,r){e=e||{},r=r||{};function t(p){return p in r?r[p]:e[p]}var n=Object.create(null),a=[];for(var s in e)s in r?a.length&&(n[s]=a,a=[]):a.push(s);var l,u={};for(var d in r){if(n[d])for(l=0;l<n[d].length;l++){var f=n[d][l];u[n[d][l]]=t(f)}u[d]=t(d)}for(l=0;l<a.length;l++)u[a[l]]=t(a[l]);return u}function gf(e,r,t){return t[r]!=null?t[r]:e.props[r]}function hK(e,r){return Hw(e.children,function(t){return T.cloneElement(t,{onExited:r.bind(null,t),in:!0,appear:gf(t,"appear",e),enter:gf(t,"enter",e),exit:gf(t,"exit",e)})})}function pK(e,r,t){var n=Hw(e.children),a=fK(r,n);return Object.keys(a).forEach(function(s){var l=a[s];if(T.isValidElement(l)){var u=s in r,d=s in n,f=r[s],p=T.isValidElement(f)&&!f.props.in;d&&(!u||p)?a[s]=T.cloneElement(l,{onExited:t.bind(null,l),in:!0,exit:gf(l,"exit",e),enter:gf(l,"enter",e)}):!d&&u&&!p?a[s]=T.cloneElement(l,{in:!1}):d&&u&&T.isValidElement(f)&&(a[s]=T.cloneElement(l,{onExited:t.bind(null,l),in:f.props.in,exit:gf(l,"exit",e),enter:gf(l,"enter",e)}))}}),a}var mK=Object.values||function(e){return Object.keys(e).map(function(r){return e[r]})},gK={component:"div",childFactory:function(r){return r}},Ww=function(e){uK(r,e);function r(n,a){var s;s=e.call(this,n,a)||this;var l=s.handleExited.bind(dK(s));return s.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},s}var t=r.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(a,s){var l=s.children,u=s.handleExited,d=s.firstRender;return{children:d?hK(a,u):pK(a,l,u),firstRender:!1}},t.handleExited=function(a,s){var l=Hw(this.props.children);a.key in l||(a.props.onExited&&a.props.onExited(s),this.mounted&&this.setState(function(u){var d=Sx({},u.children);return delete d[a.key],{children:d}}))},t.render=function(){var a=this.props,s=a.component,l=a.childFactory,u=cK(a,["component","childFactory"]),d=this.state.contextValue,f=mK(this.state.children).map(l);return delete u.appear,delete u.enter,delete u.exit,s===null?_t.createElement(s_.Provider,{value:d},f):_t.createElement(s_.Provider,{value:d},_t.createElement(s,u,f))},r}(_t.Component);Ww.propTypes={};Ww.defaultProps=gK;const i_={};function Zj(e,r){const t=T.useRef(i_);return t.current===i_&&(t.current=e(r)),t}const xK=[];function yK(e){T.useEffect(e,xK)}class Vw{constructor(){gr(this,"currentId",null);gr(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});gr(this,"disposeEffect",()=>this.clear)}static create(){return new Vw}start(r,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},r)}}function vK(){const e=Zj(Vw.create).current;return yK(e.disposeEffect),e}function bK(e){return typeof e=="string"}function eE(e,r,t){return e===void 0||bK(e)?r:{...r,ownerState:{...r.ownerState,...t}}}function tE(e,r,t){return typeof e=="function"?e(r,t):e}function wK(e,r=[]){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!r.includes(n)).forEach(n=>{t[n]=e[n]}),t}function o_(e){if(e===void 0)return{};const r={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&typeof e[t]=="function")).forEach(t=>{r[t]=e[t]}),r}function rE(e){const{getSlotProps:r,additionalProps:t,externalSlotProps:n,externalForwardedProps:a,className:s}=e;if(!r){const m=bn(t==null?void 0:t.className,s,a==null?void 0:a.className,n==null?void 0:n.className),w={...t==null?void 0:t.style,...a==null?void 0:a.style,...n==null?void 0:n.style},v={...t,...a,...n};return m.length>0&&(v.className=m),Object.keys(w).length>0&&(v.style=w),{props:v,internalRef:void 0}}const l=wK({...a,...n}),u=o_(n),d=o_(a),f=r(l),p=bn(f==null?void 0:f.className,t==null?void 0:t.className,s,a==null?void 0:a.className,n==null?void 0:n.className),x={...f==null?void 0:f.style,...t==null?void 0:t.style,...a==null?void 0:a.style,...n==null?void 0:n.style},y={...f,...t,...d,...u};return p.length>0&&(y.className=p),Object.keys(x).length>0&&(y.style=x),{props:y,internalRef:f.ref}}function Dh(e,r){const{className:t,elementType:n,ownerState:a,externalForwardedProps:s,internalForwardedProps:l,shouldForwardComponentProp:u=!1,...d}=r,{component:f,slots:p={[e]:void 0},slotProps:x={[e]:void 0},...y}=s,m=p[e]||n,w=tE(x[e],a),{props:{component:v,...N},internalRef:S}=rE({className:t,...d,externalForwardedProps:e==="root"?y:void 0,externalSlotProps:w}),k=kx(S,w==null?void 0:w.ref,r.ref),_=e==="root"?v||f:v,A=eE(m,{...e==="root"&&!f&&!p[e]&&l,...e!=="root"&&!p[e]&&l,...N,..._&&!u&&{as:_},..._&&u&&{component:_},ref:k},a);return[m,A]}function l_(e){try{return e.matches(":focus-visible")}catch{}return!1}class jx{constructor(){gr(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new jx}static use(){const r=Zj(jx.create).current,[t,n]=T.useState(!1);return r.shouldMount=t,r.setShouldMount=n,T.useEffect(r.mountEffect,[t]),r}mount(){return this.mounted||(this.mounted=SK(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...r){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.start(...r)})}stop(...r){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.stop(...r)})}pulsate(...r){this.mount().then(()=>{var t;return(t=this.ref.current)==null?void 0:t.pulsate(...r)})}}function NK(){return jx.use()}function SK(){let e,r;const t=new Promise((n,a)=>{e=n,r=a});return t.resolve=e,t.reject=r,t}function _K(e){const{className:r,classes:t,pulsate:n=!1,rippleX:a,rippleY:s,rippleSize:l,in:u,onExited:d,timeout:f}=e,[p,x]=T.useState(!1),y=bn(r,t.ripple,t.rippleVisible,n&&t.ripplePulsate),m={width:l,height:l,top:-(l/2)+s,left:-(l/2)+a},w=bn(t.child,p&&t.childLeaving,n&&t.childPulsate);return!u&&!p&&x(!0),T.useEffect(()=>{if(!u&&d!=null){const v=setTimeout(d,f);return()=>{clearTimeout(v)}}},[d,u,f]),i.jsx("span",{className:y,style:m,children:i.jsx("span",{className:w})})}const tl=Wf("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Sb=550,TK=80,kK=Lw`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,jK=Lw`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,EK=Lw`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,AK=Vl("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),CK=Vl(_K,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${tl.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${kK};
    animation-duration: ${Sb}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${tl.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${tl.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${tl.childLeaving} {
    opacity: 0;
    animation-name: ${jK};
    animation-duration: ${Sb}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${tl.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${EK};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,DK=T.forwardRef(function(r,t){const n=x0({props:r,name:"MuiTouchRipple"}),{center:a=!1,classes:s={},className:l,...u}=n,[d,f]=T.useState([]),p=T.useRef(0),x=T.useRef(null);T.useEffect(()=>{x.current&&(x.current(),x.current=null)},[d]);const y=T.useRef(!1),m=vK(),w=T.useRef(null),v=T.useRef(null),N=T.useCallback(A=>{const{pulsate:R,rippleX:V,rippleY:P,rippleSize:I,cb:B}=A;f(O=>[...O,i.jsx(CK,{classes:{ripple:bn(s.ripple,tl.ripple),rippleVisible:bn(s.rippleVisible,tl.rippleVisible),ripplePulsate:bn(s.ripplePulsate,tl.ripplePulsate),child:bn(s.child,tl.child),childLeaving:bn(s.childLeaving,tl.childLeaving),childPulsate:bn(s.childPulsate,tl.childPulsate)},timeout:Sb,pulsate:R,rippleX:V,rippleY:P,rippleSize:I},p.current)]),p.current+=1,x.current=B},[s]),S=T.useCallback((A={},R={},V=()=>{})=>{const{pulsate:P=!1,center:I=a||R.pulsate,fakeElement:B=!1}=R;if((A==null?void 0:A.type)==="mousedown"&&y.current){y.current=!1;return}(A==null?void 0:A.type)==="touchstart"&&(y.current=!0);const O=B?null:v.current,L=O?O.getBoundingClientRect():{width:0,height:0,left:0,top:0};let C,Y,Q;if(I||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)C=Math.round(L.width/2),Y=Math.round(L.height/2);else{const{clientX:ce,clientY:W}=A.touches&&A.touches.length>0?A.touches[0]:A;C=Math.round(ce-L.left),Y=Math.round(W-L.top)}if(I)Q=Math.sqrt((2*L.width**2+L.height**2)/3),Q%2===0&&(Q+=1);else{const ce=Math.max(Math.abs((O?O.clientWidth:0)-C),C)*2+2,W=Math.max(Math.abs((O?O.clientHeight:0)-Y),Y)*2+2;Q=Math.sqrt(ce**2+W**2)}A!=null&&A.touches?w.current===null&&(w.current=()=>{N({pulsate:P,rippleX:C,rippleY:Y,rippleSize:Q,cb:V})},m.start(TK,()=>{w.current&&(w.current(),w.current=null)})):N({pulsate:P,rippleX:C,rippleY:Y,rippleSize:Q,cb:V})},[a,N,m]),k=T.useCallback(()=>{S({},{pulsate:!0})},[S]),_=T.useCallback((A,R)=>{if(m.clear(),(A==null?void 0:A.type)==="touchend"&&w.current){w.current(),w.current=null,m.start(0,()=>{_(A,R)});return}w.current=null,f(V=>V.length>0?V.slice(1):V),x.current=R},[m]);return T.useImperativeHandle(t,()=>({pulsate:k,start:S,stop:_}),[k,S,_]),i.jsx(AK,{className:bn(tl.root,s.root,l),ref:v,...u,children:i.jsx(Ww,{component:null,exit:!0,children:d})})});function OK(e){return g0("MuiButtonBase",e)}const LK=Wf("MuiButtonBase",["root","disabled","focusVisible"]),RK=e=>{const{disabled:r,focusVisible:t,focusVisibleClassName:n,classes:a}=e,l=Lm({root:["root",r&&"disabled",t&&"focusVisible"]},OK,a);return t&&n&&(l.root+=` ${n}`),l},MK=Vl("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${LK.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),nE=T.forwardRef(function(r,t){const n=x0({props:r,name:"MuiButtonBase"}),{action:a,centerRipple:s=!1,children:l,className:u,component:d="button",disabled:f=!1,disableRipple:p=!1,disableTouchRipple:x=!1,focusRipple:y=!1,focusVisibleClassName:m,LinkComponent:w="a",onBlur:v,onClick:N,onContextMenu:S,onDragLeave:k,onFocus:_,onFocusVisible:A,onKeyDown:R,onKeyUp:V,onMouseDown:P,onMouseLeave:I,onMouseUp:B,onTouchEnd:O,onTouchMove:L,onTouchStart:C,tabIndex:Y=0,TouchRippleProps:Q,touchRippleRef:ce,type:W,...J}=n,re=T.useRef(null),ee=NK(),H=kx(ee.ref,ce),[ne,D]=T.useState(!1);f&&ne&&D(!1),T.useImperativeHandle(a,()=>({focusVisible:()=>{D(!0),re.current.focus()}}),[]);const z=ee.shouldMount&&!p&&!f;T.useEffect(()=>{ne&&y&&!p&&ee.pulsate()},[p,y,ne,ee]);const q=xu(ee,"start",P,x),X=xu(ee,"stop",S,x),se=xu(ee,"stop",k,x),Se=xu(ee,"stop",B,x),fe=xu(ee,"stop",Ae=>{ne&&Ae.preventDefault(),I&&I(Ae)},x),G=xu(ee,"start",C,x),be=xu(ee,"stop",O,x),Fe=xu(ee,"stop",L,x),De=xu(ee,"stop",Ae=>{l_(Ae.target)||D(!1),v&&v(Ae)},!1),lt=kf(Ae=>{re.current||(re.current=Ae.currentTarget),l_(Ae.target)&&(D(!0),A&&A(Ae)),_&&_(Ae)}),ft=()=>{const Ae=re.current;return d&&d!=="button"&&!(Ae.tagName==="A"&&Ae.href)},Pe=kf(Ae=>{y&&!Ae.repeat&&ne&&Ae.key===" "&&ee.stop(Ae,()=>{ee.start(Ae)}),Ae.target===Ae.currentTarget&&ft()&&Ae.key===" "&&Ae.preventDefault(),R&&R(Ae),Ae.target===Ae.currentTarget&&ft()&&Ae.key==="Enter"&&!f&&(Ae.preventDefault(),N&&N(Ae))}),xe=kf(Ae=>{y&&Ae.key===" "&&ne&&!Ae.defaultPrevented&&ee.stop(Ae,()=>{ee.pulsate(Ae)}),V&&V(Ae),N&&Ae.target===Ae.currentTarget&&ft()&&Ae.key===" "&&!Ae.defaultPrevented&&N(Ae)});let Qe=d;Qe==="button"&&(J.href||J.to)&&(Qe=w);const at={};Qe==="button"?(at.type=W===void 0?"button":W,at.disabled=f):(!J.href&&!J.to&&(at.role="button"),f&&(at["aria-disabled"]=f));const pt=kx(t,re),Ze={...n,centerRipple:s,component:d,disabled:f,disableRipple:p,disableTouchRipple:x,focusRipple:y,tabIndex:Y,focusVisible:ne},ze=RK(Ze);return i.jsxs(MK,{as:Qe,className:bn(ze.root,u),ownerState:Ze,onBlur:De,onClick:N,onContextMenu:X,onFocus:lt,onKeyDown:Pe,onKeyUp:xe,onMouseDown:q,onMouseLeave:fe,onMouseUp:Se,onDragLeave:se,onTouchEnd:be,onTouchMove:Fe,onTouchStart:G,ref:pt,tabIndex:f?-1:Y,type:W,...at,...J,children:[l,z?i.jsx(DK,{ref:H,center:s,...Q}):null]})});function xu(e,r,t,n=!1){return kf(a=>(t&&t(a),n||e[r](a),!0))}function Ex(e){var x;const{elementType:r,externalSlotProps:t,ownerState:n,skipResolvingSlotProps:a=!1,...s}=e,l=a?{}:tE(t,n),{props:u,internalRef:d}=rE({...s,externalSlotProps:l}),f=kx(d,l==null?void 0:l.ref,(x=e.additionalProps)==null?void 0:x.ref);return eE(r,{...u,ref:f},n)}const FK=Wf("MuiBox",["root"]),PK=Yj(),c_=eX({themeId:kw,defaultTheme:PK,defaultClassName:FK.root,generateClassName:Fj.generate});function BK(e){return g0("MuiTab",e)}const Xo=Wf("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),IK=e=>{const{classes:r,textColor:t,fullWidth:n,wrapped:a,icon:s,label:l,selected:u,disabled:d}=e,f={root:["root",s&&l&&"labelIcon",`textColor${Od(t)}`,n&&"fullWidth",a&&"wrapped",u&&"selected",d&&"disabled"],icon:["iconWrapper","icon"]};return Lm(f,BK,r)},$K=Vl(nE,{name:"MuiTab",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.label&&t.icon&&r.labelIcon,r[`textColor${Od(t.textColor)}`],t.fullWidth&&r.fullWidth,t.wrapped&&r.wrapped,{[`& .${Xo.iconWrapper}`]:r.iconWrapper},{[`& .${Xo.icon}`]:r.icon}]}})(N2(({theme:e})=>({...e.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:r})=>r.label&&(r.iconPosition==="top"||r.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:r})=>r.label&&r.iconPosition!=="top"&&r.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:r})=>r.icon&&r.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:r,iconPosition:t})=>r.icon&&r.label&&t==="top",style:{[`& > .${Xo.icon}`]:{marginBottom:6}}},{props:({ownerState:r,iconPosition:t})=>r.icon&&r.label&&t==="bottom",style:{[`& > .${Xo.icon}`]:{marginTop:6}}},{props:({ownerState:r,iconPosition:t})=>r.icon&&r.label&&t==="start",style:{[`& > .${Xo.icon}`]:{marginRight:e.spacing(1)}}},{props:({ownerState:r,iconPosition:t})=>r.icon&&r.label&&t==="end",style:{[`& > .${Xo.icon}`]:{marginLeft:e.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${Xo.selected}`]:{opacity:1},[`&.${Xo.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Xo.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${Xo.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(e.vars||e).palette.text.secondary,[`&.${Xo.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${Xo.disabled}`]:{color:(e.vars||e).palette.text.disabled}}},{props:({ownerState:r})=>r.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:r})=>r.wrapped,style:{fontSize:e.typography.pxToRem(12)}}]}))),u_=T.forwardRef(function(r,t){const n=x0({props:r,name:"MuiTab"}),{className:a,disabled:s=!1,disableFocusRipple:l=!1,fullWidth:u,icon:d,iconPosition:f="top",indicator:p,label:x,onChange:y,onClick:m,onFocus:w,selected:v,selectionFollowsFocus:N,textColor:S="inherit",value:k,wrapped:_=!1,...A}=n,R={...n,disabled:s,disableFocusRipple:l,selected:v,icon:!!d,iconPosition:f,label:!!x,fullWidth:u,textColor:S,wrapped:_},V=IK(R),P=d&&x&&T.isValidElement(d)?T.cloneElement(d,{className:bn(V.icon,d.props.className)}):d,I=O=>{!v&&y&&y(O,k),m&&m(O)},B=O=>{N&&!v&&y&&y(O,k),w&&w(O)};return i.jsxs($K,{focusRipple:!l,className:bn(V.root,a),ref:t,role:"tab","aria-selected":v,disabled:s,onClick:I,onFocus:B,ownerState:R,tabIndex:v?0:-1,...A,children:[f==="top"||f==="start"?i.jsxs(T.Fragment,{children:[P,x]}):i.jsxs(T.Fragment,{children:[x,P]}),p]})}),zK=Xj(i.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),UK=Xj(i.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function HK(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function WK(e,r,t,n={},a=()=>{}){const{ease:s=HK,duration:l=300}=n;let u=null;const d=r[e];let f=!1;const p=()=>{f=!0},x=y=>{if(f){a(new Error("Animation cancelled"));return}u===null&&(u=y);const m=Math.min(1,(y-u)/l);if(r[e]=s(m)*(t-d)+d,m>=1){requestAnimationFrame(()=>{a(null)});return}requestAnimationFrame(x)};return d===t?(a(new Error("Element already at target position")),p):(requestAnimationFrame(x),p)}const VK={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function qK(e){const{onChange:r,...t}=e,n=T.useRef(),a=T.useRef(null),s=()=>{n.current=a.current.offsetHeight-a.current.clientHeight};return Ij(()=>{const l=Kj(()=>{const d=n.current;s(),d!==n.current&&r(n.current)}),u=Qj(a.current);return u.addEventListener("resize",l),()=>{l.clear(),u.removeEventListener("resize",l)}},[r]),T.useEffect(()=>{s(),r(n.current)},[r]),i.jsx("div",{style:VK,...t,ref:a})}function YK(e){return g0("MuiTabScrollButton",e)}const GK=Wf("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),XK=e=>{const{classes:r,orientation:t,disabled:n}=e;return Lm({root:["root",t,n&&"disabled"]},YK,r)},KK=Vl(nE,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,t.orientation&&r[t.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${GK.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),JK=T.forwardRef(function(r,t){const n=x0({props:r,name:"MuiTabScrollButton"}),{className:a,slots:s={},slotProps:l={},direction:u,orientation:d,disabled:f,...p}=n,x=zj(),y={isRtl:x,...n},m=XK(y),w=s.StartScrollButtonIcon??zK,v=s.EndScrollButtonIcon??UK,N=Ex({elementType:w,externalSlotProps:l.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y}),S=Ex({elementType:v,externalSlotProps:l.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:y});return i.jsx(KK,{component:"div",className:bn(m.root,a),ref:t,role:null,ownerState:y,tabIndex:null,...p,style:{...p.style,...d==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${x?-90:90}deg)`}},children:u==="left"?i.jsx(w,{...N}):i.jsx(v,{...S})})});function QK(e){return g0("MuiTabs",e)}const kv=Wf("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),d_=(e,r)=>e===r?e.firstChild:r&&r.nextElementSibling?r.nextElementSibling:e.firstChild,f_=(e,r)=>e===r?e.lastChild:r&&r.previousElementSibling?r.previousElementSibling:e.lastChild,g1=(e,r,t)=>{let n=!1,a=t(e,r);for(;a;){if(a===e.firstChild){if(n)return;n=!0}const s=a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||s)a=t(e,a);else{a.focus();return}}},ZK=e=>{const{vertical:r,fixed:t,hideScrollbar:n,scrollableX:a,scrollableY:s,centered:l,scrollButtonsHideMobile:u,classes:d}=e;return Lm({root:["root",r&&"vertical"],scroller:["scroller",t&&"fixed",n&&"hideScrollbar",a&&"scrollableX",s&&"scrollableY"],list:["list","flexContainer",r&&"flexContainerVertical",r&&"vertical",l&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",u&&"scrollButtonsHideMobile"],scrollableX:[a&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},QK,d)},eJ=Vl("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[{[`& .${kv.scrollButtons}`]:r.scrollButtons},{[`& .${kv.scrollButtons}`]:t.scrollButtonsHideMobile&&r.scrollButtonsHideMobile},r.root,t.vertical&&r.vertical]}})(N2(({theme:e})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:r})=>r.vertical,style:{flexDirection:"column"}},{props:({ownerState:r})=>r.scrollButtonsHideMobile,style:{[`& .${kv.scrollButtons}`]:{[e.breakpoints.down("sm")]:{display:"none"}}}}]}))),tJ=Vl("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.scroller,t.fixed&&r.fixed,t.hideScrollbar&&r.hideScrollbar,t.scrollableX&&r.scrollableX,t.scrollableY&&r.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:e})=>e.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:e})=>e.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:e})=>e.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:e})=>e.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),rJ=Vl("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.list,r.flexContainer,t.vertical&&r.flexContainerVertical,t.centered&&r.centered]}})({display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.centered,style:{justifyContent:"center"}}]}),nJ=Vl("span",{name:"MuiTabs",slot:"Indicator"})(N2(({theme:e})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:e.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(e.vars||e).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(e.vars||e).palette.secondary.main}},{props:({ownerState:r})=>r.vertical,style:{height:"100%",width:2,right:0}}]}))),aJ=Vl(qK)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),h_={},sJ=T.forwardRef(function(r,t){const n=x0({props:r,name:"MuiTabs"}),a=nK(),s=zj(),{"aria-label":l,"aria-labelledby":u,action:d,centered:f=!1,children:p,className:x,component:y="div",allowScrollButtonsMobile:m=!1,indicatorColor:w="primary",onChange:v,orientation:N="horizontal",ScrollButtonComponent:S,scrollButtons:k="auto",selectionFollowsFocus:_,slots:A={},slotProps:R={},TabIndicatorProps:V={},TabScrollButtonProps:P={},textColor:I="primary",value:B,variant:O="standard",visibleScrollbar:L=!1,...C}=n,Y=O==="scrollable",Q=N==="vertical",ce=Q?"scrollTop":"scrollLeft",W=Q?"top":"left",J=Q?"bottom":"right",re=Q?"clientHeight":"clientWidth",ee=Q?"height":"width",H={...n,component:y,allowScrollButtonsMobile:m,indicatorColor:w,orientation:N,vertical:Q,scrollButtons:k,textColor:I,variant:O,visibleScrollbar:L,fixed:!Y,hideScrollbar:Y&&!L,scrollableX:Y&&!Q,scrollableY:Y&&Q,centered:f&&!Y,scrollButtonsHideMobile:!m},ne=ZK(H),D=Ex({elementType:A.StartScrollButtonIcon,externalSlotProps:R.startScrollButtonIcon,ownerState:H}),z=Ex({elementType:A.EndScrollButtonIcon,externalSlotProps:R.endScrollButtonIcon,ownerState:H}),[q,X]=T.useState(!1),[se,Se]=T.useState(h_),[fe,G]=T.useState(!1),[be,Fe]=T.useState(!1),[De,lt]=T.useState(!1),[ft,Pe]=T.useState({overflow:"hidden",scrollbarWidth:0}),xe=new Map,Qe=T.useRef(null),at=T.useRef(null),pt={slots:A,slotProps:{indicator:V,scrollButton:P,...R}},Ze=()=>{const St=Qe.current;let ht;if(St){const Kt=St.getBoundingClientRect();ht={clientWidth:St.clientWidth,scrollLeft:St.scrollLeft,scrollTop:St.scrollTop,scrollWidth:St.scrollWidth,top:Kt.top,bottom:Kt.bottom,left:Kt.left,right:Kt.right}}let Bt;if(St&&B!==!1){const Kt=at.current.children;if(Kt.length>0){const Ot=Kt[xe.get(B)];Bt=Ot?Ot.getBoundingClientRect():null}}return{tabsMeta:ht,tabMeta:Bt}},ze=kf(()=>{const{tabsMeta:St,tabMeta:ht}=Ze();let Bt=0,Kt;Q?(Kt="top",ht&&St&&(Bt=ht.top-St.top+St.scrollTop)):(Kt=s?"right":"left",ht&&St&&(Bt=(s?-1:1)*(ht[Kt]-St[Kt]+St.scrollLeft)));const Ot={[Kt]:Bt,[ee]:ht?ht[ee]:0};if(typeof se[Kt]!="number"||typeof se[ee]!="number")Se(Ot);else{const Ur=Math.abs(se[Kt]-Ot[Kt]),Ir=Math.abs(se[ee]-Ot[ee]);(Ur>=1||Ir>=1)&&Se(Ot)}}),Ae=(St,{animation:ht=!0}={})=>{ht?WK(ce,Qe.current,St,{duration:a.transitions.duration.standard}):Qe.current[ce]=St},vt=St=>{let ht=Qe.current[ce];Q?ht+=St:ht+=St*(s?-1:1),Ae(ht)},gt=()=>{const St=Qe.current[re];let ht=0;const Bt=Array.from(at.current.children);for(let Kt=0;Kt<Bt.length;Kt+=1){const Ot=Bt[Kt];if(ht+Ot[re]>St){Kt===0&&(ht=St);break}ht+=Ot[re]}return ht},rr=()=>{vt(-1*gt())},Wt=()=>{vt(gt())},[Qt,{onChange:cr,...Zt}]=Dh("scrollbar",{className:bn(ne.scrollableX,ne.hideScrollbar),elementType:aJ,shouldForwardComponentProp:!0,externalForwardedProps:pt,ownerState:H}),hr=T.useCallback(St=>{cr==null||cr(St),Pe({overflow:null,scrollbarWidth:St})},[cr]),[$t,Mr]=Dh("scrollButtons",{className:bn(ne.scrollButtons,P.className),elementType:JK,externalForwardedProps:pt,ownerState:H,additionalProps:{orientation:N,slots:{StartScrollButtonIcon:A.startScrollButtonIcon||A.StartScrollButtonIcon,EndScrollButtonIcon:A.endScrollButtonIcon||A.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:D,endScrollButtonIcon:z}}}),xr=()=>{const St={};St.scrollbarSizeListener=Y?i.jsx(Qt,{...Zt,onChange:hr}):null;const Bt=Y&&(k==="auto"&&(fe||be)||k===!0);return St.scrollButtonStart=Bt?i.jsx($t,{direction:s?"right":"left",onClick:rr,disabled:!fe,...Mr}):null,St.scrollButtonEnd=Bt?i.jsx($t,{direction:s?"left":"right",onClick:Wt,disabled:!be,...Mr}):null,St},Qr=kf(St=>{const{tabsMeta:ht,tabMeta:Bt}=Ze();if(!(!Bt||!ht)){if(Bt[W]<ht[W]){const Kt=ht[ce]+(Bt[W]-ht[W]);Ae(Kt,{animation:St})}else if(Bt[J]>ht[J]){const Kt=ht[ce]+(Bt[J]-ht[J]);Ae(Kt,{animation:St})}}}),Er=kf(()=>{Y&&k!==!1&&lt(!De)});T.useEffect(()=>{const St=Kj(()=>{Qe.current&&ze()});let ht;const Bt=Ur=>{Ur.forEach(Ir=>{Ir.removedNodes.forEach(le=>{ht==null||ht.unobserve(le)}),Ir.addedNodes.forEach(le=>{ht==null||ht.observe(le)})}),St(),Er()},Kt=Qj(Qe.current);Kt.addEventListener("resize",St);let Ot;return typeof ResizeObserver<"u"&&(ht=new ResizeObserver(St),Array.from(at.current.children).forEach(Ur=>{ht.observe(Ur)})),typeof MutationObserver<"u"&&(Ot=new MutationObserver(Bt),Ot.observe(at.current,{childList:!0})),()=>{St.clear(),Kt.removeEventListener("resize",St),Ot==null||Ot.disconnect(),ht==null||ht.disconnect()}},[ze,Er]),T.useEffect(()=>{const St=Array.from(at.current.children),ht=St.length;if(typeof IntersectionObserver<"u"&&ht>0&&Y&&k!==!1){const Bt=St[0],Kt=St[ht-1],Ot={root:Qe.current,threshold:.99},Ur=te=>{G(!te[0].isIntersecting)},Ir=new IntersectionObserver(Ur,Ot);Ir.observe(Bt);const le=te=>{Fe(!te[0].isIntersecting)},Te=new IntersectionObserver(le,Ot);return Te.observe(Kt),()=>{Ir.disconnect(),Te.disconnect()}}},[Y,k,De,p==null?void 0:p.length]),T.useEffect(()=>{X(!0)},[]),T.useEffect(()=>{ze()}),T.useEffect(()=>{Qr(h_!==se)},[Qr,se]),T.useImperativeHandle(d,()=>({updateIndicator:ze,updateScrollButtons:Er}),[ze,Er]);const[Fr,tn]=Dh("indicator",{className:bn(ne.indicator,V.className),elementType:nJ,externalForwardedProps:pt,ownerState:H,additionalProps:{style:se}}),et=i.jsx(Fr,{...tn});let _e=0;const Be=T.Children.map(p,St=>{if(!T.isValidElement(St))return null;const ht=St.props.value===void 0?_e:St.props.value;xe.set(ht,_e);const Bt=ht===B;return _e+=1,T.cloneElement(St,{fullWidth:O==="fullWidth",indicator:Bt&&!q&&et,selected:Bt,selectionFollowsFocus:_,onChange:v,textColor:I,value:ht,..._e===1&&B===!1&&!St.props.tabIndex?{tabIndex:0}:{}})}),ve=St=>{if(St.altKey||St.shiftKey||St.ctrlKey||St.metaKey)return;const ht=at.current,Bt=Jj(ht).activeElement;if(Bt.getAttribute("role")!=="tab")return;let Ot=N==="horizontal"?"ArrowLeft":"ArrowUp",Ur=N==="horizontal"?"ArrowRight":"ArrowDown";switch(N==="horizontal"&&s&&(Ot="ArrowRight",Ur="ArrowLeft"),St.key){case Ot:St.preventDefault(),g1(ht,Bt,f_);break;case Ur:St.preventDefault(),g1(ht,Bt,d_);break;case"Home":St.preventDefault(),g1(ht,null,d_);break;case"End":St.preventDefault(),g1(ht,null,f_);break}},Ce=xr(),[Le,qe]=Dh("root",{ref:t,className:bn(ne.root,x),elementType:eJ,externalForwardedProps:{...pt,...C,component:y},ownerState:H}),[Tt,Dt]=Dh("scroller",{ref:Qe,className:ne.scroller,elementType:tJ,externalForwardedProps:pt,ownerState:H,additionalProps:{style:{overflow:ft.overflow,[Q?`margin${s?"Left":"Right"}`:"marginBottom"]:L?void 0:-ft.scrollbarWidth}}}),[er,ar]=Dh("list",{ref:at,className:bn(ne.list,ne.flexContainer),elementType:rJ,externalForwardedProps:pt,ownerState:H,getSlotProps:St=>({...St,onKeyDown:ht=>{var Bt;ve(ht),(Bt=St.onKeyDown)==null||Bt.call(St,ht)}})});return i.jsxs(Le,{...qe,children:[Ce.scrollButtonStart,Ce.scrollbarSizeListener,i.jsxs(Tt,{...Dt,children:[i.jsx(er,{"aria-label":l,"aria-labelledby":u,"aria-orientation":N==="vertical"?"vertical":null,role:"tablist",...ar,children:Be}),q&&et]}),Ce.scrollButtonEnd]})}),iJ=[{id:"title",label:"Title"},{id:"description",label:"Description"},{id:"clientName",label:"Client Name"},{id:"clientGroup",label:"Client Group"},{id:"workType",label:"Work Type"},{id:"priority",label:"Priority"},{id:"inwardEntryDate",label:"Inward Entry Date"},{id:"dueDate",label:"Due Date"},{id:"assignedBy",label:"Assigned By"},{id:"assignedTo",label:"Assigned To"},{id:"files",label:"Files"}],x1=()=>{const{user:e}=gn(),[r,t]=T.useState([]),[n,a]=T.useState(!0),[s,l]=T.useState(null),[u,d]=T.useState([]),[f,p]=T.useState(!1),[x,y]=T.useState(null),[m,w]=T.useState(0),[v,N]=T.useState([]),[S,k]=T.useState(!1);T.useEffect(()=>{const C=async()=>{a(!0),l(null);try{const Q=await fetch(`${$e}/api/tasks/for-verification`,{headers:{Authorization:`Bearer ${e.token}`}});if(!Q.ok)throw new Error("Failed to fetch tasks for verification");let ce=await Q.json();t(ce)}catch(Q){l(Q.message),t([])}finally{a(!1)}},Y=async()=>{try{const Q=await fetch(`${$e}/api/users`,{headers:{Authorization:`Bearer ${e.token}`}});if(Q.ok){const ce=await Q.json();d(ce)}}catch(Q){console.error("Error fetching users:",Q)}};e&&e.token&&(C(),Y(),_())},[e]);const _=async()=>{k(!0);try{const C=await fetch(`${$e}/api/automations/templates/pending`,{headers:{Authorization:`Bearer ${e.token}`}});if(C.ok){const Y=await C.json();N(Y)}}catch(C){console.error("Error fetching automation templates:",C)}finally{k(!1)}},A=async(C,Y)=>{try{if(!(await fetch(`${$e}/api/tasks/${C}/verify`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({action:Y})})).ok)throw new Error("Failed to update task");Ee.success(`Task ${Y==="approve"?"approved":"rejected"} successfully`),t(ce=>ce.filter(W=>W._id!==C))}catch(Q){Ee.error(Q.message)}},R=C=>{y(C),p(!0)},V=async C=>{p(!1),y(null),C&&C.verificationStatus==="completed"?(t(Y=>Y.filter(Q=>Q._id!==C._id)),Ee.success("Task updated and accepted successfully")):(t(Y=>Y.map(Q=>Q._id===C._id?C:Q)),await P())},P=async()=>{try{const C=await fetch(`${$e}/api/tasks/for-verification`,{headers:{Authorization:`Bearer ${e.token}`}});if(!C.ok)throw new Error("Failed to fetch tasks for verification");let Y=await C.json();t(Y)}catch(C){console.error("Error refetching tasks:",C)}},I=(C,Y)=>{w(Y)},B=async(C,Y,Q)=>{try{(await fetch(`${$e}/api/automations/${C}/templates/${Y}/verify`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.token}`},body:JSON.stringify({action:Q})})).ok?(N(W=>W.map(J=>({...J,taskTemplate:J.taskTemplate.filter(re=>re._id!==Y)})).filter(J=>J.taskTemplate.length>0)),Ee.success(`Template ${Q==="approve"?"approved":"rejected"} successfully`)):Ee.error("Error verifying template")}catch(ce){console.error("Error verifying template:",ce),Ee.error("Error verifying template")}},O=({children:C,value:Y,index:Q,...ce})=>i.jsx("div",{role:"tabpanel",hidden:Y!==Q,id:`verification-tabpanel-${Q}`,"aria-labelledby":`verification-tab-${Q}`,...ce,children:Y===Q&&i.jsx(c_,{sx:{p:0},children:C})}),L=()=>i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 bg-white shadow rounded-lg",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Automation Name"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Template Title"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client Name"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created By"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:v.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"8",className:"px-4 py-4 text-center text-gray-500",children:S?"Loading automation templates...":"No automation templates pending verification."})}):v.flatMap(C=>C.taskTemplate.map(Y=>{var Q,ce,W,J;return i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:C.name}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Y.title}),i.jsx("td",{className:"px-4 py-2 max-w-xs overflow-hidden",children:i.jsx("div",{className:"max-w-xs truncate hover:whitespace-normal hover:overflow-visible hover:text-clip",children:Y.description||"No description"})}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Y.priority||"No Priority"}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Y.clientName||"-"}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:((Q=C.createdBy)==null?void 0:Q.profilePicture)||kn,alt:`${((ce=C.createdBy)==null?void 0:ce.firstName)||"User"}`,className:"w-8 h-8 rounded-full mr-2 object-cover border border-gray-200",onError:re=>{re.target.src=kn}}),i.jsxs("span",{children:[(W=C.createdBy)==null?void 0:W.firstName," ",(J=C.createdBy)==null?void 0:J.lastName]})]})}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:new Date(C.createdAt).toLocaleDateString()}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>B(C._id,Y._id,"approve"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm",children:"Approve"}),i.jsx("button",{onClick:()=>B(C._id,Y._id,"reject"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"Reject"})]})})]},`${C._id}-${Y._id}`)}))})]})});return i.jsxs("div",{className:"p-4 relative",children:[i.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Task Verification"}),i.jsx(c_,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:i.jsxs(sJ,{value:m,onChange:I,children:[i.jsx(u_,{label:`Tasks Pending For Approval (${r.length})`,id:"verification-tab-0","aria-controls":"verification-tabpanel-0"}),i.jsx(u_,{label:`Automation Templates Pending Approval (${v.reduce((C,Y)=>C+Y.taskTemplate.length,0)})`,id:"verification-tab-1","aria-controls":"verification-tabpanel-1"})]})}),i.jsx(O,{value:m,index:0,children:n?i.jsx("div",{className:"flex justify-center items-center h-32",children:i.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-blue-500"})}):s?i.jsx("div",{className:"text-red-500",children:s}):r.length===0?i.jsx("div",{className:"text-gray-500",children:"No tasks pending verification."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200 bg-white shadow rounded-lg",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[iJ.map(C=>i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:C.label},C.id)),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:r.map(C=>{var Y,Q,ce,W,J,re,ee,H,ne;return i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:C.title}),i.jsx("td",{className:"px-4 py-2 max-w-xs overflow-hidden",children:i.jsx("div",{className:"max-w-xs truncate hover:whitespace-normal hover:overflow-visible hover:text-clip",children:C.description})}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:C.clientName}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:C.clientGroup}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:Array.isArray(C.workType)?C.workType.join(", "):C.workType}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:C.priority}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:C.inwardEntryDate?new Date(C.inwardEntryDate).toLocaleDateString():"-"}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:C.dueDate?new Date(C.dueDate).toLocaleDateString():"-"}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:((Y=C.assignedBy)==null?void 0:Y.profilePicture)||kn,alt:`${((Q=C.assignedBy)==null?void 0:Q.firstName)||"User"}`,className:"w-8 h-8 rounded-full mr-2 object-cover border border-gray-200",onError:D=>{D.target.src=kn}}),i.jsxs("span",{children:[(ce=C.assignedBy)==null?void 0:ce.firstName," ",(W=C.assignedBy)==null?void 0:W.lastName]})]})}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("img",{src:((J=C.assignedTo)==null?void 0:J.profilePicture)||kn,alt:`${((re=C.assignedTo)==null?void 0:re.firstName)||"User"}`,className:"w-8 h-8 rounded-full mr-2 object-cover border border-gray-200",onError:D=>{D.target.src=kn}}),i.jsxs("span",{children:[(ee=C.assignedTo)==null?void 0:ee.firstName," ",(H=C.assignedTo)==null?void 0:H.lastName]})]})}),i.jsx("td",{className:"px-4 py-2",children:i.jsxs("div",{className:"relative",children:[i.jsxs("button",{className:"text-blue-500 hover:text-blue-700 underline",onClick:D=>{D.stopPropagation();const z=document.getElementById(`files-modal-${C._id}`);z&&z.classList.toggle("hidden")},children:[((ne=C.files)==null?void 0:ne.length)||0," file(s)"]}),i.jsxs("div",{id:`files-modal-${C._id}`,className:"fixed inset-0 z-50 hidden",onClick:D=>{D.target.id===`files-modal-${C._id}`&&document.getElementById(`files-modal-${C._id}`).classList.add("hidden")},children:[i.jsx("div",{className:"absolute inset-0 bg-opacity-30 backdrop-blur-sm"}),i.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-2xl w-full mx-auto mt-20 p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold",children:["Files for ",C.title]}),i.jsx("button",{onClick:()=>document.getElementById(`files-modal-${C._id}`).classList.add("hidden"),className:"text-gray-500 hover:text-gray-700",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:i.jsx(pm,{taskId:C._id,files:C.files})})]})]})]})}),i.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>R(C),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",title:"Edit Task",children:"Edit"}),i.jsx("button",{onClick:()=>A(C._id,"approve"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm",children:"Approve"}),i.jsx("button",{onClick:()=>A(C._id,"reject"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded text-sm",children:"Reject"})]})})]},C._id)})})]})})}),i.jsx(O,{value:m,index:1,children:L()}),f&&i.jsx(qp,{users:u,mode:"edit",initialData:x,isOpen:f,showAcceptButton:!0,onClose:()=>{p(!1),y(null)},onSubmit:V})]})},p_=()=>{var W,J,re,ee;const{user:e}=gn(),[r,t]=T.useState([]),[n,a]=T.useState(!0),[s,l]=T.useState(null),[u,d]=T.useState({}),[f,p]=T.useState({page:1,limit:25,search:"",entity:"",action:"",severity:"",startDate:"",endDate:"",userId:"",sortBy:"createdAt",sortOrder:"desc"}),[x,y]=T.useState({entities:[],actions:[],severities:["low","medium","high","critical"]}),[m,w]=T.useState([]),[v,N]=T.useState(!1),[S,k]=T.useState(null),[_,A]=T.useState(!1),R=(e==null?void 0:e.role)==="Admin"||(e==null?void 0:e.role)==="Team Head";T.useEffect(()=>{R&&(V(),P(),I())},[f,R]);const V=async()=>{try{a(!0);const H=new URLSearchParams;Object.entries(f).forEach(([z,q])=>{q&&H.append(z,q)});const ne=await fetch(`${$e}/api/activity-logs?${H}`,{headers:{Authorization:`Bearer ${e.token}`}});if(!ne.ok)throw new Error("Failed to fetch activity logs");const D=await ne.json();t(D.activities),d(D.pagination),y(D.filters)}catch(H){console.error("Error fetching activity logs:",H),sn.error("Failed to fetch activity logs")}finally{a(!1)}},P=async()=>{try{const H=new URLSearchParams;f.startDate&&H.append("startDate",f.startDate),f.endDate&&H.append("endDate",f.endDate);const ne=await fetch(`${$e}/api/activity-logs/stats?${H}`,{headers:{Authorization:`Bearer ${e.token}`}});if(ne.ok){const D=await ne.json();l(D)}}catch(H){console.error("Error fetching stats:",H)}},I=async()=>{try{const H=await fetch(`${$e}/api/users`,{headers:{Authorization:`Bearer ${e.token}`}});if(H.ok){const ne=await H.json();w(ne)}}catch(H){console.error("Error fetching users:",H)}},B=(H,ne)=>{p(D=>H==="page"?{...D,page:ne}:{...D,[H]:ne,page:1})},O=()=>{p({page:1,limit:25,search:"",entity:"",action:"",severity:"",startDate:"",endDate:"",userId:"",sortBy:"createdAt",sortOrder:"desc"})},L=async()=>{try{const H=new URLSearchParams;Object.entries(f).forEach(([X,se])=>{se&&X!=="page"&&X!=="limit"&&H.append(X,se)});const ne=await fetch(`${$e}/api/activity-logs/export/csv?${H}`,{headers:{Authorization:`Bearer ${e.token}`}});if(!ne.ok)throw new Error("Failed to export activity logs");const D=await ne.blob(),z=window.URL.createObjectURL(D),q=document.createElement("a");q.style.display="none",q.href=z,q.download=`activity-logs-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(q),q.click(),window.URL.revokeObjectURL(z),sn.success("Activity logs exported successfully")}catch(H){console.error("Error exporting activity logs:",H),sn.error("Failed to export activity logs")}},C=H=>{k(H),A(!0)},Y=H=>new Date(H).toLocaleString(),Q=H=>{switch(H){case"critical":return"text-red-600 bg-red-100";case"high":return"text-orange-600 bg-orange-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},ce=H=>H.includes("created")?"text-green-600 bg-green-100":H.includes("updated")?"text-blue-600 bg-blue-100":H.includes("deleted")?"text-red-600 bg-red-100":H.includes("approved")?"text-green-600 bg-green-100":H.includes("rejected")?"text-red-600 bg-red-100":H.includes("login")?"text-blue-600 bg-blue-100":H.includes("logout")?"text-gray-600 bg-gray-100":"text-purple-600 bg-purple-100";return R?i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Activity Logs"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Track all system activities and user actions"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>N(!v),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})}),"Filters"]}),i.jsxs("button",{onClick:L,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Export CSV"]})]})]}),s&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[i.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.overall.totalActivities}),i.jsx("div",{className:"text-gray-600",children:"Total Activities"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.overall.criticalCount}),i.jsx("div",{className:"text-gray-600",children:"Critical Events"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.overall.highCount}),i.jsx("div",{className:"text-gray-600",children:"High Priority"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow border",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.overall.mediumCount+s.overall.lowCount}),i.jsx("div",{className:"text-gray-600",children:"Normal Activities"})]})]}),v&&i.jsx("div",{className:"bg-white p-6 rounded-lg shadow border",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),i.jsx("input",{type:"text",value:f.search,onChange:H=>B("search",H.target.value),placeholder:"Search activities...",className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entity"}),i.jsxs("select",{value:f.entity,onChange:H=>B("entity",H.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Entities"}),x.entities.map(H=>i.jsx("option",{value:H,children:H},H))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action"}),i.jsxs("select",{value:f.action,onChange:H=>B("action",H.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Actions"}),x.actions.map(H=>i.jsx("option",{value:H,children:H.replace(/_/g," ")},H))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Severity"}),i.jsxs("select",{value:f.severity,onChange:H=>B("severity",H.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Severities"}),x.severities.map(H=>i.jsx("option",{value:H,children:H.charAt(0).toUpperCase()+H.slice(1)},H))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User"}),i.jsxs("select",{value:f.userId,onChange:H=>B("userId",H.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"",children:"All Users"}),m.map(H=>i.jsxs("option",{value:H._id,children:[H.firstName," ",H.lastName," (",H.role,")"]},H._id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),i.jsx("input",{type:"date",value:f.startDate,onChange:H=>B("startDate",H.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),i.jsx("input",{type:"date",value:f.endDate,onChange:H=>B("endDate",H.target.value),className:"w-full border rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{onClick:O,className:"w-full px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Clear Filters"})})]})}),i.jsxs("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Entity"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Severity"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n?i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})})}):r.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-gray-500",children:"No activity logs found"})}):r.map(H=>{var ne,D,z,q,X,se,Se,fe,G;return i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Y(H.createdAt)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-medium mr-3 overflow-hidden",children:(D=(ne=H.user)==null?void 0:ne.photo)!=null&&D.url?i.jsx("img",{src:H.user.photo.url,alt:`${H.user.firstName} ${H.user.lastName}`,className:"w-full h-full object-cover"}):i.jsxs("span",{className:"text-xs",children:[(q=(z=H.user)==null?void 0:z.firstName)==null?void 0:q[0],(se=(X=H.user)==null?void 0:X.lastName)==null?void 0:se[0]]})}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(Se=H.user)==null?void 0:Se.firstName," ",(fe=H.user)==null?void 0:fe.lastName]}),i.jsx("div",{className:"text-sm text-gray-500",children:(G=H.user)==null?void 0:G.role})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${ce(H.action)}`,children:H.action.replace(/_/g," ")})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:H.entity}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:H.description}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Q(H.severity)}`,children:H.severity})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsx("button",{onClick:()=>C(H),className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},H._id)})})]})}),u.pages>1&&i.jsxs("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200",children:[i.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[i.jsx("button",{onClick:()=>B("page",u.current-1),disabled:!u.hasPrev,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),i.jsx("button",{onClick:()=>B("page",u.current+1),disabled:!u.hasNext,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),i.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-gray-700",children:["Showing"," ",i.jsx("span",{className:"font-medium",children:(u.current-1)*f.limit+1})," ","to"," ",i.jsx("span",{className:"font-medium",children:Math.min(u.current*f.limit,u.total)})," ","of"," ",i.jsx("span",{className:"font-medium",children:u.total})," ","results"]})}),i.jsx("div",{children:i.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[i.jsx("button",{onClick:()=>B("page",u.current-1),disabled:!u.hasPrev,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),Array.from({length:Math.min(5,u.pages)},(H,ne)=>{let D=Math.max(1,u.current-2),z=Math.min(u.pages,D+4);D=Math.max(1,z-4);const q=D+ne;return q>z?null:i.jsx("button",{onClick:()=>B("page",q),className:`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${q===u.current?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:q},`page-btn-${q}`)}),i.jsx("button",{onClick:()=>B("page",u.current+1),disabled:!u.hasNext,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})})]})]})]}),_&&S&&i.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-xl font-semibold",children:"Activity Details"}),i.jsx("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date & Time"}),i.jsx("div",{className:"text-sm text-gray-900",children:Y(S.createdAt)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"User"}),i.jsxs("div",{className:"text-sm text-gray-900",children:[(W=S.user)==null?void 0:W.firstName," ",(J=S.user)==null?void 0:J.lastName," (",(re=S.user)==null?void 0:re.role,")"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Action"}),i.jsx("div",{className:"text-sm text-gray-900",children:S.action.replace(/_/g," ")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Entity"}),i.jsx("div",{className:"text-sm text-gray-900",children:S.entity})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Severity"}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${Q(S.severity)}`,children:S.severity})]}),((ee=S.metadata)==null?void 0:ee.ip)&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"IP Address"}),i.jsx("div",{className:"text-sm text-gray-900",children:S.metadata.ip})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),i.jsx("div",{className:"text-sm text-gray-900 mt-1",children:S.description})]}),S.oldValues&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Previous Values"}),i.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded mt-1 overflow-x-auto",children:JSON.stringify(S.oldValues,null,2)})]}),S.newValues&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"New Values"}),i.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded mt-1 overflow-x-auto",children:JSON.stringify(S.newValues,null,2)})]}),S.metadata&&Object.keys(S.metadata).length>0&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Metadata"}),i.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded mt-1 overflow-x-auto",children:JSON.stringify(S.metadata,null,2)})]})]}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Close"})})]})})]}):i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),i.jsx("h2",{className:"text-2xl font-bold text-gray-700 mb-2",children:"Access Denied"}),i.jsx("p",{className:"text-gray-500",children:"Only Admin and Team Head roles can access activity logs."})]})})},oJ=()=>{const{user:e}=gn();return(e==null?void 0:e.role)==="Admin"?i.jsx(Mg,{children:i.jsxs(Sp,{children:[i.jsx(jr,{path:"/",element:i.jsx(af,{})}),i.jsx(jr,{path:"received-tasks",element:i.jsx(dp,{})}),i.jsx(jr,{path:"assigned-tasks",element:i.jsx(Bg,{})}),i.jsx(jr,{path:"task-verification",element:i.jsx(x1,{})}),i.jsx(jr,{path:"activity-logs",element:i.jsx(p_,{})}),i.jsx(jr,{path:"notes",element:i.jsx(f1,{})}),i.jsx(jr,{path:"team",element:i.jsx(yO,{})}),i.jsx(jr,{path:"announcements",element:i.jsx(e1,{})}),i.jsx(jr,{path:"cost",element:i.jsx(DS,{})}),i.jsx(jr,{path:"analytics",element:i.jsx(Ig,{})}),i.jsx(jr,{path:"settings",element:i.jsx(Gg,{})}),i.jsx(jr,{path:"user-approvals",element:i.jsx(cI,{})}),i.jsx(jr,{path:"blocked-users",element:i.jsx(uI,{})}),i.jsx(jr,{path:"add-users",element:i.jsx(hI,{})}),i.jsx(jr,{path:"clients",element:i.jsx(t1,{})}),i.jsx(jr,{path:"timesheets",element:i.jsx(u1,{})}),i.jsx(jr,{path:"subordinate-timesheets",element:i.jsx(d1,{})}),i.jsx(jr,{path:"billed-tasks",element:i.jsx(Gq,{})}),i.jsx(jr,{path:"unbilled-tasks",element:i.jsx(Xq,{})}),i.jsx(jr,{path:"*",element:i.jsx(af,{})})]})}):(e==null?void 0:e.role)==="Team Head"?i.jsx(Mg,{children:i.jsxs(Sp,{children:[i.jsx(jr,{path:"/",element:i.jsx(af,{})}),i.jsx(jr,{path:"received-tasks",element:i.jsx(dp,{})}),i.jsx(jr,{path:"assigned-tasks",element:i.jsx(Bg,{})}),i.jsx(jr,{path:"subordinate-timesheets",element:i.jsx(d1,{})}),i.jsx(jr,{path:"activity-logs",element:i.jsx(p_,{})}),i.jsx(jr,{path:"announcements",element:i.jsx(e1,{})}),i.jsx(jr,{path:"task-verification",element:i.jsx(x1,{})}),i.jsx(jr,{path:"analytics",element:i.jsx(Ig,{})}),i.jsx(jr,{path:"settings",element:i.jsx(Gg,{})}),i.jsx(jr,{path:"notes",element:i.jsx(f1,{})}),i.jsx(jr,{path:"clients",element:i.jsx(t1,{})}),i.jsx(jr,{path:"timesheets",element:i.jsx(u1,{})}),i.jsx(jr,{path:"*",element:i.jsx(af,{})})]})}):(e==null?void 0:e.role)==="Senior"?i.jsx(Mg,{children:i.jsxs(Sp,{children:[i.jsx(jr,{path:"/",element:i.jsx(af,{})}),i.jsx(jr,{path:"received-tasks",element:i.jsx(dp,{})}),i.jsx(jr,{path:"assigned-tasks",element:i.jsx(Bg,{})}),i.jsx(jr,{path:"subordinate-timesheets",element:i.jsx(d1,{})}),i.jsx(jr,{path:"notes",element:i.jsx(f1,{})}),i.jsx(jr,{path:"announcements",element:i.jsx(e1,{})}),i.jsx(jr,{path:"analytics",element:i.jsx(Ig,{})}),i.jsx(jr,{path:"settings",element:i.jsx(Gg,{})}),i.jsx(jr,{path:"clients",element:i.jsx(t1,{})}),i.jsx(jr,{path:"timesheets",element:i.jsx(u1,{})}),i.jsx(jr,{path:"*",element:i.jsx(af,{})}),i.jsx(jr,{path:"task-verification",element:i.jsx(x1,{})})]})}):i.jsx(Mg,{children:i.jsxs(Sp,{children:[i.jsx(jr,{path:"/",element:i.jsx(af,{})}),i.jsx(jr,{path:"received-tasks",element:i.jsx(dp,{})}),i.jsx(jr,{path:"assigned-tasks",element:i.jsx(Bg,{})}),(Array.isArray(e==null?void 0:e.role2)?e.role2.includes("Task Verifier"):(e==null?void 0:e.role2)==="Task Verifier")&&i.jsx(jr,{path:"task-verification",element:i.jsx(x1,{})}),i.jsx(jr,{path:"announcements",element:i.jsx(e1,{})}),i.jsx(jr,{path:"cost",element:i.jsx(DS,{})}),(Array.isArray(e==null?void 0:e.role2)?e.role2.includes("TimeSheet Verifier"):(e==null?void 0:e.role2)==="TimeSheet Verifier")&&i.jsx(jr,{path:"subordinate-timesheets",element:i.jsx(d1,{})}),i.jsx(jr,{path:"analytics",element:i.jsx(Ig,{})}),i.jsx(jr,{path:"settings",element:i.jsx(Gg,{})}),i.jsx(jr,{path:"notes",element:i.jsx(f1,{})}),i.jsx(jr,{path:"clients",element:i.jsx(t1,{})}),i.jsx(jr,{path:"timesheets",element:i.jsx(u1,{})}),i.jsx(jr,{path:"*",element:i.jsx(dp,{})})]})})},lJ=()=>{const e=zl(),{login:r}=gn(),[t,n]=T.useState({email:"",password:""}),a=async s=>{s.preventDefault();try{await r(t.email,t.password),e("/")}catch{}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-xl shadow-lg",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-center text-blue-600",children:"HAACAS"}),i.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:"Sign in to your account"})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:a,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),i.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:s=>n({...t,email:s.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:t.password,onChange:s=>n({...t,password:s.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Sign in"})})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",i.jsx(Wp,{to:"/register",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign up"})]}),i.jsx("p",{className:"mt-2",children:i.jsx(Wp,{to:"/forgot-password",className:"text-sm font-medium text-blue-600 hover:text-blue-500",children:"Forgot Password?"})})]})]})})},cJ=()=>{const e=zl(),{requestOTP:r,verifyOTPAndRegister:t}=gn(),[n,a]=T.useState(1),[s,l]=T.useState({email:"",firstName:"",lastName:"",password:"",otp:Array(6).fill("")}),[u,d]=T.useState(!1),f=T.useRef([]),p=async N=>{N.preventDefault(),d(!0);try{await r(s.email),a(2)}catch{}finally{d(!1)}},x=async N=>{N.preventDefault();try{const S=s.otp.join("");await t(s.email,S,s.firstName,s.lastName,s.password),e("/login")}catch{}},y=(N,S)=>{S.length>1&&(S=S.slice(0,1));const k=[...s.otp];k[N]=S,l({...s,otp:k}),S&&N<5&&f.current[N+1].focus()},m=(N,S)=>{S.key==="Backspace"&&!s.otp[N]&&N>0&&f.current[N-1].focus()},w=()=>i.jsxs("form",{onSubmit:p,className:"mt-8 space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),i.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:s.firstName,onChange:N=>l({...s,firstName:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),i.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:s.lastName,onChange:N=>l({...s,lastName:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),i.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:N=>l({...s,email:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),i.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:s.password,onChange:N=>l({...s,password:N.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:u,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Sending OTP...":"Get OTP"})})]}),v=()=>i.jsxs("form",{onSubmit:x,className:"mt-8 space-y-6",children:[i.jsx("div",{children:i.jsx("div",{className:"flex justify-center space-x-2 mb-8",children:s.otp.map((N,S)=>i.jsx("input",{ref:k=>f.current[S]=k,type:"text",maxLength:1,value:N,onChange:k=>y(S,k.target.value),onKeyDown:k=>m(S,k),className:"w-12 h-12 text-center text-2xl font-semibold border-2 border-gray-300 rounded-md focus:border-blue-500 focus:ring-1 focus:ring-blue-500"},S))})}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{type:"button",onClick:()=>a(1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back"}),i.jsx("button",{type:"submit",className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Verify & Register"})]})]});return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-xl shadow-lg",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-center text-blue-600",children:"HAACAS"}),i.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:n===1?"Create your account":"Enter OTP"})]}),n===1?w():v(),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",i.jsx(Wp,{to:"/login",className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})})},uJ=()=>{const e=zl(),{resetPassword:r}=gn(),[t,n]=T.useState(1),[a,s]=T.useState({email:"",password:"",otp:""}),[l,u]=T.useState(!1),d=async f=>{f.preventDefault(),u(!0);try{t===1?(await r.requestOTP(a.email,a.password),n(2)):(await r.verifyOTP(a.email,a.password,a.otp),e("/login"))}catch(p){console.error("Reset password error:",p)}u(!1)};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:i.jsxs("div",{className:"max-w-md w-full space-y-8 p-8 bg-white rounded-xl shadow-lg",children:[i.jsx("div",{children:i.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Forgot Password"})}),i.jsx("form",{className:"mt-8 space-y-6",onSubmit:d,children:t===1?i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),i.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:a.email,onChange:f=>s({...a,email:f.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),i.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:a.password,onChange:f=>s({...a,password:f.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:l?"Sending...":"Generate OTP"})})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"otp",className:"block text-sm font-medium text-gray-700",children:"Enter OTP"}),i.jsx("input",{id:"otp",name:"otp",type:"text",required:!0,value:a.otp,onChange:f=>s({...a,otp:f.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter 6-digit OTP"})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:l?"Verifying...":"Reset Password"})})]})}),i.jsx("div",{className:"text-center",children:i.jsx("button",{type:"button",onClick:()=>e("/login"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"← Back to Login"})})]})})},dJ=({children:e})=>{const{user:r,loading:t}=gn();return t?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):r?e:i.jsx(k_,{to:"/login"})};function fJ(){return i.jsx(R8,{children:i.jsx(LC,{children:i.jsxs("div",{className:"min-h-screen bg-gray-100",children:[i.jsx(O8,{position:"top-right"}),i.jsxs(Sp,{children:[i.jsx(jr,{path:"/login",element:i.jsx(lJ,{})}),i.jsx(jr,{path:"/register",element:i.jsx(cJ,{})}),i.jsx(jr,{path:"/forgot-password",element:i.jsx(uJ,{})}),i.jsx(jr,{path:"/dashboard/*",element:i.jsx(dJ,{children:i.jsx(oJ,{})})}),i.jsx(jr,{path:"/",element:i.jsx(k_,{to:"/dashboard/received-tasks"})})]})]})})})}vA.createRoot(document.getElementById("root")).render(i.jsx(fJ,{}));export{aa as _,cA as c,m_ as g};
